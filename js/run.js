window._bubble_page_load_data||(window._bubble_page_load_data={}),window._bubble_page_load_data.js_execution_timings||(window._bubble_page_load_data.js_execution_timings={}),window._bubble_page_load_data.js_execution_timings.run_js_start_execution=Date.now(),window.preloaded=window.preloaded||{},function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var r=[],n=Object.getPrototypeOf,i=r.slice,a=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},o=r.push,s=r.indexOf,l={},_=l.toString,u=l.hasOwnProperty,c=u.toString,d=c.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},h=function(e){return null!=e&&e===e.window},g=e.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,r){var n,i,a=(r=r||g).createElement("script");if(a.text=e,t)for(n in m)(i=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,i);r.head.appendChild(a).parentNode.removeChild(a)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[_.call(e)]||"object":typeof e}var b="3.6.4",w=function(e,t){return new w.fn.init(e,t)};function A(e){var t=!!e&&"length"in e&&e.length,r=y(e);return!f(e)&&!h(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:b,constructor:w,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(0<=r&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},w.extend=w.fn.extend=function(){var e,t,r,n,i,a,o=arguments[0]||{},s=1,l=arguments.length,_=!1;for("boolean"==typeof o&&(_=o,o=arguments[s]||{},s++),"object"==typeof o||f(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(_&&n&&(w.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[t],a=i&&!Array.isArray(r)?[]:i||w.isPlainObject(r)?r:{},i=!1,o[t]=w.extend(_,a,n)):void 0!==n&&(o[t]=n));return o},w.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==_.call(e)||(t=n(e))&&("function"!=typeof(r=u.call(t,"constructor")&&t.constructor)||c.call(r)!==d))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){v(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(A(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(A(Object(e))?w.merge(r,"string"==typeof e?[e]:e):o.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:s.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,a=e.length,o=!r;i<a;i++)!t(e[i],i)!==o&&n.push(e[i]);return n},map:function(e,t,r){var n,i,o=0,s=[];if(A(e))for(n=e.length;o<n;o++)null!=(i=t(e[o],o,r))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&s.push(i);return a(s)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=r[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,r,n,i,a,o,s,l,_,u,c,d,p,f,h,g,m,v,y,b="sizzle"+1*new Date,w=e.document,A=0,E=0,M=le(),x=le(),O=le(),k=le(),S=function(e,t){return e===t&&(c=!0),0},T={}.hasOwnProperty,N=[],C=N.pop,L=N.push,P=N.push,R=N.slice,z=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+D+"*("+j+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+D+"*\\]",q=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(D+"+","g"),W=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),$=new RegExp("^"+D+"*,"+D+"*"),F=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),G=new RegExp(D+"|>"),X=new RegExp(q),H=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=function(){d()},oe=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(N=R.call(w.childNodes),w.childNodes),N[w.childNodes.length].nodeType}catch(t){P={apply:N.length?function(e,t){L.apply(e,R.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,n,i){var a,s,_,u,c,f,m,v=t&&t.ownerDocument,w=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return n;if(!i&&(d(t),t=t||p,h)){if(11!==w&&(c=Q.exec(e)))if(a=c[1]){if(9===w){if(!(_=t.getElementById(a)))return n;if(_.id===a)return n.push(_),n}else if(v&&(_=v.getElementById(a))&&y(t,_)&&_.id===a)return n.push(_),n}else{if(c[2])return P.apply(n,t.getElementsByTagName(e)),n;if((a=c[3])&&r.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(a)),n}if(r.qsa&&!k[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(m=e,v=t,1===w&&(G.test(e)||F.test(e))){for((v=ee.test(e)&&me(t.parentNode)||t)===t&&r.scope||((u=t.getAttribute("id"))?u=u.replace(ne,ie):t.setAttribute("id",u=b)),s=(f=o(e)).length;s--;)f[s]=(u?"#"+u:":scope")+" "+ye(f[s]);m=f.join(",")}try{return P.apply(n,v.querySelectorAll(m)),n}catch(t){k(e,!0)}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,n,i)}function le(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function _e(e){return e[b]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function de(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return _e((function(t){return t=+t,_e((function(r,n){for(var i,a=e([],r.length,t),o=a.length;o--;)r[i=a[o]]&&(r[i]=!(n[i]=r[i]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},a=se.isXML=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||r&&r.nodeName||"HTML")},d=se.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:w;return o!=p&&9===o.nodeType&&o.documentElement&&(f=(p=o).documentElement,h=!a(p),w!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ae,!1):i.attachEvent&&i.attachEvent("onunload",ae)),r.scope=ue((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),r.cssHas=ue((function(){try{return p.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),r.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=Z.test(p.getElementsByClassName),r.getById=ue((function(e){return f.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),r.getById?(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var r,n,i,a=t.getElementById(e);if(a){if((r=a.getAttributeNode("id"))&&r.value===e)return[a];for(i=t.getElementsByName(e),n=0;a=i[n++];)if((r=a.getAttributeNode("id"))&&r.value===e)return[a]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[i++];)1===r.nodeType&&n.push(r);return n}return a},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},m=[],g=[],(r.qsa=Z.test(p.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+D+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+D+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+D+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(r.matchesSelector=Z.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){r.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),m.push("!=",q)})),r.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=Z.test(f.compareDocumentPosition),y=t||Z.test(f.contains)?function(e,t){var r=9===e.nodeType&&e.documentElement||e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e==p||e.ownerDocument==w&&y(w,e)?-1:t==p||t.ownerDocument==w&&y(w,t)?1:u?z(u,e)-z(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var r,n=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e==p?-1:t==p?1:i?-1:a?1:u?z(u,e)-z(u,t):0;if(i===a)return de(e,t);for(r=e;r=r.parentNode;)o.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;o[n]===s[n];)n++;return n?de(o[n],s[n]):o[n]==w?-1:s[n]==w?1:0}),p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(d(e),r.matchesSelector&&h&&!k[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var n=v.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){k(t,!0)}return 0<se(t,p,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&d(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&d(e);var i=n.attrHandle[t.toLowerCase()],a=i&&T.call(n.attrHandle,t.toLowerCase())?i(e,t,!h):void 0;return void 0!==a?a:r.attributes||!h?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},se.escape=function(e){return(e+"").replace(ne,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,a=0;if(c=!r.detectDuplicates,u=!r.sortStable&&e.slice(0),e.sort(S),c){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return u=null,e},i=se.getText=function(e){var t,r="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(n=se.selectors={cacheLength:50,createPseudo:_e,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&X.test(r)&&(t=o(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=M[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&M(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=se.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&-1<i.indexOf(r):"$="===t?r&&i.slice(-r.length)===r:"~="===t?-1<(" "+i.replace(U," ")+" ").indexOf(r):"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,l){var _,u,c,d,p,f,h=a!==o?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(g){if(a){for(;h;){for(d=t;d=d[h];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&v){for(y=(p=(_=(u=(c=(d=g)[b]||(d[b]={}))[d.uniqueID]||(c[d.uniqueID]={}))[e]||[])[0]===A&&_[1])&&_[2],d=p&&g.childNodes[p];d=++p&&d&&d[h]||(y=p=0)||f.pop();)if(1===d.nodeType&&++y&&d===t){u[e]=[A,p,y];break}}else if(v&&(y=p=(_=(u=(c=(d=t)[b]||(d[b]={}))[d.uniqueID]||(c[d.uniqueID]={}))[e]||[])[0]===A&&_[1]),!1===y)for(;(d=++p&&d&&d[h]||(y=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++y||(v&&((u=(c=d[b]||(d[b]={}))[d.uniqueID]||(c[d.uniqueID]={}))[e]=[A,y]),d!==t)););return(y-=i)===n||y%n==0&&0<=y/n}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[b]?i(t):1<i.length?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?_e((function(e,r){for(var n,a=i(e,t),o=a.length;o--;)e[n=z(e,a[o])]=!(r[n]=a[o])})):function(e){return i(e,0,r)}):i}},pseudos:{not:_e((function(e){var t=[],r=[],n=s(e.replace(W,"$1"));return n[b]?_e((function(e,t,r,i){for(var a,o=n(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,i,a){return t[0]=e,n(t,null,a,r),t[0]=null,!r.pop()}})),has:_e((function(e){return function(t){return 0<se(e,t).length}})),contains:_e((function(e){return e=e.replace(te,re),function(t){return-1<(t.textContent||i(t)).indexOf(e)}})),lang:_e((function(e){return H.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,r){return[r<0?r+t:r]})),even:ge((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:ge((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:ge((function(e,t,r){for(var n=r<0?r+t:t<r?t:r;0<=--n;)e.push(n);return e})),gt:ge((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=fe(t);function ve(){}function ye(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function be(e,t,r){var n=t.dir,i=t.next,a=i||n,o=r&&"parentNode"===a,s=E++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||o)return e(t,r,i);return!1}:function(t,r,l){var _,u,c,d=[A,s];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(u=(c=t[b]||(t[b]={}))[t.uniqueID]||(c[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((_=u[a])&&_[0]===A&&_[1]===s)return d[2]=_[2];if((u[a]=d)[2]=e(t,r,l))return!0}return!1}}function we(e){return 1<e.length?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function Ae(e,t,r,n,i){for(var a,o=[],s=0,l=e.length,_=null!=t;s<l;s++)(a=e[s])&&(r&&!r(a,n,i)||(o.push(a),_&&t.push(s)));return o}function Ee(e,t,r,n,i,a){return n&&!n[b]&&(n=Ee(n)),i&&!i[b]&&(i=Ee(i,a)),_e((function(a,o,s,l){var _,u,c,d=[],p=[],f=o.length,h=a||function(e,t,r){for(var n=0,i=t.length;n<i;n++)se(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?h:Ae(h,d,e,s,l),m=r?i||(a?e:f||n)?[]:o:g;if(r&&r(g,m,s,l),n)for(_=Ae(m,p),n(_,[],s,l),u=_.length;u--;)(c=_[u])&&(m[p[u]]=!(g[p[u]]=c));if(a){if(i||e){if(i){for(_=[],u=m.length;u--;)(c=m[u])&&_.push(g[u]=c);i(null,m=[],_,l)}for(u=m.length;u--;)(c=m[u])&&-1<(_=i?z(a,c):d[u])&&(a[_]=!(o[_]=c))}}else m=Ae(m===o?m.splice(f,m.length):m),i?i(null,o,m,l):P.apply(o,m)}))}function Me(e){for(var t,r,i,a=e.length,o=n.relative[e[0].type],s=o||n.relative[" "],l=o?1:0,u=be((function(e){return e===t}),s,!0),c=be((function(e){return-1<z(t,e)}),s,!0),d=[function(e,r,n){var i=!o&&(n||r!==_)||((t=r).nodeType?u(e,r,n):c(e,r,n));return t=null,i}];l<a;l++)if(r=n.relative[e[l].type])d=[be(we(d),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[b]){for(i=++l;i<a&&!n.relative[e[i].type];i++);return Ee(1<l&&we(d),1<l&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),r,l<i&&Me(e.slice(l,i)),i<a&&Me(e=e.slice(i)),i<a&&ye(e))}d.push(r)}return we(d)}return ve.prototype=n.filters=n.pseudos,n.setFilters=new ve,o=se.tokenize=function(e,t){var r,i,a,o,s,l,_,u=x[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],_=n.preFilter;s;){for(o in r&&!(i=$.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),r=!1,(i=F.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(W," ")}),s=s.slice(r.length)),n.filter)!(i=V[o].exec(s))||_[o]&&!(i=_[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):x(e,l).slice(0)},s=se.compile=function(e,t){var r,i,a,s,l,u,c=[],f=[],g=O[e+" "];if(!g){for(t||(t=o(e)),r=t.length;r--;)(g=Me(t[r]))[b]?c.push(g):f.push(g);(g=O(e,(i=f,s=0<(a=c).length,l=0<i.length,u=function(e,t,r,o,u){var c,f,g,m=0,v="0",y=e&&[],b=[],w=_,E=e||l&&n.find.TAG("*",u),M=A+=null==w?1:Math.random()||.1,x=E.length;for(u&&(_=t==p||t||u);v!==x&&null!=(c=E[v]);v++){if(l&&c){for(f=0,t||c.ownerDocument==p||(d(c),r=!h);g=i[f++];)if(g(c,t||p,r)){o.push(c);break}u&&(A=M)}s&&((c=!g&&c)&&m--,e&&y.push(c))}if(m+=v,s&&v!==m){for(f=0;g=a[f++];)g(y,b,t,r);if(e){if(0<m)for(;v--;)y[v]||b[v]||(b[v]=C.call(o));b=Ae(b)}P.apply(o,b),u&&!e&&0<b.length&&1<m+a.length&&se.uniqueSort(o)}return u&&(A=M,_=w),y},s?_e(u):u))).selector=e}return g},l=se.select=function(e,t,r,i){var a,l,_,u,c,d="function"==typeof e&&e,p=!i&&o(e=d.selector||e);if(r=r||[],1===p.length){if(2<(l=p[0]=p[0].slice(0)).length&&"ID"===(_=l[0]).type&&9===t.nodeType&&h&&n.relative[l[1].type]){if(!(t=(n.find.ID(_.matches[0].replace(te,re),t)||[])[0]))return r;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=V.needsContext.test(e)?0:l.length;a--&&(_=l[a],!n.relative[u=_.type]);)if((c=n.find[u])&&(i=c(_.matches[0].replace(te,re),ee.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(a,1),!(e=i.length&&ye(l)))return P.apply(r,i),r;break}}return(d||s(e,p))(i,t,!h,r,!t||ee.test(e)&&me(t.parentNode)||t),r},r.sortStable=b.split("").sort(S).join("")===b,r.detectDuplicates=!!c,d(),r.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||ce(I,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),se}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var M=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&w(e).is(r))break;n.push(e)}return n},x=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},O=w.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,t,r){return f(t)?w.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?w.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?w.grep(e,(function(e){return-1<s.call(t,e)!==r})):w.filter(t,e,r)}w.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?w.find.matchesSelector(n,e)?[n]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<n;t++)if(w.contains(i[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)w.find(e,i[t],r);return 1<n?w.uniqueSort(r):r},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&O.test(e)?w(e):e||[],!1).length}});var N,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||N,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:C.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),S.test(n[1])&&w.isPlainObject(t))for(n in t)f(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=g.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==r.ready?r.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,N=w(g);var L=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,i=this.length,a=[],o="string"!=typeof e&&w(e);if(!O.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(o?-1<o.index(r):1===r.nodeType&&w.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(1<a.length?w.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?s.call(w(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M(e,"parentNode")},parentsUntil:function(e,t,r){return M(e,"parentNode",r)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return M(e,"nextSibling")},prevAll:function(e){return M(e,"previousSibling")},nextUntil:function(e,t,r){return M(e,"nextSibling",r)},prevUntil:function(e,t,r){return M(e,"previousSibling",r)},siblings:function(e){return x((e.parentNode||{}).firstChild,e)},children:function(e){return x(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(r,n){var i=w.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=w.filter(n,i)),1<this.length&&(P[e]||w.uniqueSort(i),L.test(e)&&i.reverse()),this.pushStack(i)}}));var z=/[^\x20\t\r\n\f]+/g;function I(e){return e}function D(e){throw e}function j(e,t,r,n){var i;try{e&&f(i=e.promise)?i.call(e).done(t).fail(r):e&&f(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}w.Callbacks=function(e){var t,r;e="string"==typeof e?(t=e,r={},w.each(t.match(z)||[],(function(e,t){r[t]=!0})),r):w.extend({},e);var n,i,a,o,s=[],l=[],_=-1,u=function(){for(o=o||e.once,a=n=!0;l.length;_=-1)for(i=l.shift();++_<s.length;)!1===s[_].apply(i[0],i[1])&&e.stopOnFalse&&(_=s.length,i=!1);e.memory||(i=!1),n=!1,o&&(s=i?[]:"")},c={add:function(){return s&&(i&&!n&&(_=s.length-1,l.push(i)),function t(r){w.each(r,(function(r,n){f(n)?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==y(n)&&t(n)}))}(arguments),i&&!n&&u()),this},remove:function(){return w.each(arguments,(function(e,t){for(var r;-1<(r=w.inArray(t,s,r));)s.splice(r,1),r<=_&&_--})),this},has:function(e){return e?-1<w.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=l=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=l=[],i||n||(s=i=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),n||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!a}};return c},w.extend({Deferred:function(t){var r=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(r,(function(r,n){var i=f(e[n[4]])&&e[n[4]];a[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,n,i){var a=0;function o(t,r,n,i){return function(){var s=this,l=arguments,_=function(){var e,_;if(!(t<a)){if((e=n.apply(s,l))===r.promise())throw new TypeError("Thenable self-resolution");_=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(_)?i?_.call(e,o(a,r,I,i),o(a,r,D,i)):(a++,_.call(e,o(a,r,I,i),o(a,r,D,i),o(a,r,I,r.notifyWith))):(n!==I&&(s=void 0,l=[e]),(i||r.resolveWith)(s,l))}},u=i?_:function(){try{_()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,u.stackTrace),a<=t+1&&(n!==D&&(s=void 0,l=[e]),r.rejectWith(s,l))}};t?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),e.setTimeout(u))}}return w.Deferred((function(e){r[0][3].add(o(0,e,f(i)?i:I,e.notifyWith)),r[1][3].add(o(0,e,f(t)?t:I)),r[2][3].add(o(0,e,f(n)?n:D))})).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},a={};return w.each(r,(function(e,t){var o=t[2],s=t[5];i[t[1]]=o.add,s&&o.add((function(){n=s}),r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith})),i.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,r=t,n=Array(r),a=i.call(arguments),o=w.Deferred(),s=function(e){return function(r){n[e]=this,a[e]=1<arguments.length?i.call(arguments):r,--t||o.resolveWith(n,a)}};if(t<=1&&(j(e,o.done(s(r)).resolve,o.reject,!t),"pending"===o.state()||f(a[r]&&a[r].then)))return o.then();for(;r--;)j(a[r],s(r),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var q=w.Deferred();function U(){g.removeEventListener("DOMContentLoaded",U),e.removeEventListener("load",U),w.ready()}w.fn.ready=function(e){return q.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0)!==e&&0<--w.readyWait||q.resolveWith(g,[w])}}),w.ready.then=q.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",U),e.addEventListener("load",U));var W=function(e,t,r,n,i,a,o){var s=0,l=e.length,_=null==r;if("object"===y(r))for(s in i=!0,r)W(e,t,s,r[s],!0,a,o);else if(void 0!==n&&(i=!0,f(n)||(o=!0),_&&(o?(t.call(e,n),t=null):(_=t,t=function(e,t,r){return _.call(w(e),r)})),t))for(;s<l;s++)t(e[s],r,o?n:n.call(e[s],s,t(e[s],r)));return i?e:_?t.call(e):l?t(e[0],r):a},$=/^-ms-/,F=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function X(e){return e.replace($,"ms-").replace(F,G)}var H=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function V(){this.expando=w.expando+V.uid++}V.uid=1,V.prototype={cache:function(e){var t=e[this.expando];return t||(t={},H(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[X(t)]=r;else for(n in t)i[X(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(X):(t=X(t))in n?[t]:t.match(z)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||w.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Y=new V,K=new V,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function Q(e,t,r){var n,i;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r="true"===(i=r)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}K.set(e,t,r)}else r=void 0;return r}w.extend({hasData:function(e){return K.hasData(e)||Y.hasData(e)},data:function(e,t,r){return K.access(e,t,r)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,r){return Y.access(e,t,r)},_removeData:function(e,t){Y.remove(e,t)}}),w.fn.extend({data:function(e,t){var r,n,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=K.get(a),1===a.nodeType&&!Y.get(a,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(n=o[r].name).indexOf("data-")&&(n=X(n.slice(5)),Q(a,n,i[n]));Y.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){K.set(this,e)})):W(this,(function(t){var r;if(a&&void 0===t)return void 0!==(r=K.get(a,e))||void 0!==(r=Q(a,e))?r:void 0;this.each((function(){K.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){K.remove(this,e)}))}}),w.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=Y.get(e,t),r&&(!n||Array.isArray(r)?n=Y.access(e,t,w.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=w.queue(e,t),n=r.length,i=r.shift(),a=w._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete a.stop,i.call(e,(function(){w.dequeue(e,t)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Y.get(e,r)||Y.access(e,r,{empty:w.Callbacks("once memory").add((function(){Y.remove(e,[t+"queue",r])}))})}}),w.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?w.queue(this[0],e):void 0===t?this:this.each((function(){var r=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=w.Deferred(),a=this,o=this.length,s=function(){--n||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=Y.get(a[o],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ne=g.documentElement,ie=function(e){return w.contains(e.ownerDocument,e)},ae={composed:!0};ne.getRootNode&&(ie=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===w.css(e,"display")};function se(e,t,r,n){var i,a,o=20,s=n?function(){return n.cur()}:function(){return w.css(e,t,"")},l=s(),_=r&&r[3]||(w.cssNumber[t]?"":"px"),u=e.nodeType&&(w.cssNumber[t]||"px"!==_&&+l)&&te.exec(w.css(e,t));if(u&&u[3]!==_){for(l/=2,_=_||u[3],u=+l||1;o--;)w.style(e,t,u+_),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),u/=a;u*=2,w.style(e,t,u+_),r=r||[]}return r&&(u=+u||+l||0,i=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=_,n.start=u,n.end=i)),i}var le={};function _e(e,t){for(var r,n,i,a,o,s,l,_=[],u=0,c=e.length;u<c;u++)(n=e[u]).style&&(r=n.style.display,t?("none"===r&&(_[u]=Y.get(n,"display")||null,_[u]||(n.style.display="")),""===n.style.display&&oe(n)&&(_[u]=(l=o=a=void 0,o=(i=n).ownerDocument,s=i.nodeName,(l=le[s])||(a=o.body.appendChild(o.createElement(s)),l=w.css(a,"display"),a.parentNode.removeChild(a),"none"===l&&(l="block"),le[s]=l)))):"none"!==r&&(_[u]="none",Y.set(n,"display",r)));for(u=0;u<c;u++)null!=_[u]&&(e[u].style.display=_[u]);return e}w.fn.extend({show:function(){return _e(this,!0)},hide:function(){return _e(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){oe(this)?w(this).show():w(this).hide()}))}});var ue,ce,de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i;ue=g.createDocumentFragment().appendChild(g.createElement("div")),(ce=g.createElement("input")).setAttribute("type","radio"),ce.setAttribute("checked","checked"),ce.setAttribute("name","t"),ue.appendChild(ce),p.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",p.option=!!ue.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?w.merge([e],r):r}function me(e,t){for(var r=0,n=e.length;r<n;r++)Y.set(e[r],"globalEval",!t||Y.get(t[r],"globalEval"))}he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,p.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function ye(e,t,r,n,i){for(var a,o,s,l,_,u,c=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((a=e[p])||0===a)if("object"===y(a))w.merge(d,a.nodeType?[a]:a);else if(ve.test(a)){for(o=o||c.appendChild(t.createElement("div")),s=(pe.exec(a)||["",""])[1].toLowerCase(),l=he[s]||he._default,o.innerHTML=l[1]+w.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;w.merge(d,o.childNodes),(o=c.firstChild).textContent=""}else d.push(t.createTextNode(a));for(c.textContent="",p=0;a=d[p++];)if(n&&-1<w.inArray(a,n))i&&i.push(a);else if(_=ie(a),o=ge(c.appendChild(a),"script"),_&&me(o),r)for(u=0;a=o[u++];)fe.test(a.type||"")&&r.push(a);return c}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Ae(){return!1}function Ee(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Me(e,t,r,n,i,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Me(e,s,r,n,t[s],a);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=Ae;else if(!i)return e;return 1===a&&(o=i,(i=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each((function(){w.event.add(this,t,i,n,r)}))}function xe(e,t,r){r?(Y.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var n,a,o=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=i.call(arguments),Y.set(this,t,o),n=r(this,t),this[t](),o!==(a=Y.get(this,t))||n?Y.set(this,t,!1):a={},o!==a)return e.stopImmediatePropagation(),e.preventDefault(),a&&a.value}else o.length&&(Y.set(this,t,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&w.event.add(e,t,we)}w.event={global:{},add:function(e,t,r,n,i){var a,o,s,l,_,u,c,d,p,f,h,g=Y.get(e);if(H(e))for(r.handler&&(r=(a=r).handler,i=a.selector),i&&w.find.matchesSelector(ne,i),r.guid||(r.guid=w.guid++),(l=g.events)||(l=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),_=(t=(t||"").match(z)||[""]).length;_--;)p=h=(s=be.exec(t[_])||[])[1],f=(s[2]||"").split(".").sort(),p&&(c=w.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=w.event.special[p]||{},u=w.extend({type:p,origType:h,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:f.join(".")},a),(d=l[p])||((d=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o)),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=r.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),w.event.global[p]=!0)},remove:function(e,t,r,n,i){var a,o,s,l,_,u,c,d,p,f,h,g=Y.hasData(e)&&Y.get(e);if(g&&(l=g.events)){for(_=(t=(t||"").match(z)||[""]).length;_--;)if(p=h=(s=be.exec(t[_])||[])[1],f=(s[2]||"").split(".").sort(),p){for(c=w.event.special[p]||{},d=l[p=(n?c.delegateType:c.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)u=d[a],!i&&h!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(a,1),u.selector&&d.delegateCount--,c.remove&&c.remove.call(e,u));o&&!d.length&&(c.teardown&&!1!==c.teardown.call(e,f,g.handle)||w.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[_],r,n,!0);w.isEmptyObject(l)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,a,o,s=new Array(arguments.length),l=w.event.fix(e),_=(Y.get(this,"events")||Object.create(null))[l.type]||[],u=w.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=w.event.handlers.call(this,l,_),t=0;(i=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,r=0;(a=i.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((w.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,i,a,o,s=[],l=t.delegateCount,_=e.target;if(l&&_.nodeType&&!("click"===e.type&&1<=e.button))for(;_!==this;_=_.parentNode||this)if(1===_.nodeType&&("click"!==e.type||!0!==_.disabled)){for(a=[],o={},r=0;r<l;r++)void 0===o[i=(n=t[r]).selector+" "]&&(o[i]=n.needsContext?-1<w(i,this).index(_):w.find(i,this,null,[_]).length),o[i]&&a.push(n);a.length&&s.push({elem:_,handlers:a})}return _=this,l<t.length&&s.push({elem:_,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return de.test(t.type)&&t.click&&k(t,"input")&&xe(t,"click",we),!1},trigger:function(e){var t=this||e;return de.test(t.type)&&t.click&&k(t,"input")&&xe(t,"click"),!0},_default:function(e){var t=e.target;return de.test(t.type)&&t.click&&k(t,"input")&&Y.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){w.event.special[e]={setup:function(){return xe(this,e,Ee),!1},trigger:function(){return xe(this,e),!0},_default:function(t){return Y.get(t.target,e)},delegateType:t}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||w.contains(this,n))||(e.type=i.origType,r=i.handler.apply(this,arguments),e.type=t),r}}})),w.fn.extend({on:function(e,t,r,n){return Me(this,e,t,r,n)},one:function(e,t,r,n){return Me(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,w(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=Ae),this.each((function(){w.event.remove(this,e,r,t)}))}});var Oe=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Te(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ce(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var r,n,i,a,o,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(r=0,n=s[i].length;r<n;r++)w.event.add(t,i,s[i][r]);K.hasData(e)&&(a=K.access(e),o=w.extend({},a),K.set(t,o))}}function Pe(e,t,r,n){t=a(t);var i,o,s,l,_,u,c=0,d=e.length,h=d-1,g=t[0],m=f(g);if(m||1<d&&"string"==typeof g&&!p.checkClone&&ke.test(g))return e.each((function(i){var a=e.eq(i);m&&(t[0]=g.call(this,i,a.html())),Pe(a,t,r,n)}));if(d&&(o=(i=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(l=(s=w.map(ge(i,"script"),Ne)).length;c<d;c++)_=i,c!==h&&(_=w.clone(_,!0,!0),l&&w.merge(s,ge(_,"script"))),r.call(e[c],_,c);if(l)for(u=s[s.length-1].ownerDocument,w.map(s,Ce),c=0;c<l;c++)_=s[c],fe.test(_.type||"")&&!Y.access(_,"globalEval")&&w.contains(u,_)&&(_.src&&"module"!==(_.type||"").toLowerCase()?w._evalUrl&&!_.noModule&&w._evalUrl(_.src,{nonce:_.nonce||_.getAttribute("nonce")},u):v(_.textContent.replace(Se,""),_,u))}return e}function Re(e,t,r){for(var n,i=t?w.filter(t,e):e,a=0;null!=(n=i[a]);a++)r||1!==n.nodeType||w.cleanData(ge(n)),n.parentNode&&(r&&ie(n)&&me(ge(n,"script")),n.parentNode.removeChild(n));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,i,a,o,s,l,_,u=e.cloneNode(!0),c=ie(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=ge(u),n=0,i=(a=ge(e)).length;n<i;n++)s=a[n],"input"===(_=(l=o[n]).nodeName.toLowerCase())&&de.test(s.type)?l.checked=s.checked:"input"!==_&&"textarea"!==_||(l.defaultValue=s.defaultValue);if(t)if(r)for(a=a||ge(e),o=o||ge(u),n=0,i=a.length;n<i;n++)Le(a[n],o[n]);else Le(e,u);return 0<(o=ge(u,"script")).length&&me(o,!c&&ge(e,"script")),u},cleanData:function(e){for(var t,r,n,i=w.event.special,a=0;void 0!==(r=e[a]);a++)if(H(r)){if(t=r[Y.expando]){if(t.events)for(n in t.events)i[n]?w.event.remove(r,n):w.removeEvent(r,n,t.handle);r[Y.expando]=void 0}r[K.expando]&&(r[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return W(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Pe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Te(this,e).appendChild(e)}))},prepend:function(){return Pe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Te(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!he[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(w.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,(function(t){var r=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ge(this)),r&&r.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var r,n=[],i=w(e),a=i.length-1,s=0;s<=a;s++)r=s===a?this:this.clone(!0),w(i[s])[t](r),o.apply(n,r.get());return this.pushStack(n)}}));var ze=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ie=/^--/,De=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},je=function(e,t,r){var n,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in n=r.call(e),t)e.style[i]=a[i];return n},Be=new RegExp(re.join("|"),"i"),qe="[\\x20\\t\\r\\n\\f]",Ue=new RegExp("^"+qe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qe+"+$","g");function We(e,t,r){var n,i,a,o,s=Ie.test(t),l=e.style;return(r=r||De(e))&&(o=r.getPropertyValue(t)||r[t],s&&o&&(o=o.replace(Ue,"$1")||void 0),""!==o||ie(e)||(o=w.style(e,t)),!p.pixelBoxStyles()&&ze.test(o)&&Be.test(t)&&(n=l.width,i=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=r.width,l.width=n,l.minWidth=i,l.maxWidth=a)),void 0!==o?o+"":o}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){_.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(_).appendChild(u);var t=e.getComputedStyle(u);n="1%"!==t.top,l=12===r(t.marginLeft),u.style.right="60%",o=36===r(t.right),i=36===r(t.width),u.style.position="absolute",a=12===r(u.offsetWidth/3),ne.removeChild(_),u=null}}function r(e){return Math.round(parseFloat(e))}var n,i,a,o,s,l,_=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,r,n,i;return null==s&&(t=g.createElement("table"),r=g.createElement("tr"),n=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",r.style.cssText="border:1px solid",r.style.height="1px",n.style.height="9px",n.style.display="block",ne.appendChild(t).appendChild(r).appendChild(n),i=e.getComputedStyle(r),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===r.offsetHeight,ne.removeChild(t)),s}}))}();var Fe=["Webkit","Moz","ms"],Ge=g.createElement("div").style,Xe={};function He(e){return w.cssProps[e]||Xe[e]||(e in Ge?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=Fe.length;r--;)if((e=Fe[r]+t)in Ge)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ye={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Je(e,t,r){var n=te.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function Ze(e,t,r,n,i,a){var o="width"===t?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(l+=w.css(e,r+re[o],!0,i)),n?("content"===r&&(l-=w.css(e,"padding"+re[o],!0,i)),"margin"!==r&&(l-=w.css(e,"border"+re[o]+"Width",!0,i))):(l+=w.css(e,"padding"+re[o],!0,i),"padding"!==r?l+=w.css(e,"border"+re[o]+"Width",!0,i):s+=w.css(e,"border"+re[o]+"Width",!0,i));return!n&&0<=a&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function Qe(e,t,r){var n=De(e),i=(!p.boxSizingReliable()||r)&&"border-box"===w.css(e,"boxSizing",!1,n),a=i,o=We(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(o)){if(!r)return o;o="auto"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&k(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===w.css(e,"boxSizing",!1,n),(a=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Ze(e,t,r||(i?"border":"content"),a,n,o)+"px"}function et(e,t,r,n,i){return new et.prototype.init(e,t,r,n,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=We(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=X(t),l=Ie.test(t),_=e.style;if(l||(t=He(s)),o=w.cssHooks[t]||w.cssHooks[s],void 0===r)return o&&"get"in o&&void 0!==(i=o.get(e,!1,n))?i:_[t];"string"==(a=typeof r)&&(i=te.exec(r))&&i[1]&&(r=se(e,t,i),a="number"),null!=r&&r==r&&("number"!==a||l||(r+=i&&i[3]||(w.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==r||0!==t.indexOf("background")||(_[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(e,r,n))||(l?_.setProperty(t,r):_[t]=r))}},css:function(e,t,r,n){var i,a,o,s=X(t);return Ie.test(t)||(t=He(s)),(o=w.cssHooks[t]||w.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,r)),void 0===i&&(i=We(e,t,n)),"normal"===i&&t in Ke&&(i=Ke[t]),""===r||r?(a=parseFloat(i),!0===r||isFinite(a)?a||0:i):i}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,r,n){if(r)return!Ve.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,n):je(e,Ye,(function(){return Qe(e,t,n)}))},set:function(e,r,n){var i,a=De(e),o=!p.scrollboxSize()&&"absolute"===a.position,s=(o||n)&&"border-box"===w.css(e,"boxSizing",!1,a),l=n?Ze(e,t,n,s,a):0;return s&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-Ze(e,t,"border",!1,a)-.5)),l&&(i=te.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=w.css(e,t)),Je(0,r,l)}}})),w.cssHooks.marginLeft=$e(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(r){for(var n=0,i={},a="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+re[n]+t]=a[n]||a[n-2]||a[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Je)})),w.fn.extend({css:function(e,t){return W(this,(function(e,t,r){var n,i,a={},o=0;if(Array.isArray(t)){for(n=De(e),i=t.length;o<i;o++)a[t[o]]=w.css(e,t[o],!1,n);return a}return void 0!==r?w.style(e,t,r):w.css(e,t)}),e,t,1<arguments.length)}}),((w.Tween=et).prototype={constructor:et,init:function(e,t,r,n,i,a){this.elem=e,this.prop=r,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(w.cssNumber[r]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,r=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[He(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,rt,nt,it,at=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){rt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(st):e.setTimeout(st,w.fx.interval),w.fx.tick())}function lt(){return e.setTimeout((function(){tt=void 0})),tt=Date.now()}function _t(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=re[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,r){for(var n,i=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),a=0,o=i.length;a<o;a++)if(n=i[a].call(r,t,e))return n}function ct(e,t,r){var n,i,a=0,o=ct.prefilters.length,s=w.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=tt||lt(),r=Math.max(0,_.startTime+_.duration-t),n=1-(r/_.duration||0),a=0,o=_.tweens.length;a<o;a++)_.tweens[a].run(n);return s.notifyWith(e,[_,n,r]),n<1&&o?r:(o||s.notifyWith(e,[_,1,0]),s.resolveWith(e,[_]),!1)},_=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},r),originalProperties:t,originalOptions:r,startTime:tt||lt(),duration:r.duration,tweens:[],createTween:function(t,r){var n=w.Tween(e,_.opts,t,r,_.opts.specialEasing[t]||_.opts.easing);return _.tweens.push(n),n},stop:function(t){var r=0,n=t?_.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)_.tweens[r].run(1);return t?(s.notifyWith(e,[_,1,0]),s.resolveWith(e,[_,t])):s.rejectWith(e,[_,t]),this}}),u=_.props;for(function(e,t){var r,n,i,a,o;for(r in e)if(i=t[n=X(r)],a=e[r],Array.isArray(a)&&(i=a[1],a=e[r]=a[0]),r!==n&&(e[n]=a,delete e[r]),(o=w.cssHooks[n])&&"expand"in o)for(r in a=o.expand(a),delete e[n],a)r in e||(e[r]=a[r],t[r]=i);else t[n]=i}(u,_.opts.specialEasing);a<o;a++)if(n=ct.prefilters[a].call(_,e,u,_.opts))return f(n.stop)&&(w._queueHooks(_.elem,_.opts.queue).stop=n.stop.bind(n)),n;return w.map(u,ut,_),f(_.opts.start)&&_.opts.start.call(e,_),_.progress(_.opts.progress).done(_.opts.done,_.opts.complete).fail(_.opts.fail).always(_.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:_,queue:_.opts.queue})),_}w.Animation=w.extend(ct,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return se(r.elem,e,te.exec(t),r),r}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(z);for(var r,n=0,i=e.length;n<i;n++)r=e[n],ct.tweeners[r]=ct.tweeners[r]||[],ct.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,a,o,s,l,_,u,c="width"in t||"height"in t,d=this,p={},f=e.style,h=e.nodeType&&oe(e),g=Y.get(e,"fxshow");for(n in r.queue||(null==(o=w._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()}))}))),t)if(i=t[n],at.test(i)){if(delete t[n],a=a||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;h=!0}p[n]=g&&g[n]||w.style(e,n)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(n in c&&1===e.nodeType&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],null==(_=g&&g.display)&&(_=Y.get(e,"display")),"none"===(u=w.css(e,"display"))&&(_?u=_:(_e([e],!0),_=e.style.display||_,u=w.css(e,"display"),_e([e]))),("inline"===u||"inline-block"===u&&null!=_)&&"none"===w.css(e,"float")&&(l||(d.done((function(){f.display=_})),null==_&&(u=f.display,_="none"===u?"":u)),f.display="inline-block")),r.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(h=g.hidden):g=Y.access(e,"fxshow",{display:_}),a&&(g.hidden=!h),h&&_e([e],!0),d.done((function(){for(n in h||_e([e]),Y.remove(e,"fxshow"),p)w.style(e,n,p[n])}))),l=ut(h?g[n]:0,n,d),n in g||(g[n]=l.start,h&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),w.speed=function(e,t,r){var n=e&&"object"==typeof e?w.extend({},e):{complete:r||!r&&t||f(e)&&e,duration:e,easing:r&&t||t&&!f(t)&&t};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in w.fx.speeds?n.duration=w.fx.speeds[n.duration]:n.duration=w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){f(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(e,t,r,n){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=w.isEmptyObject(e),a=w.speed(t,r,n),o=function(){var t=ct(this,w.extend({},e),a);(i||Y.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",a=w.timers,o=Y.get(this);if(i)o[i]&&o[i].stop&&n(o[i]);else for(i in o)o[i]&&o[i].stop&&ot.test(i)&&n(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(r),t=!1,a.splice(i,1));!t&&r||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=Y.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],a=w.timers,o=n?n.length:0;for(r.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var r=w.fn[t];w.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(_t(t,!0),e,n,i)}})),w.each({slideDown:_t("show"),slideUp:_t("hide"),slideToggle:_t("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),w.timers=[],w.fx.tick=function(){var e,t=0,r=w.timers;for(tt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,st())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,r){return t=w.fx&&w.fx.speeds[t]||t,r=r||"fx",this.queue(r,(function(r,n){var i=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(i)}}))},nt=g.createElement("input"),it=g.createElement("select").appendChild(g.createElement("option")),nt.type="checkbox",p.checkOn=""!==nt.value,p.optSelected=it.selected,(nt=g.createElement("input")).value="t",nt.type="radio",p.radioValue="t"===nt.value;var dt,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return W(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,r){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?w.prop(e,t,r):(1===a&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==r?null===r?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=w.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&k(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(z);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),dt={set:function(e,t,r){return!1===t?w.removeAttr(e,r):e.setAttribute(r,r),r}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=pt[t]||w.find.attr;pt[t]=function(e,t,n){var i,a,o=t.toLowerCase();return n||(a=pt[o],pt[o]=i,i=null!=r(e,t,n)?o:null,pt[o]=a),i}}));var ft=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function gt(e){return(e.match(z)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(z)||[]}w.fn.extend({prop:function(e,t){return W(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,r){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,r,n,i,a,o;return f(e)?this.each((function(t){w(this).addClass(e.call(this,t,mt(this)))})):(t=vt(e)).length?this.each((function(){if(n=mt(this),r=1===this.nodeType&&" "+gt(n)+" "){for(a=0;a<t.length;a++)i=t[a],r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=gt(r),n!==o&&this.setAttribute("class",o)}})):this},removeClass:function(e){var t,r,n,i,a,o;return f(e)?this.each((function(t){w(this).removeClass(e.call(this,t,mt(this)))})):arguments.length?(t=vt(e)).length?this.each((function(){if(n=mt(this),r=1===this.nodeType&&" "+gt(n)+" "){for(a=0;a<t.length;a++)for(i=t[a];-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");o=gt(r),n!==o&&this.setAttribute("class",o)}})):this:this.attr("class","")},toggleClass:function(e,t){var r,n,i,a,o=typeof e,s="string"===o||Array.isArray(e);return f(e)?this.each((function(r){w(this).toggleClass(e.call(this,r,mt(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(r=vt(e),this.each((function(){if(s)for(a=w(this),i=0;i<r.length;i++)n=r[i],a.hasClass(n)?a.removeClass(n):a.addClass(n);else void 0!==e&&"boolean"!==o||((n=mt(this))&&Y.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":Y.get(this,"__className__")||""))})))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&-1<(" "+gt(mt(r))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;w.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=f(e),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(yt,""):null==r?"":r:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:gt(w.text(e))}},select:{get:function(e){var t,r,n,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:i.length;for(n=a<0?l:o?a:0;n<l;n++)if(((r=i[n]).selected||n===a)&&!r.disabled&&(!r.parentNode.disabled||!k(r.parentNode,"optgroup"))){if(t=w(r).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,a=w.makeArray(t),o=i.length;o--;)((n=i[o]).selected=-1<w.inArray(w.valHooks.option.get(n),a))&&(r=!0);return r||(e.selectedIndex=-1),a}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},p.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,r,n,i){var a,o,s,l,_,c,d,p,m=[n||g],v=u.call(t,"type")?t.type:t,y=u.call(t,"namespace")?t.namespace.split("."):[];if(o=p=s=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!bt.test(v+w.event.triggered)&&(-1<v.indexOf(".")&&(v=(y=v.split(".")).shift(),y.sort()),_=v.indexOf(":")<0&&"on"+v,(t=t[w.expando]?t:new w.Event(v,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:w.makeArray(r,[t]),d=w.event.special[v]||{},i||!d.trigger||!1!==d.trigger.apply(n,r))){if(!i&&!d.noBubble&&!h(n)){for(l=d.delegateType||v,bt.test(l+v)||(o=o.parentNode);o;o=o.parentNode)m.push(o),s=o;s===(n.ownerDocument||g)&&m.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=m[a++])&&!t.isPropagationStopped();)p=o,t.type=1<a?l:d.bindType||v,(c=(Y.get(o,"events")||Object.create(null))[t.type]&&Y.get(o,"handle"))&&c.apply(o,r),(c=_&&o[_])&&c.apply&&H(o)&&(t.result=c.apply(o,r),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),r)||!H(n)||_&&f(n[v])&&!h(n)&&((s=n[_])&&(n[_]=null),w.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,wt),n[v](),t.isPropagationStopped()&&p.removeEventListener(v,wt),w.event.triggered=void 0,s&&(n[_]=s)),t.result}},simulate:function(e,t,r){var n=w.extend(new w.Event,r,{type:e,isSimulated:!0});w.event.trigger(n,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return w.event.trigger(e,t,r,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,i=Y.access(n,t);i||n.addEventListener(e,r,!0),Y.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=Y.access(n,t)-1;i?Y.access(n,t,i):(n.removeEventListener(e,r,!0),Y.remove(n,t))}}}));var At=e.location,Et={guid:Date.now()},Mt=/\?/;w.parseXML=function(t){var r,n;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=r&&r.getElementsByTagName("parsererror")[0],r&&!n||w.error("Invalid XML: "+(n?w.map(n.childNodes,(function(e){return e.textContent})).join("\n"):t)),r};var xt=/\[\]$/,Ot=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,r,n){var i;if(Array.isArray(t))w.each(t,(function(t,i){r||xt.test(e)?n(e,i):Tt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)}));else if(r||"object"!==y(t))n(e,t);else for(i in t)Tt(e+"["+i+"]",t[i],r,n)}w.param=function(e,t){var r,n=[],i=function(e,t){var r=f(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){i(this.name,this.value)}));else for(r in e)Tt(r,e[r],t,i);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&St.test(this.nodeName)&&!kt.test(e)&&(this.checked||!de.test(e))})).map((function(e,t){var r=w(this).val();return null==r?null:Array.isArray(r)?w.map(r,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:r.replace(Ot,"\r\n")}})).get()}});var Nt=/%20/g,Ct=/#.*$/,Lt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,zt=/^\/\//,It={},Dt={},jt="*/".concat("*"),Bt=g.createElement("a");function qt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,a=t.toLowerCase().match(z)||[];if(f(r))for(;n=a[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ut(e,t,r,n){var i={},a=e===Dt;function o(s){var l;return i[s]=!0,w.each(e[s]||[],(function(e,s){var _=s(t,r,n);return"string"!=typeof _||a||i[_]?a?!(l=_):void 0:(t.dataTypes.unshift(_),o(_),!1)})),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function Wt(e,t){var r,n,i=w.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&w.extend(!0,e,n),e}Bt.href=At.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,w.ajaxSettings),t):Wt(w.ajaxSettings,e)},ajaxPrefilter:qt(It),ajaxTransport:qt(Dt),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};var n,i,a,o,s,l,_,u,c,d,p=w.ajaxSetup({},r),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?w(f):w.event,m=w.Deferred(),v=w.Callbacks("once memory"),y=p.statusCode||{},b={},A={},E="canceled",M={readyState:0,getResponseHeader:function(e){var t;if(_){if(!o)for(o={};t=Pt.exec(a);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return _?a:null},setRequestHeader:function(e,t){return null==_&&(e=A[e.toLowerCase()]=A[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==_&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(_)M.always(e[M.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||E;return n&&n.abort(t),x(0,t),this}};if(m.promise(M),p.url=((t||p.url||At.href)+"").replace(zt,At.protocol+"//"),p.type=r.method||r.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(z)||[""],null==p.crossDomain){l=g.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Ut(It,p,r,M),_)return M;for(c in(u=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rt.test(p.type),i=p.url.replace(Ct,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Nt,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Mt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Lt,"$1"),d=(Mt.test(i)?"&":"?")+"_="+Et.guid+++d),p.url=i+d),p.ifModified&&(w.lastModified[i]&&M.setRequestHeader("If-Modified-Since",w.lastModified[i]),w.etag[i]&&M.setRequestHeader("If-None-Match",w.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||r.contentType)&&M.setRequestHeader("Content-Type",p.contentType),M.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+jt+"; q=0.01":""):p.accepts["*"]),p.headers)M.setRequestHeader(c,p.headers[c]);if(p.beforeSend&&(!1===p.beforeSend.call(f,M,p)||_))return M.abort();if(E="abort",v.add(p.complete),M.done(p.success),M.fail(p.error),n=Ut(Dt,p,r,M)){if(M.readyState=1,u&&h.trigger("ajaxSend",[M,p]),_)return M;p.async&&0<p.timeout&&(s=e.setTimeout((function(){M.abort("timeout")}),p.timeout));try{_=!1,n.send(b,x)}catch(t){if(_)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,r,o,l){var c,d,g,b,A,E=r;_||(_=!0,s&&e.clearTimeout(s),n=void 0,a=l||"",M.readyState=0<t?4:0,c=200<=t&&t<300||304===t,o&&(b=function(e,t,r){for(var n,i,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in r)a=l[0];else{for(i in r){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),r[a]}(p,M,o)),!c&&-1<w.inArray("script",p.dataTypes)&&w.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(e,t,r,n){var i,a,o,s,l,_={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)_[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=_[l+" "+a]||_["* "+a]))for(i in _)if((s=i.split(" "))[1]===a&&(o=_[l+" "+s[0]]||_["* "+s[0]])){!0===o?o=_[i]:!0!==_[i]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(p,b,M,c),c?(p.ifModified&&((A=M.getResponseHeader("Last-Modified"))&&(w.lastModified[i]=A),(A=M.getResponseHeader("etag"))&&(w.etag[i]=A)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=b.state,d=b.data,c=!(g=b.error))):(g=E,!t&&E||(E="error",t<0&&(t=0))),M.status=t,M.statusText=(r||E)+"",c?m.resolveWith(f,[d,E,M]):m.rejectWith(f,[M,E,g]),M.statusCode(y),y=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[M,p,c?d:g]),v.fireWith(f,[M,E]),u&&(h.trigger("ajaxComplete",[M,p]),--w.active||w.event.trigger("ajaxStop")))}return M},getJSON:function(e,t,r){return w.get(e,t,r,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,r,n,i){return f(r)&&(i=i||n,n=r,r=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:r,success:n},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),w._evalUrl=function(e,t,r){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,r)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(r){w(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Ft=w.ajaxSettings.xhr();p.cors=!!Ft&&"withCredentials"in Ft,p.ajax=Ft=!!Ft,w.ajaxTransport((function(t){var r,n;if(p.cors||Ft&&!t.crossDomain)return{send:function(i,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(o,i[o]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=s.ontimeout=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){r&&n()}))},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(i){if(r)throw i}},abort:function(){r&&r()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){r&&r()}}}));var Gt,Xt=[],Ht=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||w.expando+"_"+Et.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,r,n){var i,a,o,s=!1!==t.jsonp&&(Ht.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ht,"$1"+i):!1!==t.jsonp&&(t.url+=(Mt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||w.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},n.always((function(){void 0===a?w(e).removeProp(i):e[i]=a,t[i]&&(t.jsonpCallback=r.jsonpCallback,Xt.push(i)),o&&f(a)&&a(o[0]),o=a=void 0})),"script"})),p.createHTMLDocument=((Gt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),w.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(p.createHTMLDocument?((n=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(n)):t=g),a=!r&&[],(i=S.exec(e))?[t.createElement(i[1])]:(i=ye([e],t,a),a&&a.length&&w(a).remove(),w.merge([],i.childNodes)));var n,i,a},w.fn.load=function(e,t,r){var n,i,a,o=this,s=e.indexOf(" ");return-1<s&&(n=gt(e.slice(s)),e=e.slice(0,s)),f(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<o.length&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(n?w("<div>").append(w.parseHTML(e)).find(n):e)})).always(r&&function(e,t){o.each((function(){r.apply(this,a||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,r){var n,i,a,o,s,l,_=w.css(e,"position"),u=w(e),c={};"static"===_&&(e.style.position="relative"),s=u.offset(),a=w.css(e,"top"),l=w.css(e,"left"),("absolute"===_||"fixed"===_)&&-1<(a+l).indexOf("auto")?(o=(n=u.position()).top,i=n.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),f(t)&&(t=t.call(e,r,w.extend({},s))),null!=t.top&&(c.top=t.top-s.top+o),null!=t.left&&(c.left=t.left-s.left+i),"using"in t?t.using.call(e,c):u.css(c)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===w.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(n,"marginTop",!0),left:t.left-i.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ne}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;w.fn[e]=function(n){return W(this,(function(e,n,i){var a;if(h(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[n];a?a.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):e[n]=i}),e,n,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=$e(p.pixelPosition,(function(e,r){if(r)return r=We(e,t),ze.test(r)?w(e).position()[t]+"px":r}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){w.fn[n]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===a?"margin":"border");return W(this,(function(t,r,i){var a;return h(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?w.css(t,r,s):w.style(t,r,i,s)}),t,o?i:void 0,o)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,r){return 0<arguments.length?this.on(t,null,e,r):this.trigger(t)}}));var Vt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var r,n,a;if("string"==typeof t&&(r=e[t],t=e,e=r),f(e))return n=i.call(arguments,2),(a=function(){return e.apply(t||this,n.concat(i.call(arguments)))}).guid=e.guid=e.guid||w.guid++,a},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=k,w.isFunction=f,w.isWindow=h,w.camelCase=X,w.type=y,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Vt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var Yt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Yt),w},void 0===t&&(e.jQuery=e.$=w),w})),window.preloaded["js/vendor:jquery-3.6.4.min.js"]=!0,window.bubble_bundle_name="run",(()=>{var e,t,r=Object.create,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,l=(e=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):e),_=(e,t)=>()=>(e&&(t=e(e=0)),t),u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},d=(e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))!s.call(e,l)&&l!==r&&n(e,l,{get:()=>t[l],enumerable:!(o=i(t,l))||o.enumerable});return e},p=e=>d(n({},"__esModule",{value:!0}),e),f=_((()=>{t={}})),h=u(((e,t)=>{f();var r=function(e){return e&&e.Math==Math&&e};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof window&&window)||function(){return this}()||Function("return this")()})),g=u(((e,t)=>{f(),t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}})),m=u(((e,t)=>{f(),t.exports=function(e){return"function"==typeof e}})),v=u(((e,t)=>{f();var r=m();t.exports=function(e){return"object"==typeof e?null!==e:r(e)}})),y=u(((e,t)=>{f();var r=h(),n=v(),i=r.document,a=n(i)&&n(i.createElement);t.exports=function(e){return a?i.createElement(e):{}}})),b=u(((e,t)=>{f();var r=y()("span").classList,n=r&&r.constructor&&r.constructor.prototype;t.exports=n===Object.prototype?void 0:n})),w=u(((e,t)=>{f(),t.exports=function(e){try{return!!e()}catch{return!0}}})),A=u(((e,t)=>{f();var r=w();t.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))})),E=u(((e,t)=>{f();var r=A(),n=Function.prototype,i=n.bind,a=n.call,o=r&&i.bind(a,a);t.exports=r?function(e){return e&&o(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}})),M=u(((e,t)=>{f();var r=E(),n=r({}.toString),i=r("".slice);t.exports=function(e){return i(n(e),8,-1)}})),x=u(((e,t)=>{f();var r=h(),n=E(),i=w(),a=M(),o=r.Object,s=n("".split);t.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o})),O=u(((e,t)=>{f();var r=h().TypeError;t.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}})),k=u(((e,t)=>{f();var r=x(),n=O();t.exports=function(e){return r(n(e))}})),S=u(((e,t)=>{f(),t.exports=!1})),T=u(((e,t)=>{f();var r=h(),n=Object.defineProperty;t.exports=function(e,t){try{n(r,e,{value:t,configurable:!0,writable:!0})}catch{r[e]=t}return t}})),N=u(((e,t)=>{f();var r=h(),n=T(),i="__core-js_shared__",a=r[i]||n(i,{});t.exports=a})),C=u(((e,t)=>{f();var r=S(),n=N();(t.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})})),L=u(((e,t)=>{f();var r=h(),n=O(),i=r.Object;t.exports=function(e){return i(n(e))}})),P=u(((e,t)=>{f();var r=E(),n=L(),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(e,t){return i(n(e),t)}})),R=u(((e,t)=>{f();var r=E(),n=0,i=Math.random(),a=r(1..toString);t.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++n+i,36)}})),z=u(((e,t)=>{f();var r=h(),n=m(),i=function(e){return n(e)?e:void 0};t.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}})),I=u(((e,t)=>{f();var r=z();t.exports=r("navigator","userAgent")||""})),D=u(((e,t)=>{f();var r,n,i=h(),a=I(),o=i.process,s=i.Deno,l=o&&o.versions||s&&s.version,_=l&&l.v8;_&&(n=(r=_.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&a&&((!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&((r=a.match(/Chrome\/(\d+)/))&&(n=+r[1]))),t.exports=n})),j=u(((e,t)=>{f();var r=D(),n=w();t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))})),B=u(((e,t)=>{f();var r=j();t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator})),q=u(((e,t)=>{f();var r=h(),n=C(),i=P(),a=R(),o=j(),s=B(),l=n("wks"),_=r.Symbol,u=_&&_.for,c=s?_:_&&_.withoutSetter||a;t.exports=function(e){if(!i(l,e)||!o&&"string"!=typeof l[e]){var t="Symbol."+e;o&&i(_,e)?l[e]=_[e]:l[e]=s&&u?u(t):c(t)}return l[e]}})),U=u(((e,t)=>{f();var r=h(),n=v(),i=r.String,a=r.TypeError;t.exports=function(e){if(n(e))return e;throw a(i(e)+" is not an object")}})),W=u(((e,t)=>{f();var r=w();t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))})),F=u(((e,t)=>{f();var r=W(),n=w();t.exports=r&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))})),G=u(((e,t)=>{f();var r=W(),n=w(),i=y();t.exports=!r&&!n((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))})),X=u(((e,t)=>{f();var r=A(),n=Function.prototype.call;t.exports=r?n.bind(n):function(){return n.apply(n,arguments)}})),H=u(((e,t)=>{f();var r=E();t.exports=r({}.isPrototypeOf)})),V=u(((e,t)=>{f();var r=h(),n=z(),i=m(),a=H(),o=B(),s=r.Object;t.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}})),Y=u(((e,t)=>{f();var r=h().String;t.exports=function(e){try{return r(e)}catch{return"Object"}}})),K=u(((e,t)=>{f();var r=h(),n=m(),i=Y(),a=r.TypeError;t.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a function")}})),J=u(((e,t)=>{f();var r=K();t.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}})),Z=u(((e,t)=>{f();var r=h(),n=X(),i=m(),a=v(),o=r.TypeError;t.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e))||i(r=e.valueOf)&&!a(s=n(r,e))||"string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw o("Can't convert object to primitive value")}})),Q=u(((e,t)=>{f();var r=h(),n=X(),i=v(),a=V(),o=J(),s=Z(),l=q(),_=r.TypeError,u=l("toPrimitive");t.exports=function(e,t){if(!i(e)||a(e))return e;var r,l=o(e,u);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||a(r))return r;throw _("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}})),ee=u(((e,t)=>{f();var r=Q(),n=V();t.exports=function(e){var t=r(e,"string");return n(t)?t:t+""}})),te=u((e=>{f();var t=h(),r=W(),n=G(),i=F(),a=U(),o=ee(),s=t.TypeError,l=Object.defineProperty,_=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";e.f=r?i?function(e,t,r){if(a(e),t=o(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&d in r&&!r[d]){var n=_(e,t);n&&n[d]&&(e[t]=r.value,r={configurable:c in r?r[c]:n[c],enumerable:u in r?r[u]:n[u],writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(a(e),t=o(t),a(r),n)try{return l(e,t,r)}catch{}if("get"in r||"set"in r)throw s("Accessors not supported");return"value"in r&&(e[t]=r.value),e}})),re=u(((e,t)=>{f();var r=Math.ceil,n=Math.floor;t.exports=function(e){var t=+e;return t!=t||0===t?0:(t>0?n:r)(t)}})),ne=u(((e,t)=>{f();var r=re(),n=Math.max,i=Math.min;t.exports=function(e,t){var a=r(e);return a<0?n(a+t,0):i(a,t)}})),ie=u(((e,t)=>{f();var r=re(),n=Math.min;t.exports=function(e){return e>0?n(r(e),9007199254740991):0}})),ae=u(((e,t)=>{f();var r=ie();t.exports=function(e){return r(e.length)}})),oe=u(((e,t)=>{f();var r=k(),n=ne(),i=ae(),a=function(e){return function(t,a,o){var s,l=r(t),_=i(l),u=n(o,_);if(e&&a!=a){for(;_>u;)if((s=l[u++])!=s)return!0}else for(;_>u;u++)if((e||u in l)&&l[u]===a)return e||u||0;return!e&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}})),se=u(((e,t)=>{f(),t.exports={}})),le=u(((e,t)=>{f();var r=E(),n=P(),i=k(),a=oe().indexOf,o=se(),s=r([].push);t.exports=function(e,t){var r,l=i(e),_=0,u=[];for(r in l)!n(o,r)&&n(l,r)&&s(u,r);for(;t.length>_;)n(l,r=t[_++])&&(~a(u,r)||s(u,r));return u}})),_e=u(((e,t)=>{f(),t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]})),ue=u(((e,t)=>{f();var r=le(),n=_e();t.exports=Object.keys||function(e){return r(e,n)}})),ce=u((e=>{f();var t=W(),r=F(),n=te(),i=U(),a=k(),o=ue();e.f=t&&!r?Object.defineProperties:function(e,t){i(e);for(var r,s=a(t),l=o(t),_=l.length,u=0;_>u;)n.f(e,r=l[u++],s[r]);return e}})),de=u(((e,t)=>{f();var r=z();t.exports=r("document","documentElement")})),pe=u(((e,t)=>{f();var r=C(),n=R(),i=r("keys");t.exports=function(e){return i[e]||(i[e]=n(e))}})),fe=u(((e,t)=>{f();var r,n=U(),i=ce(),a=_e(),o=se(),s=de(),l=y(),_=pe(),u="prototype",c="script",d=_("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"</"+c+">"},g=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch{}m=typeof document<"u"?document.domain&&r?g(r):function(){var e,t=l("iframe");return t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F}():g(r);for(var e=a.length;e--;)delete m[u][a[e]];return m()};o[d]=!0,t.exports=Object.create||function(e,t){var r;return null!==e?(p[u]=n(e),r=new p,p[u]=null,r[d]=e):r=m(),void 0===t?r:i.f(r,t)}})),he=u(((e,t)=>{f();var r=q(),n=fe(),i=te(),a=r("unscopables"),o=Array.prototype;null==o[a]&&i.f(o,a,{configurable:!0,value:n(null)}),t.exports=function(e){o[a][e]=!0}})),ge=u(((e,t)=>{f(),t.exports={}})),me=u(((e,t)=>{f();var r=E(),n=m(),i=N(),a=r(Function.toString);n(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),t.exports=i.inspectSource})),ve=u(((e,t)=>{f();var r=h(),n=m(),i=me(),a=r.WeakMap;t.exports=n(a)&&/native code/.test(i(a))})),ye=u(((e,t)=>{f(),t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}})),be=u(((e,t)=>{f();var r=W(),n=te(),i=ye();t.exports=r?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}})),we=u(((e,t)=>{f();var r,n,i,a,o,s,l,_,u=ve(),c=h(),d=E(),p=v(),g=be(),m=P(),y=N(),b=pe(),w=se(),A="Object already initialized",M=c.TypeError,x=c.WeakMap;u||y.state?(a=y.state||(y.state=new x),o=d(a.get),s=d(a.has),l=d(a.set),r=function(e,t){if(s(a,e))throw new M(A);return t.facade=e,l(a,e,t),t},n=function(e){return o(a,e)||{}},i=function(e){return s(a,e)}):(w[_=b("state")]=!0,r=function(e,t){if(m(e,_))throw new M(A);return t.facade=e,g(e,_,t),t},n=function(e){return m(e,_)?e[_]:{}},i=function(e){return m(e,_)}),t.exports={set:r,get:n,has:i,enforce:function(e){return i(e)?n(e):r(e,{})},getterFor:function(e){return function(t){var r;if(!p(t)||(r=n(t)).type!==e)throw M("Incompatible receiver, "+e+" required");return r}}}})),Ae=u((e=>{"use strict";f();var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!t.call({1:2},1);e.f=n?function(e){var t=r(this,e);return!!t&&t.enumerable}:t})),Ee=u((e=>{f();var t=W(),r=X(),n=Ae(),i=ye(),a=k(),o=ee(),s=P(),l=G(),_=Object.getOwnPropertyDescriptor;e.f=t?_:function(e,t){if(e=a(e),t=o(t),l)try{return _(e,t)}catch{}if(s(e,t))return i(!r(n.f,e,t),e[t])}})),Me=u(((e,t)=>{f();var r=W(),n=P(),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=n(i,"name"),s=o&&"something"===function(){}.name,l=o&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:o,PROPER:s,CONFIGURABLE:l}})),xe=u(((e,t)=>{f();var r=h(),n=m(),i=P(),a=be(),o=T(),s=me(),l=we(),_=Me().CONFIGURABLE,u=l.get,c=l.enforce,d=String(String).split("String");(t.exports=function(e,t,s,l){var u,p=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,h=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:t;n(s)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(s,"name")||_&&s.name!==g)&&a(s,"name",g),(u=c(s)).source||(u.source=d.join("string"==typeof g?g:""))),e!==r?(p?!h&&e[t]&&(f=!0):delete e[t],f?e[t]=s:a(e,t,s)):f?e[t]=s:o(t,s)})(Function.prototype,"toString",(function(){return n(this)&&u(this).source||s(this)}))})),Oe=u((e=>{f();var t=le(),r=_e().concat("length","prototype");e.f=Object.getOwnPropertyNames||function(e){return t(e,r)}})),ke=u((e=>{f(),e.f=Object.getOwnPropertySymbols})),Se=u(((e,t)=>{f();var r=z(),n=E(),i=Oe(),a=ke(),o=U(),s=n([].concat);t.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),r=a.f;return r?s(t,r(e)):t}})),Te=u(((e,t)=>{f();var r=P(),n=Se(),i=Ee(),a=te();t.exports=function(e,t,o){for(var s=n(t),l=a.f,_=i.f,u=0;u<s.length;u++){var c=s[u];!r(e,c)&&(!o||!r(o,c))&&l(e,c,_(t,c))}}})),Ne=u(((e,t)=>{f();var r=w(),n=m(),i=/#|\.prototype\./,a=function(e,t){var i=s[o(e)];return i==_||i!=l&&(n(t)?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",_=a.POLYFILL="P";t.exports=a})),Ce=u(((e,t)=>{f();var r=h(),n=Ee().f,i=be(),a=xe(),o=T(),s=Te(),l=Ne();t.exports=function(e,t){var _,u,c,d,p,f=e.target,h=e.global,g=e.stat;if(_=h?r:g?r[f]||o(f,{}):(r[f]||{}).prototype)for(u in t){if(d=t[u],e.noTargetGet?c=(p=n(_,u))&&p.value:c=_[u],!l(h?u:f+(g?".":"#")+u,e.forced)&&void 0!==c){if(typeof d==typeof c)continue;s(d,c)}(e.sham||c&&c.sham)&&i(d,"sham",!0),a(_,u,d,e)}}})),Le=u(((e,t)=>{f();var r=w();t.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))})),Pe=u(((e,t)=>{f();var r=h(),n=P(),i=m(),a=L(),o=pe(),s=Le(),l=o("IE_PROTO"),_=r.Object,u=_.prototype;t.exports=s?_.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof _?u:null}})),Re=u(((e,t)=>{"use strict";f();var r,n,i,a=w(),o=m(),s=fe(),l=Pe(),_=xe(),u=q(),c=S(),d=u("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(n=l(l(i)))!==Object.prototype&&(r=n):p=!0),null==r||a((function(){var e={};return r[d].call(e)!==e}))?r={}:c&&(r=s(r)),o(r[d])||_(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}})),ze=u(((e,t)=>{f();var r=te().f,n=P(),i=q()("toStringTag");t.exports=function(e,t,a){e&&!a&&(e=e.prototype),e&&!n(e,i)&&r(e,i,{configurable:!0,value:t})}})),Ie=u(((e,t)=>{"use strict";f();var r=Re().IteratorPrototype,n=fe(),i=ye(),a=ze(),o=ge(),s=function(){return this};t.exports=function(e,t,l,_){var u=t+" Iterator";return e.prototype=n(r,{next:i(+!_,l)}),a(e,u,!1,!0),o[u]=s,e}})),De=u(((e,t)=>{f();var r=h(),n=m(),i=r.String,a=r.TypeError;t.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+i(e)+" as a prototype")}})),je=u(((e,t)=>{f();var r=E(),n=U(),i=De();t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(a,[]),t=a instanceof Array}catch{}return function(r,a){return n(r),i(a),t?e(r,a):r.__proto__=a,r}}():void 0)})),Be=u(((e,t)=>{"use strict";f();var r=Ce(),n=X(),i=S(),a=Me(),o=m(),s=Ie(),l=Pe(),_=je(),u=ze(),c=be(),d=xe(),p=q(),h=ge(),g=Re(),v=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,A=p("iterator"),E="keys",M="values",x="entries",O=function(){return this};t.exports=function(e,t,a,p,f,g,m){s(a,t,p);var k,S,T,N=function(e){if(e===f&&z)return z;if(!w&&e in P)return P[e];switch(e){case E:case M:case x:return function(){return new a(this,e)}}return function(){return new a(this)}},C=t+" Iterator",L=!1,P=e.prototype,R=P[A]||P["@@iterator"]||f&&P[f],z=!w&&R||N(f),I="Array"==t&&P.entries||R;if(I&&((k=l(I.call(new e)))!==Object.prototype&&k.next&&(!i&&l(k)!==b&&(_?_(k,b):o(k[A])||d(k,A,O)),u(k,C,!0,!0),i&&(h[C]=O))),v&&f==M&&R&&R.name!==M&&(!i&&y?c(P,"name",M):(L=!0,z=function(){return n(R,this)})),f)if(S={values:N(M),keys:g?z:N(E),entries:N(x)},m)for(T in S)(w||L||!(T in P))&&d(P,T,S[T]);else r({target:t,proto:!0,forced:w||L},S);return(!i||m)&&P[A]!==z&&d(P,A,z,{name:f}),h[t]=z,S}})),qe=u(((e,t)=>{"use strict";f();var r=k(),n=he(),i=ge(),a=we(),o=te().f,s=Be(),l=S(),_=W(),u="Array Iterator",c=a.set,d=a.getterFor(u);t.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var p=i.Arguments=i.Array;if(n("keys"),n("values"),n("entries"),!l&&_&&"values"!==p.name)try{o(p,"name",{value:"values"})}catch{}})),Ue=u((()=>{f();var e,t=h(),r=g(),n=b(),i=qe(),a=be(),o=q(),s=o("iterator"),l=o("toStringTag"),_=i.values,u=function(e,t){if(e){if(e[s]!==_)try{a(e,s,_)}catch{e[s]=_}if(e[l]||a(e,l,t),r[t])for(var n in i)if(e[n]!==i[n])try{a(e,n,i[n])}catch{e[n]=i[n]}}};for(e in r)u(t[e]&&t[e].prototype,e);u(n,"DOMTokenList")})),We=u(((e,t)=>{f();var r=A(),n=Function.prototype,i=n.apply,a=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})})),$e=u(((e,t)=>{f();var r=m(),n=v(),i=je();t.exports=function(e,t,a){var o,s;return i&&r(o=t.constructor)&&o!==a&&n(s=o.prototype)&&s!==a.prototype&&i(e,s),e}})),Fe=u(((e,t)=>{f();var r={};r[q()("toStringTag")]="z",t.exports="[object z]"===String(r)})),Ge=u(((e,t)=>{f();var r=h(),n=Fe(),i=m(),a=M(),o=q()("toStringTag"),s=r.Object,l="Arguments"==a(function(){return arguments}());t.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch{}}(t=s(e),o))?r:l?a(t):"Object"==(n=a(t))&&i(t.callee)?"Arguments":n}})),Xe=u(((e,t)=>{f();var r=h(),n=Ge(),i=r.String;t.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}})),He=u(((e,t)=>{f();var r=Xe();t.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}})),Ve=u(((e,t)=>{f();var r=v(),n=be();t.exports=function(e,t){r(t)&&"cause"in t&&n(e,"cause",t.cause)}})),Ye=u(((e,t)=>{f();var r=E()("".replace),n=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,a=i.test(n);t.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,i,"");return e}})),Ke=u(((e,t)=>{f();var r=w(),n=ye();t.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))})),Je=u(((e,t)=>{"use strict";f();var r=z(),n=P(),i=be(),a=H(),o=je(),s=Te(),l=$e(),_=He(),u=Ve(),c=Ye(),d=Ke(),p=S();t.exports=function(e,t,f,h){var g=h?2:1,m=e.split("."),v=m[m.length-1],y=r.apply(null,m);if(y){var b=y.prototype;if(!p&&n(b,"cause")&&delete b.cause,!f)return y;var w=r("Error"),A=t((function(e,t){var r=_(h?t:e,void 0),n=h?new y(e):new y;return void 0!==r&&i(n,"message",r),d&&i(n,"stack",c(n.stack,2)),this&&a(b,this)&&l(n,this,A),arguments.length>g&&u(n,arguments[g]),n}));if(A.prototype=b,"Error"!==v&&(o?o(A,w):s(A,w,{name:!0})),s(A,y),!p)try{b.name!==v&&i(b,"name",v),b.constructor=A}catch{}return A}}})),Ze=u((()=>{f();var e=Ce(),t=h(),r=We(),n=Je(),i="WebAssembly",a=t[i],o=7!==Error("e",{cause:7}).cause,s=function(t,r){var i={};i[t]=n(t,r,o),e({global:!0,forced:o},i)},l=function(t,r){if(a&&a[t]){var s={};s[t]=n(i+"."+t,r,o),e({target:i,stat:!0,forced:o},s)}};s("Error",(function(e){return function(t){return r(e,this,arguments)}})),s("EvalError",(function(e){return function(t){return r(e,this,arguments)}})),s("RangeError",(function(e){return function(t){return r(e,this,arguments)}})),s("ReferenceError",(function(e){return function(t){return r(e,this,arguments)}})),s("SyntaxError",(function(e){return function(t){return r(e,this,arguments)}})),s("TypeError",(function(e){return function(t){return r(e,this,arguments)}})),s("URIError",(function(e){return function(t){return r(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return r(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return r(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return r(e,this,arguments)}}))})),Qe=u(((e,t)=>{f(),t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}})),et=u(((e,t)=>{f(),"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}})),tt=u((e=>{f();var r=/%[sdj%]/g;e.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch{return"[Circular]"}default:return e}})),l=i[n];n<o;l=i[++n])p(l)||!y(l)?s+=" "+l:s+=" "+a(l);return s},e.deprecate=function(t,r){if(m(window.process))return function(){return e.deprecate(t,r).apply(this,arguments)};if(!0===process.noDeprecation)return t;var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,i={};function a(t,r){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),l(n,t,n.depth)}function o(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function s(e,t){return e}function l(t,r,n){if(t.customInspect&&r&&A(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return g(i)||(i=l(t,i,n)),i}var a=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(h(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(t,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),w(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return _(r);if(0===o.length){if(A(r)){var f=r.name?": "+r.name:"";return t.stylize("[Function"+f+"]","special")}if(v(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(b(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return _(r)}var y,E="",M=!1,x=["{","}"];(c(r)&&(M=!0,x=["[","]"]),A(r))&&(E=" [Function"+(r.name?": "+r.name:"")+"]");return v(r)&&(E=" "+RegExp.prototype.toString.call(r)),b(r)&&(E=" "+Date.prototype.toUTCString.call(r)),w(r)&&(E=" "+_(r)),0!==o.length||M&&0!=r.length?n<0?v(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),y=M?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)k(t,String(o))?a.push(u(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(u(e,t,r,n,i,!0))})),a}(t,r,n,s,o):o.map((function(e){return u(t,r,n,s,e,M)})),t.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(y,E,x)):x[0]+E+x[1]}function _(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,r,n,i,a){var o,s,_;if((_=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=_.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):_.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(_.value)<0?(s=p(r)?l(e,_.value,null):l(e,_.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),m(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function c(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function p(e){return null===e}function h(e){return"number"==typeof e}function g(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return y(e)&&"[object RegExp]"===E(e)}function y(e){return"object"==typeof e&&null!==e}function b(e){return y(e)&&"[object Date]"===E(e)}function w(e){return y(e)&&("[object Error]"===E(e)||e instanceof Error)}function A(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(r){if(m(n)&&(n=t.NODE_DEBUG||""),r=r.toUpperCase(),!i[r])if(new RegExp("\\b"+r+"\\b","i").test(n)){var a=process.pid;i[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,a,t)}}else i[r]=function(){};return i[r]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=c,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=h,e.isString=g,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=m,e.isRegExp=v,e.isObject=y,e.isDate=b,e.isError=w,e.isFunction=A,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||typeof e>"u"},e.isBuffer=Qe();var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=et(),e._extend=function(e,t){if(!t||!y(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}})),rt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.mapping_error_regex=e.ZERO_CLIENTS_NO_SLOTS_MSG=e.USER_REQUESTED_CANCEL_CODE=e.USERDB_NAME=e.TIMEOUT_QUERY_MSG=e.TIMEOUT_MSG=e.STRING_TOO_LONG_FOR_TSVECTOR=e.SOURCE_DOES_NOT_EXIST=e.RELATION_DOES_NOT_EXIST=e.QUERY_TIMEOUTS=e.POOL_QUERY_OVER_THRESHOLD_MSG=e.PLV8_EXECUTION_ERROR_CODE=e.PG_CLIENT_ERR_PROPAGATED_MSG=e.PG_CLIENT_ERR_MSG=e.PG_CLIENT_DESTRUCTION_ERR=e.PG_CLIENT_CANNOT_CONNECT_ERR=e.PERCOLATE_NAME=e.MULTI_UPSERT_RETRY_WARN_THRESHOLD=e.MULTI_UPSERT_RETRY_SPEND_TIME_MS=e.MULTI_UPSERT_MIN_EXP_BACKOFF_MS=e.MULTI_UPSERT_MAX_EXP_BACKOFF_MS=e.MAGIC_POOL_READY_STRING=e.DEFAULT_QUERY_NAME=e.CONCURRENT_TRANSACTION_ERROR_CODE=e.APP_ALREADY_EXISTS=e.APPSERVER_NAME=void 0;e.QUERY_TIMEOUTS={upsert:1e4,get:1e4,search:1e4,group_by:1e4,aggregate:1e4,aggregate_sql:1e4,percolate:1e4,watch_search:1e4,set_ttl:1e4,mget:1e4,evaluate_search:1e4,check_next_run:1e4,get_next_task:3e4,check_operation_state:6e4,delete_app:6e4,add_mapping:6e4,build_concurrent_index:6e4,clear_expired:6e4,clear_searches:6e4,clean_app_references:6e4,clean_deletions:6e4,last_snapshot_time:5e3,get_restore_history:5e3,add_new_annotation:5e3,get_id_counter:5e3,delete_metadata2:5e3,list_apps_by_plugin:5e3,get_plugin_count:1e4,list_plugins_by_count:5e3,read_keys:5e3,read_path:5e3,read_paths:5e3,write_changes2:5e3,snapshot:3e4,delete_app_version:3e4,restore_to:3e4,find_unowned_apps:3e4,copy_app_version:3e4,remove_old_history:3e4,get_indexes:2e4,list_changes:2e4};e.MULTI_UPSERT_MIN_EXP_BACKOFF_MS=250;e.MULTI_UPSERT_MAX_EXP_BACKOFF_MS=4e3;e.MULTI_UPSERT_RETRY_WARN_THRESHOLD=30;e.MULTI_UPSERT_RETRY_SPEND_TIME_MS=10;e.POOL_QUERY_OVER_THRESHOLD_MSG="Pool query over threshold";e.ZERO_CLIENTS_NO_SLOTS_MSG="postgres_pool.coffee: ready clients and empty clients at 0";e.TIMEOUT_MSG="postgres_pool.coffee: query exceeded timeout";e.TIMEOUT_QUERY_MSG="postgres_pool.coffee: timing out query";e.PG_CLIENT_ERR_MSG="Postgres pool: client got an unhandled error";e.PG_CLIENT_ERR_PROPAGATED_MSG="destroying client that had an unhandled error";e.PG_CLIENT_DESTRUCTION_ERR="Destroying client due to unexpected error";e.PG_CLIENT_CANNOT_CONNECT_ERR="Postgres pool: unable to connect";e.RELATION_DOES_NOT_EXIST="42P01";e.USER_REQUESTED_CANCEL_CODE="57014";e.APP_ALREADY_EXISTS="App already exists, cannot copy";e.SOURCE_DOES_NOT_EXIST="Source app does not exist";e.mapping_error_regex=/MAPPING:([^\n]+)/;e.PLV8_EXECUTION_ERROR_CODE="XX000";e.CONCURRENT_TRANSACTION_ERROR_CODE="40001";e.STRING_TOO_LONG_FOR_TSVECTOR="54000";e.PERCOLATE_NAME="percolatedb";e.USERDB_NAME="userdb";e.APPSERVER_NAME="appserver";e.MAGIC_POOL_READY_STRING="POOL_READY";e.DEFAULT_QUERY_NAME="unnamed_query"})),nt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.to_loggable=function(e){return e}})),it=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.UserError=e.UsageLimitError=e.UsageLimitAction=e.UnexpectedPostgresError=e.UnexpectedError=e.UnauthorizedEmployee=e.Unauthorized=e.StripePaymentRequiresAction=e.OwnerError=e.NotReadyError=e.ExpectedError=e.ERROR_LEVELS=e.BubbleError=void 0,e.capture_stack=_,e.clean_args=u,e.ensure_bubble_error=l,e.error_append=function(e,t){try{return t()}catch(t){throw t instanceof Error&&("string"==typeof t.message?t.message+=`\n\t${e}`:t.message=e),t}},e.error_append_args=function(e,t){try{return t()}catch(t){throw t instanceof c&&(t.args=Object.assign({},t.args,e)),t}},e.format_data_for_logging=x,e.format_for_logging=M,e.from_json_client=function(e){switch(null!=e.args||(e.args={}),e.args.server_generated=!0,e.error_class){case"OwnerError":case"UsageLimitError":return new g(e.message,e.args);case"StripePaymentRequiresAction":return new w(e.message,e.translation,e.args);case"UserError":return new y(e.message,e.translation,e.args);case"Unauthorized":return new b(e.message,e.translation,e.args);case"UnauthorizedEmployee":return new A(e.message,e.translation,e.args);case"ClientError":return new p("bad request from client",e.args);default:return new p("Unexpected server error: please report the code parameter to the team",e.args)}},e.get_status_code=function(e){return e.statusCode},e.is_mapping_error=function(e){return"message"in e&&"string"==typeof e.message&&r.mapping_error_regex.test(e.message)},e.set_error_hook=function(e,t){if(!(e in o))throw new p("attempt to set invalid error hook",{name:e});o[e]=t},e.throw_test_error=function(){throw new p("This is a test error")},e.to_owner_display=function(e,t){let r=l(e);return r instanceof g||r instanceof y?r.display():t},Ze(),Ue();var t=a(tt()),r=a(rt()),n=nt();function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}e.ERROR_LEVELS=["error","owner_error","user_error"];var o={default_display(){},localize_message(e,t){},get_client_args(e){}};function s(e){var t,r;return null!=(t=o.get_client_args(e))?t:{code:null!=(r=e.code)?r:"no code found"}}function l(e){if(e instanceof c)return e;if(e instanceof d)return new p("not ready",{not_ready_key_id:e.not_ready_key._id,not_ready_key_turned:e.not_ready_key.is_turned(),not_ready_key_listener_count:e.not_ready_key._listener_count});if(function(e){return"object"==typeof e&&null!=e&&(e instanceof Error||"stack"in e&&"message"in e)}(e)){let t={origin:"native error",...e},r=new p(e.message,t);return null!=e.stack&&(r.stack=e.stack),r}return"string"==typeof e?new p(e):new p("object thrown as error",{original:(0,n.to_loggable)(e)})}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new Error,{stack:n}=r;return"string"!=typeof n&&(n="(no stack)"),n=n.split("\n").slice(3+t).join("\n"),e+"\n"+n}function u(e){let{args:t,path:r=[],to_client:n=!1,visited_objects:i=new Map}=e;if("function"==typeof t)return t.toString().slice(0,50);if("object"!=typeof t||null==t)return t;let a=i.get(t);if(a)return`recursion or repeated property: ${["root",...a].join(".")}`;if(i.set(t,r),r.length>10)return"hit recursion depth > 10 when processing args";if(i.size>1e4)return"hit max object nodes when processing args";if(t instanceof Error)return l(t).to_json({to_client:n,path:r,visited_objects:i});if("function"==typeof t.id)try{return t.id()}catch{return"hit error trying to get args.id"}if("function"==typeof t.toUniqueString)try{return t.toUniqueString()}catch{return"hit error trying to get args.toUniqueString"}if(Array.isArray(t)){let e=t.slice(0,1e3).map(((e,t)=>u({args:e,path:r.concat(String(t)),visited_objects:i})));return e.length<t.length&&e.push("hit max keys when processing args"),e}{let e={},n=0;for(let a in t){if(n+=1,n>1e3){e[a]="hit max keys when processing args";break}let o=t[a];e[a]=u({args:o,path:r.concat(a),visited_objects:i})}return e}}var c=class extends Error{constructor(e,t){super(e),this.args=void 0,this.statusCode=void 0,this.message=e,null!=this.stack||(this.stack=_(this.error_class+" "+this.message,1)),this.args=null!=t&&"object"==typeof t?t:{}}static from(e,t){return new this(e,t)}display(){return function(){var e;return null!=(e=o.default_display())?e:"Sorry, we ran into a temporary bug and can't complete your request.  We'll fix it as soon as we can; please try again in a bit!"}()}toString(){return this.error_class+" "+this.message}to_json(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{to_client:t=!1,path:r=[],visited_objects:n=new Map}=e,i=u({args:this.args,path:r,to_client:t,visited_objects:n}),a={error_class:this.error_class,args:null!=i?i:{}};return t?{...a,args:s(a.args),message:this.display()}:{...a,stack:this.stack,message:this.message}}extend(e){return Object.assign(this.args,e),this}};e.BubbleError=c,c.prototype.error_class="BubbleError",c.prototype.suggested_level="error";var d=class{constructor(e){this.not_ready_key=void 0,this.suppress_dependency_error=void 0,this.not_ready_key=e}};e.NotReadyError=d;var p=class extends c{};e.UnexpectedError=p,p.prototype.error_class="UnexpectedError";var h=class extends c{};e.ExpectedError=h,h.prototype.error_class="ExpectedError";var g=class extends h{display(){var e;return null!=(e=this.args.display)?e:this.message}};e.OwnerError=g,g.prototype.error_class="OwnerError",g.prototype.suggested_level="owner_error";var m=function(e){return e.UsingDataAPI="using Data API",e.UsingWorkflowAPI="using Workflow API",e.SavingData="saving data",e}({});e.UsageLimitAction=m;var v=class extends g{constructor(e){super(`This application is at its usage limit. Please upgrade your application to continue ${e}`)}};e.UsageLimitError=v,v.prototype.error_class="UsageLimitError";var y=class extends h{constructor(e,t,r){let n=null!=e?e:t;if(!n)throw new p("must have message or translation");super(n,r),this.translation=void 0,t&&(this.translation=t),e||(this.message=null)}display(){if(!this.translation){let[e,t]=this.message.split(".");t||(t=e,e="CORE"),this.translation=function(e,t){var r;return null!=(r=o.localize_message(e,t))?r:`${e}: ${t}`}(e,t)}return this.translation}to_json(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{to_client:t=!1}=e,r=super.to_json(e);return t&&(r.message=this.message,r.translation=this.display()),r}};e.UserError=y,y.prototype.error_class="UserError",y.prototype.suggested_level="user_error";var b=class extends y{};e.Unauthorized=b,b.prototype.error_class="Unauthorized";var w=class extends y{};e.StripePaymentRequiresAction=w,w.prototype.error_class="StripePaymentRequiresAction";var A=class extends b{};e.UnauthorizedEmployee=A,A.prototype.error_class="UnauthorizedEmployee";var E=class extends p{};function M(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=l(e),i=O(null!=(t=n.stack)?t:"",r);return null!=n.args&&Object.keys(n.args).length>0&&(i+=x(n.args,r+"    ")+"\n"),i}function x(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"    ";function n(e){return e instanceof Error?"\n"+M(e,r+"    "):"string"==typeof e&&e.includes("\n")?"\n"+O(e,r):" "+t.inspect(e,{depth:4})}let i="";for(let t in e){let a=e[t];["stack"].includes(t)||(i+="\n"+r+t+":"+n(a))}return i}function O(e,t){return e.split("\n").map((e=>t+e)).join("\n")}e.UnexpectedPostgresError=E,E.prototype.error_class="UnexpectedPostgresError"})),at=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.META_APPNAME_FOR_OWN_CDN=e.META_APPNAME_FOR_FILE_CDN=e.DISTINCT_BV_BUNDLES=e.BUNDLE_NAMES=e.BASE_BUNDLES=void 0;e.BUNDLE_NAMES=["edit","run","run_debug","plugin"];e.BASE_BUNDLES={edit:{entrypoint:"editor.js",is_edit_mode:!0},run:{entrypoint:"window.js",is_run:!0},run_debug:{entrypoint:"window_debug.js",is_run:!0,is_debug_mode:!0},plugin:{entrypoint:"editor_plugin.js",is_edit_mode:!0,is_plugin_edit_mode:!0}};e.DISTINCT_BV_BUNDLES=4;e.META_APPNAME_FOR_FILE_CDN="meta-p";e.META_APPNAME_FOR_OWN_CDN="meta-l"})),ot=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.edit_mode_only=function(){if(c()&&!h()&&!g())throw new n.UnexpectedError("Oops, looks like we are in run-mode, but have required edit-mode code.  Look at the stack trace to see who is requiring this...")},e.is_debug_mode=g,e.is_edit_mode=h,e.is_maison=function(){var e;return null!=(e=null==u?void 0:u.is_maison_editor)&&e},e.is_plugin_edit_mode=function(){var e;return null!=(e=null==u?void 0:u.is_plugin_edit_mode)&&e},e.on_client=c,e.on_phonegap=function(){return d},e.on_server=function(){return!s&&!l},e.on_worker=function(){return l},e.running_server=function(){return p},e.running_test=function(){return!1},e.set_running_server=function(e){p=e};var t,r,n=o(it()),i=o(at());function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var s=typeof window<"u",l=typeof window>"u"&&typeof postMessage<"u",_=null==(t=window)?void 0:t.bubble_bundle_name,u=i.BASE_BUNDLES[_];function c(){return s&&!l}var d=null!=(null==(r=document)?void 0:r.URL)&&document.URL.includes("file://");var p=!1;function h(){var e;return null!=(e=null==u?void 0:u.is_edit_mode)&&e}function g(){var e;return null!=(e=null==u?void 0:u.is_debug_mode)&&e}})),st=u(((e,t)=>{"use strict";f();var r={"transition.noBounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[0,1e3]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceUpOut":{defaultDuration:1e3,calls:[[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.noBounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[0,-1e3]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceDownOut":{defaultDuration:1e3,calls:[[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.noBounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[0,-1250]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceLeftOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.noBounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[0,1250]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceRightOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}}};t.exports={injectTransitions:function(){typeof window>"u"||typeof window.$>"u"||typeof window.$.Velocity>"u"||typeof window.$.Velocity.RegisterEffect>"u"?console.log("Cannot load extra transitions before window, jQuery, Velocity or VelocityUI"):Object.keys(r).forEach((function(e){window.$.Velocity.RegisterEffect(e,r[e])}))},customTransitions:r,allTransitionNames:["callout.bounce","callout.shake","callout.flash","callout.pulse","callout.swing","callout.tada","transition.fadeIn","transition.fadeOut","transition.flipXIn","transition.flipXOut","transition.flipYIn","transition.flipYOut","transition.flipBounceXIn","transition.flipBounceXOut","transition.flipBounceYIn","transition.flipBounceYOut","transition.swoopIn","transition.swoopOut","transition.whirlIn","transition.whirlOut","transition.shrinkIn","transition.shrinkOut","transition.expandIn","transition.expandOut","transition.bounceIn","transition.bounceOut","transition.bounceUpIn","transition.bounceUpOut","transition.bounceDownIn","transition.bounceDownOut","transition.bounceLeftIn","transition.bounceLeftOut","transition.bounceRightIn","transition.bounceRightOut","transition.slideUpIn","transition.slideUpOut","transition.slideDownIn","transition.slideDownOut","transition.slideLeftIn","transition.slideLeftOut","transition.slideRightIn","transition.slideRightOut","transition.slideUpBigIn","transition.slideUpBigOut","transition.slideDownBigIn","transition.slideDownBigOut","transition.slideLeftBigIn","transition.slideLeftBigOut","transition.slideRightBigIn","transition.slideRightBigOut","transition.perspectiveUpIn","transition.perspectiveUpOut","transition.perspectiveDownIn","transition.perspectiveDownOut","transition.perspectiveLeftIn","transition.perspectiveLeftOut","transition.perspectiveRightIn","transition.perspectiveRightOut"].concat(Object.keys(r))}})),lt=u(((e,t)=>{f(),function(r,n){"object"==typeof e&&typeof t<"u"?t.exports=n(r):"function"==typeof define&&define.amd?define(n):n(r)}(typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:e,(function(e){"use strict";var r,n=(e=e||{}).Base64,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e.charAt(r)]=r;return t}(i),o=String.fromCharCode,s=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return o(240|t>>>18&7)+o(128|t>>>12&63)+o(128|t>>>6&63)+o(128|63&t)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,_=function(e){return e.replace(l,s)},u=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[i.charAt(r>>>18),i.charAt(r>>>12&63),t>=2?"=":i.charAt(r>>>6&63),t>=1?"=":i.charAt(63&r)].join("")},c=e.btoa&&"function"==typeof e.btoa?function(t){return e.btoa(t)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,u)},d=function(e){return c(_(String(e)))},p=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},f=function(e,t){return t?p(d(e)):d(e)};e.Uint8Array&&(r=function(e,t){for(var r="",n=0,a=e.length;n<a;n+=3){var o=e[n],s=e[n+1],l=e[n+2],_=o<<16|s<<8|l;r+=i.charAt(_>>>18)+i.charAt(_>>>12&63)+(typeof s<"u"?i.charAt(_>>>6&63):"=")+(typeof l<"u"?i.charAt(63&_):"=")}return t?p(r):r});var h,g=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,m=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return o(55296+(t>>>10))+o(56320+(1023&t));case 3:return o((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return o((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},v=function(e){return e.replace(g,m)},y=function(e){var t=e.length,r=t%4,n=(t>0?a[e.charAt(0)]<<18:0)|(t>1?a[e.charAt(1)]<<12:0)|(t>2?a[e.charAt(2)]<<6:0)|(t>3?a[e.charAt(3)]:0),i=[o(n>>>16),o(n>>>8&255),o(255&n)];return i.length-=[0,0,2,1][r],i.join("")},b=e.atob&&"function"==typeof e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/\S{1,4}/g,y)},w=function(e){return b(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},A=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},E=function(e){return function(e){return v(b(e))}(A(e))};e.Uint8Array&&(h=function(e){return Uint8Array.from(w(A(e)),(function(e){return e.charCodeAt(0)}))});if(e.Base64={VERSION:"2.6.4",atob:w,btoa:c,fromBase64:E,toBase64:f,utob:_,encode:f,encodeURI:function(e){return f(e,!0)},btou:v,decode:E,noConflict:function(){var t=e.Base64;return e.Base64=n,t},fromUint8Array:r,toUint8Array:h},"function"==typeof Object.defineProperty){var M=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",M((function(){return E(this)}))),Object.defineProperty(String.prototype,"toBase64",M((function(e){return f(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",M((function(){return f(this,!0)})))}}return e.Meteor&&(Base64=e.Base64),typeof t<"u"&&t.exports?t.exports.Base64=e.Base64:"function"==typeof define&&define.amd&&define([],(function(){return e.Base64})),{Base64:e.Base64}}))})),_t=u((()=>{"use strict";f(),function(e){if(!e.fn.dotdotdot){e.fn.dotdotdot=function(r){if(0==this.length)return function(e,t){e&&(t="string"==typeof t?"dotdotdot: "+t:["dotdotdot:",t],typeof window.console<"u"&&typeof window.console.log<"u"&&window.console.log(t))}(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each((function(){e(this).dotdotdot(r)}));var n=this;n.data("dotdotdot")&&n.trigger("destroy.dot"),n.bind_events=function(){return n.bind("update.dot",(function(t,r){t.preventDefault(),t.stopPropagation(),s.maxHeight="number"==typeof s.height?s.height:function(e){for(var t=e.innerHeight(),r=["paddingTop","paddingBottom"],n=0,i=r.length;n<i;n++){var a=parseInt(e.css(r[n]),10);isNaN(a)&&(a=0),t-=a}return t}(n),s.maxHeight+=s.tolerance,typeof r<"u"&&(("string"==typeof r||r instanceof HTMLElement)&&(r=e("<div />").append(r).contents()),r instanceof e&&(a=r)),(d=n.wrapInner('<div class="dotdotdot" />').children()).empty().append(a.clone(!0)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var l=!1,u=!1;return _.afterElement&&(l=_.afterElement.clone(!0),_.afterElement.remove()),o(d,s)&&(u="children"==s.wrap?function(e,t,r){var n=e.children(),i=!1;e.empty();for(var a=0,s=n.length;a<s;a++){var l=n.eq(a);if(e.append(l),r&&e.append(r),o(e,t)){l.remove(),i=!0;break}r&&r.remove()}return i}(d,s,l):i(d,n,d,s,l)),d.replaceWith(d.contents()),d=null,e.isFunction(s.callback)&&s.callback.call(n[0],u,a),_.isTruncated=u,u})).bind("isTruncated.dot",(function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],_.isTruncated),_.isTruncated})).bind("originalContent.dot",(function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],a),a})).bind("destroy.dot",(function(e){e.preventDefault(),e.stopPropagation(),n.unwatch().unbind_events().empty().append(a).data("dotdotdot",!1)})),n},n.unbind_events=function(){return n.unbind(".dot"),n},n.watch=function(){if(n.unwatch(),"window"==s.watch){var t=e(window),r=t.width(),i=t.height();t.bind("resize.dot"+_.dotId,(function(){(r!=t.width()||i!=t.height()||!s.windowResizeFix)&&(r=t.width(),i=t.height(),c&&clearInterval(c),c=setTimeout((function(){n.trigger("update.dot")}),10))}))}else u=l(n),c=setInterval((function(){var e=l(n);(u.width!=e.width||u.height!=e.height)&&(n.trigger("update.dot"),u=l(n))}),100);return n},n.unwatch=function(){return e(window).unbind("resize.dot"+_.dotId),c&&clearInterval(c),n};var a=n.contents(),s=e.extend(!0,{},e.fn.dotdotdot.defaults,r),_={},u={},c=null,d=null;return _.afterElement=function(t,r){return!(typeof t>"u"||!t)&&("string"==typeof t?!!(t=e(t,r)).length&&t:"object"==typeof t&&(!(typeof t.jquery>"u")&&t))}(s.after,n),_.isTruncated=!1,_.dotId=t++,n.data("dotdotdot",!0).bind_events().trigger("update.dot"),s.watch&&n.watch(),n},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0,debug:!1};var t=1,r=e.fn.html;e.fn.html=function(e){return typeof e<"u"?this.data("dotdotdot")&&"function"!=typeof e?(r.call(this,e),this.trigger("update",[e])):r.call(this,e):r.call(this)};var n=e.fn.text;e.fn.text=function(t){if(typeof t<"u"){if(this.data("dotdotdot")){n.call(this,t);var r=e("<div />");return r.text(t),t=r.html(),r.remove(),this.trigger("update",[t])}return n.call(this,t)}return n.call(this)}}function i(t,r,n,l,c){var d=t.contents(),p=!1;if(t.empty(),o(n,l)){for(var f=t.prev().contents(),h=f.contents();0!=h.size();)f=h.eq(-1),h=f.contents();if(typeof(v=f[0])<"u")_(v,s(u(v),l));return t.remove(),!0}for(var g=0,m=d.length;g<m&&!p;g++){var v=d[g],y=e(v);typeof v>"u"||(t.append(y),c&&t[t.is("table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style")?"after":"append"](c),3==v.nodeType?o(n,l)&&(p=a(y,r,n,l,c)):p=i(y,r,n,l,c),p||c&&c.remove())}return p}function a(e,t,r,n,i){var l=!1;if(typeof(y=e[0])>"u")return!1;for(var c="letter"==n.wrap?"":" ",d=u(y).split(c),p=-1,f=-1,h=0,g=d.length-1;h<=g;){var m=Math.floor((h+g)/2);if(m==f)break;f=m,_(y,d.slice(0,f+1).join(c)+n.ellipsis),o(r,n)?g=f:(p=f,h=f)}if(-1==p||1==d.length&&0==d[0].length){var v=e.parent();e.remove();var y,b=i?i.length:0;if(v.contents().size()>b)l=a(v.contents().eq(-1-b),t,r,n,i);else if(typeof(y=v.prev().contents().eq(-1)[0])<"u")_(y,s(u(y),n)),v.remove(),l=!0}else{l=!0,_(y,s(d.slice(0,p+1).join(c),n))}return l}function o(e,t){return e.innerHeight()>t.maxHeight}function s(t,r){for(;e.inArray(t.slice(-1),r.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),r.lastCharacter.noEllipsis)<0&&(t+=r.ellipsis),t}function l(e){return{width:e.innerWidth(),height:e.innerHeight()}}function _(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function u(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}}(jQuery)})),ut=u(((e,t)=>{"use strict";f(),function(e){function t(e){var t=e.length,n=r.type(e);return"function"!==n&&!r.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}if(!e.jQuery){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return e&&e===e.window},r.type=function(e){return e?"object"==typeof e||"function"==typeof e?i[o.call(e)]||"object":typeof e:e+""},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}for(t in e);return void 0===t||a.call(e,t)},r.each=function(e,r,n){var i=0,a=e.length,o=t(e);if(n){if(o)for(;i<a&&!1!==r.apply(e[i],n);i++);else for(i in e)if(e.hasOwnProperty(i)&&!1===r.apply(e[i],n))break}else if(o)for(;i<a&&!1!==r.call(e[i],i,e[i]);i++);else for(i in e)if(e.hasOwnProperty(i)&&!1===r.call(e[i],i,e[i]))break;return e},r.data=function(e,t,i){if(void 0===i){var a=e[r.expando],o=a&&n[a];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var s=e[r.expando]||(e[r.expando]=++r.uuid);return n[s]=n[s]||{},n[s][t]=i,i}},r.removeData=function(e,t){var i=e[r.expando],a=i&&n[i];a&&(t?r.each(t,(function(e,t){delete a[t]})):delete n[i])},r.extend=function(){var e,t,n,i,a,o,s=arguments[0]||{},l=1,_=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==r.type(s)&&(s={}),l===_&&(s=this,l--);l<_;l++)if(a=arguments[l])for(i in a)a.hasOwnProperty(i)&&(e=s[i],s!==(n=a[i])&&(u&&n&&(r.isPlainObject(n)||(t=r.isArray(n)))?(t?(t=!1,o=e&&r.isArray(e)?e:[]):o=e&&r.isPlainObject(e)?e:{},s[i]=r.extend(u,o,n)):void 0!==n&&(s[i]=n)));return s},r.queue=function(e,n,i){if(e){n=(n||"fx")+"queue";var a=r.data(e,n);return i?(!a||r.isArray(i)?a=r.data(e,n,(l=s||[],(o=i)&&(t(Object(o))?function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;)e[i++]=t[n++];if(r!=r)for(;void 0!==t[n];)e[i++]=t[n++];e.length=i}(l,"string"==typeof o?[o]:o):[].push.call(l,o)),l)):a.push(i),a):a||[]}var o,s,l},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,(function(e,n){t=t||"fx";var i=r.queue(n,t),a=i.shift();"inprogress"===a&&(a=i.shift()),a&&("fx"===t&&i.unshift("inprogress"),a.call(n,(function(){r.dequeue(n,t)})))}))},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}(e),n=this.offset(),i=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:r(t).offset();return n.top-=parseFloat(e.style.marginTop)||0,n.left-=parseFloat(e.style.marginLeft)||0,t.style&&(i.top+=parseFloat(t.style.borderTopWidth)||0,i.left+=parseFloat(t.style.borderLeftWidth)||0),{top:n.top-i.top,left:n.left-i.left}}};var n={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var i={},a=i.hasOwnProperty,o=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)i["[object "+s[l]+"]"]=s[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){"object"==typeof t&&"object"==typeof t.exports?t.exports=e():"function"==typeof define&&define.amd?define(e):e()}((function(){return function(e,t,r,n){function i(e){return v.isWrapped(e)?e=[].slice.call(e):v.isNode(e)&&(e=[e]),e}function a(e){var t=p.data(e,"velocity");return null===t?n:t}function o(e,t){var r=a(e);r&&r.delayTimer&&!r.delayPaused&&(r.delayRemaining=r.delay-t+r.delayBegin,r.delayPaused=!0,clearTimeout(r.delayTimer.setTimeout))}function s(e,t){var r=a(e);r&&r.delayTimer&&r.delayPaused&&(r.delayPaused=!1,r.delayTimer.setTimeout=setTimeout(r.delayTimer.next,r.delayRemaining))}function l(e){return function(t){return Math.round(t*e)*(1/e)}}function _(e,r,n,i){function a(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,r){return((a(t,r)*e+o(t,r))*e+s(t))*e}function _(e,t,r){return 3*a(t,r)*e*e+2*o(t,r)*e+s(t)}function u(t,r){for(var i=0;i<h;++i){var a=_(r,e,n);if(0===a)return r;r-=(l(r,e,n)-t)/a}return r}function c(){for(var t=0;t<y;++t)E[t]=l(t*b,e,n)}function d(t,r,i){var a,o,s=0;do{(a=l(o=r+(i-r)/2,e,n)-t)>0?i=o:r=o}while(Math.abs(a)>m&&++s<v);return o}function p(t){for(var r=0,i=1,a=y-1;i!==a&&E[i]<=t;++i)r+=b;--i;var o=r+(t-E[i])/(E[i+1]-E[i])*b,s=_(o,e,n);return s>=g?u(t,o):0===s?o:d(t,r,r+b)}function f(){M=!0,e===r&&n===i||c()}var h=4,g=.001,m=1e-7,v=10,y=11,b=1/(y-1),w="Float32Array"in t;if(4!==arguments.length)return!1;for(var A=0;A<4;++A)if("number"!=typeof arguments[A]||isNaN(arguments[A])||!isFinite(arguments[A]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var E=w?new Float32Array(y):new Array(y),M=!1,x=function(t){return M||f(),e===r&&n===i?t:0===t?0:1===t?1:l(p(t),r,i)};x.getControlPoints=function(){return[{x:e,y:r},{x:n,y:i}]};var O="generateBezier("+[e,r,n,i]+")";return x.toString=function(){return O},x}function u(e,t){var r=e;return v.isString(e)?A.Easings[e]||(r=!1):r=v.isArray(e)&&1===e.length?l.apply(null,e):v.isArray(e)&&2===e.length?E.apply(null,e.concat([t])):!(!v.isArray(e)||4!==e.length)&&_.apply(null,e),!1===r&&(r=A.Easings[A.defaults.easing]?A.defaults.easing:w),r}function c(e){if(e){var t=A.timestamp&&!0!==e?e:m.now(),r=A.State.calls.length;r>1e4&&(A.State.calls=function(e){for(var t=-1,r=e?e.length:0,n=[];++t<r;){var i=e[t];i&&n.push(i)}return n}(A.State.calls),r=A.State.calls.length);for(var i=0;i<r;i++)if(A.State.calls[i]){var o=A.State.calls[i],s=o[0],l=o[2],_=o[3],u=!!_,f=null,g=o[5],y=o[6];if(_||(_=A.State.calls[i][3]=t-16),g){if(!0!==g.resume)continue;_=o[3]=Math.round(t-y-16),o[5]=null}y=o[6]=t-_;for(var b=Math.min(y/l.duration,1),w=0,E=s.length;w<E;w++){var x=s[w],k=x.element;if(a(k)){var S=!1;if(l.display!==n&&null!==l.display&&"none"!==l.display){if("flex"===l.display){p.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],(function(e,t){M.setPropertyValue(k,"display",t)}))}M.setPropertyValue(k,"display",l.display)}for(var T in l.visibility!==n&&"hidden"!==l.visibility&&M.setPropertyValue(k,"visibility",l.visibility),x)if(x.hasOwnProperty(T)&&"element"!==T){var N,C=x[T],L=v.isString(C.easing)?A.Easings[C.easing]:C.easing;if(v.isString(C.pattern)){var P=1===b?function(e,t,r){var n=C.endValue[t];return r?Math.round(n):n}:function(e,t,r){var n=C.startValue[t],i=C.endValue[t]-n,a=n+i*L(b,l,i);return r?Math.round(a):a};N=C.pattern.replace(/{(\d+)(!)?}/g,P)}else if(1===b)N=C.endValue;else{var R=C.endValue-C.startValue;N=C.startValue+R*L(b,l,R)}if(!u&&N===C.currentValue)continue;if(C.currentValue=N,"tween"===T)f=N;else{var z;if(M.Hooks.registered[T]){z=M.Hooks.getRoot(T);var I=a(k).rootPropertyValueCache[z];I&&(C.rootPropertyValue=I)}var D=M.setPropertyValue(k,T,C.currentValue+(h<9&&0===parseFloat(N)?"":C.unitType),C.rootPropertyValue,C.scrollData);M.Hooks.registered[T]&&(M.Normalizations.registered[z]?a(k).rootPropertyValueCache[z]=M.Normalizations.registered[z]("extract",null,D[1]):a(k).rootPropertyValueCache[z]=D[1]),"transform"===D[0]&&(S=!0)}}l.mobileHA&&a(k).transformCache.translate3d===n&&(a(k).transformCache.translate3d="(0px, 0px, 0px)",S=!0),S&&M.flushTransformCache(k)}}l.display!==n&&"none"!==l.display&&(A.State.calls[i][2].display=!1),l.visibility!==n&&"hidden"!==l.visibility&&(A.State.calls[i][2].visibility=!1),l.progress&&l.progress.call(o[1],o[1],b,Math.max(0,_+l.duration-t),_,f),1===b&&d(i)}}A.State.isTicking&&O(c)}function d(e,t){if(!A.State.calls[e])return!1;for(var r=A.State.calls[e][0],i=A.State.calls[e][1],o=A.State.calls[e][2],s=A.State.calls[e][4],l=!1,_=0,u=r.length;_<u;_++){var c=r[_].element;t||o.loop||("none"===o.display&&M.setPropertyValue(c,"display",o.display),"hidden"===o.visibility&&M.setPropertyValue(c,"visibility",o.visibility));var d=a(c);if(!0!==o.loop&&(p.queue(c)[1]===n||!/\.velocityQueueEntryFlag/i.test(p.queue(c)[1]))&&d){d.isAnimating=!1,d.rootPropertyValueCache={};var f=!1;p.each(M.Lists.transforms3D,(function(e,t){var r=/^scale/.test(t)?1:0,i=d.transformCache[t];d.transformCache[t]!==n&&new RegExp("^\\("+r+"[^.]").test(i)&&(f=!0,delete d.transformCache[t])})),o.mobileHA&&(f=!0,delete d.transformCache.translate3d),f&&M.flushTransformCache(c),M.Values.removeClass(c,"velocity-animating")}if(!t&&o.complete&&!o.loop&&_===u-1)try{o.complete.call(i,i)}catch(e){setTimeout((function(){throw e}),1)}s&&!0!==o.loop&&s(i),d&&!0===o.loop&&!t&&(p.each(d.tweensContainer,(function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var r=t.startValue;t.startValue=t.endValue,t.endValue=r}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)})),A(c,"reverse",{loop:!0,delay:o.delay})),!1!==o.queue&&p.dequeue(c,o.queue)}A.State.calls[e]=!1;for(var h=0,g=A.State.calls.length;h<g;h++)if(!1!==A.State.calls[h]){l=!0;break}!1===l&&(A.State.isTicking=!1,delete A.State.calls,A.State.calls=[])}var p,f,h=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return n}(),g=(f=0,t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){var t,r=(new Date).getTime();return t=Math.max(0,16-(r-f)),f=r+t,setTimeout((function(){e(r+t)}),t)}),m=function(){var e=t.performance||{};if(!e.hasOwnProperty("now")){var r=e.timing&&e.timing.domComplete?e.timing.domComplete:(new Date).getTime();e.now=function(){return(new Date).getTime()-r}}return e}(),v={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(v.isArray(e)||v.isNumber(e.length)&&!v.isString(e)&&!v.isFunction(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},y=!1;if(e.fn&&e.fn.jquery?(p=e,y=!0):p=t.Velocity.Utilities,h<=8&&!y)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(h<=7)){var b=400,w="swing",A={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:b,easing:w,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){p.data(e,"velocity",{isSVG:v.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:4,patch:0},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();p.each(A.State.calls,(function(t,r){if(r){if(e!==n&&(r[2].queue!==e||!1===r[2].queue))return!0;r[5]={resume:!1}}})),p.each(A.State.delayedElements,(function(e,r){r&&o(r,t)}))},resumeAll:function(e){(new Date).getTime();p.each(A.State.calls,(function(t,r){if(r){if(e!==n&&(r[2].queue!==e||!1===r[2].queue))return!0;r[5]&&(r[5].resume=!0)}})),p.each(A.State.delayedElements,(function(e,t){t&&s(t)}))}};t.pageYOffset!==n?(A.State.scrollAnchor=t,A.State.scrollPropertyLeft="pageXOffset",A.State.scrollPropertyTop="pageYOffset"):(A.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,A.State.scrollPropertyLeft="scrollLeft",A.State.scrollPropertyTop="scrollTop");var E=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},a=t(r,.5*n,i),o=t(r,.5*n,a),s=t(r,n,o),l=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),_=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return r.x=r.x+l*n,r.v=r.v+_*n,r}return function e(t,n,i){var a,o,s,l={x:-1,v:0,tension:null,friction:null},_=[0],u=0,c=1e-4;for(t=parseFloat(t)||500,n=parseFloat(n)||20,i=i||null,l.tension=t,l.friction=n,(a=null!==i)?o=(u=e(t,n))/i*.016:o=.016;s=r(s||l,o),_.push(1+s.x),u+=16,Math.abs(s.x)>c&&Math.abs(s.v)>c;);return a?function(e){return _[e*(_.length-1)|0]}:u}}();A.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],(function(e,t){A.Easings[t[0]]=_.apply(null,t[1])}));var M=A.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<M.Lists.colors.length;e++){var t="color"===M.Lists.colors[e]?"0 0 0 1":"255 255 255 1";M.Hooks.templates[M.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,n,i;if(h)for(r in M.Hooks.templates)if(M.Hooks.templates.hasOwnProperty(r)){i=(n=M.Hooks.templates[r])[0].split(" ");var a=n[1].match(M.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),a.push(a.shift()),M.Hooks.templates[r]=[i.join(" "),a.join(" ")])}for(r in M.Hooks.templates)if(M.Hooks.templates.hasOwnProperty(r))for(var o in i=(n=M.Hooks.templates[r])[0].split(" "))if(i.hasOwnProperty(o)){var s=r+i[o],l=o;M.Hooks.registered[s]=[r,l]}},getRoot:function(e){var t=M.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var r=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return r&&M.Lists.units.indexOf(r)>=0?r:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,(function(e,t,r){return M.Lists.colorNames.hasOwnProperty(r)?(t||"rgba(")+M.Lists.colorNames[r]+(t?"":",1)"):t+r}))},cleanRootPropertyValue:function(e,t){return M.RegEx.valueUnwrap.test(t)&&(t=t.match(M.RegEx.valueUnwrap)[1]),M.Values.isCSSNullValue(t)&&(t=M.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=M.Hooks.registered[e];if(r){var n=r[0],i=r[1];return(t=M.Hooks.cleanRootPropertyValue(n,t)).toString().match(M.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,r){var n=M.Hooks.registered[e];if(n){var i,a=n[0],o=n[1];return(i=(r=M.Hooks.cleanRootPropertyValue(a,r)).toString().match(M.RegEx.valueSplit))[o]=t,i.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var n;return M.RegEx.wrappedValueAlreadyExtracted.test(r)?n=r:n=(n=r.toString().match(M.RegEx.valueUnwrap))?n[1].replace(/,(\s+)?/g," "):r,n;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return A.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(r);if(!n&&0!==n){var i=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=i?i[1]:0}return n;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(h<=8)switch(e){case"name":return"filter";case"extract":var n=r.toString().match(/alpha\(opacity=(.*)\)/i);return n?n[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return r}}},register:function(){function e(e,t,r){if("border-box"===M.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(r||!1)){var n,i,a=0,o="width"===e?["Left","Right"]:["Top","Bottom"],s=["padding"+o[0],"padding"+o[1],"border"+o[0]+"Width","border"+o[1]+"Width"];for(n=0;n<s.length;n++)i=parseFloat(M.getPropertyValue(t,s[n])),isNaN(i)||(a+=i);return r?-a:a}return 0}function t(t,r){return function(n,i,a){switch(n){case"name":return t;case"extract":return parseFloat(a)+e(t,i,r);case"inject":return parseFloat(a)-e(t,i,r)+"px"}}}h&&!(h>9)||A.State.isGingerbread||(M.Lists.transformsBase=M.Lists.transformsBase.concat(M.Lists.transforms3D));for(var r=0;r<M.Lists.transformsBase.length;r++)!function(){var e=M.Lists.transformsBase[r];M.Normalizations.registered[e]=function(t,r,i){switch(t){case"name":return"transform";case"extract":return a(r)===n||a(r).transformCache[e]===n?/^scale/i.test(e)?1:0:a(r).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":A.State.isAndroid&&a(r).transformCache[e]===n&&i<1&&(i=1),o=!/(\d)$/i.test(i);break;case"skew":o=!/(deg|\d)$/i.test(i);break;case"rotate":o=!/(deg|\d)$/i.test(i)}return o||(a(r).transformCache[e]="("+i+")"),a(r).transformCache[e]}}}();for(var i=0;i<M.Lists.colors.length;i++)!function(){var e=M.Lists.colors[i];M.Normalizations.registered[e]=function(t,r,i){switch(t){case"name":return e;case"extract":var a;if(M.RegEx.wrappedValueAlreadyExtracted.test(i))a=i;else{var o,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?o=s[i]!==n?s[i]:s.black:M.RegEx.isHex.test(i)?o="rgb("+M.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(o=s.black),a=(o||i).toString().match(M.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!h||h>8)&&3===a.split(" ").length&&(a+=" 1"),a;case"inject":return/^rgb/.test(i)?i:(h<=8?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(h<=8?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();M.Normalizations.registered.innerWidth=t("width",!0),M.Normalizations.registered.innerHeight=t("height",!0),M.Normalizations.registered.outerWidth=t("width"),M.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(h||A.State.isAndroid&&!A.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(A.State.prefixMatches[e])return[A.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,n=t.length;r<n;r++){var i;if(i=0===r?e:t[r]+e.replace(/^\w/,(function(e){return e.toUpperCase()})),v.isString(A.State.prefixElement.style[i]))return A.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(v.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var r=e.getAttribute(h<=7?"className":"class")||"";e.setAttribute("class",r+(r?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(v.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var r=e.getAttribute(h<=7?"className":"class")||"";e.setAttribute("class",r.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,r,i,o){function s(e,r){var i=0;if(h<=8)i=p.css(e,r);else{var l=!1;/^(width|height)$/.test(r)&&0===M.getPropertyValue(e,"display")&&(l=!0,M.setPropertyValue(e,"display",M.Values.getDisplayType(e)));var _,u=function(){l&&M.setPropertyValue(e,"display","none")};if(!o){if("height"===r&&"border-box"!==M.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(M.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(M.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(M.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(M.getPropertyValue(e,"paddingBottom"))||0);return u(),c}if("width"===r&&"border-box"!==M.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetWidth-(parseFloat(M.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(M.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(M.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(M.getPropertyValue(e,"paddingRight"))||0);return u(),d}}_=a(e)===n?t.getComputedStyle(e,null):a(e).computedStyle?a(e).computedStyle:a(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),""!==(i=9===h&&"filter"===r?_.getPropertyValue(r):_[r])&&null!==i||(i=e.style[r]),u()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(r)){var f=s(e,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(r))&&(i=p(e).position()[r]+"px")}return i}var l;if(M.Hooks.registered[r]){var _=r,u=M.Hooks.getRoot(_);i===n&&(i=M.getPropertyValue(e,M.Names.prefixCheck(u)[0])),M.Normalizations.registered[u]&&(i=M.Normalizations.registered[u]("extract",e,i)),l=M.Hooks.extractValue(_,i)}else if(M.Normalizations.registered[r]){var c,d;"transform"!==(c=M.Normalizations.registered[r]("name",e))&&(d=s(e,M.Names.prefixCheck(c)[0]),M.Values.isCSSNullValue(d)&&M.Hooks.templates[r]&&(d=M.Hooks.templates[r][1])),l=M.Normalizations.registered[r]("extract",e,d)}if(!/^[\d-]/.test(l)){var f=a(e);if(f&&f.isSVG&&M.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch{l=0}else l=e.getAttribute(r);else l=s(e,M.Names.prefixCheck(r)[0])}return M.Values.isCSSNullValue(l)&&(l=0),A.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(e,r,n,i,o){var s=r;if("scroll"===r)o.container?o.container["scroll"+o.direction]=n:"Left"===o.direction?t.scrollTo(n,o.alternateValue):t.scrollTo(o.alternateValue,n);else if(M.Normalizations.registered[r]&&"transform"===M.Normalizations.registered[r]("name",e))M.Normalizations.registered[r]("inject",e,n),s="transform",n=a(e).transformCache[r];else{if(M.Hooks.registered[r]){var l=r,_=M.Hooks.getRoot(r);i=i||M.getPropertyValue(e,_),n=M.Hooks.injectValue(l,n,i),r=_}if(M.Normalizations.registered[r]&&(n=M.Normalizations.registered[r]("inject",e,n),r=M.Normalizations.registered[r]("name",e)),s=M.Names.prefixCheck(r)[0],h<=8)try{e.style[s]=n}catch{A.debug&&console.log("Browser does not support ["+n+"] for ["+s+"]")}else{var u=a(e);u&&u.isSVG&&M.Names.SVGAttribute(r)?e.setAttribute(r,n):e.style[s]=n}A.debug>=2&&console.log("Set "+r+" ("+s+"): "+n)}return[s,n]},flushTransformCache:function(e){var t="",r=a(e);if((h||A.State.isAndroid&&!A.State.isChrome)&&r&&r.isSVG){var n=function(t){return parseFloat(M.getPropertyValue(e,t))},i={translate:[n("translateX"),n("translateY")],skewX:[n("skewX")],skewY:[n("skewY")],scale:1!==n("scale")?[n("scale"),n("scale")]:[n("scaleX"),n("scaleY")],rotate:[n("rotateZ"),0,0]};p.each(a(e).transformCache,(function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(t+=e+"("+i[e].join(" ")+") ",delete i[e])}))}else{var o,s;p.each(a(e).transformCache,(function(r){return o=a(e).transformCache[r],"transformPerspective"===r?(s=o,!0):(9===h&&"rotateZ"===r&&(r="rotate"),void(t+=r+o+" "))})),s&&(t="perspective"+s+" "+t)}M.setPropertyValue(e,"transform",t)}};M.Hooks.register(),M.Normalizations.register(),A.hook=function(e,t,r){var o;return e=i(e),p.each(e,(function(e,i){if(a(i)===n&&A.init(i),r===n)o===n&&(o=M.getPropertyValue(i,t));else{var s=M.setPropertyValue(i,t,r);"transform"===s[0]&&A.CSS.flushTransformCache(i),o=s}})),o};var x=function(){function e(){return f?O.promise||null:h}function l(e,i){function o(o){var l,f,h,g,b,E,x;if(_.begin&&0===T)try{_.begin.call(m,m)}catch(h){setTimeout((function(){throw h}),1)}if("scroll"===k){var N,C,L,P=/^x$/i.test(_.axis)?"Left":"Top",R=parseFloat(_.offset)||0;_.container?v.isWrapped(_.container)||v.isNode(_.container)?(_.container=_.container[0]||_.container,L=(N=_.container["scroll"+P])+p(e).position()[P.toLowerCase()]+R):_.container=null:(N=A.State.scrollAnchor[A.State["scrollProperty"+P]],C=A.State.scrollAnchor[A.State["scrollProperty"+("Left"===P?"Top":"Left")]],L=p(e).offset()[P.toLowerCase()]+R),d={scroll:{rootPropertyValue:!1,startValue:N,currentValue:N,endValue:L,unitType:"",easing:_.easing,scrollData:{container:_.container,direction:P,alternateValue:C}},element:e},A.debug&&console.log("tweensContainer (scroll): ",d.scroll,e)}else if("reverse"===k){if(!(l=a(e)))return;if(!l.tweensContainer)return void p.dequeue(e,_.queue);for(var z in"none"===l.opts.display&&(l.opts.display="auto"),"hidden"===l.opts.visibility&&(l.opts.visibility="visible"),l.opts.loop=!1,l.opts.begin=null,l.opts.complete=null,w.easing||delete _.easing,w.duration||delete _.duration,_=p.extend({},l.opts,_),f=p.extend(!0,{},l?l.tweensContainer:null))if(f.hasOwnProperty(z)&&"element"!==z){var I=f[z].startValue;f[z].startValue=f[z].currentValue=f[z].endValue,f[z].endValue=I,v.isEmptyObject(w)||(f[z].easing=_.easing),A.debug&&console.log("reverse tweensContainer ("+z+"): "+JSON.stringify(f[z]),e)}d=f}else if("start"===k){(l=a(e))&&l.tweensContainer&&!0===l.isAnimating&&(f=l.tweensContainer);var B=function(i,a){var o,u=M.Hooks.getRoot(i),c=!1,h=a[0],g=a[1],m=a[2];if(l&&l.isSVG||"tween"===u||!1!==M.Names.prefixCheck(u)[1]||M.Normalizations.registered[u]!==n){(_.display!==n&&null!==_.display&&"none"!==_.display||_.visibility!==n&&"hidden"!==_.visibility)&&/opacity|filter/.test(i)&&!m&&0!==h&&(m=0),_._cacheValues&&f&&f[i]?(m===n&&(m=f[i].endValue+f[i].unitType),c=l.rootPropertyValueCache[u]):M.Hooks.registered[i]?m===n?(c=M.getPropertyValue(e,u),m=M.getPropertyValue(e,i,c)):c=M.Hooks.templates[u][1]:m===n&&(m=M.getPropertyValue(e,i));var y,b,w,E=!1,x=function(e,t){var r,n;return n=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,(function(e){return r=e,""})),r||(r=M.Values.getUnitType(e)),[n,r]};if(m!==h&&v.isString(m)&&v.isString(h)){o="";var O=0,k=0,S=[],T=[],N=0,C=0,L=0;for(m=M.Hooks.fixColors(m),h=M.Hooks.fixColors(h);O<m.length&&k<h.length;){var P=m[O],R=h[k];if(/[\d\.]/.test(P)&&/[\d\.]/.test(R)){for(var z=P,I=R,j=".",B=".";++O<m.length;){if((P=m[O])===j)j="..";else if(!/\d/.test(P))break;z+=P}for(;++k<h.length;){if((R=h[k])===B)B="..";else if(!/\d/.test(R))break;I+=R}var q=M.Hooks.getUnit(m,O),U=M.Hooks.getUnit(h,k);if(O+=q.length,k+=U.length,q===U)z===I?o+=z+q:(o+="{"+S.length+(C?"!":"")+"}"+q,S.push(parseFloat(z)),T.push(parseFloat(I)));else{var W=parseFloat(z),$=parseFloat(I);o+=(N<5?"calc":"")+"("+(W?"{"+S.length+(C?"!":"")+"}":"0")+q+" + "+($?"{"+(S.length+1)+(C?"!":"")+"}":"0")+U+")",W&&(S.push(parseFloat(z)),S.push(parseFloat(0))),$&&(T.push(parseFloat(0)),T.push(parseFloat(I)))}}else{if(P!==R){N=0;break}o+=P,O++,k++,0===N&&"c"===P||1===N&&"a"===P||2===N&&"l"===P||3===N&&"c"===P||N>=4&&"("===P?N++:(N&&N<5||N>=4&&")"===P&&--N<5)&&(N=0),0===C&&"r"===P||1===C&&"g"===P||2===C&&"b"===P||3===C&&"a"===P||C>=3&&"("===P?(3===C&&"a"===P&&(L=1),C++):L&&","===P?++L>3&&(C=L=0):(L&&C<(L?5:4)||C>=(L?4:3)&&")"===P&&--C<(L?5:4))&&(C=L=0)}}O===m.length&&k===h.length||(A.debug&&console.error('Trying to pattern match mis-matched strings ["'+h+'", "'+m+'"]'),o=n),o&&(S.length?(A.debug&&console.log('Pattern found "'+o+'" -> ',S,T,"["+m+","+h+"]"),m=S,h=T,b=w=""):o=n)}o||(m=(y=x(i,m))[0],w=y[1],h=(y=x(i,h))[0].replace(/^([+-\/*])=/,(function(e,t){return E=t,""})),b=y[1],m=parseFloat(m)||0,h=parseFloat(h)||0,"%"===b&&(/^(fontSize|lineHeight)$/.test(i)?(h/=100,b="em"):/^scale/.test(i)?(h/=100,b=""):/(Red|Green|Blue)$/i.test(i)&&(h=h/100*255,b="")));if(/[\/*]/.test(E))b=w;else if(w!==b&&0!==m)if(0===h)b=w;else{s=s||function(){var n={myParent:e.parentNode||r.body,position:M.getPropertyValue(e,"position"),fontSize:M.getPropertyValue(e,"fontSize")},i=n.position===D.lastPosition&&n.myParent===D.lastParent,a=n.fontSize===D.lastFontSize;D.lastParent=n.myParent,D.lastPosition=n.position,D.lastFontSize=n.fontSize;var o=100,s={};if(a&&i)s.emToPx=D.lastEmToPx,s.percentToPxWidth=D.lastPercentToPxWidth,s.percentToPxHeight=D.lastPercentToPxHeight;else{var _=l&&l.isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");A.init(_),n.myParent.appendChild(_),p.each(["overflow","overflowX","overflowY"],(function(e,t){A.CSS.setPropertyValue(_,t,"hidden")})),A.CSS.setPropertyValue(_,"position",n.position),A.CSS.setPropertyValue(_,"fontSize",n.fontSize),A.CSS.setPropertyValue(_,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],(function(e,t){A.CSS.setPropertyValue(_,t,"100%")})),A.CSS.setPropertyValue(_,"paddingLeft","100em"),s.percentToPxWidth=D.lastPercentToPxWidth=(parseFloat(M.getPropertyValue(_,"width",null,!0))||1)/o,s.percentToPxHeight=D.lastPercentToPxHeight=(parseFloat(M.getPropertyValue(_,"height",null,!0))||1)/o,s.emToPx=D.lastEmToPx=(parseFloat(M.getPropertyValue(_,"paddingLeft"))||1)/o,n.myParent.removeChild(_)}return null===D.remToPx&&(D.remToPx=parseFloat(M.getPropertyValue(r.body,"fontSize"))||16),null===D.vwToPx&&(D.vwToPx=parseFloat(t.innerWidth)/100,D.vhToPx=parseFloat(t.innerHeight)/100),s.remToPx=D.remToPx,s.vwToPx=D.vwToPx,s.vhToPx=D.vhToPx,A.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),e),s}();var F=/margin|padding|left|right|width|text|word|letter/i.test(i)||/X$/.test(i)||"x"===i?"x":"y";switch(w){case"%":m*="x"===F?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:m*=s[w+"ToPx"]}switch(b){case"%":m*=1/("x"===F?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:m*=1/s[b+"ToPx"]}}switch(E){case"+":h=m+h;break;case"-":h=m-h;break;case"*":h*=m;break;case"/":h=m/h}d[i]={rootPropertyValue:c,startValue:m,currentValue:m,endValue:h,unitType:b,easing:g},o&&(d[i].pattern=o),A.debug&&console.log("tweensContainer ("+i+"): "+JSON.stringify(d[i]),e)}else A.debug&&console.log("Skipping ["+u+"] due to a lack of browser support.")};for(var q in y)if(y.hasOwnProperty(q)){var U=M.Names.camelCase(q),W=(h=y[q],g=void 0,b=void 0,E=void 0,x=void 0,v.isFunction(h)&&(h=h.call(e,i,S)),v.isArray(h)?(b=h[0],!v.isArray(h[1])&&/^[\d-]/.test(h[1])||v.isFunction(h[1])||M.RegEx.isHex.test(h[1])?x=h[1]:v.isString(h[1])&&!M.RegEx.isHex.test(h[1])&&A.Easings[h[1]]||v.isArray(h[1])?(E=g?h[1]:u(h[1],_.duration),x=h[2]):x=h[1]||h[2]):b=h,g||(E=E||_.easing),v.isFunction(b)&&(b=b.call(e,i,S)),v.isFunction(x)&&(x=x.call(e,i,S)),[b||0,E,x]);if(M.Lists.colors.indexOf(U)>=0){var $=W[0],F=W[1],G=W[2];if(M.RegEx.isHex.test($)){for(var X=["Red","Green","Blue"],H=M.Values.hexToRgb($),V=G?M.Values.hexToRgb(G):n,Y=0;Y<X.length;Y++){var K=[H[Y]];F&&K.push(F),V!==n&&K.push(V[Y]),B(U+X[Y],K)}continue}}B(U,W)}d.element=e}d.element&&(M.Values.addClass(e,"velocity-animating"),j.push(d),(l=a(e))&&(""===_.queue&&(l.tweensContainer=d,l.opts=_),l.isAnimating=!0),T===S-1?(A.State.calls.push([j,m,_,null,O.resolver,null,0]),!1===A.State.isTicking&&(A.State.isTicking=!0,c())):T++)}var s,l,_=p.extend({},A.defaults,w),d={};switch(a(e)===n&&A.init(e),parseFloat(_.delay)&&!1!==_.queue&&p.queue(e,_.queue,(function(t){A.velocityQueueEntryFlag=!0;var r=A.State.delayedElements.count++;A.State.delayedElements[r]=e;var n,i=(n=r,function(){A.State.delayedElements[n]=!1,t()});a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(_.delay),a(e).delayTimer={setTimeout:setTimeout(t,parseFloat(_.delay)),next:i}})),_.duration.toString().toLowerCase()){case"fast":_.duration=200;break;case"normal":_.duration=b;break;case"slow":_.duration=600;break;default:_.duration=parseFloat(_.duration)||1}if(!1!==A.mock&&(!0===A.mock?_.duration=_.delay=1:(_.duration*=parseFloat(A.mock)||1,_.delay*=parseFloat(A.mock)||1)),_.easing=u(_.easing,_.duration),_.begin&&!v.isFunction(_.begin)&&(_.begin=null),_.progress&&!v.isFunction(_.progress)&&(_.progress=null),_.complete&&!v.isFunction(_.complete)&&(_.complete=null),_.display!==n&&null!==_.display&&(_.display=_.display.toString().toLowerCase(),"auto"===_.display&&(_.display=A.CSS.Values.getDisplayType(e))),_.visibility!==n&&null!==_.visibility&&(_.visibility=_.visibility.toString().toLowerCase()),_.mobileHA=_.mobileHA&&A.State.isMobile&&!A.State.isGingerbread,!1===_.queue)if(_.delay){var f=A.State.delayedElements.count++;A.State.delayedElements[f]=e;var h=(l=f,function(){A.State.delayedElements[l]=!1,o()});a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(_.delay),a(e).delayTimer={setTimeout:setTimeout(o,parseFloat(_.delay)),next:h}}else o();else p.queue(e,_.queue,(function(e,t){return!0===t?(O.promise&&O.resolver(m),!0):(A.velocityQueueEntryFlag=!0,void o())}));""!==_.queue&&"fx"!==_.queue||"inprogress"===p.queue(e)[0]||p.dequeue(e)}var _,f,h,g,m,y,w,E=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||v.isString(arguments[0].properties));v.isWrapped(this)?(f=!1,g=0,m=this,h=this):(f=!0,g=1,m=E?arguments[0].elements||arguments[0].e:arguments[0]);var O={promise:null,resolver:null,rejecter:null};if(f&&A.Promise&&(O.promise=new A.Promise((function(e,t){O.resolver=e,O.rejecter=t}))),E?(y=arguments[0].properties||arguments[0].p,w=arguments[0].options||arguments[0].o):(y=arguments[g],w=arguments[g+1]),m=i(m)){var k,S=m.length,T=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(y)&&!p.isPlainObject(w)){var N=g+1;w={};for(var C=N;C<arguments.length;C++)v.isArray(arguments[C])||!/^(fast|normal|slow)$/i.test(arguments[C])&&!/^\d/.test(arguments[C])?v.isString(arguments[C])||v.isArray(arguments[C])?w.easing=arguments[C]:v.isFunction(arguments[C])&&(w.complete=arguments[C]):w.duration=arguments[C]}switch(y){case"scroll":k="scroll";break;case"reverse":k="reverse";break;case"pause":var L=(new Date).getTime();return p.each(m,(function(e,t){o(t,L)})),p.each(A.State.calls,(function(e,t){var r=!1;t&&p.each(t[1],(function(e,i){var a=w===n?"":w;return!0!==a&&t[2].queue!==a&&(w!==n||!1!==t[2].queue)||(p.each(m,(function(e,n){if(n===i)return t[5]={resume:!1},r=!0,!1})),!r&&void 0)}))})),e();case"resume":return p.each(m,(function(e,t){s(t)})),p.each(A.State.calls,(function(e,t){var r=!1;t&&p.each(t[1],(function(e,i){var a=w===n?"":w;return!0!==a&&t[2].queue!==a&&(w!==n||!1!==t[2].queue)||!t[5]||(p.each(m,(function(e,n){if(n===i)return t[5].resume=!0,r=!0,!1})),!r&&void 0)}))})),e();case"finish":case"finishAll":case"stop":p.each(m,(function(e,t){a(t)&&a(t).delayTimer&&(clearTimeout(a(t).delayTimer.setTimeout),a(t).delayTimer.next&&a(t).delayTimer.next(),delete a(t).delayTimer),"finishAll"!==y||!0!==w&&!v.isString(w)||(p.each(p.queue(t,v.isString(w)?w:""),(function(e,t){v.isFunction(t)&&t()})),p.queue(t,v.isString(w)?w:"",[]))}));var P=[];return p.each(A.State.calls,(function(e,t){t&&p.each(t[1],(function(r,i){var o=w===n?"":w;return!0!==o&&t[2].queue!==o&&(w!==n||!1!==t[2].queue)||void p.each(m,(function(r,n){if(n===i)if((!0===w||v.isString(w))&&(p.each(p.queue(n,v.isString(w)?w:""),(function(e,t){v.isFunction(t)&&t(null,!0)})),p.queue(n,v.isString(w)?w:"",[])),"stop"===y){var s=a(n);s&&s.tweensContainer&&!1!==o&&p.each(s.tweensContainer,(function(e,t){t.endValue=t.currentValue})),P.push(e)}else"finish"!==y&&"finishAll"!==y||(t[2].duration=1)}))}))})),"stop"===y&&(p.each(P,(function(e,t){d(t,!0)})),O.promise&&O.resolver(m)),e();default:if(!p.isPlainObject(y)||v.isEmptyObject(y)){if(v.isString(y)&&A.Redirects[y]){var R=(_=p.extend({},w)).duration,z=_.delay||0;return!0===_.backwards&&(m=p.extend(!0,[],m).reverse()),p.each(m,(function(e,t){parseFloat(_.stagger)?_.delay=z+parseFloat(_.stagger)*e:v.isFunction(_.stagger)&&(_.delay=z+_.stagger.call(t,e,S)),_.drag&&(_.duration=parseFloat(R)||(/^(callout|transition)/.test(y)?1e3:b),_.duration=Math.max(_.duration*(_.backwards?1-e/S:(e+1)/S),.75*_.duration,200)),A.Redirects[y].call(t,t,_||{},e,S,m,O.promise?O:n)})),e()}var I="Velocity: First argument ("+y+") was not a property map, a known action, or a registered redirect. Aborting.";return O.promise?O.rejecter(new Error(I)):console.log(I),e()}k="start"}var D={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},j=[];p.each(m,(function(e,t){v.isNode(t)&&l(t,e)})),(_=p.extend({},A.defaults,w)).loop=parseInt(_.loop,10);var B=2*_.loop-1;if(_.loop)for(var q=0;q<B;q++){var U={delay:_.delay,progress:_.progress};q===B-1&&(U.display=_.display,U.visibility=_.visibility,U.complete=_.complete),x(m,"reverse",U)}return e()}O.promise&&(y&&w&&!1===w.promiseRejectEmpty?O.resolver():O.rejecter())};(A=p.extend(x,A)).animate=x;var O=t.requestAnimationFrame||g;if(!A.State.isMobile&&r.hidden!==n){var k=function(){r.hidden?(O=function(e){return setTimeout((function(){e(!0)}),16)},c()):O=t.requestAnimationFrame||g};k(),r.addEventListener("visibilitychange",k)}return e.Velocity=A,e!==t&&(e.fn.velocity=x,e.fn.velocity.defaults=A.defaults),p.each(["Down","Up"],(function(e,t){A.Redirects["slide"+t]=function(e,r,i,a,o,s){var l=p.extend({},r),_=l.begin,u=l.complete,c={},d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};l.display===n&&(l.display="Down"===t?"inline"===A.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){for(var r in 0===i&&_&&_.call(o,o),d)if(d.hasOwnProperty(r)){c[r]=e.style[r];var n=M.getPropertyValue(e,r);d[r]="Down"===t?[n,0]:[0,n]}c.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in c)c.hasOwnProperty(t)&&(e.style[t]=c[t]);i===a-1&&(u&&u.call(o,o),s&&s.resolver(o))},A(e,d,l)}})),p.each(["In","Out"],(function(e,t){A.Redirects["fade"+t]=function(e,r,i,a,o,s){var l=p.extend({},r),_=l.complete,u={opacity:"In"===t?1:0};0!==i&&(l.begin=null),l.complete=i!==a-1?null:function(){_&&_.call(o,o),s&&s.resolver(o)},l.display===n&&(l.display="In"===t?"auto":"none"),A(this,u,l)}})),A}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}))})),ct=u(((e,t)=>{"use strict";f(),function(r){"function"==typeof l&&"object"==typeof e?t.exports=r():"function"==typeof define&&define.amd?define(["velocity"],r):r()}((function(){return function(e,t,r,n){var i=e.Velocity;if(i&&i.Utilities){var a,o,s,l=i.Utilities,_=i.version;if(o=_,s=[],(a={major:1,minor:1,patch:0})&&o&&(l.each([a,o],(function(e,t){var r=[];l.each(t,(function(e,t){for(;t.toString().length<5;)t="0"+t;r.push(t)})),s.push(r.join(""))})),parseFloat(s[0])>parseFloat(s[1]))){var u="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(u),new Error(u)}for(var c in i.RegisterEffect=i.RegisterUI=function(e,t){function r(e,t,r,n){var a,o=0;l.each(e.nodeType?[e]:e,(function(e,t){n&&(r+=e*n),a=t.parentNode;var s=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===i.CSS.getPropertyValue(t,"boxSizing").toString().toLowerCase()&&(s=["height"]),l.each(s,(function(e,r){o+=parseFloat(i.CSS.getPropertyValue(t,r))}))})),i.animate(a,{height:("In"===t?"+":"-")+"="+o},{queue:!1,easing:"ease-in-out",duration:r*("In"===t?.6:1)})}return i.Redirects[e]=function(a,o,s,_,u,c,d){var p=s===_-1;d=d||t.loop,"function"==typeof t.defaultDuration?t.defaultDuration=t.defaultDuration.call(u,u):t.defaultDuration=parseFloat(t.defaultDuration);for(var f=0;f<t.calls.length;f++){var h=t.calls[f],g=h[0],m=1e3,v=h[1],y=h[2]||{},b={};if(o.duration!==n?m=o.duration:t.defaultDuration!==n&&(m=t.defaultDuration),b.duration=m*(v||1),b.queue=o.queue||"",b.easing=y.easing||"ease",b.delay=parseFloat(y.delay)||0,b.loop=!t.loop&&y.loop,b._cacheValues=y._cacheValues||!0,0===f){if(b.delay+=parseFloat(o.delay)||0,0===s&&(b.begin=function(){o.begin&&o.begin.call(u,u);var t=e.match(/(In|Out)$/);t&&"In"===t[0]&&g.opacity!==n&&l.each(u.nodeType?[u]:u,(function(e,t){i.CSS.setPropertyValue(t,"opacity",0)})),o.animateParentHeight&&t&&r(u,t[0],m+b.delay,o.stagger)}),null!==o.display)if(o.display!==n&&"none"!==o.display)b.display=o.display;else if(/In$/.test(e)){var w=i.CSS.Values.getDisplayType(a);b.display="inline"===w?"inline-block":w}o.visibility&&"hidden"!==o.visibility&&(b.visibility=o.visibility)}if(f===t.calls.length-1){var A=function(){o.display!==n&&"none"!==o.display||!/Out$/.test(e)||l.each(u.nodeType?[u]:u,(function(e,t){i.CSS.setPropertyValue(t,"display","none")})),o.complete&&o.complete.call(u,u),c&&c.resolver(u||a)};b.complete=function(){if(d&&i.Redirects[e](a,o,s,_,u,c,!0===d||Math.max(0,d-1)),t.reset){for(var r in t.reset)if(t.reset.hasOwnProperty(r)){var l=t.reset[r];i.CSS.Hooks.registered[r]!==n||"string"!=typeof l&&"number"!=typeof l||(t.reset[r]=[t.reset[r],t.reset[r]])}var f={duration:0,queue:!1};p&&(f.complete=A),i.animate(a,t.reset,f)}else p&&A()},"hidden"===o.visibility&&(b.visibility=o.visibility)}i.animate(a,g,b)}},i},i.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}},i.RegisterEffect.packagedEffects)i.RegisterEffect.packagedEffects.hasOwnProperty(c)&&i.RegisterEffect(c,i.RegisterEffect.packagedEffects[c]);i.RunSequence=function(e){var t=l.extend(!0,[],e);t.length>1&&(l.each(t.reverse(),(function(e,r){var n=t[e+1];if(n){var a=r.o||r.options,o=n.o||n.options,s=a&&!1===a.sequenceQueue?"begin":"complete",_=o&&o[s],u={};u[s]=function(){var e=n.e||n.elements,t=e.nodeType?[e]:e;_&&_.call(t,t),i(r)},n.o?n.o=l.extend({},o,u):n.options=l.extend({},o,u)}})),t.reverse()),i(t[0])}}else t.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting.")}(window.jQuery||window.Zepto||window,window,window&&window.document)}))})),dt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.get_source_appname_from_data=e.base64decode=e.base64=e.add_source_appname_tracker_to_change_args=e.add_source_appname_tracker=void 0,e.is_android=function(){return _},e.is_fullscreen=function(){return!!(typeof document<"u"&&(null!=document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement))},e.is_on_mobile_or_tablet=function(){return u},e.maybe_add_source_appname_to_object=void 0;var t=function(e){return e&&e.__esModule?e:{default:e}}(st()),r=lt();typeof window<"u"&&(_t(),ut(),ct(),t.default.injectTransitions()),null!=Number.isNaN||(Number.isNaN=e=>"number"==typeof e&&isNaN(e));var n,i,a,o,s,l,_=!1,u=!1;if(function(){if(typeof window<"u"&&typeof navigator<"u"){u=function(){let e=navigator.userAgent||navigator.vendor;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ipad|playbook|silk|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))}();let e=navigator.userAgent,t=/iemobile/i.test(e);_=/android/i.test(e)&&!t}}(),typeof window<"u"&&(window.BrowserDetect={browser:"",version:0,OS:"",versionSearchString:"",init(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString(e){for(let t=0;t<e.length;t++){let r=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,r){if(r.includes(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},searchVersion(e){let t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},window.BrowserDetect.init()),e.base64=n,e.base64decode=i,e.add_source_appname_tracker=a,e.maybe_add_source_appname_to_object=o,e.get_source_appname_from_data=s,e.add_source_appname_tracker_to_change_args=l,typeof window<"u"){e.base64=n=e=>r.Base64.encode(e),e.base64decode=i=e=>r.Base64.decode(e),e.add_source_appname_tracker=a=(e,t)=>{e&&(e.said=n(t))},e.maybe_add_source_appname_to_object=o=(e,t,r)=>{!e||!r||r!==t&&(e.source_appname=r)};let t=e=>{e&&delete e.said};e.get_source_appname_from_data=s=e=>null!=e&&e.said?i(e.said):void 0,e.add_source_appname_tracker_to_change_args=l=(e,r,n)=>{let i=s(e);o(r,n,i),t(e)}}})),pt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.USER_FIELDS=e.SOCIAL=e.SECURABLE_PREFIX=e.EMAIL=e.DATE_FIELDS=e.CREATOR_FIELD=e.BUILTIN_FIELDS=e.BUILTIN_CUSTOM_FIELDS=void 0,Ue();var t="email";e.EMAIL=t;var r="_social_networks";e.SOCIAL=r;var n=[{display:"email",value:t},{display:"Social Networks",value:r}];e.USER_FIELDS=n;e.DATE_FIELDS=[{display:"Created Date",value:"Created Date"},{display:"Modified Date",value:"Modified Date"}];e.CREATOR_FIELD=[{display:"Created By",value:"Created By"}];e.SECURABLE_PREFIX="securable_";var i=["Created Date","Modified Date","Created By","Slug"];e.BUILTIN_CUSTOM_FIELDS=i;var a=[...i,t,r];e.BUILTIN_FIELDS=a})),ft=u(((e,t)=>{f(),function(e,t,r){function n(e){var t=this,r=function(){var e=4022871197;return function(t){t=String(t);for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=r(" "),t.s1=r(" "),t.s2=r(" "),t.s0-=r(e),t.s0<0&&(t.s0+=1),t.s1-=r(e),t.s1<0&&(t.s1+=1),t.s2-=r(e),t.s2<0&&(t.s2+=1),r=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var r=new n(e),a=t&&t.state,o=r.next;return o.int32=function(){return 4294967296*r.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r((function(){return a})):this.alea=a}(0,"object"==typeof t&&t,"function"==typeof define&&define)})),ht=u(((e,t)=>{f(),function(e,t,r){function n(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r((function(){return a})):this.xor128=a}(0,"object"==typeof t&&t,"function"==typeof define&&define)})),gt=u(((e,t)=>{f(),function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r((function(){return a})):this.xorwow=a}(0,"object"==typeof t&&t,"function"==typeof define&&define)})),mt=u(((e,t)=>{f(),function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],r=(e^=e>>>7)^e<<24,r^=(e=n[i+1&7])^e>>>10,r^=(e=n[i+3&7])^e>>>3,r^=(e=n[i+4&7])^e<<7,e=n[i+7&7],r^=(e^=e<<13)^e<<9,n[i]=r,t.i=i+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,r=0;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=r.next,o.quick=o,a&&(a.x&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r((function(){return a})):this.xorshift7=a}(0,"object"==typeof t&&t,"function"==typeof define&&define)})),vt=u(((e,t)=>{f(),function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,a=t.i;return t.w=n=n+1640531527|0,r=i[a+34&127],e=i[a=a+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[a]=r^e,t.i=a,r+(n^n>>>16)|0},function(e,t){var r,n,i,a,o,s=[],l=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,l=Math.max(l,t.length)),i=0,a=-32;a<l;++a)t&&(n^=t.charCodeAt((a+32)%t.length)),0===a&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,a>=0&&(o=o+1640531527|0,i=0==(r=s[127&a]^=n+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;e.w=o,e.X=s,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=r.next,o.quick=o,a&&(a.X&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r((function(){return a})):this.xor4096=a}(0,"object"==typeof t&&t,"function"==typeof define&&define)})),yt=u(((e,t)=>{f(),function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r((function(){return a})):this.tychei=a}(0,"object"==typeof t&&t,"function"==typeof define&&define)})),bt=u((()=>{f()})),wt=u(((e,t)=>{f(),function(e,r,n){var i,a=256,o="random",s=n.pow(a,6),l=n.pow(2,52),_=2*l,u=255;function c(t,u,c){var m=[],v=h(f((u=1==u?{entropy:!0}:u||{}).entropy?[t,g(r)]:null==t?function(){try{var t;return i&&(t=i.randomBytes)?t=t(a):(t=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(t)),g(t)}catch{var n=e.navigator,o=n&&n.plugins;return[+new Date,e,o,e.screen,g(r)]}}():t,3),m),y=new d(m),b=function(){for(var e=y.g(6),t=s,r=0;e<l;)e=(e+r)*a,t*=a,r=y.g(1);for(;e>=_;)e/=2,t/=2,r>>>=1;return(e+r)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,h(g(y.S),r),(u.pass||c||function(e,t,r,i){return i&&(i.S&&p(i,y),e.state=function(){return p(y,{})}),r?(n[o]=e,t):e})(b,v,"global"in u?u.global:this==n,u.state)}function d(e){var t,r=e.length,n=this,i=0,o=n.i=n.j=0,s=n.S=[];for(r||(e=[r++]);i<a;)s[i]=i++;for(i=0;i<a;i++)s[i]=s[o=u&o+e[i%r]+(t=s[i])],s[o]=t;(n.g=function(e){for(var t,r=0,i=n.i,o=n.j,s=n.S;e--;)t=s[i=u&i+1],r=r*a+s[u&(s[i]=s[o=u&o+t])+(s[o]=t)];return n.i=i,n.j=o,r})(a)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function f(e,t){var r,n=[],i=typeof e;if(t&&"object"==i)for(r in e)try{n.push(f(e[r],t-1))}catch{}return n.length?n:"string"==i?e:e+"\0"}function h(e,t){for(var r,n=e+"",i=0;i<n.length;)t[u&i]=u&(r^=19*t[u&i])+n.charCodeAt(i++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(h(n.random(),r),"object"==typeof t&&t.exports){t.exports=c;try{i=bt()}catch{}}else"function"==typeof define&&define.amd?define((function(){return c})):n["seed"+o]=c}(typeof self<"u"?self:e,[],Math)})),At=u(((e,t)=>{f();var r=ft(),n=ht(),i=gt(),a=mt(),o=vt(),s=yt(),l=wt();l.alea=r,l.xor128=n,l.xorwow=i,l.xorshift7=a,l.xor4096=o,l.tychei=s,t.exports=l})),Et=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.STATES=e.SLOW_LOG_MSG=e.SLOW_CALL_MSG=e.INSTANCE_NAMES=e.GEOCACHE_PREFIX=void 0;var t=function(e){return e.SMALL="small",e.WORKFLOW="workflow",e.BIG="big",e.ELASTICSEARCH="elasticsearch",e.CACHE="cache",e}({});e.INSTANCE_NAMES=t;e.SLOW_CALL_MSG="redis slow call";e.SLOW_LOG_MSG="redis log call";var r=function(e){return e.STARTING="starting",e.AVAILABLE="available",e.IN_USE="in_use",e.TERMINATING="terminating",e.EMPTY="empty",e}({});e.STATES=r;e.GEOCACHE_PREFIX="geo_cache_"})),Mt=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.UPCOMING_BREAKING_CHANGE_MSG=e.STACK_OMITTED=e.SPECIAL_LOGGING_PROCS=e.PLUGIN_PAGE_HEADER_PREFIX=e.PLUGIN_MAIN_HEADER_PREFIX=e.LOG_LARGE_UPSERTS_TEXT_THRESHOLD=e.LOG_LARGE_UPSERTS_LIST_THRESHOLD=e.LEVEL_SEVERITY=e.CUSTOM_PAGE_HEADER_TAG=e.CUSTOM_APP_HEADER_TAG=e.AREAS=e.ALL_LEVELS=e.ALLOWED_ERRORS_IN_TESTS=void 0;var t=i(Et()),r=i(rt());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}e.ALL_LEVELS=["debug","verbose","info","warn","error","fatal"];e.LEVEL_SEVERITY={debug:0,verbose:1,info:2,warn:3,error:4,fatal:5};e.LOG_LARGE_UPSERTS_TEXT_THRESHOLD=524288;e.LOG_LARGE_UPSERTS_LIST_THRESHOLD=5e3;var a=function(e){return e.certificates="certificates",e.cloudflare="cloudflare",e.cron="cron",e.fibers="fibers",e.logging="logging",e.metrics="metrics",e.notifier="notifier",e.percolator="percolator",e.postgres="postgres",e.pregenerate="pregenerate",e.redis="redis",e.scheduler="scheduler",e.server="server",e.threads="threads",e.workflow="workflow",e}({});e.AREAS=a;e.SPECIAL_LOGGING_PROCS={add_mapping:!0,cancel_all_tasks:!0,delete:!0,delete_app:!0,finish_task:!0,multi_upsert:!0,rewind_app:!0,schedule_task:!0,upsert:!0};e.UPCOMING_BREAKING_CHANGE_MSG="app affected by breaking change";var o=[t.SLOW_CALL_MSG,t.SLOW_LOG_MSG,r.POOL_QUERY_OVER_THRESHOLD_MSG,r.ZERO_CLIENTS_NO_SLOTS_MSG,r.TIMEOUT_QUERY_MSG,r.PG_CLIENT_ERR_MSG,r.PG_CLIENT_DESTRUCTION_ERR,r.PG_CLIENT_CANNOT_CONNECT_ERR];e.ALLOWED_ERRORS_IN_TESTS=o;e.PLUGIN_MAIN_HEADER_PREFIX="plugin_main_headers_";e.PLUGIN_PAGE_HEADER_PREFIX="plugin_page_headers_";e.CUSTOM_PAGE_HEADER_TAG="custom_page_header";e.CUSTOM_APP_HEADER_TAG="custom_app_header";e.STACK_OMITTED="stack omitted"})),xt=u(((e,t)=>{f(),function(r){var n="object"==typeof e&&e&&!e.nodeType&&e,i="object"==typeof t&&t&&!t.nodeType&&t,a="object"==typeof window&&window;(a.global===a||a.window===a||a.self===a)&&(r=a);var o,s,l=2147483647,_=36,u=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,h=String.fromCharCode;function g(e){throw RangeError(p[e])}function m(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+m((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function w(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=_)e=f(e/35);return f(n+36*e/(e+38))}function M(e){var t,r,n,i,a,o,s,u,c,d,p=[],h=e.length,m=0,v=128,y=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),p.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<h;){for(a=m,o=1,s=_;i>=h&&g("invalid-input"),((u=w(e.charCodeAt(i++)))>=_||u>f((l-m)/o))&&g("overflow"),m+=u*o,!(u<(c=s<=y?1:s>=y+26?26:s-y));s+=_)o>f(l/(d=_-c))&&g("overflow"),o*=d;y=E(m-a,t=p.length+1,0==a),f(m/t)>l-v&&g("overflow"),v+=f(m/t),m%=t,p.splice(m++,0,v)}return b(p)}function x(e){var t,r,n,i,a,o,s,u,c,d,p,m,v,b,w,M=[];for(m=(e=y(e)).length,t=128,r=0,a=72,o=0;o<m;++o)(p=e[o])<128&&M.push(h(p));for(n=i=M.length,i&&M.push("-");n<m;){for(s=l,o=0;o<m;++o)(p=e[o])>=t&&p<s&&(s=p);for(s-t>f((l-r)/(v=n+1))&&g("overflow"),r+=(s-t)*v,t=s,o=0;o<m;++o)if((p=e[o])<t&&++r>l&&g("overflow"),p==t){for(u=r,c=_;!(u<(d=c<=a?1:c>=a+26?26:c-a));c+=_)w=u-d,b=_-d,M.push(h(A(d+w%b,0))),u=f(w/b);M.push(h(A(u,0))),a=E(r,v,n==i),r=0,++n}++r,++t}return M.join("")}if(o={version:"1.3.2",ucs2:{decode:y,encode:b},decode:M,encode:x,toASCII:function(e){return v(e,(function(e){return c.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?M(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return o}));else if(n&&i)if(t.exports==n)i.exports=o;else for(s in o)o.hasOwnProperty(s)&&(n[s]=o[s]);else r.punycode=o}(e)})),Ot=u(((e,t)=>{"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}f(),t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var _=0;_<l;++_){var u,c,d,p,f=e[_].replace(o,"%20"),h=f.indexOf(n);h>=0?(u=f.substr(0,h),c=f.substr(h+1)):(u=f,c=""),d=decodeURIComponent(u),p=decodeURIComponent(c),r(a,d)?Array.isArray(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a}})),kt=u(((e,t)=>{"use strict";f();var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[i]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""}})),St=u((e=>{"use strict";f(),e.decode=e.parse=Ot(),e.encode=e.stringify=kt()})),Tt=u((e=>{f();var t=xt();function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=g,e.resolve=function(e,t){return g(e,!1,!0).resolve(t)},e.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},e.format=function(e){return m(e)&&(e=g(e)),e instanceof r?e.format():r.prototype.format.call(e)},e.Url=r;var n=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),o=["'"].concat(a),s=["%","/","?",";","#"].concat(o),l=["/","?","#"],_=/^[a-z0-9A-Z_-]{0,63}$/,u=/^([a-z0-9A-Z_-]{0,63})(.*)$/,c={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},h=St();function g(e,t,n){if(e&&v(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function m(e){return"string"==typeof e}function v(e){return"object"==typeof e&&null!==e}function y(e){return null===e}r.prototype.parse=function(e,r,i){if(!m(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e;a=a.trim();var f=n.exec(a);if(f){var g=(f=f[0]).toLowerCase();this.protocol=g,a=a.substr(f.length)}if(i||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===a.substr(0,2);v&&(!f||!d[f])&&(a=a.substr(2),this.slashes=!0)}if(!d[f]&&(v||f&&!p[f])){for(var y=-1,b=0;b<l.length;b++){-1!==(E=a.indexOf(l[b]))&&(-1===y||E<y)&&(y=E)}var w,A;-1!==(A=-1===y?a.lastIndexOf("@"):a.lastIndexOf("@",y))&&(w=a.slice(0,A),a=a.slice(A+1),this.auth=decodeURIComponent(w)),y=-1;for(b=0;b<s.length;b++){var E;-1!==(E=a.indexOf(s[b]))&&(-1===y||E<y)&&(y=E)}-1===y&&(y=a.length),this.host=a.slice(0,y),a=a.slice(y),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var x=this.hostname.split(/\./),O=(b=0,x.length);b<O;b++){var k=x[b];if(k&&!k.match(_)){for(var S="",T=0,N=k.length;T<N;T++)k.charCodeAt(T)>127?S+="x":S+=k[T];if(!S.match(_)){var C=x.slice(0,b),L=x.slice(b+1),P=k.match(u);P&&(C.push(P[1]),L.unshift(P[2])),L.length&&(a="/"+L.join(".")+a),this.hostname=C.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!M){var R=this.hostname.split("."),z=[];for(b=0;b<R.length;++b){var I=R[b];z.push(I.match(/[^A-Za-z0-9_-]/)?"xn--"+t.encode(I):I)}this.hostname=z.join(".")}var D=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+D,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!c[g])for(b=0,O=o.length;b<O;b++){var B=o[b],q=encodeURIComponent(B);q===B&&(q=escape(B)),a=a.split(B).join(q)}var U=a.indexOf("#");-1!==U&&(this.hash=a.substr(U),a=a.slice(0,U));var W=a.indexOf("?");if(-1!==W?(this.search=a.substr(W),this.query=a.substr(W+1),r&&(this.query=h.parse(this.query)),a=a.slice(0,W)):r&&(this.search="",this.query={}),a&&(this.pathname=a),p[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"",I=this.search||"";this.path=D+I}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&v(this.query)&&Object.keys(this.query).length&&(a=h.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||p[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(m(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach((function(e){n[e]=this[e]}),this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(n[t]=e[t])})),p[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!p[e.protocol])return Object.keys(e).forEach((function(t){n[t]=e[t]})),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||d[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var a=n.pathname||"",o=n.search||"";n.path=a+o}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),l=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=l||s||n.host&&e.pathname,u=_,c=n.pathname&&n.pathname.split("/")||[],f=(i=e.pathname&&e.pathname.split("/")||[],n.protocol&&!p[n.protocol]);if(f&&(n.hostname="",n.port=null,n.host&&(""===c[0]?c[0]=n.host:c.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),_=_&&(""===i[0]||""===c[0])),l)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,c=i;else if(i.length)c||(c=[]),c.pop(),c=c.concat(i),n.search=e.search,n.query=e.query;else if(!function(e){return null==e}(e.search)){if(f)n.hostname=n.host=c.shift(),(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift());return n.search=e.search,n.query=e.query,(!y(n.pathname)||!y(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!c.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var h=c.slice(-1)[0],g=(n.host||e.host)&&("."===h||".."===h)||""===h,v=0,b=c.length;b>=0;b--)"."==(h=c[b])?c.splice(b,1):".."===h?(c.splice(b,1),v++):v&&(c.splice(b,1),v--);if(!_&&!u)for(;v--;v)c.unshift("..");_&&""!==c[0]&&(!c[0]||"/"!==c[0].charAt(0))&&c.unshift(""),g&&"/"!==c.join("/").substr(-1)&&c.push("");var w,A=""===c[0]||c[0]&&"/"===c[0].charAt(0);f&&(n.hostname=n.host=A?"":c.length?c.shift():"",(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift()));return(_=_||n.host&&c.length)&&!A&&c.unshift(""),c.length?n.pathname=c.join("/"):(n.pathname=null,n.path=null),(!y(n.pathname)||!y(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}})),Nt=u(((e,t)=>{"use strict";f(),Ue(),Ze();var r=a(Tt()),n=a(St());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.exports={safe_require:s,safe_register:_},typeof window<"u"&&(window.safe_require={safe_require:s,safe_register:_});var o={url:r,querystring:n};function s(e){let t=o[e];if(null!=t)return t;let r=e.split("/");if(typeof window<"u"&&"optional"===r[1]){let t=r[r.length-1],n=window.optional_modules;if(t in n)return n[t];throw new Error("could not find optional module: "+e)}return l(e)}function _(e,t){o[e]=t}})),Ct=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.STORAGE_UNITS=e.MEBIBYTE=e.KIBIBYTE=e.GIBIBYTE=void 0;var t=1024;e.KIBIBYTE=t;var r=t*t;e.MEBIBYTE=r;e.GIBIBYTE=1073741824;e.STORAGE_UNITS=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"]})),Lt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.TYPES_TAG_TYPE=e.TYPES=e.THIRD_PARTY_TAG_NAME=e.TAG_TYPE_TO_NAMES=e.PRICE_NUMBER_PROPERTY=e.PREMIUM_TAG_TYPE=e.PREMIUM_TAG_NAME=e.PLUGIN_TAGS=e.PLUGIN_SEPARATOR=e.PLUGIN_FUNCTION_REGEX=e.PLUGIN_DOCUMENTATION_TEMPLATE_LINK=e.PLUGIN_CODE_SRC_PREFIX=e.OFFICIAL_TAG_NAME=e.OBFUSCATION_SCHEMA=e.NO_CREATOR_NAME=e.MAX_SIZE_FOR_PROCESSING=e.MAX_FUNCTION_PAYLOAD_LENGTH=e.LICENSE_PRIVATE=e.LICENSE_OPEN_SOURCE=e.LICENSE_COMMERCIAL=e.LEGAL_NODE_VERSIONS=e.LEGACY_NO_CREATOR_NAME=e.KEYS_THAT_CONTAIN_IDS=e.JS_OBFUSCATOR_SEED=e.FREE_TAG_NAME=e.CATEGORIES_TAG_TYPE=e.CATEGORIES=e.BUILT_BY_TAG_TYPE=e.BUBBLE_TEAM_MEMBER_IDS=e.BREADCRUMB_HEXID=e.ALLOWED_DEPENDENCIES=void 0;var t=function(e){return e&&e.__esModule?e:{default:e}}(Nt()),r=Ct();t.default.safe_register("./constants/plugin",e);var n="built_by";e.BUILT_BY_TAG_TYPE=n;var i="premium";e.PREMIUM_TAG_TYPE=i;var a="types";e.TYPES_TAG_TYPE=a;var o="categories";e.CATEGORIES_TAG_TYPE=o;e.PLUGIN_DOCUMENTATION_TEMPLATE_LINK="https://future-polyanthus-10e.notion.site/Bubble-Plugin-Documentation-Template-replace-with-plugin-name-b919a7428cbb4b5f9a37885d32cf9225?pvs=25";var s="Official";e.OFFICIAL_TAG_NAME=s;var l="Third-party developers";e.THIRD_PARTY_TAG_NAME=l;var _="free";e.FREE_TAG_NAME=_;var u="premium";e.PREMIUM_TAG_NAME=u;var c={Analytics:"analytics",ArtificialIntelligence:"artificial intelligence (AI)",Blog:"blog",Compliance:"compliance",Containers:"containers",CustomerSupport:"customer support",DataThings:"data (things)",Ecommerce:"ecommerce",Email:"email",HealthAndFitness:"health & fitness",InputForms:"input forms",Internationalization:"internationalization",Location:"location",Media:"media",Mobile:"mobile",News:"news",Payment:"payment",Productivity:"productivity",SmallBusiness:"small business",SocialNetwork:"social network",Technical:"technical",Testing:"testing",Video:"video",VisualElements:"visual elements",WebScraping:"web scraping"};e.CATEGORIES=c;var d={Action:"action",Api:"api",BackgroundServices:"background services",Element:"element",Event:"event",LoginService:"login service",Storage:"storage"};e.TYPES=d;var p={[n]:[s,l],[i]:[_,u]};e.TAG_TYPE_TO_NAMES=p;var h={[a]:d,[o]:c,[n]:p[n],[i]:p[i]};e.PLUGIN_TAGS=h;e.PLUGIN_SEPARATOR="-";e.BUBBLE_TEAM_MEMBER_IDS=["1339510945575x284965680912137020","bubble-1571682061136x385876099972947800"];e.KEYS_THAT_CONTAIN_IDS=["actions","actions.fields","events","fields","states"];e.ALLOWED_DEPENDENCIES=["use_jquery","plugin_api_version"];var g=6*r.MEBIBYTE;e.MAX_FUNCTION_PAYLOAD_LENGTH=g;e.NO_CREATOR_NAME="(no name provided)";e.LEGACY_NO_CREATOR_NAME="Bubble user";e.PLUGIN_CODE_SRC_PREFIX="PLUGIN_";e.LICENSE_COMMERCIAL="commercial";e.LICENSE_PRIVATE="private";e.LICENSE_OPEN_SOURCE="open_source";e.LEGAL_NODE_VERSIONS=[14,18];e.PRICE_NUMBER_PROPERTY="price_number";var m=r.MEBIBYTE;e.MAX_SIZE_FOR_PROCESSING=m;e.JS_OBFUSCATOR_SEED=0;e.BREADCRUMB_HEXID="_0x474242";e.PLUGIN_FUNCTION_REGEX=/function\(([\w,\s?]*)\)/;e.OBFUSCATION_SCHEMA={plugin_actions:{any:{type:"client_side",code:{client:{fn:!0}}}},plugin_elements:{any:{actions:{any:{code:{fn:!0}}},code:{initialize:{fn:!0},reset:{fn:!0},update:{fn:!0}},states:{any:{initialization_code:{fn:!0}}}}}}})),Pt=u(((e,t)=>{"use strict";f();var r=U();t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}})),Rt=u(((e,t)=>{f();var r=w(),n=h().RegExp,i=r((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!n("a","y").sticky})),o=i||r((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));t.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:i}})),zt=u(((e,t)=>{f();var r=w(),n=h().RegExp;t.exports=r((function(){var e=n(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))})),It=u(((e,t)=>{f();var r=w(),n=h().RegExp;t.exports=r((function(){var e=n("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))})),Dt=u(((e,t)=>{"use strict";f();var r=X(),n=E(),i=Xe(),a=Pt(),o=Rt(),s=C(),l=fe(),_=we().get,u=zt(),c=It(),d=s("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,h=p,g=n("".charAt),m=n("".indexOf),v=n("".replace),y=n("".slice),b=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=o.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(b||A||w||u||c)&&(h=function(e){var t,n,o,s,u,c,f,E=this,M=_(E),x=i(e),O=M.raw;if(O)return O.lastIndex=E.lastIndex,t=r(h,O,x),E.lastIndex=O.lastIndex,t;var k=M.groups,S=w&&E.sticky,T=r(a,E),N=E.source,C=0,L=x;if(S&&(T=v(T,"y",""),-1===m(T,"g")&&(T+="g"),L=y(x,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==g(x,E.lastIndex-1))&&(N="(?: "+N+")",L=" "+L,C++),n=new RegExp("^(?:"+N+")",T)),A&&(n=new RegExp("^"+N+"$(?!\\s)",T)),b&&(o=E.lastIndex),s=r(p,S?n:E,L),S?s?(s.input=y(s.input,C),s[0]=y(s[0],C),s.index=E.lastIndex,E.lastIndex+=s[0].length):E.lastIndex=0:b&&s&&(E.lastIndex=E.global?s.index+s[0].length:o),A&&s&&s.length>1&&r(d,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&k)for(s.groups=c=l(null),u=0;u<k.length;u++)c[(f=k[u])[0]]=s[f[1]];return s}),t.exports=h})),jt=u((()=>{"use strict";f();var e=Ce(),t=Dt();e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})})),Bt=u(((e,t)=>{"use strict";f(),jt();var r=E(),n=xe(),i=Dt(),a=w(),o=q(),s=be(),l=o("species"),_=RegExp.prototype;t.exports=function(e,t,u,c){var d=o(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[l]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!p||!f||u){var h=r(/./[d]),g=t(d,""[e],(function(e,t,n,a,o){var s=r(e),l=t.exec;return l===i||l===_.exec?p&&!o?{done:!0,value:h(t,n,a)}:{done:!0,value:s(n,t,a)}:{done:!1}}));n(String.prototype,e,g[0]),n(_,d,g[1])}c&&s(_[d],"sham",!0)}})),qt=u(((e,t)=>{f();var r=E(),n=re(),i=Xe(),a=O(),o=r("".charAt),s=r("".charCodeAt),l=r("".slice),_=function(e){return function(t,r){var _,u,c=i(a(t)),d=n(r),p=c.length;return d<0||d>=p?e?"":void 0:(_=s(c,d))<55296||_>56319||d+1===p||(u=s(c,d+1))<56320||u>57343?e?o(c,d):_:e?l(c,d,d+2):u-56320+(_-55296<<10)+65536}};t.exports={codeAt:_(!1),charAt:_(!0)}})),Ut=u(((e,t)=>{"use strict";f();var r=qt().charAt;t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}})),Wt=u(((e,t)=>{f();var r=E(),n=L(),i=Math.floor,a=r("".charAt),o=r("".replace),s=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_=/\$([$&'`]|\d{1,2})/g;t.exports=function(e,t,r,u,c,d){var p=r+e.length,f=u.length,h=_;return void 0!==c&&(c=n(c),h=l),o(d,h,(function(n,o){var l;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,r);case"'":return s(t,p);case"<":l=c[s(o,1,-1)];break;default:var _=+o;if(0===_)return n;if(_>f){var d=i(_/10);return 0===d?n:d<=f?void 0===u[d-1]?a(o,1):u[d-1]+a(o,1):n}l=u[_-1]}return void 0===l?"":l}))}})),$t=u(((e,t)=>{f();var r=h(),n=X(),i=U(),a=m(),o=M(),s=Dt(),l=r.TypeError;t.exports=function(e,t){var r=e.exec;if(a(r)){var _=n(r,e,t);return null!==_&&i(_),_}if("RegExp"===o(e))return n(s,e,t);throw l("RegExp#exec called on incompatible receiver")}})),Ft=u((()=>{"use strict";f();var e=We(),t=X(),r=E(),n=Bt(),i=w(),a=U(),o=m(),s=re(),l=ie(),_=Xe(),u=O(),c=Ut(),d=J(),p=Wt(),h=$t(),g=q()("replace"),v=Math.max,y=Math.min,b=r([].concat),A=r([].push),M=r("".indexOf),x=r("".slice),k=function(e){return void 0===e?e:String(e)},S="$0"==="a".replace(/./,"$0"),T=!!/./[g]&&""===/./[g]("a","$0");n("replace",(function(r,n,i){var f=T?"$":"$0";return[function(e,r){var i=u(this),a=null==e?void 0:d(e,g);return a?t(a,e,i,r):t(n,_(i),e,r)},function(t,r){var u=a(this),d=_(t);if("string"==typeof r&&-1===M(r,f)&&-1===M(r,"$<")){var g=i(n,u,d,r);if(g.done)return g.value}var m=o(r);m||(r=_(r));var w=u.global;if(w){var E=u.unicode;u.lastIndex=0}for(var O=[];;){var S=h(u,d);if(null===S||(A(O,S),!w))break;""===_(S[0])&&(u.lastIndex=c(d,l(u.lastIndex),E))}for(var T="",N=0,C=0;C<O.length;C++){for(var L=_((S=O[C])[0]),P=v(y(s(S.index),d.length),0),R=[],z=1;z<S.length;z++)A(R,k(S[z]));var I=S.groups;if(m){var D=b([L],R,P,d);void 0!==I&&A(D,I);var j=_(e(r,void 0,D))}else j=p(L,d,P,R,I,r);P>=N&&(T+=x(d,N,P)+j,N=P+L.length)}return T+x(d,N)}]}),!!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!S||T)})),Gt=u((e=>{"use strict";f(),Ue(),Ft();var t=tt(),r=it(),n=Mt(),i=e;function a(e){let t;if(null!=e){if(Array.isArray(e)){t=[];for(let r=0;r<e.length;r++){let n=e[r];if(t.push(a(n)),100===r)break}e.length>100&&t.push(`Truncated list of ${e.length} to 100 items`)}else if("object"==typeof e){t={};let r=Object.keys(e);for(let n=0;n<r.length;n++){let i=r[n];if(t[i]=a(e[i]),100===n)break}r.length>100&&(t.truncation_message=`Truncated object of ${r.length} to 100 items`)}else t="string"==typeof e&&e.length>1e4?`${e.slice(0,1e4)} [truncated, was ${e.length}]`:e;return t}}function o(e,t){let r;if(null==e)return e;if("string"==typeof e&&t){r=e;for(let n of t)r=e.replace(n,`sanitized ${n.length}`)}else if(Array.isArray(e)){r=[];for(let n of e)r.push(o(n,t))}else if("object"==typeof e){r={};for(let n in e){let a=e[n];i.UNLOGGABLE_KEYS.has(n)?r[n]=null!=a?`sanitized ${a.length}`:a:r[n]=o(a,t)}}else r=e;return r}i.UNLOGGABLE_KEYS=new Set(["authorization","x-auth-token","x-api-key","cookie","ssn","password","password2","account","old_password","new_password","new_password_again","token"]),i.level_gte=function(e,t){return n.LEVEL_SEVERITY[e]>=n.LEVEL_SEVERITY[t]},i.preprocess=(e,n)=>function(e,n){return function(e){try{JSON.stringify(e)}catch{let n="could not sanitize message not JSON stringifyable";throw new r.UnexpectedError(n,{message:t.inspect(e)})}}(e),o(e,n)}(a(e),n),i.extract_bad_values=function(e){let t=[];if(Array.isArray(null==e?void 0:e.calls))for(let a of e.calls){var r,n,i;t=t.concat(null!=(r=null==(n=a.client_state)||null==(i=n.other_data)?void 0:i.secure_list)?r:[])}return"string"==typeof(null==e?void 0:e.password)&&e.password.length>3&&t.push(e.password),t}})),Xt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.QA=e.PROD=e.LOCAL=e.DEV=e.ALL=void 0;var t="prod";e.PROD=t;var r="local";e.LOCAL=r;e.QA="qa";e.DEV="dev";var n=[t,r,"qa","dev"];e.ALL=n})),Ht=u(((e,t)=>{t.exports={ADMIN_EMAIL:"admin@bubble.io",ADMIN_NO_REPLY:"admin-no-reply@bubbleapps.io",MAX_ALLOWED_REQUEST:5e4,MAX_LIST_LENGTH:1e4,PROD_DOMAINS:{main:"bubble.io",old:"bubble.is"},REQUEST_TTL:36e5,SUPPORT_EMAIL:"support@bubble.io",SUPPORT_NAME:"Bubble Support",a_record_ip:"54.203.28.28",amplitude_experiment_key:"client-mzmGCQlKvIat72aRwurU9POklOVWqQYc",amplitude_experiments_enabled:!0,apps_domain:"bubbleapps.io",braintree_partner_code:"Bubble_SP",breaking_revision:5,browser_console_log_level:"error",cdn_host:"d3dqmih97rcqmh.cloudfront.net",commit_sha:"b9b3ded5db9ab8f95bf6d3f9a97d46e802cfa160",commit_timestamp:1694095058e3,database_query_limit:200,env:"prod",environment_name:"main",firebase_app_config:{apiKey:"AIzaSyDVlyff9gf_eG2kq_OTfhUytinKJ619FrM",appId:"1:380032246750:web:50d6f5f804d7ce281e334f",authDomain:"bubble-workflow.firebaseapp.com",databaseURL:"https://bubble-workflow.firebaseio.com",messagingSenderId:"380032246750",projectId:"bubble-workflow",storageBucket:"bubble-workflow.appspot.com"},hide_export_bulk_operation:!0,image_optimization_service:"d1muf25xaso8hp.cloudfront.net",is_clustered:!0,max_api_bulk_post:1e3,max_new_list_length:100,meta_billing_api_endpoint:"https://bubble.io/api/1.1/",meta_upload_tracking_api_endpoint:"https://bubble.io/api/1.1/",notifier_domain:"main",notifier_host:"notify.bubble.io",otel_log_events_flag:!0,page_speed_metrics_on:!0,paid_features:!0,plugin_commission:.75,plugins_live_here:!0,private_version_prefix:"p_",use_analytics:!0,use_cloudflare:!0,user_file_bucket:"appforest_uf",user_file_cdn:"a3f482aa37473c68f97b76bd2e4a3782.cdn.bubble.io/",user_file_url:"s3.amazonaws.com/appforest_uf/"}})),Vt=u(((e,t)=>{"use strict";f();var r=n(Nt());function n(e){return e&&e.__esModule?e:{default:e}}var i=n(Ht()).default;t.exports=i,r.default.safe_register("./client_config",i)})),Yt=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.is_development=function(){return r.env===t.DEV||r.env===t.LOCAL},e.is_local=function(){return r.env===t.LOCAL},e.is_production=a,e.is_production_not_dedicated=function(){return a()&&!r.is_dedicated},e.is_test=function(){return r.env===t.QA};var t=i(Xt()),r=i(Vt());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}function a(){return r.env===t.PROD}(function(e){return e&&e.__esModule?e:{default:e}})(Nt()).default.safe_register("./shared/environment_utilities",e)})),Kt=u(((e,t)=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OMITTED=e.LOG_MESSAGE=e.AREAS=void 0,e.debug=M,e.error=S,e.fatal=T,e.get_log_tags=function(){var e,t,r;return null!=(e=null==(t=(r=g).get_log_tags)?void 0:t.call(r))?e:{}},e.human_friendly=function(e){return null==e?"":(E(e),o.ensure_bubble_error(e).display())},e.info=O,e.install_browser_error_handler=function(e){let{Lib:t}=e;window.onerror=(e,r,s,l,_)=>{var c,d,p,f;if(!_)return;let h=o.ensure_bubble_error(_),g=`\n    at root (${null!=r?r:""}:${null!=s?s:-1}:${null!=l?l:-1})`;h.stack=(null!=(c=h.stack)?c:"")+g;let m=null!=(d=null==r?void 0:r.startsWith(null!=(p=null==(f=t())?void 0:f.location.get_server_base())?p:""))&&d,v=s?function(e){if(!window.headers_source_maps)return null;for(let[t,r,n]of window.headers_source_maps)if(e>Number(r)&&e<=Number(n))return t;return null}(s):null,y=!1,b=!1;m&&v&&(y=[n.CUSTOM_PAGE_HEADER_TAG,n.CUSTOM_APP_HEADER_TAG].includes(v),b=v.startsWith(n.PLUGIN_MAIN_HEADER_PREFIX)||v.startsWith(n.PLUGIN_PAGE_HEADER_PREFIX),h instanceof o.BubbleError&&h.extend({html_section:v}));let w=b||h.stack.includes(i.PLUGIN_CODE_SRC_PREFIX),A=!(a.is_edit_mode()||a.is_plugin_edit_mode()||u.is_local()||h.stack.split("\n").filter((e=>{var t,r;return e=null!=(t=null==(r=e.match(/\/package\/.+(?:run|run_debug)\.js:(\d+):/))?void 0:r[1])?t:"",parseInt(e)>10})).join("\n").includes("/package/")),E=A&&h.stack.includes("/package/"),M=y||h.stack.includes("UNMANGLED_html_wrap"),x=h.stack.includes("chrome-extension://");if(h instanceof o.BubbleError&&h.extend({UNCAUGHT:"caught by window.onerror",is_plugin_code:w,is_3rd_party_code:w||M,is_outside_package:A}),M)P("html bug",{display:"Bug in custom html:\n"+h.stack});else{if(!r||x)return;w||A?C(E?"Error in jQuery code -- likely a plugin":"Error in custom code",{display:"Bug in custom code "+h.stack,original:h}):S(h)}return!0}},e.log=void 0,e.owner_error=C,e.owner_only_error=P,e.owner_warn=L,e.propagated_error=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};A(t)(e,{inner_error:t,...r})},e.register_logger=function(e){g=e},e.user_error=R,e.verbose=x,e.warn=k,e.with_user_level=I,Ue(),Ze();var r=d(tt()),n=d(Mt()),i=d(Lt()),a=d(ot()),o=d(it()),s=d(Gt()),l=function(e){return e&&e.__esModule?e:{default:e}}(Nt()),_=nt(),u=d(Yt());function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}l.default.safe_register("./logger",t.exports);var p=new WeakSet,h=(e,t,r)=>{null!=r||(r={}),r.level=e,r.message=null!=t?t:"",console.log(JSON.stringify(r))},g={fiber_wrapper:e=>e,log(e,t,r){h("error","Logging Error: must call logger.register_logger before logging",{}),h(e,t,r)}};var m="log message";e.LOG_MESSAGE=m;var v=n.AREAS;e.AREAS=v;var y=n.STACK_OMITTED;e.STACK_OMITTED=y;var b="NO_MESSAGE";function w(e){return n.ALL_LEVELS.includes(e)}function A(e){if(function(e){return null!=e&&"object"==typeof e&&"string"==typeof e.suggested_level}(e)){let t=e.suggested_level;if(w(t))return N[t];if(function(e){return[...o.ERROR_LEVELS,"owner_warn"].includes(e)}(t))return z[t]}return S}var E=g.fiber_wrapper(((e,t,i)=>{if(e instanceof Error||function(e){return e instanceof o.NotReadyError}(e))return A(e)(o.ensure_bubble_error(e));if(null==e&&null==t)return M(b);if("string"!=typeof e)throw new o.UnexpectedError("Expected logger.log(err) or logger.log(level, message, data), but got a non-string level",{level:e});if(null==i?i={}:"string"==typeof i&&(i={data:i}),!w(e))throw new o.UnexpectedError("unknown level",{level:e});let l=t;if(t instanceof o.NotReadyError&&(t=o.ensure_bubble_error(t)),t instanceof Error){var u,c;if(p.has(t))return;p.add(t);let e=null!=(u=t.args)?u:{};for(let t in e){let r=e[t];i[t]="function"==typeof r?r():(0,_.to_loggable)(r)}i.stack=t.stack,null!=(c=i).tags||(c.tags={}),i.tags.error_class=t.error_class,i.tags.user_level&&!i.display&&(i.display=t.display()),i.display&&"string"!=typeof i.display&&(i.display=String(i.display)),t=t.message}else if("string"==typeof t){var d,f;null!=(d=i).stack||(d.stack=o.capture_stack(t,1)),null!=(f=i).tags||(f.tags={}),i.tags.error_class=m}else{if(null!=t)throw new o.UnexpectedError("invalid message format, must be error or string",{message:r.inspect(t)});t=b}if(null!=i&&"object"!=typeof i)throw new o.UnexpectedError("invalid data format, object, error, or undefined",{data:r.inspect(i)});if(g.log(e,t,i),void 0!==l&&(h=l,v=e,a.running_test()&&s.level_gte(v,"error")&&(h instanceof Error||"string"==typeof h&&!n.ALLOWED_ERRORS_IN_TESTS.includes(h))))throw console.log(t,i),new o.UnexpectedError("log with level >= error while running test",{level:e,original:t,data:(0,_.to_loggable)(i)});var h,v}));function M(e,t){E("debug",e,t)}function x(e,t){E("verbose",e,t)}function O(e,t){E("info",e,t)}function k(e,t){E("warn",e,t)}function S(e,t){E("error",e,t)}function T(e,t){E("debug",e,t)}e.log=E;var N={debug:M,verbose:x,info:O,warn:k,error:S,fatal:T};function C(e,t){null!=t||(t={}),O(e,t=I(t,"owner_error"))}function L(e,t){null!=t||(t={}),O(e,t=I(t,"owner_warn"))}function P(e,t){null!=t||(t={}),x(e,t=I(t,"owner_error"))}function R(e,t){null!=t||(t={}),O(e,t=I(t,"user_error"))}var z={owner_error:C,owner_warn:L,user_error:R,error:S};function I(e,t){return"object"==typeof(e={...e}).tags?e.tags={...e.tags}:e.tags={},e.tags.user_level=t,e}})),Jt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.SLOW_RANDOM_LENGTH=e.LEGACY_PARAM_ID=e.DROPDOWN_DESCRIPTION_CONTEXT=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/core",e);e.DROPDOWN_DESCRIPTION_CONTEXT="DROPDOWN_OPTIONS";e.LEGACY_PARAM_ID="_LEGACY_";e.SLOW_RANDOM_LENGTH=1e5})),Zt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.Random=e.LUID=void 0,e.UUID=s,e.UUID_SEED=void 0,e.count=function(e){var t;p&&(null!=(t=p)[e]||(t[e]=0),p[e]++)},e.get_random_seed=function(){return Math.round(Math.random()*o)%c},e.get_uuid_seed=function(e){let{seed:t,timestamp:r,iterations:n}=e;return new d(t,r,n)},e.is_UUID=function(e){return"string"==typeof e&&l.test(e)},e.short_uid=function(e,t){let r;if(e<70304)r=3;else if(e<175478784)r=5,e+=190102016;else{if(!(e<1e14))return s();r=10,e+=0x1edcf7bcf280000}let n=new Array(r);for(let t=r-1;t>=0;t--)n[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(e%52),e=Math.floor(e/52);return n.join("")+("-1"===String(t)?"":String(t))},e.start_count=function(){p={}},e.stop_count=function(){if(p){let e=Object.entries(p);e.sort(((e,t)=>t[1]-e[1]));for(let[t,r]of e)console.log(`${t}: ${r}`)}},e.uuid_regexp=void 0,Ue();var t=function(e){return e&&e.__esModule?e:{default:e}}(At()),r=a(Kt()),n=a(Jt());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var o=1e18;function s(){let e=Math.round(Math.random()*o);return`${Date.now()}x${_(e,18)}`}var l=/\d{13}x\d{18}/;function _(e,t){let r=String(e);return r+new Array(t+1-r.length).join("0")}e.uuid_regexp=l;var u=function(){let e=1;return()=>(e++,`${Date.now()}x${e}`)}();e.LUID=u;var c=o;var d=class{constructor(e,t,r){this.seed=void 0,this.timestamp=void 0,this.iterations=void 0,this.seed=e,this.timestamp=t,null!=r||(r=0),this.iterations=r;for(let e=0;e<r;e++)this.randn()}randn(){return this.seed=(1664525*this.seed+1013904223)%c,this.iterations++,this.seed}UUID(){return`${this.timestamp}x${_(this.randn(),18)}`}};e.UUID_SEED=d;e.Random=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.seed=void 0,this.iterations=void 0,t>n.SLOW_RANDOM_LENGTH&&r.warn("dangerously high random initialization iterations",{iterations:t}),this.seed=e,this.iterations=0;for(let e=0;e<t;e++)this.next()}next(){return this.seed=(0,t.default)(`${this.seed}`)(),this.iterations++,this.seed}random(e,t){return this.next(),Math.floor(this.seed*(t-e)+e)}};var p=null})),Qt=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.all_keys=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.prototype,r=[],n=e;for(;null!=n&&n!==t;)r.push(...Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return r},e.compare=function e(t,r){if(t===r)return!0;if(function(e){return!("object"!=typeof e||!e)&&"function"==typeof e.is_equal_to}(t))return t.is_equal_to(r);if(u(t)&&u(r))return t.toUniqueString()===r.toUniqueString();if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){let i=t[n];if(!e(i,r[n]))return!1}return!0}return t instanceof Date&&r instanceof Date&&t.getTime()===r.getTime()},e.deep_copy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return _(null,e,...r)},e.deep_freeze=function e(t){Object.freeze(t);for(let r of Object.values(t))"object"==typeof r&&null!=r&&e(r)},e.extend=function(e,r,n,i,a,o){if(null!=o)throw console.log(o),new t.UnexpectedError("b_object.extend using more than 4 args!!!!");if(null!=r)for(let t in r){let n=r[t];void 0!==n&&(e[t]=n)}if(null!=n)for(let t in n){let r=n[t];void 0!==r&&(e[t]=r)}if(null!=i)for(let t in i){let r=i[t];void 0!==r&&(e[t]=r)}if(null!=a)for(let t in a){let r=a[t];void 0!==r&&(e[t]=r)}return e},e.extract_from_object=function(e,t){let r=e;for(let e of t){if(!s(r)||null==r[e])return null;r=r[e]}return r},e.flatten=function(e){return[].concat(...null!=e?e:[])},e.get_sorted_object_by_values=function(e){let t=[];for(let r in e){let n=e[r];t.push({id:r,value:n})}t.sort(((e,t)=>null!=e.value||null!=t.value?null==e.value?1:null==t.value?-1:"string"==typeof e.value&&"string"==typeof t.value?e.value.toLowerCase()<t.value.toLowerCase()?-1:1:"string"==typeof t.value?1:-1:1));let r={};for(let e of t)r[e.id]=e.value;return r},e.has_a_key=function(e){if(null==e||"object"!=typeof e)return!1;for(let t in e)return!0;return!1},e.has_unique_string=u,e.is_empty=d,e.is_json=function(e){try{return JSON.stringify(e),!0}catch{return!1}},e.is_record=s,e.json_deep_copy=function(e){return"object"==typeof e&&null!=e?JSON.parse(JSON.stringify(e)):e},e.json_parse=function(e,r){try{return JSON.parse(e)}catch(n){if(r)return e;let i="json_parse failure: ";throw i+=String("object"==typeof n&&n&&"message"in n?n.message:n),new t.UnexpectedError(i,{string:e})}},e.json_stringify=function(e,r,n){null!=n||(n=!1);try{return JSON.stringify(e,null,r)}catch(r){if(n)return tt().inspect(e);let i;throw i=String("object"==typeof r&&r&&"message"in r?r.message:r),i+=".  Data was "+e.constructor.name+", with fields: "+Object.keys(e).join(", "),new t.UnexpectedError(i)}},e.make_new=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new e(...r)}},e.map_values=function(e,t){let r={};for(let n in e)r[n]=t(e[n],n);return r},e.not_empty=function(e){return"object"==typeof e&&null!=e&&!d(e)},e.remove_circular_references=function(e){try{let t=new Set,r=JSON.stringify(e,(function(e,r){if(null!=r&&"object"==typeof r){if(t.has(r))return null;t.add(r)}return r}));return JSON.parse(r)}catch{return"failed to remove circular references"}},e.smush=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c(t)},e.sort_data_fields=function(e){let t=[],n=[],i=r.BUILTIN_FIELDS;for(let r of e)i.includes(r.value)||"_id"===r.value?t.push(r):n.push(r);return n=n.sort(((e,t)=>e.display.toLowerCase()>=t.display.toLowerCase()?1:-1)),n.concat(t)},e.sort_obj=function(e){let t={},r=[];for(let n in e){let e=n.toLowerCase();t[e]=n,r.push(e)}r.sort();let n={};for(let i of r){let r=t[i];n[r]=e[r]}return n},e.stableSort=function e(t){if(Array.isArray(t))return t.map(e);if(null!=t&&"object"==typeof t){let r={};return Object.keys(t).sort().forEach((n=>r[n]=e(t[n]))),r}return t},e.stableSortLanguages=function e(t){if(Array.isArray(t))return t;if(null!=t&&"object"==typeof t){let r={};return Object.keys(t).sort().forEach((n=>r[n]=e(t[n]))),r}return t},e.stripFalsy=function e(t,r){return Object.fromEntries(Object.entries(t).filter((e=>{let[t,r]=e;return!!r})).map((t=>{let[n,i]=t;return[n,i===Object(i)&&r?e(i,r):i]})))},e.to_object=function(e){let t={};for(let r of e)t[r[0]]=r[1];return t},e.walk=function e(t,r,n){if(null!=n||(n=""),r(t,n),null!=t&&"object"==typeof t)for(let i in t){let a=t[i];e(a,r,n+"."+i)}},Ue();var t=o(it()),r=o(pt()),n=o(Zt()),i=nt();function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function s(e){return null!=e&&"object"==typeof e}function l(e,r,a,o){if(null==r)throw new t.UnexpectedError("Trying to _deep_copy onto mising value",{dest:r,key:(0,i.to_loggable)(a),value:(0,i.to_loggable)(o)});if("object"==typeof o&&null!==o)null==r[a]&&(Array.isArray(o)?r[a]=[]:r[a]={}),_(e,r[a],o);else if(void 0!==o)if(!e||"id"!==a&&"_id"!==a)r[a]=o;else{let t=r[a],i=n.LUID();r[a]=i,e[t]=i}}function _(e,r){if(null==r)throw new t.UnexpectedError("Trying to dc onto mising value",{dest:(0,i.to_loggable)(r)});for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];if(Array.isArray(r))for(let n of a){if(!Array.isArray(n))throw new t.UnexpectedError("can only extend an array with another array");for(let t=0;t<n.length;t++)l(e,r,t,n[t])}else for(let t of a)for(let n in t){l(e,r,n,t[n])}return r}function u(e){return!("object"!=typeof e||!e)&&"function"==typeof e.toUniqueString}function c(e){return e=e.map((e=>{if(null==e||["string","number"].includes(typeof e)||e instanceof Date)return e;if(Array.isArray(e))return c(e);if(u(e)&&""!==e.toUniqueString())return e.toUniqueString();throw new t.UnexpectedError("bad smush: "+String(e))})),JSON.stringify(e)}function d(e){return!(null==e||"object"!=typeof e||Object.keys(e).length>0)}})),er=u(((e,t)=>{"use strict";f(),t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;0!=i--;){var o=a[i];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}})),tr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.TimeoutLinkedList=e.LinkedList=void 0,e.array_remove=function(e,t){let r;if(e)for(;-1!==(r=e.indexOf(t));)e.splice(r,1)},e.array_replace=function(e,t,r){return e.map((e=>e===t?r:e))},e.isArrayLike=function(e){return(0,t.default)(Object.fromEntries(Object.entries(Object.values(e))),e)},e.join_into_human_readable_list=function(e){if(e.length<2)return e[0]||"";{let t=e.slice(0,-1).join(", "),r=e.slice(-1)[0];return[t,r].join(" and ")}},e.partition=function(e){let t=Math.ceil(e.length/2),r=e.slice(0,t),n=e.slice(t);return[r,n]},e.range=function(e,t){void 0===t&&(t=e,e=0);let r=[];for(let n=e;n<t;n++)r.push(n);return r},e.range_right=function(e,t){void 0===t&&(t=e,e=0);let r=[];for(let n=1;n<=t-e;n++)r.push(t-n);return r},e.shuffle_array=function(e){let t=e.length;for(;--t>0;){let r=~~(Math.random()*(t+1)),n=e[r];e[r]=e[t],e[t]=n}return e},e.sort_array=function(e,t){let r=[];for(let n of t)e.includes(n)&&r.push(n);for(let n of e)!r.includes(n)&&!t.includes(n)&&r.push(n);return r},e.unique=function(e){let t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return Object.values(t)},e.zip=function(e,t,r){if(e.length!==t.length)throw new Error(`zip: left array size ${e.length}; right array size ${t.length}`);return[...Array(e.length)].map(((n,i)=>r(e[i],t[i])))},Ze(),Ue();var t=function(e){return e&&e.__esModule?e:{default:e}}(er());var r=class{constructor(){this.length=void 0,this.links=void 0,this.length=0,this.links=null}push(e){if(this.links)this.links.tail.next={item:e},this.links.tail=this.links.tail.next;else{let t={item:e};this.links={head:t,tail:t}}return this.length++,this.length}shift(){if(null===this.links)return;let{item:e}=this.links.head;return this.links.head.next?this.links.head=this.links.head.next:this.links=null,this.length--,e}shift_while(e,t){for(;null!==this.links&&e(this.links.head.item);){let e=this.links.head.item;this.shift(),t(e)}}peek(){var e;return null==(e=this.links)?void 0:e.head.item}peek_each(e){var t;let r=null==(t=this.links)?void 0:t.head;for(;null!=r;)e(r.item),r=r.next}};e.LinkedList=r;e.TimeoutLinkedList=class{constructor(e,t){this.timeout=void 0,this.timeout_cb=void 0,this._timeout_started=!1,this.list=void 0,this.list=new r,this.timeout=e,this.timeout_cb=t}get length(){return this.list.length}push(e){let t=Date.now();return this._timeout_started||this.start_timeout(t),this.list.push({item:e,start_time:t})}shift(){var e;return null==(e=this.list.shift())?void 0:e.item}start_timeout(e){this._timeout_started=!0,setTimeout((()=>{this._timeout_started=!1,this.list.shift_while((e=>e.start_time+this.timeout<=Date.now()),(e=>{this.timeout_cb(e.item)}));let e=this.list.peek();e&&this.start_timeout(e.start_time)}),e+this.timeout-Date.now())}}})),rr=u(((e,t)=>{f(),function(r,n){"object"==typeof e&&typeof t<"u"?t.exports=n():"function"==typeof define&&define.amd?define(n):r.moment=n()}(e,(function(){"use strict";var e,r;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function _(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var r,n=[],i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function p(e,t){for(var r in t)o(t,r)&&(e[r]=t[r]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,r,n){return Ot(e,t,r,n,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=h(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function m(e){var t=f(NaN);return null!=e?p(h(t),e):h(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var v=n.momentProperties=[],y=!1;function b(e,t){var r,n,i,a=v.length;if(_(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),_(t._i)||(e._i=t._i),_(t._f)||(e._f=t._f),_(t._l)||(e._l=t._l),_(t._strict)||(e._strict=t._strict),_(t._tzm)||(e._tzm=t._tzm),_(t._isUTC)||(e._isUTC=t._isUTC),_(t._offset)||(e._offset=t._offset),_(t._pf)||(e._pf=h(t)),_(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)_(i=t[n=v[r]])||(e[n]=i);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function A(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function E(e){!1===n.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var r=!0;return p((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){var i,a,s,l=[],_=arguments.length;for(a=0;a<_;a++){if(i="","object"==typeof arguments[a]){for(s in i+="\n["+a+"] ",arguments[0])o(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];l.push(i)}E(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var x,O={};function k(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),O[e]||(E(t),O[e]=!0)}function S(e){return typeof Function<"u"&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var r,n=p({},e);for(r in t)o(t,r)&&(a(e[r])&&a(t[r])?(n[r]={},p(n[r],e[r]),p(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)o(e,r)&&!o(t,r)&&a(e[r])&&(n[r]=p({},n[r]));return n}function N(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,x=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)o(e,t)&&r.push(t);return r};function C(e,t,r){var n=""+Math.abs(e),i=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},z={};function I(e,t,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),e&&(z[e]=i),t&&(z[t[0]]=function(){return C(i.apply(this,arguments),t[1],t[2])}),r&&(z[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e,t){return e.isValid()?(t=B(t,e.localeData()),R[t]=R[t]||function(e){var t,r,n=e.match(L);for(t=0,r=n.length;t<r;t++)z[n[t]]?n[t]=z[n[t]]:n[t]=D(n[t]);return function(t){var i,a="";for(i=0;i<r;i++)a+=S(n[i])?n[i].call(t,e):n[i];return a}}(t),R[t](e)):e.localeData().invalidDate()}function B(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(P.lastIndex=0;r>=0&&P.test(e);)e=e.replace(P,n),P.lastIndex=0,r-=1;return e}var q={};function U(e,t){var r=e.toLowerCase();q[r]=q[r+"s"]=q[t]=e}function W(e){return"string"==typeof e?q[e]||q[e.toLowerCase()]:void 0}function $(e){var t,r,n={};for(r in e)o(e,r)&&((t=W(r))&&(n[t]=e[r]));return n}var F={};function G(e,t){F[e]=t}function X(e){return e%4==0&&e%100!=0||e%400==0}function H(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=H(t)),r}function Y(e,t){return function(r){return null!=r?(J(this,e,r),n.updateOffset(this,t),this):K(this,e)}}function K(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&X(e.year())&&1===e.month()&&29===e.date()?(r=V(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Ee(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}var Z,Q=/\d/,ee=/\d\d/,te=/\d{3}/,re=/\d{4}/,ne=/[+-]?\d{6}/,ie=/\d\d?/,ae=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,se=/\d{1,3}/,le=/\d{1,4}/,_e=/[+-]?\d{1,6}/,ue=/\d+/,ce=/[+-]?\d+/,de=/Z|[+-]\d\d:?\d\d/gi,pe=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function he(e,t,r){Z[e]=S(t)?t:function(e,n){return e&&r?r:t}}function ge(e,t){return o(Z,e)?Z[e](t._strict,t._locale):new RegExp(function(e){return me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,i){return t||r||n||i})))}(e))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Z={};var ve={};function ye(e,t){var r,n,i=t;for("string"==typeof e&&(e=[e]),u(t)&&(i=function(e,r){r[t]=V(e)}),n=e.length,r=0;r<n;r++)ve[e[r]]=i}function be(e,t){ye(e,(function(e,r,n,i){n._w=n._w||{},t(e,n._w,n,i)}))}function we(e,t,r){null!=t&&o(ve,e)&&ve[e](t,r._a,r,e)}var Ae;function Ee(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-r)/12,1===r?X(e)?29:28:31-r%7%2}Ae=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",(function(){return this.month()+1})),I("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),I("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),G("month",8),he("M",ie),he("MM",ie,ee),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=V(e)-1})),ye(["MMM","MMMM"],(function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);null!=i?t[1]=i:h(r).invalidMonth=e}));var Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke=fe,Se=fe;function Te(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(i=Ae.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ae.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Ae.call(this._shortMonthsParse,o))?i:-1!==(i=Ae.call(this._longMonthsParse,o))?i:null:-1!==(i=Ae.call(this._longMonthsParse,o))?i:-1!==(i=Ae.call(this._shortMonthsParse,o))?i:null}function Ne(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=V(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Ee(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Ce(e){return null!=e?(Ne(this,e),n.updateOffset(this,!0),this):K(this,"Month")}function Le(){function e(e,t){return t.length-e.length}var t,r,n=[],i=[],a=[];for(t=0;t<12;t++)r=f([2e3,t]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),a.push(this.months(r,"")),a.push(this.monthsShort(r,""));for(n.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)n[t]=me(n[t]),i[t]=me(i[t]);for(t=0;t<24;t++)a[t]=me(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Pe(e){return X(e)?366:365}I("Y",0,0,(function(){var e=this.year();return e<=9999?C(e,4):"+"+e})),I(0,["YY",2],0,(function(){return this.year()%100})),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),U("year","y"),G("year",1),he("Y",ce),he("YY",ie,ee),he("YYYY",le,re),he("YYYYY",_e,ne),he("YYYYYY",_e,ne),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):V(e)})),ye("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var Re=Y("FullYear",!0);function ze(e,t,r,n,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,i,a,o),s}function Ie(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function De(e,t,r){var n=7+t-r;return-((7+Ie(e,0,n).getUTCDay()-t)%7)+n-1}function je(e,t,r,n,i){var a,o,s=1+7*(t-1)+(7+r-n)%7+De(e,n,i);return s<=0?o=Pe(a=e-1)+s:s>Pe(e)?(a=e+1,o=s-Pe(e)):(a=e,o=s),{year:a,dayOfYear:o}}function Be(e,t,r){var n,i,a=De(e.year(),t,r),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?n=o+qe(i=e.year()-1,t,r):o>qe(e.year(),t,r)?(n=o-qe(e.year(),t,r),i=e.year()+1):(i=e.year(),n=o),{week:n,year:i}}function qe(e,t,r){var n=De(e,t,r),i=De(e+1,t,r);return(Pe(e)-n+i)/7}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),G("week",5),G("isoWeek",5),he("w",ie),he("ww",ie,ee),he("W",ie),he("WW",ie,ee),be(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=V(e)}));function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}I("d",0,"do","day"),I("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),I("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),I("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),he("d",ie),he("e",ie),he("E",ie),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),be(["dd","ddd","dddd"],(function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);null!=i?t.d=i:h(r).invalidWeekday=e})),be(["d","e","E"],(function(e,t,r,n){t[n]=V(e)}));var We="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=fe,Xe=fe,He=fe;function Ve(e,t,r){var n,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(i=Ae.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ae.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ae.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Ae.call(this._weekdaysParse,o))||-1!==(i=Ae.call(this._shortWeekdaysParse,o))?i:-1!==(i=Ae.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ae.call(this._shortWeekdaysParse,o))||-1!==(i=Ae.call(this._weekdaysParse,o))?i:-1!==(i=Ae.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ae.call(this._minWeekdaysParse,o))||-1!==(i=Ae.call(this._weekdaysParse,o))?i:-1!==(i=Ae.call(this._shortWeekdaysParse,o))?i:null}function Ye(){function e(e,t){return t.length-e.length}var t,r,n,i,a,o=[],s=[],l=[],_=[];for(t=0;t<7;t++)r=f([2e3,1]).day(t),n=me(this.weekdaysMin(r,"")),i=me(this.weekdaysShort(r,"")),a=me(this.weekdays(r,"")),o.push(n),s.push(i),l.push(a),_.push(n),_.push(i),_.push(a);o.sort(e),s.sort(e),l.sort(e),_.sort(e),this._weekdaysRegex=new RegExp("^("+_.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Je(e,t){I(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ze(e,t){return t._meridiemParse}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Ke),I("k",["kk",2],0,(function(){return this.hours()||24})),I("hmm",0,0,(function(){return""+Ke.apply(this)+C(this.minutes(),2)})),I("hmmss",0,0,(function(){return""+Ke.apply(this)+C(this.minutes(),2)+C(this.seconds(),2)})),I("Hmm",0,0,(function(){return""+this.hours()+C(this.minutes(),2)})),I("Hmmss",0,0,(function(){return""+this.hours()+C(this.minutes(),2)+C(this.seconds(),2)})),Je("a",!0),Je("A",!1),U("hour","h"),G("hour",13),he("a",Ze),he("A",Ze),he("H",ie),he("h",ie),he("k",ie),he("HH",ie,ee),he("hh",ie,ee),he("kk",ie,ee),he("hmm",ae),he("hmmss",oe),he("Hmm",ae),he("Hmmss",oe),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,r){var n=V(e);t[3]=24===n?0:n})),ye(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),ye(["h","hh"],(function(e,t,r){t[3]=V(e),h(r).bigHour=!0})),ye("hmm",(function(e,t,r){var n=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n)),h(r).bigHour=!0})),ye("hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n,2)),t[5]=V(e.substr(i)),h(r).bigHour=!0})),ye("Hmm",(function(e,t,r){var n=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n))})),ye("Hmmss",(function(e,t,r){var n=e.length-4,i=e.length-2;t[3]=V(e.substr(0,n)),t[4]=V(e.substr(n,2)),t[5]=V(e.substr(i))}));var Qe=Y("Hours",!0);var et,tt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:xe,week:{dow:0,doy:6},weekdays:We,weekdaysMin:Fe,weekdaysShort:$e,meridiemParse:/[ap]\.?m?\.?/i},rt={},nt={};function it(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function at(e){return e&&e.toLowerCase().replace("_","-")}function ot(e){var r=null;if(void 0===rt[e]&&typeof t<"u"&&t&&t.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(e))try{r=et._abbr,l("./locale/"+e),st(r)}catch{rt[e]=null}return rt[e]}function st(e,t){var r;return e&&((r=_(t)?_t(e):lt(e,t))?et=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),et._abbr}function lt(e,t){if(null!==t){var r,n=tt;if(t.abbr=e,null!=rt[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=rt[e]._config;else if(null!=t.parentLocale)if(null!=rt[t.parentLocale])n=rt[t.parentLocale]._config;else{if(null==(r=ot(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;n=r._config}return rt[e]=new N(T(n,t)),nt[e]&&nt[e].forEach((function(e){lt(e.name,e.config)})),st(e),rt[e]}return delete rt[e],null}function _t(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return et;if(!i(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,r,n,i,a=0;a<e.length;){for(t=(i=at(e[a]).split("-")).length,r=(r=at(e[a+1]))?r.split("-"):null;t>0;){if(n=ot(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&it(i,r)>=t-1)break;t--}a++}return et}(e)}function ut(e){var t,r=e._a;return r&&-2===h(e).overflow&&(t=r[1]<0||r[1]>11?1:r[2]<1||r[2]>Ee(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function yt(e){var t,r,n,i,a,o,s=e._i,l=ct.exec(s)||dt.exec(s),_=ft.length,u=ht.length;if(l){for(h(e).iso=!0,t=0,r=_;t<r;t++)if(ft[t][1].exec(l[1])){i=ft[t][0],n=!1!==ft[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,r=u;t<r;t++)if(ht[t][1].exec(l[3])){a=(l[2]||" ")+ht[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(l[4]){if(!pt.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Mt(e)}else e._isValid=!1}function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function wt(e){var t,r=mt.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(r){if(t=function(e,t,r,n,i,a){var o=[bt(e),xe.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}(r[4],r[3],r[2],r[5],r[6],r[7]),!function(e,t,r){return!e||$e.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(r).weekdayMismatch=!0,r._isValid=!1,!1)}(r[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return vt[e];if(t)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(r[8],r[9],r[10]),e._d=Ie.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function At(e,t,r){return null!=e?e:null!=t?t:r}function Et(e){var t,r,i,a,o,s=[];if(!e._d){for(i=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,r,n,i,a,o,s,l,_;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,r=At(t.GG,e._a[0],Be(kt(),1,4).year),n=At(t.W,1),((i=At(t.E,1))<1||i>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,_=Be(kt(),a,o),r=At(t.gg,e._a[0],_.year),n=At(t.w,_.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),n<1||n>qe(r,a,o)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=je(r,n,i,a,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=At(e._a[0],i[0]),(e._dayOfYear>Pe(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),r=Ie(o,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ie:ze).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(h(e).weekdayMismatch=!0)}}function Mt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,r,i,a,o,s,l,_=""+e._i,u=_.length,c=0;for(l=(i=B(e._f,e._locale).match(L)||[]).length,t=0;t<l;t++)a=i[t],(r=(_.match(ge(a,e))||[])[0])&&((o=_.substr(0,_.indexOf(r))).length>0&&h(e).unusedInput.push(o),_=_.slice(_.indexOf(r)+r.length),c+=r.length),z[a]?(r?h(e).empty=!1:h(e).unusedTokens.push(a),we(a,r,e)):e._strict&&!r&&h(e).unusedTokens.push(a);h(e).charsLeftOver=u-c,_.length>0&&h(e).unusedInput.push(_),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):(null!=e.isPM&&((n=e.isPM(r))&&t<12&&(t+=12),!n&&12===t&&(t=0)),t)}(e._locale,e._a[3],e._meridiem),null!==(s=h(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),Et(e),ut(e)}else wt(e);else yt(e)}function xt(e){var t=e._i,r=e._f;return e._locale=e._locale||_t(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),A(t)?new w(ut(t)):(c(t)?e._d=t:i(r)?function(e){var t,r,n,i,a,o,s=!1,l=e._f.length;if(0===l)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Mt(t),g(t)&&(o=!0),a+=h(t).charsLeftOver,a+=10*h(t).unusedTokens.length,h(t).score=a,s?a<n&&(n=a,r=t):(null==n||a<n||o)&&(n=a,r=t,o&&(s=!0));p(e,r||t)}(e):r?Mt(e):function(e){var t=e._i;_(t)?e._d=new Date(n.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=gt.exec(e._i);null===t?(yt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Et(e)):a(t)?function(e){if(!e._d){var t=$(e._i),r=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Et(e)}}(e):u(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Ot(e,t,r,n,o){var l={};return(!0===t||!1===t)&&(n=t,t=void 0),(!0===r||!1===r)&&(n=r,r=void 0),(a(e)&&s(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=r,l._i=e,l._f=t,l._strict=n,function(e){var t=new w(ut(xt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(l)}function kt(e,t,r,n){return Ot(e,t,r,n,!1)}n.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var St=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Tt=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Nt(e,t){var r,n;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return kt();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}var Ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Lt(e){var t=$(e),r=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,l=t.hour||0,_=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,r,n=!1,i=Ct.length;for(t in e)if(o(e,t)&&(-1===Ae.call(Ct,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<i;++r)if(e[Ct[r]]){if(n)return!1;parseFloat(e[Ct[r]])!==V(e[Ct[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*_+1e3*l*60*60,this._days=+s+7*a,this._months=+i+3*n+12*r,this._data={},this._locale=_t(),this._bubble()}function Pt(e){return e instanceof Lt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function zt(e,t){I(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+C(~~(e/60),2)+t+C(~~e%60,2)}))}zt("Z",":"),zt("ZZ",""),he("Z",pe),he("ZZ",pe),ye(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=Dt(pe,e)}));var It=/([\+\-]|\d\d)/gi;function Dt(e,t){var r,n,i=(t||"").match(e);return null===i?null:0===(n=60*(r=((i[i.length-1]||[])+"").match(It)||["-",0,0])[1]+V(r[2]))?0:"+"===r[0]?n:-n}function jt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(A(e)||c(e)?e.valueOf():kt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):kt(e).local()}function Bt(e){return-Math.round(e._d.getTimezoneOffset())}function qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Wt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $t(e,t){var r,n,i,a=e,s=null;return Pt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(s=Ut.exec(e))?(r="-"===s[1]?-1:1,a={y:0,d:V(s[2])*r,h:V(s[3])*r,m:V(s[4])*r,s:V(s[5])*r,ms:V(Rt(1e3*s[6]))*r}):(s=Wt.exec(e))?(r="-"===s[1]?-1:1,a={y:Ft(s[2],r),M:Ft(s[3],r),w:Ft(s[4],r),d:Ft(s[5],r),h:Ft(s[6],r),m:Ft(s[7],r),s:Ft(s[8],r)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=function(e,t){var r;return e.isValid()&&t.isValid()?(t=jt(t,e),e.isBefore(t)?r=Gt(e,t):((r=Gt(t,e)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}(kt(a.from),kt(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),n=new Lt(a),Pt(e)&&o(e,"_locale")&&(n._locale=e._locale),Pt(e)&&o(e,"_isValid")&&(n._isValid=e._isValid),n}function Ft(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Gt(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Xt(e,t){return function(r,n){var i;return null!==n&&!isNaN(+n)&&(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Ht(this,$t(r,n),e),this}}function Ht(e,t,r,i){var a=t._milliseconds,o=Rt(t._days),s=Rt(t._months);e.isValid()&&(i=null==i||i,s&&Ne(e,K(e,"Month")+s*r),o&&J(e,"Date",K(e,"Date")+o*r),a&&e._d.setTime(e._d.valueOf()+a*r),i&&n.updateOffset(e,o||s))}$t.fn=Lt.prototype,$t.invalid=function(){return $t(NaN)};var Vt=Xt(1,"add"),Yt=Xt(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function Jt(e){return A(e)||c(e)||Kt(e)||u(e)||function(e){var t=i(e),r=!1;return t&&(r=0===e.filter((function(t){return!u(t)&&Kt(e)})).length),t&&r}(e)||function(e){var t,r,n=a(e)&&!s(e),i=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],_=l.length;for(t=0;t<_;t+=1)r=l[t],i=i||o(e,r);return n&&i}(e)||null==e}function Zt(e){var t,r=a(e)&&!s(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)n=n||o(e,i[t]);return r&&n}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var r,n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return t-i<0?r=(t-i)/(i-e.clone().add(n-1,"months")):r=(t-i)/(e.clone().add(n+1,"months")-i),-(n+r)||0}function er(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_t(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tr=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function rr(){return this._locale}var nr=1e3,ir=6e4,ar=60*ir,or=3506328*ar;function sr(e,t){return(e%t+t)%t}function lr(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-or:new Date(e,t,r).valueOf()}function _r(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-or:Date.UTC(e,t,r)}function ur(e,t){return t.erasAbbrRegex(e)}function cr(){var e,t,r=[],n=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)n.push(me(o[e].name)),r.push(me(o[e].abbr)),i.push(me(o[e].narrow)),a.push(me(o[e].name)),a.push(me(o[e].abbr)),a.push(me(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function dr(e,t){I(0,[e,e.length],0,t)}function pr(e,t,r,n,i){var a;return null==e?Be(this,n,i).year:(t>(a=qe(e,n,i))&&(t=a),fr.call(this,e,t,r,n,i))}function fr(e,t,r,n,i){var a=je(e,t,r,n,i),o=Ie(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}I("N",0,0,"eraAbbr"),I("NN",0,0,"eraAbbr"),I("NNN",0,0,"eraAbbr"),I("NNNN",0,0,"eraName"),I("NNNNN",0,0,"eraNarrow"),I("y",["y",1],"yo","eraYear"),I("y",["yy",2],0,"eraYear"),I("y",["yyy",3],0,"eraYear"),I("y",["yyyy",4],0,"eraYear"),he("N",ur),he("NN",ur),he("NNN",ur),he("NNNN",(function(e,t){return t.erasNameRegex(e)})),he("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?h(r).era=i:h(r).invalidEra=e})),he("y",ue),he("yy",ue),he("yyy",ue),he("yyyy",ue),he("yo",(function(e,t){return t._eraYearOrdinalRegex||ue})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[0]=r._locale.eraYearOrdinalParse(e,i):t[0]=parseInt(e,10)})),I(0,["gg",2],0,(function(){return this.weekYear()%100})),I(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),dr("gggg","weekYear"),dr("ggggg","weekYear"),dr("GGGG","isoWeekYear"),dr("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),he("G",ce),he("g",ce),he("GG",ie,ee),he("gg",ie,ee),he("GGGG",le,re),he("gggg",le,re),he("GGGGG",_e,ne),he("ggggg",_e,ne),be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=V(e)})),be(["gg","GG"],(function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)})),I("Q",0,"Qo","quarter"),U("quarter","Q"),G("quarter",7),he("Q",Q),ye("Q",(function(e,t){t[1]=3*(V(e)-1)})),I("D",["DD",2],"Do","date"),U("date","D"),G("date",9),he("D",ie),he("DD",ie,ee),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=V(e.match(ie)[0])}));var hr=Y("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),G("dayOfYear",4),he("DDD",se),he("DDDD",te),ye(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=V(e)})),I("m",["mm",2],0,"minute"),U("minute","m"),G("minute",14),he("m",ie),he("mm",ie,ee),ye(["m","mm"],4);var gr=Y("Minutes",!1);I("s",["ss",2],0,"second"),U("second","s"),G("second",15),he("s",ie),he("ss",ie,ee),ye(["s","ss"],5);var mr,vr,yr=Y("Seconds",!1);for(I("S",0,0,(function(){return~~(this.millisecond()/100)})),I(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),I(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),I(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),I(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),I(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),I(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),G("millisecond",16),he("S",se,Q),he("SS",se,ee),he("SSS",se,te),mr="SSSS";mr.length<=9;mr+="S")he(mr,ue);function br(e,t){t[6]=V(1e3*("0."+e))}for(mr="S";mr.length<=9;mr+="S")ye(mr,br);vr=Y("Milliseconds",!1),I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var wr=w.prototype;function Ar(e){return e}wr.add=Vt,wr.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):Zt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||kt(),i=jt(r,this).startOf("day"),a=n.calendarFormat(this,i)||"sameElse",o=t&&(S(t[a])?t[a].call(this,r):t[a]);return this.format(o||this.localeData().calendar(a,this,kt(r)))},wr.clone=function(){return new w(this)},wr.diff=function(e,t,r){var n,i,a;if(!this.isValid())return NaN;if(!(n=jt(e,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),t=W(t)){case"year":a=Qt(this,n)/12;break;case"month":a=Qt(this,n);break;case"quarter":a=Qt(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:H(a)},wr.endOf=function(e){var t,r;if(void 0===(e=W(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?_r:lr,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ar-sr(t+(this._isUTC?0:this.utcOffset()*ir),ar)-1;break;case"minute":t=this._d.valueOf(),t+=ir-sr(t,ir)-1;break;case"second":t=this._d.valueOf(),t+=nr-sr(t,nr)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},wr.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},wr.from=function(e,t){return this.isValid()&&(A(e)&&e.isValid()||kt(e).isValid())?$t({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wr.fromNow=function(e){return this.from(kt(),e)},wr.to=function(e,t){return this.isValid()&&(A(e)&&e.isValid()||kt(e).isValid())?$t({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wr.toNow=function(e){return this.to(kt(),e)},wr.get=function(e){return S(this[e=W(e)])?this[e]():this},wr.invalidAt=function(){return h(this).overflow},wr.isAfter=function(e,t){var r=A(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},wr.isBefore=function(e,t){var r=A(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},wr.isBetween=function(e,t,r,n){var i=A(e)?e:kt(e),a=A(t)?t:kt(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(a,r):!this.isAfter(a,r)))},wr.isSame=function(e,t){var r,n=A(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=W(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},wr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},wr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},wr.isValid=function(){return g(this)},wr.lang=tr,wr.locale=er,wr.localeData=rr,wr.max=Tt,wr.min=St,wr.parsingFlags=function(){return p({},h(this))},wr.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)o(e,t)&&r.push({unit:t,priority:F[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=$(e)),i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(S(this[e=W(e)]))return this[e](t);return this},wr.startOf=function(e){var t,r;if(void 0===(e=W(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?_r:lr,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sr(t+(this._isUTC?0:this.utcOffset()*ir),ar);break;case"minute":t=this._d.valueOf(),t-=sr(t,ir);break;case"second":t=this._d.valueOf(),t-=sr(t,nr)}return this._d.setTime(t),n.updateOffset(this,!0),this},wr.subtract=Yt,wr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},wr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},wr.toDate=function(){return new Date(this.valueOf())},wr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?j(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(r,"Z")):j(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",i="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",r=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},typeof Symbol<"u"&&null!=Symbol.for&&(wr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),wr.toJSON=function(){return this.isValid()?this.toISOString():null},wr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wr.unix=function(){return Math.floor(this.valueOf()/1e3)},wr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wr.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""},wr.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""},wr.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""},wr.eraYear=function(){var e,t,r,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-n(a[e].since).year())*r+a[e].offset;return this.year()},wr.year=Re,wr.isLeapYear=function(){return X(this.year())},wr.weekYear=function(e){return pr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wr.isoWeekYear=function(e){return pr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},wr.quarter=wr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},wr.month=Ce,wr.daysInMonth=function(){return Ee(this.year(),this.month())},wr.week=wr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},wr.isoWeek=wr.isoWeeks=function(e){var t=Be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},wr.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},wr.weeksInWeekYear=function(){var e=this.localeData()._week;return qe(this.weekYear(),e.dow,e.doy)},wr.isoWeeksInYear=function(){return qe(this.year(),1,4)},wr.isoWeeksInISOWeekYear=function(){return qe(this.isoWeekYear(),1,4)},wr.date=hr,wr.day=wr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},wr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},wr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},wr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},wr.hour=wr.hours=Qe,wr.minute=wr.minutes=gr,wr.second=wr.seconds=yr,wr.millisecond=wr.milliseconds=vr,wr.utcOffset=function(e,t,r){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Dt(pe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Bt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Ht(this,$t(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Bt(this)},wr.utc=function(e){return this.utcOffset(0,e)},wr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Bt(this),"m")),this},wr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Dt(de,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},wr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},wr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wr.isLocal=function(){return!!this.isValid()&&!this._isUTC},wr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wr.isUtc=qt,wr.isUTC=qt,wr.zoneAbbr=function(){return this._isUTC?"UTC":""},wr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wr.dates=M("dates accessor is deprecated. Use date instead.",hr),wr.months=M("months accessor is deprecated. Use month instead",Ce),wr.years=M("years accessor is deprecated. Use year instead",Re),wr.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),wr.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!_(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=xt(t))._a?(e=t._isUTC?f(t._a):kt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,r){var n,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(n=0;n<i;n++)(r&&e[n]!==t[n]||!r&&V(e[n])!==V(t[n]))&&o++;return o+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Er=N.prototype;function Mr(e,t,r,n){var i=_t(),a=f().set(n,t);return i[r](a,e)}function xr(e,t,r){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Mr(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Mr(e,n,r,"month");return i}function Or(e,t,r,n){"boolean"==typeof e?(u(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,u(t)&&(r=t,t=void 0),t=t||"");var i,a=_t(),o=e?a._week.dow:0,s=[];if(null!=r)return Mr(t,(r+o)%7,n,"day");for(i=0;i<7;i++)s[i]=Mr(t,(i+o)%7,n,"day");return s}Er.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return S(n)?n.call(t,r):n},Er.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Er.invalidDate=function(){return this._invalidDate},Er.ordinal=function(e){return this._ordinal.replace("%d",e)},Er.preparse=Ar,Er.postformat=Ar,Er.relativeTime=function(e,t,r,n){var i=this._relativeTime[r];return S(i)?i(e,t,r,n):i.replace(/%d/i,e)},Er.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return S(r)?r(t):r.replace(/%s/i,t)},Er.set=function(e){var t,r;for(r in e)o(e,r)&&(S(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Er.eras=function(e,t){var r,i,a,o=this._eras||_t("en")._eras;for(r=0,i=o.length;r<i;++r){switch(typeof o[r].since){case"string":a=n(o[r].since).startOf("day"),o[r].since=a.valueOf()}switch(typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":a=n(o[r].until).startOf("day").valueOf(),o[r].until=a.valueOf()}}return o},Er.erasParse=function(e,t,r){var n,i,a,o,s,l=this.eras();for(e=e.toUpperCase(),n=0,i=l.length;n<i;++n)if(a=l[n].name.toUpperCase(),o=l[n].abbr.toUpperCase(),s=l[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[n];break;case"NNNN":if(a===e)return l[n];break;case"NNNNN":if(s===e)return l[n]}else if([a,o,s].indexOf(e)>=0)return l[n]},Er.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r},Er.erasAbbrRegex=function(e){return o(this,"_erasAbbrRegex")||cr.call(this),e?this._erasAbbrRegex:this._erasRegex},Er.erasNameRegex=function(e){return o(this,"_erasNameRegex")||cr.call(this),e?this._erasNameRegex:this._erasRegex},Er.erasNarrowRegex=function(e){return o(this,"_erasNarrowRegex")||cr.call(this),e?this._erasNarrowRegex:this._erasRegex},Er.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Oe).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},Er.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Oe.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Er.monthsParse=function(e,t,r){var n,i,a;if(this._monthsParseExact)return Te.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=f([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},Er.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Se),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Er.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Er.week=function(e){return Be(e,this._week.dow,this._week.doy).week},Er.firstDayOfYear=function(){return this._week.doy},Er.firstDayOfWeek=function(){return this._week.dow},Er.weekdays=function(e,t){var r=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(r,this._week.dow):e?r[e.day()]:r},Er.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Er.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Er.weekdaysParse=function(e,t,r){var n,i,a;if(this._weekdaysParseExact)return Ve.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=f([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},Er.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Er.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Er.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=He),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Er.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Er.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===V(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=M("moment.lang is deprecated. Use moment.locale instead.",st),n.langData=M("moment.langData is deprecated. Use moment.localeData instead.",_t);var kr=Math.abs;function Sr(e,t,r,n){var i=$t(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Tr(e){return e<0?Math.floor(e):Math.ceil(e)}function Nr(e){return 4800*e/146097}function Cr(e){return 146097*e/4800}function Lr(e){return function(){return this.as(e)}}var Pr=Lr("ms"),Rr=Lr("s"),zr=Lr("m"),Ir=Lr("h"),Dr=Lr("d"),jr=Lr("w"),Br=Lr("M"),qr=Lr("Q"),Ur=Lr("y");function Wr(e){return function(){return this.isValid()?this._data[e]:NaN}}var $r=Wr("milliseconds"),Fr=Wr("seconds"),Gr=Wr("minutes"),Xr=Wr("hours"),Hr=Wr("days"),Vr=Wr("months"),Yr=Wr("years");var Kr=Math.round,Jr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Zr(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}var Qr=Math.abs;function en(e){return(e>0)-(e<0)||+e}function tn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,i,a,o,s,l=Qr(this._milliseconds)/1e3,_=Qr(this._days),u=Qr(this._months),c=this.asSeconds();return c?(e=H(l/60),t=H(e/60),l%=60,e%=60,r=H(u/12),u%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=c<0?"-":"",a=en(this._months)!==en(c)?"-":"",o=en(this._days)!==en(c)?"-":"",s=en(this._milliseconds)!==en(c)?"-":"",i+"P"+(r?a+r+"Y":"")+(u?a+u+"M":"")+(_?o+_+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+n+"S":"")):"P0D"}var rn=Lt.prototype;return rn.isValid=function(){return this._isValid},rn.abs=function(){var e=this._data;return this._milliseconds=kr(this._milliseconds),this._days=kr(this._days),this._months=kr(this._months),e.milliseconds=kr(e.milliseconds),e.seconds=kr(e.seconds),e.minutes=kr(e.minutes),e.hours=kr(e.hours),e.months=kr(e.months),e.years=kr(e.years),this},rn.add=function(e,t){return Sr(this,e,t,1)},rn.subtract=function(e,t){return Sr(this,e,t,-1)},rn.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=W(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Nr(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Cr(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},rn.asMilliseconds=Pr,rn.asSeconds=Rr,rn.asMinutes=zr,rn.asHours=Ir,rn.asDays=Dr,rn.asWeeks=jr,rn.asMonths=Br,rn.asQuarters=qr,rn.asYears=Ur,rn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},rn._bubble=function(){var e,t,r,n,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Tr(Cr(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=H(a/1e3),l.seconds=e%60,t=H(e/60),l.minutes=t%60,r=H(t/60),l.hours=r%24,o+=H(r/24),s+=i=H(Nr(o)),o-=Tr(Cr(i)),n=H(s/12),s%=12,l.days=o,l.months=s,l.years=n,this},rn.clone=function(){return $t(this)},rn.get=function(e){return e=W(e),this.isValid()?this[e+"s"]():NaN},rn.milliseconds=$r,rn.seconds=Fr,rn.minutes=Gr,rn.hours=Xr,rn.days=Hr,rn.weeks=function(){return H(this.days()/7)},rn.months=Vr,rn.years=Yr,rn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,i=!1,a=Jr;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(a=Object.assign({},Jr,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),n=function(e,t,r,n){var i=$t(e).abs(),a=Kr(i.as("s")),o=Kr(i.as("m")),s=Kr(i.as("h")),l=Kr(i.as("d")),_=Kr(i.as("M")),u=Kr(i.as("w")),c=Kr(i.as("y")),d=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(d=d||u<=1&&["w"]||u<r.w&&["ww",u]),(d=d||_<=1&&["M"]||_<r.M&&["MM",_]||c<=1&&["y"]||["yy",c])[2]=t,d[3]=+e>0,d[4]=n,Zr.apply(null,d)}(this,!i,a,r=this.localeData()),i&&(n=r.pastFuture(+this,n)),r.postformat(n)},rn.toISOString=tn,rn.toString=tn,rn.toJSON=tn,rn.locale=er,rn.localeData=rr,rn.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tn),rn.lang=tr,I("X",0,0,"unix"),I("x",0,0,"valueOf"),he("x",ce),he("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,r){r._d=new Date(V(e))})),n.version="2.29.4",e=kt,n.fn=wr,n.min=function(){var e=[].slice.call(arguments,0);return Nt("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return Nt("isAfter",e)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=f,n.unix=function(e){return kt(1e3*e)},n.months=function(e,t){return xr(e,t,"months")},n.isDate=c,n.locale=st,n.invalid=m,n.duration=$t,n.isMoment=A,n.weekdays=function(e,t,r){return Or(e,t,r,"weekdays")},n.parseZone=function(){return kt.apply(null,arguments).parseZone()},n.localeData=_t,n.isDuration=Pt,n.monthsShort=function(e,t){return xr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,r){return Or(e,t,r,"weekdaysMin")},n.defineLocale=lt,n.updateLocale=function(e,t){if(null!=t){var r,n,i=tt;null!=rt[e]&&null!=rt[e].parentLocale?rt[e].set(T(rt[e]._config,t)):(null!=(n=ot(e))&&(i=n._config),t=T(i,t),null==n&&(t.abbr=e),(r=new N(t)).parentLocale=rt[e],rt[e]=r),st(e)}else null!=rt[e]&&(null!=rt[e].parentLocale?(rt[e]=rt[e].parentLocale,e===st()&&st(e)):null!=rt[e]&&delete rt[e]);return rt[e]},n.locales=function(){return x(rt)},n.weekdaysShort=function(e,t,r){return Or(e,t,r,"weekdaysShort")},n.normalizeUnits=W,n.relativeTimeRounding=function(e){return void 0===e?Kr:"function"==typeof e&&(Kr=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Jr[e]&&(void 0===t?Jr[e]:(Jr[e]=t,"s"===e&&(Jr.ss=t-1),!0))},n.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=wr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}))})),nr=u(((e,t)=>{f();var r=w(),n=q(),i=S(),a=n("iterator");t.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))})),ir=u(((e,t)=>{f();var r=xe();t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}})),ar=u(((e,t)=>{f();var r=h(),n=H(),i=r.TypeError;t.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}})),or=u(((e,t)=>{f();var r=E(),n=K(),i=A(),a=r(r.bind);t.exports=function(e,t){return n(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}})),sr=u(((e,t)=>{f();var r=Ge(),n=J(),i=ge(),a=q()("iterator");t.exports=function(e){if(null!=e)return n(e,a)||n(e,"@@iterator")||i[r(e)]}})),lr=u(((e,t)=>{f();var r=h(),n=X(),i=K(),a=U(),o=Y(),s=sr(),l=r.TypeError;t.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw l(o(e)+" is not iterable")}})),_r=u(((e,t)=>{f();var r=h().TypeError;t.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}})),ur=u(((e,t)=>{"use strict";f();var r=ee(),n=te(),i=ye();t.exports=function(e,t,a){var o=r(t);o in e?n.f(e,o,i(0,a)):e[o]=a}})),cr=u(((e,t)=>{f();var r=h(),n=ne(),i=ae(),a=ur(),o=r.Array,s=Math.max;t.exports=function(e,t,r){for(var l=i(e),_=n(t,l),u=n(void 0===r?l:r,l),c=o(s(u-_,0)),d=0;_<u;_++,d++)a(c,d,e[_]);return c.length=d,c}})),dr=u(((e,t)=>{f();var r=cr(),n=Math.floor,i=function(e,t){var s=e.length,l=n(s/2);return s<8?a(e,t):o(e,i(r(e,0,l),t),i(r(e,l),t),t)},a=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},o=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e};t.exports=i})),pr=u(((e,t)=>{"use strict";f(),qe();var r=Ce(),n=h(),i=z(),a=X(),o=E(),s=nr(),l=xe(),_=ir(),u=ze(),c=Ie(),d=we(),p=ar(),g=m(),y=P(),b=or(),w=Ge(),A=U(),M=v(),x=Xe(),O=fe(),k=ye(),S=lr(),T=sr(),N=_r(),C=q(),L=dr(),R=C("iterator"),I="URLSearchParams",D=I+"Iterator",j=d.set,B=d.getterFor(I),W=d.getterFor(D),$=i("fetch"),F=i("Request"),G=i("Headers"),H=F&&F.prototype,V=G&&G.prototype,Y=n.RegExp,K=n.TypeError,J=n.decodeURIComponent,Z=n.encodeURIComponent,Q=o("".charAt),ee=o([].join),te=o([].push),re=o("".replace),ne=o([].shift),ie=o([].splice),ae=o("".split),oe=o("".slice),se=/\+/g,le=Array(4),_e=function(e){return le[e-1]||(le[e-1]=Y("((?:%[\\da-f]{2}){"+e+"})","gi"))},ue=function(e){try{return J(e)}catch{return e}},ce=function(e){var t=re(e,se," "),r=4;try{return J(t)}catch{for(;r;)t=re(t,_e(r--),ue);return t}},de=/[!'()~]|%20/g,pe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},he=function(e){return pe[e]},ge=function(e){return re(Z(e),de,he)},me=c((function(e,t){j(this,{type:D,iterator:S(B(e).entries),kind:t})}),"Iterator",(function(){var e=W(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),ve=function(e){this.entries=[],this.url=null,void 0!==e&&(M(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Q(e,0)?oe(e,1):e:x(e)))};ve.prototype={type:I,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,o,s,l,_=T(e);if(_)for(r=(t=S(e,_)).next;!(n=a(r,t)).done;){if(o=(i=S(A(n.value))).next,(s=a(o,i)).done||(l=a(o,i)).done||!a(o,i).done)throw K("Expected sequence with length 2");te(this.entries,{key:x(s.value),value:x(l.value)})}else for(var u in e)y(e,u)&&te(this.entries,{key:u,value:x(e[u])})},parseQuery:function(e){if(e)for(var t,r,n=ae(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=ae(t,"="),te(this.entries,{key:ce(ne(r)),value:ce(ee(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],te(r,ge(e.key)+"="+ge(e.value));return ee(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var be,Ae,Ee,Me,Oe=function(){p(this,ke);var e=arguments.length>0?arguments[0]:void 0;j(this,new ve(e))},ke=Oe.prototype;_(ke,{append:function(e,t){N(arguments.length,2);var r=B(this);te(r.entries,{key:x(e),value:x(t)}),r.updateURL()},delete:function(e){N(arguments.length,1);for(var t=B(this),r=t.entries,n=x(e),i=0;i<r.length;)r[i].key===n?ie(r,i,1):i++;t.updateURL()},get:function(e){N(arguments.length,1);for(var t=B(this).entries,r=x(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){N(arguments.length,1);for(var t=B(this).entries,r=x(e),n=[],i=0;i<t.length;i++)t[i].key===r&&te(n,t[i].value);return n},has:function(e){N(arguments.length,1);for(var t=B(this).entries,r=x(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){N(arguments.length,1);for(var r,n=B(this),i=n.entries,a=!1,o=x(e),s=x(t),l=0;l<i.length;l++)(r=i[l]).key===o&&(a?ie(i,l--,1):(a=!0,r.value=s));a||te(i,{key:o,value:s}),n.updateURL()},sort:function(){var e=B(this);L(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=B(this).entries,n=b(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new me(this,"keys")},values:function(){return new me(this,"values")},entries:function(){return new me(this,"entries")}},{enumerable:!0}),l(ke,R,ke.entries,{name:"entries"}),l(ke,"toString",(function(){return B(this).serialize()}),{enumerable:!0}),u(Oe,I),r({global:!0,forced:!s},{URLSearchParams:Oe}),!s&&g(G)&&(be=o(V.has),Ae=o(V.set),Ee=function(e){if(M(e)){var t,r=e.body;if(w(r)===I)return t=e.headers?new G(e.headers):new G,be(t,"content-type")||Ae(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),O(e,{body:k(0,x(r)),headers:k(0,t)})}return e},g($)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return $(e,arguments.length>1?Ee(arguments[1]):{})}}),g(F)&&(Me=function(e){return p(this,H),new F(e,arguments.length>1?Ee(arguments[1]):{})},H.constructor=Me,Me.prototype=H,r({global:!0,forced:!0},{Request:Me}))),t.exports={URLSearchParams:Oe,getState:B}})),fr=u(((e,t)=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0});t.exports={CurrentAutoRun:null,NewSources:null,NewSourcesIndex:0,CurrentNotReadyCatcher:null,server_connection_problems:!1,batch:e=>e()}})),hr=u((e=>{"use strict";function t(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r>1?r=1:r<0&&(r=0),t=n<0?-1*Math.random():n>0?Math.random():2*(Math.random()-.5),e+e*t*r}f(),Object.defineProperty(e,"__esModule",{value:!0}),e.jitter=function(e,r,n){return Math.round(t(e,r,n))},e.jitterFloat=t})),gr=u((()=>{"use strict";f();var e=qt().charAt,t=Xe(),r=we(),n=Be(),i="String Iterator",a=r.set,o=r.getterFor(i);n(String,"String",(function(e){a(this,{type:i,string:t(e),index:0})}),(function(){var t,r=o(this),n=r.string,i=r.index;return i>=n.length?{value:void 0,done:!0}:(t=e(n,i),r.index+=t.length,{value:t,done:!1})}))})),mr=u(((e,t)=>{"use strict";f();var r=W(),n=E(),i=X(),a=w(),o=ue(),s=ke(),l=Ae(),_=L(),u=x(),c=Object.assign,d=Object.defineProperty,p=n([].concat);t.exports=!c||a((function(){if(r&&1!==c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||o(c({},t)).join("")!=i}))?function(e,t){for(var n=_(e),a=arguments.length,c=1,d=s.f,f=l.f;a>c;)for(var h,g=u(arguments[c++]),m=d?p(o(g),d(g)):o(g),v=m.length,y=0;v>y;)h=m[y++],(!r||i(f,g,h))&&(n[h]=g[h]);return n}:c})),vr=u(((e,t)=>{f();var r=X(),n=U(),i=J();t.exports=function(e,t,a){var o,s;n(e);try{if(!(o=i(e,"return"))){if("throw"===t)throw a;return a}o=r(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw a;if(s)throw o;return n(o),a}})),yr=u(((e,t)=>{f();var r=U(),n=vr();t.exports=function(e,t,i,a){try{return a?t(r(i)[0],i[1]):t(i)}catch(t){n(e,"throw",t)}}})),br=u(((e,t)=>{f();var r=q(),n=ge(),i=r("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}})),wr=u(((e,t)=>{f();var r=E(),n=w(),i=m(),a=Ge(),o=z(),s=me(),l=function(){},_=[],u=o("Reflect","construct"),c=/^\s*(?:class|function)\b/,d=r(c.exec),p=!c.exec(l),h=function(e){if(!i(e))return!1;try{return u(l,_,e),!0}catch{return!1}},g=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(c,s(e))}catch{return!0}};g.sham=!0,t.exports=!u||n((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?g:h})),Ar=u(((e,t)=>{"use strict";f();var r=h(),n=or(),i=X(),a=L(),o=yr(),s=br(),l=wr(),_=ae(),u=ur(),c=lr(),d=sr(),p=r.Array;t.exports=function(e){var t=a(e),r=l(this),f=arguments.length,h=f>1?arguments[1]:void 0,g=void 0!==h;g&&(h=n(h,f>2?arguments[2]:void 0));var m,v,y,b,w,A,E=d(t),M=0;if(!E||this==p&&s(E))for(m=_(t),v=r?new this(m):p(m);m>M;M++)A=g?h(t[M],M):t[M],u(v,M,A);else for(w=(b=c(t,E)).next,v=r?new this:[];!(y=i(w,b)).done;M++)A=g?o(b,h,[y.value,M],!0):y.value,u(v,M,A);return v.length=M,v}})),Er=u(((e,t)=>{"use strict";f();var r=h(),n=E(),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",l=r.RangeError,_=n(o.exec),u=Math.floor,c=String.fromCharCode,d=n("".charCodeAt),p=n([].join),g=n([].push),m=n("".replace),v=n("".split),y=n("".toLowerCase),b=function(e){return e+22+75*(e<26)},w=function(e,t,r){var n=0;for(e=r?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),n+=36;return u(n+36*e/(e+38))},A=function(e){var t,r,n=[],a=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=d(e,r++);if(i>=55296&&i<=56319&&r<n){var a=d(e,r++);56320==(64512&a)?g(t,((1023&i)<<10)+(1023&a)+65536):(g(t,i),r--)}else g(t,i)}return t}(e)).length,o=128,_=0,f=72;for(t=0;t<e.length;t++)(r=e[t])<128&&g(n,c(r));var h=n.length,m=h;for(h&&g(n,"-");m<a;){var v=i;for(t=0;t<e.length;t++)(r=e[t])>=o&&r<v&&(v=r);var y=m+1;if(v-o>u((i-_)/y))throw l(s);for(_+=(v-o)*y,o=v,t=0;t<e.length;t++){if((r=e[t])<o&&++_>i)throw l(s);if(r==o){for(var A=_,E=36;;){var M=E<=f?1:E>=f+26?26:E-f;if(A<M)break;var x=A-M,O=36-M;g(n,c(b(M+x%O))),A=u(x/O),E+=36}g(n,c(b(A))),f=w(_,y,m==h),_=0,m++}}_++,o++}return p(n,"")};t.exports=function(e){var t,r,n=[],i=v(m(y(e),o,"."),".");for(t=0;t<i.length;t++)r=i[t],g(n,_(a,r)?"xn--"+A(r):r);return p(n,".")}})),Mr=u((()=>{"use strict";f(),gr();var e,t=Ce(),r=W(),n=nr(),i=h(),a=or(),o=E(),s=ce().f,l=xe(),_=ar(),u=P(),c=mr(),d=Ar(),p=cr(),g=qt().codeAt,m=Er(),v=Xe(),y=ze(),b=pr(),w=we(),A=w.set,M=w.getterFor("URL"),x=b.URLSearchParams,O=b.getState,k=i.URL,S=i.TypeError,T=i.parseInt,N=Math.floor,C=Math.pow,L=o("".charAt),R=o(/./.exec),z=o([].join),I=o(1..toString),D=o([].pop),j=o([].push),B=o("".replace),q=o([].shift),U=o("".split),$=o("".slice),F=o("".toLowerCase),G=o([].unshift),X="Invalid scheme",H="Invalid host",V="Invalid port",Y=/[a-z]/i,K=/[\d+-.a-z]/i,J=/\d/,Z=/^0x/i,Q=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,re=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ae=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)G(t,e%256),e=N(e/256);return z(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=I(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},se={},le=c({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),_e=c({},le,{"#":1,"?":1,"{":1,"}":1}),ue=c({},_e,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var r=g(e,0);return r>32&&r<127&&!u(t,e)?e:encodeURIComponent(e)},pe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var r;return 2==e.length&&R(Y,L(e,0))&&(":"==(r=L(e,1))||!t&&"|"==r)},he=function(e){var t;return e.length>1&&fe($(e,0,2))&&(2==e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},ge=function(e){return"."===e||"%2e"===F(e)},me=function(e){return".."===(e=F(e))||"%2e."===e||".%2e"===e||"%2e%2e"===e},ve={},ye={},be={},Ae={},Ee={},Me={},Oe={},ke={},Se={},Te={},Ne={},Le={},Pe={},Re={},Ie={},De={},je={},Be={},qe={},Ue={},We={},$e=function(e,t,r){var n,i,a,o=v(e);if(t){if(i=this.parse(o))throw S(i);this.searchParams=null}else{if(void 0!==r&&(n=new $e(r,!0)),i=this.parse(o,null,n))throw S(i);(a=O(new x)).bindURL(this),this.searchParams=a}};$e.prototype={type:"URL",parse:function(t,r,n){var i,a,o,s,l=this,_=r||ve,c=0,f="",h=!1,g=!1,m=!1;for(t=v(t),r||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,t=B(t,ie,"")),t=B(t,ae,""),i=d(t);c<=i.length;){switch(a=i[c],_){case ve:if(!a||!R(Y,a)){if(r)return X;_=be;continue}f+=F(a),_=ye;break;case ye:if(a&&(R(K,a)||"+"==a||"-"==a||"."==a))f+=F(a);else{if(":"!=a){if(r)return X;f="",_=be,c=0;continue}if(r&&(l.isSpecial()!=u(pe,f)||"file"==f&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=f,r)return void(l.isSpecial()&&pe[l.scheme]==l.port&&(l.port=null));f="","file"==l.scheme?_=Re:l.isSpecial()&&n&&n.scheme==l.scheme?_=Ae:l.isSpecial()?_=ke:"/"==i[c+1]?(_=Ee,c++):(l.cannotBeABaseURL=!0,j(l.path,""),_=qe)}break;case be:if(!n||n.cannotBeABaseURL&&"#"!=a)return X;if(n.cannotBeABaseURL&&"#"==a){l.scheme=n.scheme,l.path=p(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,_=We;break}_="file"==n.scheme?Re:Me;continue;case Ae:if("/"!=a||"/"!=i[c+1]){_=Me;continue}_=Se,c++;break;case Ee:if("/"==a){_=Te;break}_=Be;continue;case Me:if(l.scheme=n.scheme,a==e)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=p(n.path),l.query=n.query;else if("/"==a||"\\"==a&&l.isSpecial())_=Oe;else if("?"==a)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=p(n.path),l.query="",_=Ue;else{if("#"!=a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=p(n.path),l.path.length--,_=Be;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=p(n.path),l.query=n.query,l.fragment="",_=We}break;case Oe:if(!l.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,_=Be;continue}_=Te}else _=Se;break;case ke:if(_=Se,"/"!=a||"/"!=L(f,c+1))continue;c++;break;case Se:if("/"!=a&&"\\"!=a){_=Te;continue}break;case Te:if("@"==a){h&&(f="%40"+f),h=!0,o=d(f);for(var y=0;y<o.length;y++){var b=o[y];if(":"!=b||m){var w=de(b,ue);m?l.password+=w:l.username+=w}else m=!0}f=""}else if(a==e||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(h&&""==f)return"Invalid authority";c-=d(f).length+1,f="",_=Ne}else f+=a;break;case Ne:case Le:if(r&&"file"==l.scheme){_=De;continue}if(":"!=a||g){if(a==e||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==f)return H;if(r&&""==f&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(f))return s;if(f="",_=je,r)return;continue}"["==a?g=!0:"]"==a&&(g=!1),f+=a}else{if(""==f)return H;if(s=l.parseHost(f))return s;if(f="",_=Pe,r==Le)return}break;case Pe:if(!R(J,a)){if(a==e||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()||r){if(""!=f){var A=T(f,10);if(A>65535)return V;l.port=l.isSpecial()&&A===pe[l.scheme]?null:A,f=""}if(r)return;_=je;continue}return V}f+=a;break;case Re:if(l.scheme="file","/"==a||"\\"==a)_=Ie;else{if(!n||"file"!=n.scheme){_=Be;continue}if(a==e)l.host=n.host,l.path=p(n.path),l.query=n.query;else if("?"==a)l.host=n.host,l.path=p(n.path),l.query="",_=Ue;else{if("#"!=a){he(z(p(i,c),""))||(l.host=n.host,l.path=p(n.path),l.shortenPath()),_=Be;continue}l.host=n.host,l.path=p(n.path),l.query=n.query,l.fragment="",_=We}}break;case Ie:if("/"==a||"\\"==a){_=De;break}n&&"file"==n.scheme&&!he(z(p(i,c),""))&&(fe(n.path[0],!0)?j(l.path,n.path[0]):l.host=n.host),_=Be;continue;case De:if(a==e||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&fe(f))_=Be;else if(""==f){if(l.host="",r)return;_=je}else{if(s=l.parseHost(f))return s;if("localhost"==l.host&&(l.host=""),r)return;f="",_=je}continue}f+=a;break;case je:if(l.isSpecial()){if(_=Be,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=e&&(_=Be,"/"!=a))continue}else l.fragment="",_=We;else l.query="",_=Ue;break;case Be:if(a==e||"/"==a||"\\"==a&&l.isSpecial()||!r&&("?"==a||"#"==a)){if(me(f)?(l.shortenPath(),"/"!=a&&!("\\"==a&&l.isSpecial())&&j(l.path,"")):ge(f)?"/"!=a&&!("\\"==a&&l.isSpecial())&&j(l.path,""):("file"==l.scheme&&!l.path.length&&fe(f)&&(l.host&&(l.host=""),f=L(f,0)+":"),j(l.path,f)),f="","file"==l.scheme&&(a==e||"?"==a||"#"==a))for(;l.path.length>1&&""===l.path[0];)q(l.path);"?"==a?(l.query="",_=Ue):"#"==a&&(l.fragment="",_=We)}else f+=de(a,_e);break;case qe:"?"==a?(l.query="",_=Ue):"#"==a?(l.fragment="",_=We):a!=e&&(l.path[0]+=de(a,se));break;case Ue:r||"#"!=a?a!=e&&("'"==a&&l.isSpecial()?l.query+="%27":l.query+="#"==a?"%23":de(a,se)):(l.fragment="",_=We);break;case We:a!=e&&(l.fragment+=de(a,le))}c++}},parseHost:function(e){var t,r,n;if("["==L(e,0)){if("]"!=L(e,e.length-1)||!(t=function(e){var t,r,n,i,a,o,s,l=[0,0,0,0,0,0,0,0],_=0,u=null,c=0,d=function(){return L(e,c)};if(":"==d()){if(":"!=L(e,1))return;c+=2,u=++_}for(;d();){if(8==_)return;if(":"!=d()){for(t=r=0;r<4&&R(te,d());)t=16*t+T(d(),16),c++,r++;if("."==d()){if(0==r||(c-=r,_>6))return;for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4))return;c++}if(!R(J,d()))return;for(;R(J,d());){if(a=T(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;c++}l[_]=256*l[_]+i,(2==++n||4==n)&&_++}if(4!=n)return;break}if(":"==d()){if(c++,!d())return}else if(d())return;l[_++]=t}else{if(null!==u)return;c++,u=++_}}if(null!==u)for(o=_-u,_=7;0!=_&&o>0;)s=l[_],l[_--]=l[u+o-1],l[u+--o]=s;else if(8!=_)return;return l}($(e,1,-1))))return H;this.host=t}else if(this.isSpecial()){if(e=m(e),R(re,e)||null===(t=function(e){var t,r,n,i,a,o,s,l=U(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(a=10,i.length>1&&"0"==L(i,0)&&(a=R(Z,i)?16:8,i=$(i,8==a?1:2)),""===i)o=0;else{if(!R(10==a?ee:8==a?Q:te,i))return e;o=T(i,a)}j(r,o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=C(256,5-t))return null}else if(o>255)return null;for(s=D(r),n=0;n<r.length;n++)s+=r[n]*C(256,3-n);return s}(e)))return H;this.host=t}else{if(R(ne,e))return H;for(t="",r=d(e),n=0;n<r.length;n++)t+=de(r[n],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return u(pe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&("file"!=this.scheme||1!=t||!fe(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,_=t+":";return null!==i?(_+="//",e.includesCredentials()&&(_+=r+(n?":"+n:"")+"@"),_+=oe(i),null!==a&&(_+=":"+a)):"file"==t&&(_+="//"),_+=e.cannotBeABaseURL?o[0]:o.length?"/"+z(o,"/"):"",null!==s&&(_+="?"+s),null!==l&&(_+="#"+l),_},setHref:function(e){var t=this.parse(e);if(t)throw S(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new He(e.path[0]).origin}catch{return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=d(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=de(t[r],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=d(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=de(t[r],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ne)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Le)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=v(e))?this.port=null:this.parse(e,Pe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+z(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,je))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=v(e))?this.query=null:("?"==L(e,0)&&(e=$(e,1)),this.query="",this.parse(e,Ue)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=v(e))?("#"==L(e,0)&&(e=$(e,1)),this.fragment="",this.parse(e,We)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe,Ge,He=function(e){var t=_(this,Ve),n=arguments.length>1?arguments[1]:void 0,i=A(t,new $e(e,!1,n));r||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},Ve=He.prototype,Ye=function(e,t){return{get:function(){return M(this)[e]()},set:t&&function(e){return M(this)[t](e)},configurable:!0,enumerable:!0}};r&&s(Ve,{href:Ye("serialize","setHref"),origin:Ye("getOrigin"),protocol:Ye("getProtocol","setProtocol"),username:Ye("getUsername","setUsername"),password:Ye("getPassword","setPassword"),host:Ye("getHost","setHost"),hostname:Ye("getHostname","setHostname"),port:Ye("getPort","setPort"),pathname:Ye("getPathname","setPathname"),search:Ye("getSearch","setSearch"),searchParams:Ye("getSearchParams"),hash:Ye("getHash","setHash")}),l(Ve,"toJSON",(function(){return M(this).serialize()}),{enumerable:!0}),l(Ve,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),k&&(Fe=k.createObjectURL,Ge=k.revokeObjectURL,Fe&&l(He,"createObjectURL",a(Fe,k)),Ge&&l(He,"revokeObjectURL",a(Ge,k))),y(He,"URL"),t({global:!0,forced:!n,sham:!r},{URL:He})})),xr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.api_type=function(e){return`api.${e}`},e.api_type_inner=function(e){return l(e)||(0,r.warn)("btype_ids assertion failure!",{function:"api",btype_id:e}),e.slice(s.length)},e.bubble_null=void 0,e.custom_type=function(e){return`${a}${e}`},e.custom_type_name=function(e){return"user"===e?"user":(o(e)||(0,r.warn)("btype_ids assertion failure!",{function:"custom",btype_id:e}),e.slice(a.length))},e.is_api_type=l,e.is_custom_type=o,e.is_list=i,e.is_option_set=u,e.list_element_type=function(e){return i(e)||(0,r.warn)("btype_ids assertion failure!",{function:"list",btype_id:e}),e.slice(n.length)},e.list_type=function(e){return`list.${e}`},e.option_set_name=function(e){return u(e)||(0,r.warn)("btype_ids assertion failure!",{function:"option_set",btype_id:e}),e.slice(_.length)},e.option_set_type=function(e){return`${_}${e}`};var t=function(e){return e&&e.__esModule?e:{default:e}}(Nt()),r=Kt();t.default.safe_register("./lang/btype_ids",e);var n="list.";function i(e){var t;return null!=(t=null==e?void 0:e.startsWith(n))&&t}var a="custom.";function o(e){var t;return null!=(t=null==e?void 0:e.startsWith(a))&&t}var s="api.";function l(e){var t;return null!=(t=null==e?void 0:e.startsWith(s))&&t}var _="option.";function u(e){var t;return null!=(t=null==e?void 0:e.startsWith(_))&&t}e.bubble_null="null"})),Or=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.YEAR_S=e.YEAR_MS=e.YEAR_MONTH=e.YEAR_H=e.WEEK_S=e.WEEK_MS=e.WEEK_H=e.TimeUnit=e.THIRTY_DAY_S=e.THIRTY_DAY_H=e.SECOND_MS=e.MINUTE_S=e.MINUTE_MS=e.MILLISECONDS_US=e.MILLISECONDS_NS=e.MICROSECONDS_NS=e.HOUR_S=e.HOUR_MS=e.DAY_S=e.DAY_MS=e.DAY_H=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/time",e);e.YEAR_MONTH=12;e.DAY_H=24;e.WEEK_H=168;e.THIRTY_DAY_H=720;e.YEAR_H=8760;e.MINUTE_S=60;var t=3600;e.HOUR_S=t;e.DAY_S=86400;var r=604800;e.WEEK_S=r;e.THIRTY_DAY_S=2592e3;var n=8760*t;e.YEAR_S=n;var i=1e3;e.SECOND_MS=i;e.MINUTE_MS=6e4;e.HOUR_MS=36e5;e.DAY_MS=864e5;e.WEEK_MS=6048e5;e.YEAR_MS=31536e6;e.MILLISECONDS_US=1e3;e.MILLISECONDS_NS=1e6;e.MICROSECONDS_NS=1e3;var a=function(e){return e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e}({});e.TimeUnit=a})),kr=u(((e,t)=>{f(),function(r,n){"function"==typeof l&&"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define((function(){return n()})):r.pluralize=n()}(e,(function(){var e=[],t=[],r={},n={},i={};function a(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function o(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,r){return t[r]||""}))}function l(e,t){return e.replace(t[0],(function(r,n){var i=s(t[1],arguments);return o(""===r?e[n-1]:r,i)}))}function _(e,t,n){if(!e.length||r.hasOwnProperty(e))return t;for(var i=n.length;i--;){var a=n[i];if(a[0].test(t))return l(t,a)}return t}function u(e,t,r){return function(n){var i=n.toLowerCase();return t.hasOwnProperty(i)?o(n,i):e.hasOwnProperty(i)?o(n,e[i]):_(i,n,r)}}function c(e,t,r,n){return function(n){var i=n.toLowerCase();return!!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&_(i,i,r)===i}}function d(e,t,r){return(r?t+" ":"")+(1===t?d.singular(e):d.plural(e))}return d.plural=u(i,n,e),d.isPlural=c(i,n,e),d.singular=u(n,i,t),d.isSingular=c(n,i,t),d.addPluralRule=function(t,r){e.push([a(t),r])},d.addSingularRule=function(e,r){t.push([a(e),r])},d.addUncountableRule=function(e){"string"!=typeof e?(d.addPluralRule(e,"$0"),d.addSingularRule(e,"$0")):r[e.toLowerCase()]=!0},d.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),i[e]=t,n[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return d.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return d.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return d.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eÃ©]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(d.addUncountableRule),d}))})),Sr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.FirstLetterCapitalize=function(e){return"string"!=typeof e||0===e.length?e:e[0].toUpperCase()+e.slice(1)},e.add_thousand_sep=function(e,t){return null!=t||(t=","),null==e?"":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)},e.add_thousand_sep_locale=function(e,t){let r=Number(e);return null==e||Number.isNaN(r)?"":r.toLocaleString(t)},e.cast_to_string=function(e){return null==e?"":String(e)},e.charCode=function(e){return e.charCodeAt(0)},e.compact_hours=void 0,e.compact_number=function(e){return Intl.NumberFormat("en",{notation:"compact"}).format(e)},e.create_compound_key=void 0,e.create_css_class_from_label=function(e){return e.replace(/ /g,"_").replace(/'/g,"_").replace(/\.\.\./g,"_").replace(/\./g,"_").toLowerCase()},e.csv_to_downloadable_file=function(e,t){if(typeof navigator>"u")return;let r=new Blob([t],{type:"text/csv"});".csv"!==e.slice(-4)&&(e+=".csv");let n=navigator;if(n.msSaveOrOpenBlob){let t=n.msSaveOrOpenBlob;setTimeout((()=>{t(r,e)}),1e3)}else{let t=window.URL.createObjectURL(r),n=document.createElement("a");n.className="fake-link-to-trigger-a-download",n.rel="noopener",n.download=e,n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((()=>{window.URL.revokeObjectURL(t)}),5e3)}},e.custom_type_name=function(e){return"user"!==e&&(e=(0,o.custom_type)(e)),e},e.decode_key=function(e){let t=x(e,"&&",v);for(let[e,r]of Object.entries(y))t=x(t,v+e,r);return t},e.eager_first_sentence_cut=function(e,t){},e.encode_key=function(e){if(!E(e))return e;let t=x(e,v,"&&");for(let e in M){let r=M[e];t=x(t,e,v+r)}return t},e.ends_with=function(e,t){if("string"!=typeof e)return!1;let r=e.lastIndexOf(t);return-1!==r&&r+t.length===e.length},e.firebase_illegal=void 0,e.firebase_remove_illegal=function(e){return e.replace(A,"_")},e.fixedEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16)))},e.format_bytes=function(e,t){if(null!=t||(t=0),0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(a.KIBIBYTE));return 0===r&&(t=0),`${parseFloat((e/Math.pow(a.KIBIBYTE,r)).toFixed(t))} ${a.STORAGE_UNITS[r]}`},e.get_columns_header=function(e,t,r){if(null!=t||(t=","),null!=r||(r=!1),!e||""===e.trim())return;let n=(e=e.trim()).split("\n"),i=[];for(let e of n[0].split(t))r?i.push(p(e)):i.push(e);return i},e.id_safe=function(e){if(!e)throw new r.UnexpectedError("bad id: falsy value ",{id_as_string:String(e)});return e.replace(O,"__")},e.increment_filename=function(e){let t=/\(([0-9]+)\)/,r=t.exec(e);if(r){let n=parseInt(r[1])+1;return e.replace(t,`(${n})`)}{let t=e.split(".");return t.slice(0,t.length-1).join(".")+" (1)."+t[t.length-1]}},e.is_email=function(e){if("string"!=typeof e)return!1;let t=e.toLowerCase(),r=t.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);return!(!r||r[0]!==t)},e.is_url=void 0,e.is_url_safe=function(e){return!g.test(e)},e.remove_invalid_from_num=function(e){let t="-"===e[0],r=e.replace(/[^0-9., ]+/g,"");return t&&(r="-"+r),r},e.replace_all=function(e,t,r){return e.split(t).join(null!=r?r:"")},e.replace_spaces_with_hyphens=function(e){return(null!=e?e:"").toLowerCase().replace(/\s/g,"-").replace(m,"")},e.safe_contains=void 0,e.starts_with=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.slice(0,t.length)===t},e.starts_with_number=function(e){return/^\d/.test(e)},e.starts_with_vowel=function(e){return/^[aeiou]/i.test(e)},e.string_contains=c,e.string_replace_range=function(e,t,r,n){return e.substring(0,t)+n+e.substring(r)},e.text_contains=function(e,t){var r,n,i,a;return null!=(r=null==e||null==(n=(i=e.toLowerCase()).indexOf)?void 0:n.call(i,null!=(a=null==t?void 0:t.toLowerCase())?a:""))?r:-1},e.toTitleCase=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e)return e;let r=/(?:^|\s)./g;return t&&(r=/(?:^|\s)(?:\[.*?\])?./g),e.replace(r,(e=>{let t=e.length;return e.slice(0,t-1)+e[t-1].toUpperCase()}))},e.to_num=function(e){let t="string"==typeof e?parseFloat(e):e;return isFinite(t)?t:null},e.truncate_text=function(e,t,r){if("string"!=typeof e||e.length<=t)return e;let n=e.substr(0,t-1);return r?n.substr(0,n.lastIndexOf(" ")):n+"â¦"},Ft(),Ue(),Mr(),pr();var t=u(Tt()),r=u(it()),n=u(Kt()),i=nt(),a=Ct(),o=xr(),s=Or(),l=function(e){return e&&e.__esModule?e:{default:e}}(kr());function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function c(e,t){return"string"!=typeof e?(null!=e&&"object"==typeof e&&null!=e.indexOf&&n.info("string contains called incorrectly on something vaguely like a string",{str:(0,i.to_loggable)(e)}),!1):e.includes(t)}var d=c;function p(e){return e.replace(/"/g,"")}e.safe_contains=d;e.is_url=function(e,r){if("string"!=typeof e)return!1;let n;return"//"===e.slice(0,2)?(n=t.parse("http:"+e),n.protocol="//"):n=t.parse(e),!(!n.protocol||r&&!r.includes(n.protocol)||!n.host)};var h="[^a-z0-9\\-]",g=new RegExp(h),m=new RegExp(h,"g");var v="&",y={1:".",2:"$",3:"#",4:"[",5:"]",6:"/"},b=`[${Object.values(y).map((e=>"\\"+e)).join("")}]`,w=new RegExp(b),A=new RegExp(b,"g"),E=e=>w.test(e);e.firebase_illegal=E;var M={};for(let[e,t]of Object.entries(y))M[t]=e;function x(e,t,r){let n=e.split(t);return 1===n.length?e:n.join(r)}var O=/[.#$[\]/]/g;e.compact_hours=e=>{if(e<s.DAY_H)return`${e} ${(0,l.default)("hour",e)}`;let t=e/s.DAY_H;return`${t} ${(0,l.default)("day",t)}`};e.create_compound_key=e=>e.map((e=>encodeURIComponent(e))).join("/")})),Tr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.Dependency=function(){return new n},e.DependencyClass=void 0,e.register_dependency=r,Ue();var t=function(e){return e&&e.__esModule?e:{default:e}}(fr());function r(e){let r=t.default.CurrentAutoRun;r&&(!t.default.NewSources&&r._sources&&r._sources[t.default.NewSourcesIndex]===e?t.default.NewSourcesIndex++:t.default.NewSources?e!==t.default.NewSources[t.default.NewSources.length-1]&&t.default.NewSources.push(e):t.default.NewSources=[e])}var n=class{constructor(){this._observers=[]}register(){r(this)}updateIfNecessary(){}needed(){return this._observers.length>0}once_invalidate(e){let t={_sources:[this],_invalidate:()=>{let r=this._observers.indexOf(t);r>=0&&(this._observers[r]=this._observers[this._observers.length-1],this._observers.pop()),e()}};this._observers.push(t)}invalidate(){t.default.batch((()=>{for(let e of this._observers)e._invalidate(3)}))}};e.DependencyClass=n})),Nr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.WORKFLOW_ROUTE=e.USER_ROUTE=e.TEST_CREATION_ROUTE=e.STATIC_ROUTE=e.PLUGIN_ROUTE=e.PAGE_ROUTE=e.PACKAGER_ROUTE=e.ILLEGAL_PAGE_NAMES=e.FILEUPLOAD_ROUTE=e.DCV_ROUTE=e.DATA_ROUTE=e.BUG_ROUTE=e.APP_EDITOR_ROUTE=e.API_SERVICE_ROUTE=e.API_ROUTE=void 0;e.API_ROUTE="api";var t="apiservice";e.API_SERVICE_ROUTE=t;var r="appeditor";e.APP_EDITOR_ROUTE=r;e.BUG_ROUTE="bug";var n="elasticsearch";e.DATA_ROUTE=n;var i=".well-known";e.DCV_ROUTE=i;var a="fileupload";e.FILEUPLOAD_ROUTE=a;var o="package";e.PACKAGER_ROUTE=o;e.PAGE_ROUTE="";var s="pluginserver";e.PLUGIN_ROUTE=s;var l="static";e.STATIC_ROUTE=l;var _="versioncontrol";e.TEST_CREATION_ROUTE=_;var u="user";e.USER_ROUTE=u;var c="workflow";e.WORKFLOW_ROUTE=c;var d=["api",t,r,"bug",n,i,a,o,"",s,l,_,u,c];e.ILLEGAL_PAGE_NAMES=d})),Cr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.WORKFLOW=e.SYSTEM_FIBER=e.SERVICEHOSTER=e.RUN_DATA_TRIGGER_WORKFLOW=e.RUNNING_TASK=e.QUEUE_TIMEOUT=e.PERCOLATE_FIBER=e.PAGE=e.PACKAGE=e.FiberTag=e.FILE_UPLOAD=e.ELASTICSEARCH=e.API_SERVICE=e.API=void 0;var t=Nr();e.QUEUE_TIMEOUT="Operation timed out -- app too busy";e.SYSTEM_FIBER="SYSTEM_FIBER";e.SERVICEHOSTER="servicehoster";e.RUNNING_TASK="running_task";e.RUN_DATA_TRIGGER_WORKFLOW="run_data_trigger_workflow";e.PERCOLATE_FIBER="percolate_fiber";var r=function(e){return e.Appname="appname",e.AppVersion="app_version",e.APIEndpoint="api_endpoint",e.AppEditorPath="appeditor_path",e.CSVFileName="csv_file_name",e.EServiceCommand="eservice_command",e.ExternalAPIID="external_api_id",e.PageName="page_name",e.Path="path",e.SearchPath="search_path",e.Service="service",e.SchedulerName="scheduler_name",e.SyncRun="syncrun",e.UserAppname="user_appname",e.UserAppVersion="user_app_version",e.WorkflowItem="workflow_item",e.WorkflowID="workflow_id",e.WorkflowActionID="workflow_action_id",e.WorkflowConditionEvaluation="workflow_condition_evaluation",e.APINetworkOperation="api_network_operation",e}({});e.FiberTag=r;e.PAGE="page";var n=t.PACKAGER_ROUTE;e.PACKAGE=n;var i=t.FILEUPLOAD_ROUTE;e.FILE_UPLOAD=i;var a=t.WORKFLOW_ROUTE;e.WORKFLOW=a;var o=t.DATA_ROUTE;e.ELASTICSEARCH=o;var s=t.API_SERVICE_ROUTE;e.API_SERVICE=s;var l=t.API_ROUTE;e.API=l})),Lr=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parallel=e.GetFiberTimeout=e.FiberTimeout=e.Fiber=e.Block=void 0,Object.defineProperty(e,"QUEUE_TIMEOUT",{enumerable:!0,get:function(){return ke.QUEUE_TIMEOUT}}),Object.defineProperty(e,"SYSTEM_FIBER",{enumerable:!0,get:function(){return ke.SYSTEM_FIBER}}),e.tag_fiber=e.tabulate_metrics=e.suspend_fiber_timeout=e.state=e.spend_time=e.set_running_app=e.set_global_fiber_timeout=e.set_fiber_queue=e.pause=e.optional_pause=e.on_post_fiber_run=e.on_fiber_created=e.kill_fiber=e.initialize_fiber_metrics=e.increment_fiber_sampling_with_timer=e.increment_fiber_sampling=e.has_time_left=e.handlers=e.get_tabulated_metrics=e.get_current_fiber_workload_used_units=e.get_current_fiber_activity=e.get_capacity_units_as_number_display=e.get_capacity_units=e.fiber_queue_soft_clean=e.fiber_queue_shutdown=e.fiber_lock=e.fiber_finalize=e.fiber_elapsed_time_ns=e.await=e.assign_fiber_ownership=e.add_metrics_headers=e.SyncRun=e.Sync=void 0;var t,r,n,i,a,o,s,_,u,c,d,p,h,g,m,v,y,b,w,A,E,M,x,O,k,S,T,N,C,L,P,R,z,I,D,j,B,q,U,W,$,F,G,X,H,V,Y,K,J,Z,Q,ee,te,re,ne,ie,ae,oe,se,le,_e,ue,ce,de,pe,fe,he,ge,me,ve,ye,be,we,Ae,Ee,Me=it(),xe=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=Se(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(ot()),Oe=function(e){return e&&e.__esModule?e:{default:e}}(Nt()),ke=Cr();function Se(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(Se=function(e){return e?r:t})(e)}Oe.default.safe_register("./u/shared/async/b_fiber",e);var Te,Ne=l;function Ce(){throw new Me.UnexpectedError("Function should only be called on the server")}function Le(){}xe.on_server()&&(Te=Ne("./server"));var Pe=null==(t=Te)?void 0:t.Fiber;e.Fiber=Pe;var Re=null!=(r=null==(n=Te)?void 0:n.fiber_lock)?r:Ce;e.fiber_lock=Re;var ze=null!=(i=null==(a=Te)?void 0:a.tag_fiber)?i:Ce;e.tag_fiber=ze;var Ie=null!=(o=null==(s=Te)?void 0:s.increment_fiber_sampling_with_timer)?o:Le;e.increment_fiber_sampling_with_timer=Ie;var De=null!=(_=null==(u=Te)?void 0:u.increment_fiber_sampling)?_:Le;e.increment_fiber_sampling=De;var je=null!=(c=null==(d=Te)?void 0:d.initialize_fiber_metrics)?c:Ce;e.initialize_fiber_metrics=je;var Be=null!=(p=null==(h=Te)?void 0:h.fiber_elapsed_time_ns)?p:Ce;e.fiber_elapsed_time_ns=Be;var qe=null!=(g=null==(m=Te)?void 0:m.tabulate_metrics)?g:Ce;e.tabulate_metrics=qe;var We=null!=(v=null==(y=Te)?void 0:y.get_tabulated_metrics)?v:Ce;e.get_tabulated_metrics=We;var $e=null!=(b=null==(w=Te)?void 0:w.add_metrics_headers)?b:Le;e.add_metrics_headers=$e;var Fe=null!=(A=null==(E=Te)?void 0:E.handlers)?A:{};e.handlers=Fe;var Ge=null!=(M=null==(x=Te)?void 0:x.set_running_app)?M:Ce;e.set_running_app=Ge;var Xe=null!=(O=null==(k=Te)?void 0:k.assign_fiber_ownership)?O:Ce;e.assign_fiber_ownership=Xe;var He=null!=(S=null==(T=Te)?void 0:T.has_time_left)?S:Ce;e.has_time_left=He;var Ve=null!=(N=null==(C=Te)?void 0:C.spend_time)?N:Ce;e.spend_time=Ve;var Ye=null!=(L=null==(P=Te)?void 0:P.get_capacity_units)?L:Ce;e.get_capacity_units=Ye;var Ke=null!=(R=null==(z=Te)?void 0:z.get_capacity_units_as_number_display)?R:Ce;e.get_capacity_units_as_number_display=Ke;var Je=null!=(I=null==(D=Te)?void 0:D.on_post_fiber_run)?I:Ce;e.on_post_fiber_run=Je;var Ze=null!=(j=null==(B=Te)?void 0:B.on_fiber_created)?j:Ce;e.on_fiber_created=Ze;var Qe=null!=(q=null==(U=Te)?void 0:U.set_fiber_queue)?q:Ce;e.set_fiber_queue=Qe;var et=null!=(W=null==($=Te)?void 0:$.fiber_queue_soft_clean)?W:Ce;e.fiber_queue_soft_clean=et;var tt=null!=(F=null==(G=Te)?void 0:G.fiber_queue_shutdown)?F:Ce;e.fiber_queue_shutdown=tt;var rt=null!=(X=null==(H=Te)?void 0:H.optional_pause)?X:Le;e.optional_pause=rt;var nt=null!=(V=null==(Y=Te)?void 0:Y.state)?V:{open_fibers:0};e.state=nt;var at=null!=(K=null==(J=Te)?void 0:J.kill_fiber)?K:Ce;e.kill_fiber=at;var st=null!=(Z=null==(Q=Te)?void 0:Q.SyncRun)?Z:Ce;e.SyncRun=st;var lt=null!=(ee=null==(te=Te)?void 0:te.set_global_fiber_timeout)?ee:Ce;e.set_global_fiber_timeout=lt;var _t=null!=(re=null==(ne=Te)?void 0:ne.fiber_finalize)?re:Ce;e.fiber_finalize=_t;var ut=null!=(ie=null==(ae=Te)?void 0:ae.Sync)?ie:Ce;e.Sync=ut;var ct=null!=(oe=null==(se=Te)?void 0:se.Parallel)?oe:Ce;e.Parallel=ct;var dt=null!=(le=null==(_e=Te)?void 0:_e.await)?le:Ce;e.await=dt;var pt=null!=(ue=null==(ce=Te)?void 0:ce.FiberTimeout)?ue:Ce;e.FiberTimeout=pt;var ft=null!=(de=null==(pe=Te)?void 0:pe.GetFiberTimeout)?de:Ce;e.GetFiberTimeout=ft;var ht=null!=(fe=null==(he=Te)?void 0:he.suspend_fiber_timeout)?fe:Ce;e.suspend_fiber_timeout=ht;var gt=null!=(ge=null==(me=Te)?void 0:me.Block)?ge:Ce;e.Block=gt;var mt=null!=(ve=null==(ye=Te)?void 0:ye.pause)?ve:Ce;e.pause=mt;var vt=null!=(be=null==(we=Te)?void 0:we.get_current_fiber_activity)?be:Ce;e.get_current_fiber_activity=vt;var yt=null!=(Ae=null==(Ee=Te)?void 0:Ee.get_current_fiber_workload_used_units)?Ae:Ce;e.get_current_fiber_workload_used_units=yt})),Pr=u(((e,t)=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.FakeKey=function(){return M||(M=E(void 0,"fake_key")).turn(),M},e.KeyList=e.KeyBase=e.Key=void 0,e.MakeKey=E,e.MakeKeyList=function(e){return new P(e)},e.MakeSwitch=function(e,t){if(t||u.error("anonymous switch created: please name it"),e)throw new s.UnexpectedError("switch timeout not implemented");return new C(t)},e.Promise=g,e.Switch=e.PromiseClass=void 0,e.SyncWait=A,e.TransientKeyList=L,e.WaitFor=k,e.ensure_ready=b,e.promise_array=function e(t){if(0===t.length)return g([]);if(1===t.length)return t[0].then((e=>[e]));let[r,n]=a.partition(t);return e(r).then((t=>e(n).then((e=>t.concat(e)))))},e.retry=function(e,t,r){return w({retries:e,delay:t,try_fn:r})},e.retry_on_match=w,e.run_without_catching_not_ready=function(e){let t=v;try{return v=!0,void e()}finally{v=t}},e.throw_not_ready=y,e.timeout_promise=function(e){let t=g(null,`b_async.timeout_promise:${e}`);return setTimeout(t.resolve.bind(t),e),t},e.timeout_warning=T,Ue(),Ze();var r=p(fr()),n=hr(),i=d(Sr()),a=d(tr()),o=Tr(),s=it(),l=d(Lr()),_=d(ot()),u=d(Kt());function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return e}function g(e,t){return null!=e&&(e instanceof m||"function"==typeof e.then)?e:new m(e,t)}p(Nt()).default.safe_register("./u/shared/async/b_async",t.exports);var m=class e{constructor(e,t){if(this._fails=void 0,this._dones=void 0,this._done=void 0,this._waiting_on=void 0,this.prefetching=!1,this._error=void 0,this._value=void 0,this._handled_error=!1,this._ready_key=void 0,this._fails=[],this._dones=[],this._done=!1,t)this._waiting_on=t;else if("function"==typeof e){let t;try{t=e()}catch(e){return void this.reject(e)}this.resolve(t)}else this.resolve(e)}get_prefetching(){return this.prefetching?this.prefetching:this._waiting_on instanceof e&&this._waiting_on.get_prefetching()}toString(){var t;return this._done?`Promise(${String(null!=(t=this._error)?t:this._value)})`:this._waiting_on instanceof e?String(this._waiting_on):`Promise(waiting on ${String(this._waiting_on)})`}reject(e){if(!this._done)if(e instanceof s.NotReadyError&&u.warn("Promise rejected with a not-ready key: use a autorun.run_once!"),this._done=!0,this._waiting_on=void 0,this._error=e,this._fails.length>0)for(let t of this._fails)t(e);else _.on_client()&&setTimeout((()=>{if(!this._handled_error)throw e}),100)}resolve(t){if(!this._done)if(t instanceof e)this._waiting_on=t,t._attach_success((e=>this.resolve(e))),t._attach_failure((e=>this.reject(e)));else{this._done=!0,this._waiting_on=void 0,this._value=t;for(let e of this._dones)e(t)}}_attach_success(e){if("function"!=typeof e)throw new s.UnexpectedError("not a function");this._done?null==this._error&&e(this._value):this._dones.push(e)}_attach_failure(e){if("function"!=typeof e)throw new s.UnexpectedError("not a function");this._done?null!=this._error&&(e(this._error),this._handled_error=!0):this._fails.push(e)}then(e,t){let r=null!=e?e:h,n=null!=t?t:h,i=g(null,this);return this._attach_success((e=>{let t;try{t=r(e)}catch(e){return void i.reject(e)}i.resolve(t)})),this._attach_failure((e=>{let t;try{t=n(e)}catch(e){t=e}null!=t?i.reject(t):i.resolve(void 0)})),i}callback(e){this.then((t=>{e(null,t)}),(t=>(e(t),null)))}done(e){null!=e||(e=h),this._attach_success(e),this._attach_failure((e=>{null!=e&&setTimeout((()=>{throw e}),1)}))}block(){let e=l.Block(this.toString(),this.get_prefetching());return this.callback(((t,r)=>{null!=t?e.fail(t):e.success(r)})),e.wait()}block_promise(e){return _.on_server()&&l.suspend_fiber_timeout(e,(()=>this.block())),this}sync(){if(_.on_server())return this.block();if(b(this.ready_key(),!1),null!=this._error)throw this._error;return this._value}ready_key(){if(!this._ready_key){let e=E(void 0,(()=>this.toString()));this._ready_key=e,this._attach_success((()=>e.turn())),this._attach_failure((()=>e.turn()))}return this._ready_key}inspect(){return this._done?null!=this._error?{state:"rejected",reason:this._error}:{state:"fulfilled",value:this._value}:{state:"pending"}}make_cb(){return(e,t)=>null!=e?this.reject(e):this.resolve(t)}};e.PromiseClass=m;var v=!1;function y(e,t){if(null!=t||(t=!0),!t||!r.default.CurrentNotReadyCatcher||v)throw new s.NotReadyError(e);r.default.CurrentNotReadyCatcher.push(e)}function b(e,t){var r;return null!=t||(t=!0),!!e.is_turned()||(null==(null==(r=l.Fiber)?void 0:r.current)||_.running_test()?(y(e,t),!1):(A(e),!0))}function w(e){let{retries:t,delay:r,try_fn:a,match_fn:o,before_retry_fn:_}=e;if("number"!=typeof t)throw new s.UnexpectedError("b_async.retry bad retries");if("function"!=typeof a)throw new s.UnexpectedError("b_async.retry bad function param");try{return a()}catch(e){if(o&&!o(e)||e instanceof Error&&i.safe_contains(e.message,l.QUEUE_TIMEOUT)||!(t>0))throw e;return r&&l.pause((0,n.jitter)(r),"retry on match delay"),null==_||_(e),w({retries:t-1,delay:r,try_fn:a,match_fn:o,before_retry_fn:_})}}function A(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=L(t);if(n.is_turned())return;let i=l.Block(n.toString());k(n,i.success.bind(i)),i.wait()}function E(e,t,r){return t||u.error("anonymous key created: please name it: b_async.MakeKey(null, 'my name') or b_async.MakeKey(timeout, 'my name')"),new N(e,t,r)}var M=null;var x=0,O=class{constructor(){this._id=void 0,this._listeners=void 0,this._listener_count=0,this._turned_dependency=void 0}id(){return this._id||(this._id=x,x++),this._id}listen(e){null!=this._listeners||(this._listeners={});let t=e.id();var r;null==this._listeners[t]&&(this._listeners[t]=e,this._listener_count++,1e4===this._listener_count)&&((!_.is_edit_mode()||null!=(r=window)&&r.current_user_is_admin)&&u.warn("Listener count at 10000",{key:String(this)}))}unlisten(e){var t;let r=e.id();null!=(null==(t=this._listeners)?void 0:t[r])&&(delete this._listeners[r],this._listener_count--)}turned_dependency(){return null!=this._turned_dependency||(this._turned_dependency=(0,o.Dependency)()),this._turned_dependency}_was_updated(){var e;let t=null!=(e=this._listeners)?e:{};for(let e in t)t[e].notify(this);var r;this.is_turned()&&(null==(r=this._turned_dependency)||r.invalidate());this.is_dead()&&(this._listeners=void 0,this._turned_dependency=void 0)}_update_dead(){var e;if(!this.is_dead())throw new s.UnexpectedError("not dead");let t=null!=(e=this._listeners)?e:{};for(let e in t)t[e].notify_dead(this);this._listeners=void 0,this._turned_dependency=void 0}to_promise(){let e=g(null,this);return k(this,(()=>e.resolve())),e}toString(){return`KeyBase of type ${this.constructor.name}`}};function k(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=Math.max(t.length,1),i=t.slice(0,n-1),a=t[n-1];if(null==a)return;let o=i.flat(),s=L(o);s.is_turned()?a():s.listen(new S(a))}e.KeyBase=O;var S=class extends O{constructor(e){super(),this.fn=void 0,this.fn=e}is_dead(){return null!=this.fn}is_turned(){return null!=this.fn}max_expected_time(){return null}notify(e){var t;e.is_turned()&&(null==(t=this.fn)||t.call(this),this.fn=null,this._was_updated())}notify_dead(){}toString(){var e;return`Waiter {${String(null==(e=this.fn)?void 0:e.toString().slice(0,100))}...}`}};function T(e,t,r){let n=null!=t?t:40,i=setTimeout((function(){"function"==typeof e&&(e=e()),u.info("Key failed to return after timeout",{wait_seconds:n,name:e}),null==r||r()}),1e3*n);return()=>clearTimeout(i)}var N=class extends O{constructor(e,t,r){super(),this.timeout_length=void 0,this.name=void 0,this.end_time=void 0,this.timeout=void 0,this._turned=void 0,this.timeout_length=e,this.name=t,this.timeout_length&&this.timeout_length!==1/0&&(this.end_time=Date.now()+1e3*this.timeout_length,this.timeout=T(this.name,this.timeout_length,r)),this._turned=!1}is_turned(){return this._turned}is_dead(){return this._turned}max_expected_time(){return this.is_turned()||!this.end_time?null:this.timeout_length===1/0?1/0:this.end_time-Date.now()}turn(){var e;this._turned||(this._turned=!0,this._was_updated(),null==(e=this.timeout)||e.call(this))}toString(){return null!=this.name?"Key "+("function"==typeof this.name?this.name():this.name):"Anonymous Key"}};e.Key=N;var C=class extends O{constructor(e){super(),this.name=void 0,this._turned=void 0,this._destroyed=void 0,this.name=e,this._turned=!1,this._destroyed=!1}is_turned(){return this._turned}is_dead(){return this._destroyed}max_expected_time(){return null}turn_off(){if(this._turned){if(this._destroyed)throw new s.UnexpectedError("cannot turn off a destroyed switch");this._turned=!1,this._was_updated()}}turn_on(){this._turned||(this._turned=!0,this._was_updated())}destroy(){this._destroyed=!0,this._turned?this._update_dead():this.turn_on()}toString(){return this.name?"Switch "+this.name:"Anonymous Switch"}};function L(e){return new P(e,!0)}e.Switch=C;var P=class extends O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.transient=void 0,this._keys=void 0,this._unturned=void 0,this._destroyed=void 0,this.transient=t,this._keys={},this._unturned=0;for(let t of null!=e?e:[])this.add_key(t)}is_turned(){return 0===this._unturned}is_dead(){var e;return null!=(e=this._destroyed)&&e}make_transient(){return L(Object.values(this._keys))}remove_all(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.is_turned();for(let e in this._keys){let t=this._keys[e];this._remove(t)}this._unturned=0,e&&!t&&this._was_updated()}_inc(){this._unturned++,1===this._unturned&&this._was_updated()}_dec(){this._unturned--,0===this._unturned&&this._was_updated()}max_expected_time(){let e=Object.values(this._keys).map((e=>e.max_expected_time())).filter((e=>!!e));return e.length?Math.min(...e):null}add_key(e){if(!0===this._destroyed)throw new s.UnexpectedError("cannot add key to a destroyed list");if(!e.is_dead()&&null==this._keys[e.id()]){if(e.is_turned()){if(this.transient)return}else this._inc();this._keys[e.id()]=e,e.listen(this)}}notify(e){e.is_turned()?this._dec():this._inc(),(e.is_dead()||this.transient)&&this._remove(e)}notify_dead(e){this._remove(e)}_remove(e){delete this._keys[e.id()],e.unlisten(this)}add_promise(e){return this.add_key(e.ready_key())}make(e,t,r){let n=E(e,t,r);return this.add_key(n),n}get(){return Object.values(this._keys)}toString(){let e=this.get(),t=e.filter((e=>null!=e.is_turned&&!e.is_turned())).map((e=>e.toString()));return`[KeyList(${e.length}) ${t.join(", ")} ]`}destroy(){this._destroyed=!0;for(let e in this._keys)this._keys[e].unlisten(this);this._keys={},0===this._unturned?this._update_dead():(this._unturned=0,this._was_updated())}};e.KeyList=P})),Rr=u(((e,t)=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0});t.exports={CurrentAutoRun:null,CurrentNotReadyCatcher:null,server_connection_problems:!1}})),zr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.Dependency=function(){return new n},e.DependencyClass=void 0,Ue();var t=function(e){return e&&e.__esModule?e:{default:e}}(Rr()),r=Zt();var n=class{constructor(){this.runs=void 0,this.count=void 0,this.no_scheduled_collection=void 0,this.runs={},this.count=0,this.no_scheduled_collection=!0}register(e){null!=e||(e=t.default.CurrentAutoRun),null!=e&&(this.runs[e.id]=e,this.count++,e._has_dependency=!0,this.no_scheduled_collection&&this.count>50&&(this.no_scheduled_collection=!1,this.schedule_collection()))}is_registered(e){return null!=e||(e=t.default.CurrentAutoRun),null!=e&&null!=this.runs[e.id]}needed(){return 0!==this.count&&(this.garbage_collect(),this.count>0)}garbage_collect(){let e=this.runs;this.runs={},this.count=0;for(let t in e){let r=e[t];!0!==r._is_destroyed&&(this.runs[t]=r,this.count++)}}schedule_collection(){setTimeout((()=>{this.no_scheduled_collection=!0,this.garbage_collect()}),3e4)}once_invalidate(e){this.runs[(0,r.LUID)()]={invalidate:e}}invalidate(){let e=Object.values(this.runs);this.runs={},this.count=0;for(let t of e)t.invalidate()}};e.DependencyClass=n})),Ir=u(((e,t)=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.FakeKey=function(){return M||(M=E(void 0,"fake_key")).turn(),M},e.KeyList=e.KeyBase=e.Key=void 0,e.MakeKey=E,e.MakeKeyList=function(e){return new P(e)},e.MakeSwitch=function(e,t){if(t||u.error("anonymous switch created: please name it"),e)throw new s.UnexpectedError("switch timeout not implemented");return new C(t)},e.Promise=g,e.Switch=e.PromiseClass=void 0,e.SyncWait=A,e.TransientKeyList=L,e.WaitFor=k,e.ensure_ready=b,e.promise_array=function e(t){if(0===t.length)return g([]);if(1===t.length)return t[0].then((e=>[e]));let[r,n]=a.partition(t);return e(r).then((t=>e(n).then((e=>t.concat(e)))))},e.retry=function(e,t,r){return w({retries:e,delay:t,try_fn:r})},e.retry_on_match=w,e.run_without_catching_not_ready=function(e){let t=v;try{return v=!0,void e()}finally{v=t}},e.throw_not_ready=y,e.timeout_promise=function(e){let t=g(null,`b_async.timeout_promise:${e}`);return setTimeout(t.resolve.bind(t),e),t},e.timeout_warning=T,Ue(),Ze();var r=p(Rr()),n=hr(),i=d(Sr()),a=d(tr()),o=zr(),s=it(),l=d(Lr()),_=d(ot()),u=d(Kt());function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return e}function g(e,t){return null!=e&&(e instanceof m||"function"==typeof e.then)?e:new m(e,t)}p(Nt()).default.safe_register("./u/shared/async/b_async",t.exports);var m=class e{constructor(e,t){if(this._fails=void 0,this._dones=void 0,this._done=void 0,this._waiting_on=void 0,this.prefetching=!1,this._error=void 0,this._value=void 0,this._handled_error=!1,this._ready_key=void 0,this._fails=[],this._dones=[],this._done=!1,t)this._waiting_on=t;else if("function"==typeof e){let t;try{t=e()}catch(e){return void this.reject(e)}this.resolve(t)}else this.resolve(e)}get_prefetching(){return this.prefetching?this.prefetching:this._waiting_on instanceof e&&this._waiting_on.get_prefetching()}toString(){var t;return this._done?`Promise(${String(null!=(t=this._error)?t:this._value)})`:this._waiting_on instanceof e?String(this._waiting_on):`Promise(waiting on ${String(this._waiting_on)})`}reject(e){if(!this._done)if(e instanceof s.NotReadyError&&u.warn("Promise rejected with a not-ready key: use a autorun.run_once!"),this._done=!0,this._waiting_on=void 0,this._error=e,this._fails.length>0)for(let t of this._fails)t(e);else _.on_client()&&setTimeout((()=>{if(!this._handled_error)throw e}),100)}resolve(t){if(!this._done)if(t instanceof e)this._waiting_on=t,t._attach_success((e=>this.resolve(e))),t._attach_failure((e=>this.reject(e)));else{this._done=!0,this._waiting_on=void 0,this._value=t;for(let e of this._dones)e(t)}}_attach_success(e){if("function"!=typeof e)throw new s.UnexpectedError("not a function");this._done?null==this._error&&e(this._value):this._dones.push(e)}_attach_failure(e){if("function"!=typeof e)throw new s.UnexpectedError("not a function");this._done?null!=this._error&&(e(this._error),this._handled_error=!0):this._fails.push(e)}then(e,t){let r=null!=e?e:h,n=null!=t?t:h,i=g(null,this);return this._attach_success((e=>{let t;try{t=r(e)}catch(e){return void i.reject(e)}i.resolve(t)})),this._attach_failure((e=>{let t;try{t=n(e)}catch(e){t=e}null!=t?i.reject(t):i.resolve(void 0)})),i}callback(e){this.then((t=>{e(null,t)}),(t=>(e(t),null)))}done(e){null!=e||(e=h),this._attach_success(e),this._attach_failure((e=>{null!=e&&setTimeout((()=>{throw e}),1)}))}block(){let e=l.Block(this.toString(),this.get_prefetching());return this.callback(((t,r)=>{null!=t?e.fail(t):e.success(r)})),e.wait()}block_promise(e){return _.on_server()&&l.suspend_fiber_timeout(e,(()=>this.block())),this}sync(){if(_.on_server())return this.block();if(b(this.ready_key(),!1),null!=this._error)throw this._error;return this._value}ready_key(){if(!this._ready_key){let e=E(void 0,(()=>this.toString()));this._ready_key=e,this._attach_success((()=>e.turn())),this._attach_failure((()=>e.turn()))}return this._ready_key}inspect(){return this._done?null!=this._error?{state:"rejected",reason:this._error}:{state:"fulfilled",value:this._value}:{state:"pending"}}make_cb(){return(e,t)=>null!=e?this.reject(e):this.resolve(t)}};e.PromiseClass=m;var v=!1;function y(e,t){if(null!=t||(t=!0),e.turned_dependency().register(),!t||!r.default.CurrentNotReadyCatcher||v)throw new s.NotReadyError(e);r.default.CurrentNotReadyCatcher.push(e)}function b(e,t){var r;return null!=t||(t=!0),!!e.is_turned()||(null==(null==(r=l.Fiber)?void 0:r.current)||_.running_test()?(y(e,t),!1):(A(e),!0))}function w(e){let{retries:t,delay:r,try_fn:a,match_fn:o,before_retry_fn:_}=e;if("number"!=typeof t)throw new s.UnexpectedError("b_async.retry bad retries");if("function"!=typeof a)throw new s.UnexpectedError("b_async.retry bad function param");try{return a()}catch(e){if(o&&!o(e)||e instanceof Error&&i.safe_contains(e.message,l.QUEUE_TIMEOUT)||!(t>0))throw e;return r&&l.pause((0,n.jitter)(r),"retry on match delay"),null==_||_(e),w({retries:t-1,delay:r,try_fn:a,match_fn:o,before_retry_fn:_})}}function A(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=L(t);if(n.is_turned())return;let i=l.Block(n.toString());k(n,i.success.bind(i)),i.wait()}function E(e,t,r){return t||u.error("anonymous key created: please name it: b_async.MakeKey(null, 'my name') or b_async.MakeKey(timeout, 'my name')"),new N(e,t,r)}var M=null;var x=0,O=class{constructor(){this._id=void 0,this._listeners=void 0,this._listener_count=0,this._turned_dependency=void 0}id(){return this._id||(this._id=x,x++),this._id}listen(e){null!=this._listeners||(this._listeners={});let t=e.id();var r;null==this._listeners[t]&&(this._listeners[t]=e,this._listener_count++,1e4===this._listener_count)&&((!_.is_edit_mode()||null!=(r=window)&&r.current_user_is_admin)&&u.warn("Listener count at 10000",{key:String(this)}))}unlisten(e){var t;let r=e.id();null!=(null==(t=this._listeners)?void 0:t[r])&&(delete this._listeners[r],this._listener_count--)}turned_dependency(){return null!=this._turned_dependency||(this._turned_dependency=(0,o.Dependency)()),this._turned_dependency}is_registered(e){return this.turned_dependency().is_registered(e)}_was_updated(){var e;let t=null!=(e=this._listeners)?e:{};for(let e in t)t[e].notify(this);var r;this.is_turned()&&(null==(r=this._turned_dependency)||r.invalidate());this.is_dead()&&(delete this._listeners,delete this._turned_dependency)}_update_dead(){var e;if(!this.is_dead())throw new s.UnexpectedError("not dead");let t=null!=(e=this._listeners)?e:{};for(let e in t)t[e].notify_dead(this);delete this._listeners,delete this._turned_dependency}to_promise(){let e=g(null,this);return k(this,(()=>e.resolve())),e}toString(){return`KeyBase of type ${this.constructor.name}`}};function k(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=Math.max(t.length,1),i=t.slice(0,n-1),a=t[n-1];if(null==a)return;let o=i.flat(),s=L(o);s.is_turned()?a():s.listen(new S(a))}e.KeyBase=O;var S=class extends O{constructor(e){super(),this.fn=void 0,this.fn=e}is_dead(){return null!=this.fn}is_turned(){return null!=this.fn}max_expected_time(){return null}notify(e){var t;e.is_turned()&&(null==(t=this.fn)||t.call(this),this.fn=null,this._was_updated())}notify_dead(){}toString(){var e;return`Waiter {${String(null==(e=this.fn)?void 0:e.toString().slice(0,100))}...}`}};function T(e,t,r){let n=null!=t?t:40,i=setTimeout((function(){"function"==typeof e&&(e=e()),u.info("Key failed to return after timeout",{wait_seconds:n,name:e}),null==r||r()}),1e3*n);return()=>clearTimeout(i)}var N=class extends O{constructor(e,t,r){super(),this.timeout_length=void 0,this.name=void 0,this.end_time=void 0,this.timeout=void 0,this._turned=void 0,this.timeout_length=e,this.name=t,this.timeout_length&&this.timeout_length!==1/0&&(this.end_time=Date.now()+1e3*this.timeout_length,this.timeout=T(this.name,this.timeout_length,r)),this._turned=!1}is_turned(){return this._turned}is_dead(){return this._turned}max_expected_time(){return this.is_turned()||!this.end_time?null:this.timeout_length===1/0?1/0:this.end_time-Date.now()}turn(){var e;this._turned||(this._turned=!0,this._was_updated(),null==(e=this.timeout)||e.call(this))}toString(){return null!=this.name?"Key "+("function"==typeof this.name?this.name():this.name):"Anonymous Key"}};e.Key=N;var C=class extends O{constructor(e){super(),this.name=void 0,this._turned=void 0,this._destroyed=void 0,this.name=e,this._turned=!1,this._destroyed=!1}is_turned(){return this._turned}is_dead(){return this._destroyed}max_expected_time(){return null}turn_off(){if(this._turned){if(this._destroyed)throw new s.UnexpectedError("cannot turn off a destroyed switch");this._turned=!1,this._was_updated()}}turn_on(){this._turned||(this._turned=!0,this._was_updated())}destroy(){this._destroyed=!0,this._turned?this._update_dead():this.turn_on()}toString(){return this.name?"Switch "+this.name:"Anonymous Switch"}};function L(e){return new P(e,!0)}e.Switch=C;var P=class extends O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.transient=void 0,this._keys=void 0,this._unturned=void 0,this._destroyed=void 0,this.transient=t,this._keys={},this._unturned=0;for(let t of null!=e?e:[])this.add_key(t)}is_turned(){return 0===this._unturned}is_dead(){var e;return null!=(e=this._destroyed)&&e}make_transient(){return L(Object.values(this._keys))}remove_all(){let e=this.is_turned();for(let e in this._keys){let t=this._keys[e];this._remove(t)}this._unturned=0,e||this._was_updated()}_inc(){this._unturned++,1===this._unturned&&this._was_updated()}_dec(){this._unturned--,0===this._unturned&&this._was_updated()}max_expected_time(){let e=Object.values(this._keys).map((e=>e.max_expected_time())).filter((e=>!!e));return e.length?Math.min(...e):null}add_key(e){if(!0===this._destroyed)throw new s.UnexpectedError("cannot add key to a destroyed list");if(!e.is_dead()&&null==this._keys[e.id()]){if(e.is_turned()){if(this.transient)return}else this._inc();this._keys[e.id()]=e,e.listen(this)}}notify(e){e.is_turned()?this._dec():this._inc(),(e.is_dead()||this.transient)&&this._remove(e)}notify_dead(e){this._remove(e)}_remove(e){delete this._keys[e.id()],e.unlisten(this)}add_promise(e){return this.add_key(e.ready_key())}make(e,t,r){let n=E(e,t,r);return this.add_key(n),n}get(){return Object.values(this._keys)}toString(){let e=this.get(),t=e.filter((e=>null!=e.is_turned&&!e.is_turned())).map((e=>e.toString()));return`[KeyList(${e.length}) ${t.join(", ")} ]`}destroy(){this._destroyed=!0;for(let e in this._keys)this._keys[e].unlisten(this);this._keys={},0===this._unturned?this._update_dead():(this._unturned=0,this._was_updated())}};e.KeyList=P})),Dr=u(((e,t)=>{"use strict";f(),Ue(),pr(),window&&"true"===new URLSearchParams(location.search).get("newautorun")?t.exports=Pr():t.exports=Ir()})),jr=u((e=>{"use strict";f();var t=Kt(),r=e,n={currentTransaction:null,completedTransactions:[]},i=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.name=e,this.labels=t,this.sync=r,this.start=Date.now()}end(){this.end=Date.now()}setStart(e){this.start=e}},a=class extends i{constructor(e,t){super(e,t),this.spans=[]}startSpan(e){let t=new i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return this.spans.push(t),t}end(){super.end(),n.completedTransactions.push(n.currentTransaction),n.currentTransaction=null}};r.startTransaction=function(e,r){if(!n.currentTransaction)return n.currentTransaction=new a(e,r),n.currentTransaction;t.warn("APM: Only one transaction can exist at a time")},r.endTransaction=function(e){e&&e.end()},r.addTransactionLabels=function(e){n.currentTransaction&&Object.assign(n.currentTransaction.labels,e)},r.startSpan=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n.currentTransaction)return n.currentTransaction.startSpan(e,t,r)},r.endSpan=function(e){e&&e.end()},r._traceSpanCb=function(e,t,n){let i=r.startSpan(e,t,!0);try{return n()}finally{r.endSpan(i)}},r.createSpan=()=>({end:()=>{}}),r.traceSpan=r._traceSpanCb,r.traceSpanCallback=(e,t,r)=>r({cb:()=>{}}),r.getCompletedTransactions=()=>n.completedTransactions,r.clearCompletedTransactions=()=>n.completedTransactions=[],r.getBaggageEntry=null!=void 0?undefined:()=>{},r.withBaggageEntries=null!=void 0?undefined:(e,t)=>t(),r.getActiveSpan=null!=void 0?undefined:()=>{},r.getActiveContext=null!=void 0?undefined:()=>{},r.withContext=null!=void 0?undefined:(e,t)=>t(),r.getActiveSpanContext=null!=void 0?undefined:()=>{},r.withSpanContext=null!=void 0?undefined:(e,t)=>t()})),Br=u(((e,t)=>{"use strict";f();var r=ot(),n=Nt(),i=l;r.on_server()?t.exports=i("./serverApm"):t.exports=jr(),n.safe_register("./monitoring/apm",t.exports)})),qr=u(((e,t)=>{"use strict";f(),Ue();var r,n=ot(),i=it(),a=Qt(),o=Dr(),s=Lr(),l=Br(),_=Kt(),u={app:"wrap",load_plugin:"function",plugin_prefixes:"object",load_custom:"function",bubble_version:"function",bv:"function",appname:"wrap",app_version:"wrap",db_instance:"wrap",current_user:"wrap",current_user_id:"wrap",current_timezone:"wrap",scope:"wrap",is_edit_mode:"wrap",test_prod:"wrap",http_request:"function",app_domain:"function",app_plan:"function",derived:"function",derived_name:"wrap",experiment:"function",location:"object",element:"object",workflow:"object",pageparam:"object",user:"object",phonegap:"object",app_language:"function",get_text:"function",locale:"wrap",browser_locale:"wrap",ddg:"function",visual_edit:"object",edit_canvas:"object",action_editor:"object",action_canvas:"object",data_editor:"object",data_canvas:"object",styles_editor:"object",styles_canvas:"object",logs_editor:"object",app_owners:"function",plugin_editor:"object",plugin_canvas:"object",settings_editor:"object",settings_canvas:"object",property_editor:"object",undostack:"object",clipboard:"object",comment_panel:"object",property_instance_container:"object",exhaustive_composer_canvas:"object",type_editor:"object",option_set_editor:"object",composer:"object",GlobalComposerFocusTracker:"object",SlidablePalette:"function",slidable_palette:"object",ImagePalette:"function",appchange:"object",getChecker:"function",changes:"object",sets:"object",get_session_id:"function",current_user_rights:"function",apptests:"object",visual_edit_is_ready:"object",add_plugin:"object",subscription:"object",app_indicator:"function",request:"object",history:"object",bubble_hostname:"wrap",full_url:"wrap",canonical_uri:"wrap",protocol:"wrap",hostname:"wrap",temp_db:"wrap",ignore_privacy_rules:"wrap",is_api:"function",api_version:"function",request_cache:"object",KeyValueDB:"function",emailservice:"object",task_manager:"object",fileupload:"object",ip:"wrap",speakeasy:"object",log_context:"object",bad_values_in_logs:"object",set_log_tag:"function",log:"function",fiber_id:"function",editor_vendor:"object",force_responsive_version:"object"};function c(){let e=["Lib Object {"];function t(t){var r;e.push("    "+t+": "+(null==(r=this[t])?void 0:r.call(this)))}e.push(""),e.push("Settings:"),t("is_edit_mode"),t("appname"),t("app_version");let r={...u};return e.push(""),e.push("Available:"),e.push(...Object.keys(this).map((e=>(delete r[e],"    "+e)))),e.push(""),e.push("Missing:"),e.push(...Object.keys(r).map((e=>"    "+e))),e.push(""),e.push("}"),e.join("\n")}function d(e){return()=>e}function p(e){null!=e.toString||(e.toString=c);for(let t in e){let r=e[t];if(!["toString","running_with_lib"].includes(t)&&void 0!==r)switch(u[t]){case"function":if("function"!=typeof r)throw new i.UnexpectedError("expected function for "+t+" but got "+r);break;case"wrap":"function"!=typeof r&&(e[t]=d(r));break;case"object":if("object"!=typeof r)throw new i.UnexpectedError("expected object for "+t+" but got "+r);break;default:throw null==u[t]?new i.UnexpectedError("Trying to validate a lib and found an invalid key: "+t):new i.UnexpectedError("Unrecognized contents entry for "+t+": "+u[t])}}}r=typeof window>"u"||null===window?()=>{var e;return null==(e=s.Fiber.current)?void 0:e._running_lib}:()=>E,t.exports=r;var h=t.exports,g=Nt();g.safe_register("./lib",h),h.if_any=r,h.or_throw=function(){let e=r();if(null==e)throw new i.UnexpectedError("Missing Lib!");return e},g.safe_register("./lib",h),h.register_watcher=function(e,t){!(e in w)||"function"!=typeof t||w[e].push(t)};var m="enter",v="exit",y="extend",b="retract",w={[m]:[],[v]:[],[y]:[],[b]:[]};function A(e,t,r){(function(e){var t,r,n;if(null==(null==e?void 0:e.appname)||null==(null==(t=s.Fiber)?void 0:t.current))return;let i=null==(r=e.appname)?void 0:r.call(e),a=null==(n=e.app_version)?void 0:n.call(e);null!=i&&s.set_running_app(i,a)})(e),r===m&&null==t&&(n.is_edit_mode()||i.set_error_hook("default_display",(()=>{var e;return null==(e=h())?void 0:e.get_text("CORE","TEMPORARY_BUG")})),i.set_error_hook("localize_message",((e,t)=>{var r;return null==(r=h())?void 0:r.get_text(e,t)})),i.set_error_hook("get_client_args",(e=>{var t,r,n;return{code:null!=(t=null!=(r=e.code)?r:null==(n=h())?void 0:n.fiber_id())?t:"no code found"}}))),function(e,t,r){for(let i of null!=(n=w[e])?n:[]){var n;i(t,r)}}(r,e,t),[m,y].includes(r)&&function(e){var t,r,n;if(null==(null==e?void 0:e.appname)||null==(null==(t=s.Fiber)?void 0:t.current))return;let i=null==(r=e.appname)?void 0:r.call(e),a=null==(n=e.app_version)?void 0:n.call(e),{fiber_appname:o}=s.Fiber.current;null==i?null!=o&&(_.log("warn","overwriting fiber appname with null",{fiber_appname:o}),s.Fiber.current.fiber_appname=null):"meta"===i?null==o&&s.assign_fiber_ownership(i,a):(null==o||"meta"===o||o===i||_.log("warn","transmuting fiber between non-meta apps",{fiber_appname:o,new_appname:i}),s.assign_fiber_ownership(i,a))}(e)}var E,M=null,x=h.get_lib_ready_key=()=>(null!=M||(M=o.MakeKey(null,"lib_ready_key")),M);h.set_global_lib=function(e){p(e),A(e,E,m),E=e,x().turn()},h.extend_global=function(e){let t=h(),r=a.extend({},t,e);return A(r,t,y),h.set_global_lib(r)},h.wait_for_lib=e=>o.WaitFor(x(),e),h.with_lib=function(e,t){p(e),e.running_with_lib?e={...e}:e.running_with_lib=!0;let r=s.Fiber.current._running_lib;A(e,r,m),s.Fiber.current._running_lib=e,"function"==typeof e.fiber_id&&l.addTransactionLabels({fiber_id:e.fiber_id()});try{return t()}finally{A(r,e,v),s.Fiber.current._running_lib=r}},typeof window<"u"&&null!==window?h.extend=function(e,t){if(!E)throw new i.UnexpectedError("can only call Lib.extend if you have already called Lib.set_global_lib");p(e);let r={};for(let[t,n]of Object.entries(e))void 0!==n&&(r[t]=E[t],E[t]=n);A(E,r,y);try{return t()}finally{A(r,E,b),Object.assign(E,r)}}:h.extend=function(e,t){if(!s.Fiber.current._running_lib)throw new i.UnexpectedError("can only call Lib.extend if you are already in a Lib.with_lib");p(e);let r={};for(let[t,n]of Object.entries(e))void 0!==n&&(r[t]=s.Fiber.current._running_lib[t],s.Fiber.current._running_lib[t]=n);A(s.Fiber.current._running_lib,r,y);try{return t()}finally{A(r,s.Fiber.current._running_lib,b),Object.assign(s.Fiber.current._running_lib,r)}}})),Ur=u((e=>{"use strict";function t(e){let t=i(e.raw[0]);for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(let[n,o]of a.entries())t+=r(o),t+=i(e.raw[n+1]);return new RegExp(t)}function r(e){if(e instanceof RegExp)return n(e.source);if("string"==typeof e)return n(s(e));throw new Error("Illegal value used as regex part")}function n(e){return`(?:${e})`}function i(e){return e.replace(/\\`/g,"`")}f(),Object.defineProperty(e,"__esModule",{value:!0}),e.asRegexSource=r,e.atomic=n,e.capture=function(e,t){return new RegExp(`(?<${e}>${r(t)})`)},e.concat=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RegExp(t.map(r).join(""))},e.escapeString=s,e.negativeLookahead=function(e){return new RegExp(`(?!${r(e)})`)},e.oneOf=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?/^\b$/:new RegExp(t.map(r).join("|"))},e.re=function(e){if("string"==typeof e)return function(){return new RegExp(t(...arguments),e)};for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return t(e,...n)},e.regexTemplate=t,e.unescapeLiteral=i,e.withFlags=function(e,t){return new RegExp(t,e)},Ue(),Ze(),Ft();var a=Array.from(["\\",".[]^-{}","()<>?!=:","^$","{}*+?|"].join("")).map((e=>`\\${e}`)),o=new RegExp(`[${a.join("")}]`,"g");function s(e){return e.replace(o,"\\$&")}})),Wr=u(((e,t)=>{"use strict";f(),function(e,r){"object"==typeof t&&t.exports?t.exports=r(rr()):"function"==typeof define&&define.amd?define(["moment"],r):r(e.moment)}(e,(function(e){void 0===e.version&&e.default&&(e=e.default);var t,r={},n={},i={},a={},o={},s=+(T=(e&&"string"==typeof e.version||O("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/"),e.version.split(".")))[0],l=+T[1];function _(e){return 96<e?e-87:64<e?e-29:e-48}function u(e){var t=0,r=(o=e.split("."))[0],n=o[1]||"",i=1,a=0,o=1;for(45===e.charCodeAt(0)&&(o=-(t=1));t<r.length;t++)a=60*a+_(r.charCodeAt(t));for(t=0;t<n.length;t++)i/=60,a+=_(n.charCodeAt(t))*i;return a*o}function c(e){for(var t=0;t<e.length;t++)e[t]=u(e[t])}function d(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=e[t[n]];return r}function p(e){for(var t=(e=e.split("|"))[2].split(" "),r=e[3].split(""),n=e[4].split(" "),i=(c(t),c(r),c(n),n),a=r.length,o=0;o<a;o++)i[o]=Math.round((i[o-1]||0)+6e4*i[o]);return i[a-1]=1/0,{name:e[0],abbrs:d(e[1].split(" "),r),offsets:d(t,r),untils:n,population:0|e[5]}}function f(e){e&&this._set(p(e))}function h(e,t){this.name=e,this.zones=t}function g(e){var t=e.toTimeString(),r=t.match(/\([a-z ]+\)/i);"GMT"===(r=r&&r[0]?(r=r[0].match(/[A-Z]/g))?r.join(""):void 0:(r=t.match(/[A-Z]{3,5}/g))?r[0]:void 0)&&(r=void 0),this.at=+e,this.abbr=r,this.offset=e.getTimezoneOffset()}function m(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function v(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function y(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&3<e.length){var t=a[b(e)];if(t)return t;O("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch{}for(var r,n,i=function(){for(var e,t,r=(new Date).getFullYear()-2,n=new g(new Date(r,0,1)),i=[n],a=1;a<48;a++)(t=new g(new Date(r,a,1))).offset!==n.offset&&(e=function(e,t){for(var r;r=6e4*((t.at-e.at)/12e4|0);)(r=new g(new Date(e.at+r))).offset===e.offset?e=r:t=r;return e}(n,t),i.push(e),i.push(new g(new Date(e.at+6e4)))),n=t;for(a=0;a<4;a++)i.push(new g(new Date(r+a,0,1))),i.push(new g(new Date(r+a,6,1)));return i}(),s=i.length,l=function(e){for(var t,r,n=e.length,i={},s=[],l=0;l<n;l++)for(t in r=o[e[l].offset]||{})r.hasOwnProperty(t)&&(i[t]=!0);for(l in i)i.hasOwnProperty(l)&&s.push(a[l]);return s}(i),_=[],u=0;u<l.length;u++){for(r=new m(A(l[u])),n=0;n<s;n++)r.scoreOffsetAt(i[n]);_.push(r)}return _.sort(v),0<_.length?_[0].zone.name:void 0}function b(e){return(e||"").toLowerCase().replace(/\//g,"_")}function w(e){var t,n,i,s;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++){s=b(n=(i=e[t].split("|"))[0]),r[s]=e[t],a[s]=n,_=l=void 0;var l,_,u=s,d=i[2].split(" ");for(c(d),l=0;l<d.length;l++)_=d[l],o[_]=o[_]||{},o[_][u]=!0}}function A(e,t){e=b(e);var i=r[e];return i instanceof f?i:"string"==typeof i?(i=new f(i),r[e]=i):n[e]&&t!==A&&(t=A(n[e],A))?((i=r[e]=new f)._set(t),i.name=a[e],i):null}function E(e){var t,r,i,o;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)i=b((r=e[t].split("|"))[0]),o=b(r[1]),n[i]=o,a[i]=r[0],n[o]=i,a[o]=r[1]}function M(e){w(e.zones),E(e.links);var t,r,n,a=e.countries;if(a&&a.length)for(t=0;t<a.length;t++)r=(n=a[t].split("|"))[0].toUpperCase(),n=n[1].split(" "),i[r]=new h(r,n);k.dataVersion=e.version}function x(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function O(e){typeof console<"u"&&"function"==typeof console.error&&console.error(e)}function k(t){var r=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],i=A(n);r=e.utc.apply(null,r);return i&&!e.isMoment(t)&&x(r)&&r.add(i.parse(r),"minutes"),r.tz(n),r}(s<2||2==s&&l<6)&&O("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),f.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){for(var t=+e,r=this.untils,n=0;n<r.length;n++)if(t<r[n])return n},countries:function(){var e=this.name;return Object.keys(i).filter((function(t){return-1!==i[t].zones.indexOf(e)}))},parse:function(e){for(var t,r,n,i=+e,a=this.offsets,o=this.untils,s=o.length-1,l=0;l<s;l++)if(t=a[l],r=a[l+1],n=a[l&&l-1],t<r&&k.moveAmbiguousForward?t=r:n<t&&k.moveInvalidForward&&(t=n),i<o[l]-6e4*t)return a[l];return a[s]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return O("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},m.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},k.version="0.5.43",k.dataVersion="",k._zones=r,k._links=n,k._names=a,k._countries=i,k.add=w,k.link=E,k.load=M,k.zone=A,k.zoneExists=function e(t){return e.didShowError||(e.didShowError=!0,O("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')")),!!A(t)},k.guess=function(e){return t=t&&!e?t:y()},k.names=function(){var e,t=[];for(e in a)a.hasOwnProperty(e)&&(r[e]||r[n[e]])&&a[e]&&t.push(a[e]);return t.sort()},k.Zone=f,k.unpack=p,k.unpackBase60=u,k.needsOffset=x,k.moveInvalidForward=!0,k.moveAmbiguousForward=!1,k.countries=function(){return Object.keys(i)},k.zonesForCountry=function(e,t){var r;return r=(r=e).toUpperCase(),(e=i[r]||null)?(r=e.zones.sort(),t?r.map((function(e){return{name:e,offset:A(e).utcOffset(new Date)}})):r):null};var S,T=e.fn;function N(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function C(e){return function(){return this._z=null,e.apply(this,arguments)}}return e.tz=k,e.defaultZone=null,e.updateOffset=function(t,r){var n,i=e.defaultZone;void 0===t._z&&(i&&x(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(i=t._z.utcOffset(t),Math.abs(i)<16&&(i/=60),void 0!==t.utcOffset?(n=t._z,t.utcOffset(-i,r),t._z=n):t.zone(i,r))},T.tz=function(t,r){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=A(t),this._z?e.updateOffset(this,r):O("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},T.zoneName=N(T.zoneName),T.zoneAbbr=N(T.zoneAbbr),T.utc=C(T.utc),T.local=C(T.local),T.utcOffset=(S=T.utcOffset,function(){return 0<arguments.length&&(this._z=null),S.apply(this,arguments)}),e.tz.setDefault=function(t){return(s<2||2==s&&l<9)&&O("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?A(t):null,e},T=e.momentProperties,"[object Array]"===Object.prototype.toString.call(T)?(T.push("_z"),T.push("_a")):T&&(T._z=null),M({version:"2023c",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Nairobi|EAT|-30|0||47e5","Africa/Algiers|WET WEST CET CEST|0 -10 -10 -20|01012320102|3bX0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Bissau|-01 GMT|10 0|01|cap0|39e4","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|LX0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 kSp0 1cL0 1cN0 1fz0 1a10 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0|15e6","Africa/Casablanca|+00 +01|0 -10|01010101010101010101010101010101010101010101010101010101010101010101010|aS00 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600|32e5","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|0101010102323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|aS00 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|85e3","Africa/El_Aaiun|-01 +00 +01|10 0 -10|01212121212121212121212121212121212121212121212121212121212121212121|fi10 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600|20e4","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Juba|CAT CAST EAT|-20 -30 -30|01010101010101010101010101010101020|LW0 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 PeX0|","Africa/Khartoum|CAT CAST EAT|-20 -30 -30|01010101010101010101010101010101020|LW0 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5","Africa/Monrovia|MMT GMT|I.u 0|01|4SoI.u|11e5","Africa/Ndjamena|WAT WAST|-10 -20|010|nNb0 Wn0|13e5","Africa/Sao_Tome|GMT WAT|0 -10|010|1UQN0 2q00|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0121212121212121210120120|tda0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5","Africa/Tunis|CET CEST|-10 -20|0101010101010101010|hOn0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5","Africa/Windhoek|SAST CAT WAT|-20 -20 -10|01212121212121212121212121212121212121212121212121|Ndy0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|BST BDT AHST HST HDT|b0 a0 a0 a0 90|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Kd0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AHST AHDT YST AKST AKDT|a0 90 90 90 80|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Kc0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Puerto_Rico|AST|40|0||24e5","America/Araguaina|-03 -02|30 20|01010101010101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4","America/Argentina/Buenos_Aires|-03 -02|30 20|01010101010101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0|","America/Argentina/Catamarca|-03 -02 -04|30 20 40|01010101210102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Cordoba|-03 -02 -04|30 20 40|01010101210101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0|","America/Argentina/Jujuy|-03 -02 -04|30 20 40|010101202101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0|","America/Argentina/La_Rioja|-03 -02 -04|30 20 40|010101012010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Mendoza|-03 -02 -04|30 20 40|01010120202102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0|","America/Argentina/Rio_Gallegos|-03 -02 -04|30 20 40|01010101010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Salta|-03 -02 -04|30 20 40|010101012101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0|","America/Argentina/San_Juan|-03 -02 -04|30 20 40|010101012010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0|","America/Argentina/San_Luis|-03 -02 -04|30 20 40|010101202020102020|9Rf0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0|","America/Argentina/Tucuman|-03 -02 -04|30 20 40|0101010121010201010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0|","America/Argentina/Ushuaia|-03 -02 -04|30 20 40|01010101010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0|","America/Asuncion|-04 -03|40 30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|6FE0 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0|28e5","America/Panama|EST|50|0||15e5","America/Bahia_Banderas|PST MST MDT CDT CST|80 70 60 50 60|01212121212121212121212121212134343434343434343434343434|80 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|84e3","America/Bahia|-03 -02|30 20|010101010101010101010101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5","America/Barbados|AST ADT|40 30|010101010|i7G0 IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4","America/Belem|-03 -02|30 20|0101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0|20e5","America/Belize|CST CDT|60 50|01010|9xG0 qn0 lxB0 mn0|57e3","America/Boa_Vista|-04 -03|40 30|01010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2","America/Bogota|-05 -04|50 40|010|Snh0 1PX0|90e5","America/Boise|MST MDT|70 60|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4","America/Cambridge_Bay|MST MDT CST CDT EST|70 60 60 50 50|010101010101010101010101010101010101010101010101010101012342101010101010101010101010101010101010101010101010101010101010|5E90 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2","America/Campo_Grande|-04 -03|40 30|010101010101010101010101010101010101010101010101010101010101010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|77e4","America/Cancun|CST EST EDT CDT|60 50 40 50|012121230303030303030303030303030303030301|t9G0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-04 -0430|40 4u|010|1wmv0 kqo0|29e5","America/Cayenne|-03|30|0||58e3","America/Chicago|CST CDT|60 50|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|CST CDT MDT MST|60 50 60 70|0101023232323232323232323232323232323232323232323232320|13Vk0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Ciudad_Juarez|CST CDT MDT MST|60 50 60 70|010102323232323232323232323232323232323232323232323232032323232323232323|13Vk0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1wn0 cm0 EP0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Costa_Rica|CST CDT|60 50|010101010|mgS0 Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5","America/Phoenix|MST|70|0||42e5","America/Cuiaba|-04 -03|40 30|0101010101010101010101010101010101010101010101010101010101010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|54e4","America/Danmarkshavn|-03 -02 GMT|30 20 0|0101010101010101010101010101010102|oXh0 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8","America/Dawson_Creek|PST PDT MST|80 70 70|0101012|Ka0 1cL0 1cN0 1fz0 1cN0 ML0|12e3","America/Dawson|YST PST PDT MST|90 80 70 70|012121212121212121212121212121212121212121212121212121212121212121212121212121212123|9ix0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1z90|13e2","America/Denver|MST MDT|70 60|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Detroit|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|85H0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5","America/Edmonton|MST MDT|70 60|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|5E90 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5","America/Eirunepe|-05 -04|50 40|01010101010|CxF0 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3","America/El_Salvador|CST CDT|60 50|01010|Gcu0 WL0 1qN0 WL0|11e5","America/Tijuana|PST PDT|80 70|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|fmy0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5","America/Fort_Nelson|PST PDT MST|80 70 70|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Fort_Wayne|EST EDT|50 40|01010101010101010101010101010101010101010101010101010|K70 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Fortaleza|-03 -02|30 20|01010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5","America/Glace_Bay|AST ADT|40 30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|5E60 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","America/Godthab|-03 -02 -01|30 20 10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010121212121212121|oXh0 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 2so0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|17e3","America/Goose_Bay|AST ADT ADDT|40 30 20|010101010101010101010101010101010101020101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K60 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|EST EDT AST|50 40 40|0101010101010101010101010101010101010101010101010101010101010101010101010210101010101010101010101010|mG70 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 7jA0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guatemala|CST CDT|60 50|010101010|9tG0 An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5","America/Guayaquil|-05 -04|50 40|010|TKR0 rz0|27e5","America/Guyana|-0345 -03 -04|3J 30 40|012|dzfJ Ey0f|80e4","America/Halifax|AST ADT|40 30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K60 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Havana|CST CDT|50 40|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K50 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Hermosillo|PST MST MDT|80 70 60|01212121|80 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4","America/Indiana/Knox|CST CDT EST|60 50 50|01010101010101010101010101010101010101010101210101010101010101010101010101010101010101010101010|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Marengo|EST EDT CDT|50 40 50|010101010201010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Petersburg|CST CDT EST EDT|60 50 50 40|0101010101010101210123232323232323232323232323232323232323232323232|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Tell_City|EST EDT CDT CST|50 40 50 60|01023232323232323232323232323232323232323232323232323|K70 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Vevay|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Vincennes|EST EDT CDT CST|50 40 50 60|01023201010101010101010101010101010101010101010101010|K70 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Winamac|EST EDT CDT CST|50 40 50 60|01023101010101010101010101010101010101010101010101010|K70 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Inuvik|PST PDT MDT MST|80 70 60 70|01010101010101023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|5Ea0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2","America/Iqaluit|EST EDT CST CDT|50 40 60 50|01010101010101010101010101010101010101010101010101010101230101010101010101010101010101010101010101010101010101010101010|5E70 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2","America/Jamaica|EST EDT|50 40|010101010101010101010|9Kv0 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4","America/Juneau|PST PDT YDT YST AKST AKDT|80 70 80 90 90 80|0101010101010101010102010101345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3","America/Kentucky/Louisville|EST EDT CDT|50 40 50|010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Kentucky/Monticello|CST CDT EST EDT|60 50 50 40|010101010101010101010101010101010101010101010101010101010101012323232323232323232323232323232323232323232323232323232323232|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/La_Paz|-04|40|0||19e5","America/Lima|-05 -04|50 40|010101010|CVF0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6","America/Los_Angeles|PST PDT|80 70|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Maceio|-03 -02|30 20|0101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4","America/Managua|CST EST CDT|60 50 50|010202010102020|86u0 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5","America/Manaus|-04 -03|40 30|010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5","America/Martinique|AST ADT|40 30|010|oXg0 19X0|39e4","America/Matamoros|CST CDT|60 50|0101010101010101010101010101010101010101010101010101010101010101010101010|IqU0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4","America/Mazatlan|PST MST MDT|80 70 60|01212121212121212121212121212121212121212121212121212121|80 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|44e4","America/Menominee|EST CDT CST|50 50 60|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|85H0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2","America/Merida|CST EST CDT|60 50 50|010202020202020202020202020202020202020202020202020202020|t9G0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|11e5","America/Metlakatla|PST PDT AKST AKDT|80 70 90 80|0101010101010101010101010101023232302323232323232323232323232|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 uM0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Mexico_City|CST CDT|60 50|0101010101010101010101010101010101010101010101010101010|13Vk0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Miquelon|AST -03 -02|40 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|p9g0 gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Moncton|AST ADT|40 30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K60 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3","America/Monterrey|CST CDT|60 50|010101010101010101010101010101010101010101010101010101010|IqU0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|41e5","America/Montevideo|-03 -02 -0130 -0230|30 20 1u 2u|0101023010101010101010101010101010101010101010101010|JD0 jX0 4vB0 xz0 3Cp0 mmu 1a10 IMu Db0 4c10 uL0 1Nd0 An0 1SN0 uL0 mp0 28L0 iPB0 un0 1SN0 xz0 1zd0 Lz0 1zd0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Toronto|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5","America/New_York|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Nome|BST BDT YST AKST AKDT|b0 a0 90 90 80|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Kd0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2","America/Noronha|-02 -01|20 10|01010101010101010|CxC0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|010101010101010101010101010101010101010101010101010101010101010101010101010101010123232323232323232323232323232323232323232|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/North_Dakota/Center|MST MDT CST CDT|70 60 60 50|010101010101010101010101010101010101010101010123232323232323232323232323232323232323232323232323232323232323232323232323232|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/North_Dakota/New_Salem|MST MDT CST CDT|70 60 60 50|010101010101010101010101010101010101010101010101010101010101010101012323232323232323232323232323232323232323232323232323232|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Ojinaga|CST CDT MDT MST|60 50 60 70|01010232323232323232323232323232323232323232323232323201010101010101010|13Vk0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1wn0 Rc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Paramaribo|-0330 -03|3u 30|01|zSPu|24e4","America/Port-au-Prince|EST EDT|50 40|01010101010101010101010101010101010101010101010101010101010101010101010|wu50 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Rio_Branco|-05 -04|50 40|010101010|CxF0 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4","America/Porto_Velho|-04 -03|40 30|0101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0|37e4","America/Punta_Arenas|-03 -04|30 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|yP0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|","America/Winnipeg|CST CDT|60 50|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K80 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4","America/Rankin_Inlet|CST CDT EST|60 50 50|01010101010101010101010101010101010101010101010101010101012101010101010101010101010101010101010101010101010101010101010|5E80 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2","America/Recife|-03 -02|30 20|01010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5","America/Regina|CST|60|0||19e4","America/Resolute|CST CDT EST|60 50 50|01010101010101010101010101010101010101010101010101010101012101010101012101010101010101010101010101010101010101010101010|5E80 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229","America/Santarem|-04 -03|40 30|01010101|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4","America/Santiago|-03 -04|30 40|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|yP0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0|62e5","America/Santo_Domingo|-0430 EST AST|4u 50 40|0101010101212|ksu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5","America/Sao_Paulo|-03 -02|30 20|010101010101010101010101010101010101010101010101010101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|20e6","America/Scoresbysund|-02 -01 +00|20 10 0|0102121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|oXg0 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|452","America/Sitka|PST PDT YST AKST AKDT|80 70 90 90 80|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2","America/St_Johns|NST NDT NDDT|3u 2u 1u|010101010101010101010101010101010101020101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K5u 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Swift_Current|MST CST|70 60|01|5E90|16e3","America/Tegucigalpa|CST CDT|60 50|0101010|Gcu0 WL0 1qN0 WL0 GRd0 AL0|11e5","America/Thule|AST ADT|40 30|010101010101010101010101010101010101010101010101010101010101010101010101010101010|PHG0 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656","America/Vancouver|PST PDT|80 70|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Whitehorse|PST PDT MST|80 70 70|01010101010101010101010101010101010101010101010101010101010101010101010101010101012|p7K0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1z90|23e3","America/Yakutat|YST YDT AKST AKDT|90 80 90 80|0101010101010101010101010101023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|Kb0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642","Antarctica/Casey|+08 +11|-80 -b0|010101010101|1ARS0 T90 40P0 KL0 blz0 3m10 1o30 14k0 1kr0 12l0 1o01|10","Antarctica/Davis|+07 +05|-70 -50|01010|1ART0 VB0 3Wn0 KN0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Antarctica/Macquarie|AEDT AEST|-b0 -a0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|qg0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 3Co0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|1","Antarctica/Mawson|+06 +05|-60 -50|01|1ARU0|60","Pacific/Auckland|NZST NZDT|-c0 -d0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|bKC0 IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00|14e5","Antarctica/Palmer|-03 -02 -04|30 20 40|01020202020202020202020202020202020202020202020202020202020202020202020|9Rf0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","Antarctica/Rothera|-00 -03|0 30|01|gOo0|130","Asia/Riyadh|+03|-30|0||57e5","Antarctica/Troll|-00 +00 +02|0 0 -20|012121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|40","Asia/Urumqi|+06|-60|0||32e5","Europe/Berlin|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXd0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|41e5","Asia/Almaty|+06 +07 +05|-60 -70 -50|0101010101010101010102010101010101010101010101010|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5","Asia/Amman|EET EEST +03|-20 -30 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101012|8kK0 KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 LA0 1C00|25e5","Asia/Anadyr|+13 +14 +12 +11|-d0 -e0 -c0 -b0|010202020202020202023202020202020202020202020202020202020232|rmX0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3","Asia/Aqtau|+05 +06 +04|-50 -60 -40|0101010101010101010201010120202020202020202020|sAj0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4","Asia/Aqtobe|+05 +06 +04|-50 -60 -40|01010101010101010102010101010101010101010101010|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4","Asia/Ashgabat|+05 +06 +04|-50 -60 -40|01010101010101010101020|rn70 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4","Asia/Atyrau|+05 +06 +04|-50 -60 -40|010101010101010101020101010101010102020202020|sAj0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|","Asia/Baghdad|+03 +04|-30 -40|01010101010101010101010101010101010101010101010101010|u190 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5","Asia/Qatar|+04 +03|-40 -30|01|5QI0|96e4","Asia/Baku|+04 +05 +03|-40 -50 -30|010101010101010101010201010101010101010101010101010101010101010|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +08 +06|-70 -80 -60|01010101010101010101020101010102020202020202020202020202020202020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|","Asia/Beirut|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|61a0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|22e5","Asia/Bishkek|+06 +07 +05|-60 -70 -50|0101010101010101010102020202020202020202020202020|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4","Asia/Brunei|+08|-80|0||42e4","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+09 +10 +08|-90 -a0 -80|0101010101010101010102010101010101010101010101010101010101010120|rn30 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|+07 +08 +10 +09|-70 -80 -a0 -90|012323232323232323232323232323232323232323232313131|jsF0 cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST CDT|-80 -90|0101010101010|DKG0 Rb0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6","Asia/Colombo|+0530 +0630 +06|-5u -6u -60|0120|14giu 11zu n3cu|22e5","Asia/Dhaka|+06 +07|-60 -70|010|1A5R0 1i00|16e6","Asia/Damascus|EET EEST +03|-20 -30 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101012|M00 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09 +08|-90 -80|010|fpr0 Xld0|19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Dushanbe|+06 +07 +05|-60 -70 -50|0101010101010101010102|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4","Asia/Famagusta|EET EEST +03|-20 -30 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101012010101010101010101010101010|cPa0 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|","Asia/Gaza|IST IDT EET EEST|-20 -30 -20 -30|010101010101010101010101010101023232323232323232323232323232323232323232323232323232323232323232323232|aXa0 Db0 1fB0 Rb0 bXB0 gM0 8Q00 IM0 1wo0 TX0 1HB0 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nA0 1210 1qL0 WN0 1qL0 WN0 1qL0 11c0 1on0 11B0 1o00 11A0 1qo0 XA0 1qp0 1cN0 1cL0 17d0 1in0 14p0 1lb0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|18e5","Asia/Hebron|IST IDT EET EEST|-20 -30 -20 -30|01010101010101010101010101010102323232323232323232323232323232323232323232323232323232323232323232323232|aXa0 Db0 1fB0 Rb0 bXB0 gM0 8Q00 IM0 1wo0 TX0 1HB0 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nA0 1210 1qL0 WN0 1qL0 WN0 1qL0 11c0 1on0 11B0 1o00 11A0 1qo0 XA0 1qp0 1cN0 1cL0 17d0 1in0 14p0 1lb0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|25e4","Asia/Ho_Chi_Minh|+08 +07|-80 -70|01|dfs0|90e5","Asia/Hong_Kong|HKT HKST|-80 -90|01010101010101010|H7u 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5","Asia/Hovd|+06 +07 +08|-60 -70 -80|01212121212121212121212121212121212121212121212121|jsG0 cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+08 +09 +07|-80 -90 -70|010101010101010101010201010101010101010101010101010101010101010|rn40 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|EET EEST +03 +04|-20 -30 -30 -40|01010101010123201010101010101010101010101010101010101010101010101010101010101012|8jz0 11A0 WN0 1qL0 TB0 1tX0 U10 1tz0 11B0 1in0 17d0 z90 cne0 pb0 2Cp0 1800 14o0 1dc0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|aXa0 Db0 1fB0 Rb0 bXB0 gM0 8Q00 IM0 1wo0 TX0 1HB0 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Kamchatka|+12 +13 +11|-c0 -d0 -b0|0101010101010101010102010101010101010101010101010101010101020|rn00 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4","Asia/Karachi|+05 PKT PKST|-50 -50 -60|01212121|2Xv0 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6","Asia/Kathmandu|+0530 +0545|-5u -5J|01|CVuu|12e5","Asia/Khandyga|+09 +10 +08 +11|-90 -a0 -80 -b0|01010101010101010101020101010101010101010101010131313131313131310|rn30 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|+07 +08 +06|-70 -80 -60|010101010101010101010201010101010101010101010101010101010101010|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|+0730 +08|-7u -80|01|td40|71e5","Asia/Macau|CST CDT|-80 -90|01010101010101010|H7u 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|57e4","Asia/Magadan|+11 +12 +10|-b0 -c0 -a0|0101010101010101010102010101010101010101010101010101010101010120|rn10 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Asia/Manila|PST PDT|-80 -90|010|k0E0 1db0|24e6","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|cPa0 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|32e4","Asia/Novokuznetsk|+07 +08 +06|-70 -80 -60|0101010101010101010102010101010101010101010101010101010101020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4","Asia/Novosibirsk|+07 +08 +06|-70 -80 -60|01010101010101010101020101020202020202020202020202020202020202020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|+06 +07 +05|-60 -70 -50|010101010101010101010201010101010101010101010101010101010101010|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5","Asia/Oral|+05 +06 +04|-50 -60 -40|010101010101010202020202020202020202020202020|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4","Asia/Pontianak|WITA WIB|-80 -70|01|HNs0|23e4","Asia/Pyongyang|KST KST|-90 -8u|010|1P4D0 6BA0|29e5","Asia/Qostanay|+05 +06 +04|-50 -60 -40|0101010101010101010201010101010101010101010101|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|","Asia/Qyzylorda|+05 +06|-50 -60|010101010101010101010101010101010101010101010|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 zQl0|73e4","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +12 +10|-b0 -c0 -a0|010101010101010101010201010101010202020202020202020202020202020|rn10 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Samarkand|+05 +06|-50 -60|010101010101010101010|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4","Asia/Seoul|KST KDT|-90 -a0|01010|Gf50 11A0 1o00 11A0|23e6","Asia/Srednekolymsk|+11 +12 +10|-b0 -c0 -a0|010101010101010101010201010101010101010101010101010101010101010|rn10 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2","Asia/Taipei|CST CDT|-80 -90|0101010|akg0 1db0 1cN0 1db0 97B0 AL0|74e5","Asia/Tashkent|+06 +07 +05|-60 -70 -50|0101010101010101010102|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5","Asia/Tbilisi|+04 +05 +03|-40 -50 -30|01010101010101010101020202010101010101010101020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5","Asia/Tehran|+0330 +0430 +04 +05|-3u -4u -40 -50|0123201010101010101010101010101010101010101010101010101010101010101010|hyHu 1pc0 120u Rc0 XA0 Wou JX0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|+0530 +06|-5u -60|01|HcGu|79e3","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +08 +06|-70 -80 -60|01010101010101010101020101010101010101010101020202020202020202020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|+07 +08 +09|-70 -80 -90|01212121212121212121212121212121212121212121212121|jsF0 cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|+09 +12 +11 +10|-90 -c0 -b0 -a0|0121212121212121212123212121212121212121212121212121212121212123|rn30 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|+10 +11 +09|-a0 -b0 -90|010101010101010101010201010101010101010101010101010101010101010|rn20 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|+09 +10 +08|-90 -a0 -80|010101010101010101010201010101010101010101010101010101010101010|rn30 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|+05 +06 +04|-50 -60 -40|010101010101010101010201010101010101010101010101010101010101010|rn70 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|+04 +05 +03|-40 -50 -30|01010101010101010101020202020101010101010101010101010101010|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|-01 +00 WET|10 0 0|0101010101010101010101010101010121010101010101010101010101010101010101010101010101010101010101010101010101010|hAN0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|25e4","Atlantic/Bermuda|AST ADT|40 30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|avi0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3","Atlantic/Canary|WET WEST|0 -10|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXc0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|54e4","Atlantic/Cape_Verde|-02 -01|20 10|01|elE0|50e4","Atlantic/Faroe|WET WEST|0 -10|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|rm10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|49e3","Atlantic/Madeira|WET WEST|0 -10|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hAM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|27e4","Atlantic/South_Georgia|-02|20|0||30","Atlantic/Stanley|-04 -03 -02|40 30 20|01212101010101010101010101010101010101010101010101010101|wrg0 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2","Australia/Sydney|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r40 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|40e5","Australia/Adelaide|ACST ACDT|-9u -au|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r4u LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|11e5","Australia/Brisbane|AEST AEDT|-a0 -b0|010101010|4r40 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5","Australia/Broken_Hill|ACST ACDT|-9u -au|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r4u LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|18e3","Australia/Hobart|AEDT AEST|-b0 -a0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|qg0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|21e4","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845 +0945|-8J -9J|0101010101010|bHRf Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368","Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|01212121213131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu|347","Australia/Lindeman|AEST AEDT|-a0 -b0|0101010101010|4r40 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10","Australia/Melbourne|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r40 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|39e5","Australia/Perth|AWST AWDT|-80 -90|0101010101010|bHS0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5","Europe/Brussels|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|21e5","Pacific/Easter|-06 -07 -05|60 70 50|010101010101010101010101020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202|yP0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0|30e2","EET|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|","Europe/Dublin|IST GMT|-10 0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4re0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Etc/GMT-1|+01|-10|0||","Pacific/Guadalcanal|+11|-b0|0||11e4","Pacific/Tarawa|+12|-c0|0||29e3","Etc/GMT-13|+13|-d0|0||","Etc/GMT-14|+14|-e0|0||","Etc/GMT-2|+02|-20|0||","Indian/Maldives|+05|-50|0||35e4","Pacific/Palau|+09|-90|0||21e3","Etc/GMT+1|-01|10|0||","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0||","Etc/GMT+5|-05|50|0||","Etc/GMT+6|-06|60|0||","Etc/GMT+7|-07|70|0||","Etc/GMT+8|-08|80|0||","Pacific/Gambier|-09|90|0||125","Etc/UTC|UTC|0|0||","Europe/Andorra|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|B7d0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|79e3","Europe/Astrakhan|+04 +05 +03|-40 -50 -30|0101010101010101020202020202020202020202020202020202020202020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|10e5","Europe/Athens|EET EEST|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|cOK0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|35e5","Europe/London|BST GMT|-10 0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4re0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|10e6","Europe/Belgrade|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|wdd0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Europe/Prague|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|muN0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|13e5","Europe/Bucharest|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|mRa0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|19e5","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXb0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cO0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|17e5","Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|rm10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|38e4","Europe/Chisinau|MSK MSD EEST EET|-30 -40 -30 -20|010101010101010101012323232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|67e4","Europe/Gibraltar|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|tLB0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|30e3","Europe/Helsinki|EET EEST|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|rm00 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Europe/Kaliningrad|MSK MSD EEST EET +03|-30 -40 -30 -20 -30|010101010101010102323232323232323232323232323232323232323232343|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4","Europe/Kiev|MSK MSD EEST EET|-30 -40 -30 -20|0101010101010101010123232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o10 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|34e5","Europe/Kirov|+04 +05 MSD MSK MSK|-40 -50 -40 -30 -40|01010101010101010232302323232323232323232323232323232323232343|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 2pz0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4","Europe/Lisbon|CET WET WEST CEST|-10 0 -10 -20|01212121212121212121212121212121203030302121212121212121212121212121212121212121212121212121212121212121212121|go00 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|27e5","Europe/Madrid|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|apy0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|62e5","Europe/Malta|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|XX0 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|42e4","Europe/Minsk|MSK MSD EEST EET +03|-30 -40 -30 -20 -30|010101010101010101023232323232323232323232323232323232323234|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5","Europe/Paris|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|fbc0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|11e6","Europe/Moscow|MSK MSD EEST EET MSK|-30 -40 -30 -20 -40|0101010101010101010102301010101010101010101010101010101010101040|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6","Europe/Riga|MSK MSD EEST EET|-30 -40 -30 -20|010101010101010102323232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|64e4","Europe/Rome|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|XX0 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|39e5","Europe/Samara|+04 +05 +03|-40 -50 -30|01010101010101010202010101010101010101010101010101010101020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5","Europe/Saratov|+04 +05 +03|-40 -50 -30|0101010101010102020202020202020202020202020202020202020202020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810|","Europe/Simferopol|MSK MSD EET EEST MSK|-30 -40 -20 -30 -40|0101010101010101010232323101010323232323232323232323232323232323240|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eN0 1cM0 1cM0 1cM0 1cM0 dV0 WO0 1cM0 1cM0 1fy0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Sofia|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|muJ0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Europe/Tallinn|MSK MSD EEST EET|-30 -40 -30 -20|0101010101010101023232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|41e4","Europe/Tirane|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|axz0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|42e4","Europe/Ulyanovsk|+04 +05 +03 +02|-40 -50 -30 -20|010101010101010102023202020202020202020202020202020202020202020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|13e5","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXb0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|18e5","Europe/Vilnius|MSK MSD EEST EET CEST CET|-30 -40 -30 -20 -20 -10|01010101010101010232323232323232323454323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|54e4","Europe/Volgograd|+04 +05 MSD MSK MSK|-40 -50 -40 -30 -40|0101010101010102323230232323232323232323232323232323232323234303|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1fA0 1cM0 2pz0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 9Jd0 5gn0|10e5","Europe/Warsaw|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|17e5","Pacific/Honolulu|HST|a0|0||37e4","Indian/Chagos|+05 +06|-50 -60|01|13ij0|30e2","Indian/Mauritius|+04 +05|-40 -50|01010|v5U0 14L0 12kr0 11z0|15e4","Pacific/Kwajalein|-12 +12|c0 -c0|01|Vxo0|14e3","MET|MET MEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|","Pacific/Chatham|+1245 +1345|-cJ -dJ|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|bKC0 IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00|600","Pacific/Apia|-11 -10 +14 +13|b0 a0 -e0 -d0|010123232323232323232323|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Efate|+11 +12|-b0 -c0|01010101010101010101010|9EA0 Dc0 n610 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3","Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B7X0|1","Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483","Pacific/Fiji|+12 +13|-c0 -d0|01010101010101010101010101010|1ace0 LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 20o0 pc0 2hc0 bc0|88e4","Pacific/Galapagos|-05 -06|50 60|0101|CVF0 gNd0 rz0|25e3","Pacific/Guam|GST GDT ChST|-a0 -b0 -a0|010101010102|JQ0 Rb0 1wp0 Rb0 5xd0 rX0 5sN0 zb1 1C0X On0 ULb0|17e4","Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B7Xk|51e2","Pacific/Kosrae|+12 +11|-c0 -b0|01|1aAA0|66e2","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Nauru|+1130 +12|-bu -c0|01|maCu|10e3","Pacific/Norfolk|+1130 +1230 +11 +12|-bu -cu -b0 -c0|010232323232323232323232323|bHOu Oo0 1COo0 9Jcu 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|25e4","Pacific/Noumea|+11 +12|-b0 -c0|0101010|jhp0 xX0 1PB0 yn0 HeP0 Ao0|98e3","Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56","Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3","Pacific/Tongatapu|+13 +14|-d0 -e0|010101010|1csd0 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3","WET|WET WEST|0 -10|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Cayenne|Etc/GMT+3","America/Chicago|CST6CDT","America/Chicago|US/Central","America/Denver|America/Shiprock","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|America/Yellowknife","America/Edmonton|Canada/Mountain","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Godthab|America/Nuuk","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Iqaluit|America/Pangnirtung","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/La_Paz|Etc/GMT+4","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|EST5EDT","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|EST","America/Phoenix|America/Creston","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Puerto_Rico|America/Anguilla","America/Puerto_Rico|America/Antigua","America/Puerto_Rico|America/Aruba","America/Puerto_Rico|America/Blanc-Sablon","America/Puerto_Rico|America/Curacao","America/Puerto_Rico|America/Dominica","America/Puerto_Rico|America/Grenada","America/Puerto_Rico|America/Guadeloupe","America/Puerto_Rico|America/Kralendijk","America/Puerto_Rico|America/Lower_Princes","America/Puerto_Rico|America/Marigot","America/Puerto_Rico|America/Montserrat","America/Puerto_Rico|America/Port_of_Spain","America/Puerto_Rico|America/St_Barthelemy","America/Puerto_Rico|America/St_Kitts","America/Puerto_Rico|America/St_Lucia","America/Puerto_Rico|America/St_Thomas","America/Puerto_Rico|America/St_Vincent","America/Puerto_Rico|America/Tortola","America/Puerto_Rico|America/Virgin","America/Regina|Canada/Saskatchewan","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Tijuana|America/Ensenada","America/Tijuana|America/Santa_Isabel","America/Tijuana|Mexico/BajaNorte","America/Toronto|America/Montreal","America/Toronto|America/Nassau","America/Toronto|America/Nipigon","America/Toronto|America/Thunder_Bay","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|America/Rainy_River","America/Winnipeg|Canada/Central","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Brunei|Asia/Kuching","Asia/Brunei|Etc/GMT-8","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Reunion","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Singapore","Asia/Macau|Asia/Macao","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Qatar|Asia/Bahrain","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Riyadh|Antarctica/Syowa","Asia/Riyadh|Asia/Aden","Asia/Riyadh|Asia/Kuwait","Asia/Riyadh|Etc/GMT-3","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Antarctica/Vostok","Asia/Urumqi|Asia/Kashgar","Asia/Urumqi|Etc/GMT-6","Atlantic/Faroe|Atlantic/Faeroe","Atlantic/South_Georgia|Etc/GMT+2","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Currie","Australia/Hobart|Australia/Tasmania","Australia/Lord_Howe|Australia/LHI","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/NSW","Etc/UTC|Etc/UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UCT","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Berlin|Arctic/Longyearbyen","Europe/Berlin|Atlantic/Jan_Mayen","Europe/Berlin|Europe/Copenhagen","Europe/Berlin|Europe/Oslo","Europe/Berlin|Europe/Stockholm","Europe/Brussels|CET","Europe/Brussels|Europe/Amsterdam","Europe/Brussels|Europe/Luxembourg","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Helsinki|Europe/Mariehamn","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Kiev|Europe/Kyiv","Europe/Kiev|Europe/Uzhgorod","Europe/Kiev|Europe/Zaporozhye","Europe/Lisbon|Portugal","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Europe/Monaco","Europe/Prague|Europe/Bratislava","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Europe/Zurich|Europe/Busingen","Europe/Zurich|Europe/Vaduz","Indian/Maldives|Etc/GMT-5","Indian/Maldives|Indian/Kerguelen","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Enderbury|Pacific/Kanton","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kwajalein|Kwajalein","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Palau|Etc/GMT-9","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tarawa|Etc/GMT-12","Pacific/Tarawa|Pacific/Funafuti","Pacific/Tarawa|Pacific/Majuro","Pacific/Tarawa|Pacific/Wake","Pacific/Tarawa|Pacific/Wallis"],countries:["AD|Europe/Andorra","AE|Asia/Dubai","AF|Asia/Kabul","AG|America/Puerto_Rico America/Antigua","AI|America/Puerto_Rico America/Anguilla","AL|Europe/Tirane","AM|Asia/Yerevan","AO|Africa/Lagos Africa/Luanda","AQ|Antarctica/Casey Antarctica/Davis Antarctica/Mawson Antarctica/Palmer Antarctica/Rothera Antarctica/Troll Asia/Urumqi Pacific/Auckland Pacific/Port_Moresby Asia/Riyadh Antarctica/McMurdo Antarctica/DumontDUrville Antarctica/Syowa Antarctica/Vostok","AR|America/Argentina/Buenos_Aires America/Argentina/Cordoba America/Argentina/Salta America/Argentina/Jujuy America/Argentina/Tucuman America/Argentina/Catamarca America/Argentina/La_Rioja America/Argentina/San_Juan America/Argentina/Mendoza America/Argentina/San_Luis America/Argentina/Rio_Gallegos America/Argentina/Ushuaia","AS|Pacific/Pago_Pago","AT|Europe/Vienna","AU|Australia/Lord_Howe Antarctica/Macquarie Australia/Hobart Australia/Melbourne Australia/Sydney Australia/Broken_Hill Australia/Brisbane Australia/Lindeman Australia/Adelaide Australia/Darwin Australia/Perth Australia/Eucla","AW|America/Puerto_Rico America/Aruba","AX|Europe/Helsinki Europe/Mariehamn","AZ|Asia/Baku","BA|Europe/Belgrade Europe/Sarajevo","BB|America/Barbados","BD|Asia/Dhaka","BE|Europe/Brussels","BF|Africa/Abidjan Africa/Ouagadougou","BG|Europe/Sofia","BH|Asia/Qatar Asia/Bahrain","BI|Africa/Maputo Africa/Bujumbura","BJ|Africa/Lagos Africa/Porto-Novo","BL|America/Puerto_Rico America/St_Barthelemy","BM|Atlantic/Bermuda","BN|Asia/Kuching Asia/Brunei","BO|America/La_Paz","BQ|America/Puerto_Rico America/Kralendijk","BR|America/Noronha America/Belem America/Fortaleza America/Recife America/Araguaina America/Maceio America/Bahia America/Sao_Paulo America/Campo_Grande America/Cuiaba America/Santarem America/Porto_Velho America/Boa_Vista America/Manaus America/Eirunepe America/Rio_Branco","BS|America/Toronto America/Nassau","BT|Asia/Thimphu","BW|Africa/Maputo Africa/Gaborone","BY|Europe/Minsk","BZ|America/Belize","CA|America/St_Johns America/Halifax America/Glace_Bay America/Moncton America/Goose_Bay America/Toronto America/Iqaluit America/Winnipeg America/Resolute America/Rankin_Inlet America/Regina America/Swift_Current America/Edmonton America/Cambridge_Bay America/Inuvik America/Dawson_Creek America/Fort_Nelson America/Whitehorse America/Dawson America/Vancouver America/Panama America/Puerto_Rico America/Phoenix America/Blanc-Sablon America/Atikokan America/Creston","CC|Asia/Yangon Indian/Cocos","CD|Africa/Maputo Africa/Lagos Africa/Kinshasa Africa/Lubumbashi","CF|Africa/Lagos Africa/Bangui","CG|Africa/Lagos Africa/Brazzaville","CH|Europe/Zurich","CI|Africa/Abidjan","CK|Pacific/Rarotonga","CL|America/Santiago America/Punta_Arenas Pacific/Easter","CM|Africa/Lagos Africa/Douala","CN|Asia/Shanghai Asia/Urumqi","CO|America/Bogota","CR|America/Costa_Rica","CU|America/Havana","CV|Atlantic/Cape_Verde","CW|America/Puerto_Rico America/Curacao","CX|Asia/Bangkok Indian/Christmas","CY|Asia/Nicosia Asia/Famagusta","CZ|Europe/Prague","DE|Europe/Zurich Europe/Berlin Europe/Busingen","DJ|Africa/Nairobi Africa/Djibouti","DK|Europe/Berlin Europe/Copenhagen","DM|America/Puerto_Rico America/Dominica","DO|America/Santo_Domingo","DZ|Africa/Algiers","EC|America/Guayaquil Pacific/Galapagos","EE|Europe/Tallinn","EG|Africa/Cairo","EH|Africa/El_Aaiun","ER|Africa/Nairobi Africa/Asmara","ES|Europe/Madrid Africa/Ceuta Atlantic/Canary","ET|Africa/Nairobi Africa/Addis_Ababa","FI|Europe/Helsinki","FJ|Pacific/Fiji","FK|Atlantic/Stanley","FM|Pacific/Kosrae Pacific/Port_Moresby Pacific/Guadalcanal Pacific/Chuuk Pacific/Pohnpei","FO|Atlantic/Faroe","FR|Europe/Paris","GA|Africa/Lagos Africa/Libreville","GB|Europe/London","GD|America/Puerto_Rico America/Grenada","GE|Asia/Tbilisi","GF|America/Cayenne","GG|Europe/London Europe/Guernsey","GH|Africa/Abidjan Africa/Accra","GI|Europe/Gibraltar","GL|America/Nuuk America/Danmarkshavn America/Scoresbysund America/Thule","GM|Africa/Abidjan Africa/Banjul","GN|Africa/Abidjan Africa/Conakry","GP|America/Puerto_Rico America/Guadeloupe","GQ|Africa/Lagos Africa/Malabo","GR|Europe/Athens","GS|Atlantic/South_Georgia","GT|America/Guatemala","GU|Pacific/Guam","GW|Africa/Bissau","GY|America/Guyana","HK|Asia/Hong_Kong","HN|America/Tegucigalpa","HR|Europe/Belgrade Europe/Zagreb","HT|America/Port-au-Prince","HU|Europe/Budapest","ID|Asia/Jakarta Asia/Pontianak Asia/Makassar Asia/Jayapura","IE|Europe/Dublin","IL|Asia/Jerusalem","IM|Europe/London Europe/Isle_of_Man","IN|Asia/Kolkata","IO|Indian/Chagos","IQ|Asia/Baghdad","IR|Asia/Tehran","IS|Africa/Abidjan Atlantic/Reykjavik","IT|Europe/Rome","JE|Europe/London Europe/Jersey","JM|America/Jamaica","JO|Asia/Amman","JP|Asia/Tokyo","KE|Africa/Nairobi","KG|Asia/Bishkek","KH|Asia/Bangkok Asia/Phnom_Penh","KI|Pacific/Tarawa Pacific/Kanton Pacific/Kiritimati","KM|Africa/Nairobi Indian/Comoro","KN|America/Puerto_Rico America/St_Kitts","KP|Asia/Pyongyang","KR|Asia/Seoul","KW|Asia/Riyadh Asia/Kuwait","KY|America/Panama America/Cayman","KZ|Asia/Almaty Asia/Qyzylorda Asia/Qostanay Asia/Aqtobe Asia/Aqtau Asia/Atyrau Asia/Oral","LA|Asia/Bangkok Asia/Vientiane","LB|Asia/Beirut","LC|America/Puerto_Rico America/St_Lucia","LI|Europe/Zurich Europe/Vaduz","LK|Asia/Colombo","LR|Africa/Monrovia","LS|Africa/Johannesburg Africa/Maseru","LT|Europe/Vilnius","LU|Europe/Brussels Europe/Luxembourg","LV|Europe/Riga","LY|Africa/Tripoli","MA|Africa/Casablanca","MC|Europe/Paris Europe/Monaco","MD|Europe/Chisinau","ME|Europe/Belgrade Europe/Podgorica","MF|America/Puerto_Rico America/Marigot","MG|Africa/Nairobi Indian/Antananarivo","MH|Pacific/Tarawa Pacific/Kwajalein Pacific/Majuro","MK|Europe/Belgrade Europe/Skopje","ML|Africa/Abidjan Africa/Bamako","MM|Asia/Yangon","MN|Asia/Ulaanbaatar Asia/Hovd Asia/Choibalsan","MO|Asia/Macau","MP|Pacific/Guam Pacific/Saipan","MQ|America/Martinique","MR|Africa/Abidjan Africa/Nouakchott","MS|America/Puerto_Rico America/Montserrat","MT|Europe/Malta","MU|Indian/Mauritius","MV|Indian/Maldives","MW|Africa/Maputo Africa/Blantyre","MX|America/Mexico_City America/Cancun America/Merida America/Monterrey America/Matamoros America/Chihuahua America/Ciudad_Juarez America/Ojinaga America/Mazatlan America/Bahia_Banderas America/Hermosillo America/Tijuana","MY|Asia/Kuching Asia/Singapore Asia/Kuala_Lumpur","MZ|Africa/Maputo","NA|Africa/Windhoek","NC|Pacific/Noumea","NE|Africa/Lagos Africa/Niamey","NF|Pacific/Norfolk","NG|Africa/Lagos","NI|America/Managua","NL|Europe/Brussels Europe/Amsterdam","NO|Europe/Berlin Europe/Oslo","NP|Asia/Kathmandu","NR|Pacific/Nauru","NU|Pacific/Niue","NZ|Pacific/Auckland Pacific/Chatham","OM|Asia/Dubai Asia/Muscat","PA|America/Panama","PE|America/Lima","PF|Pacific/Tahiti Pacific/Marquesas Pacific/Gambier","PG|Pacific/Port_Moresby Pacific/Bougainville","PH|Asia/Manila","PK|Asia/Karachi","PL|Europe/Warsaw","PM|America/Miquelon","PN|Pacific/Pitcairn","PR|America/Puerto_Rico","PS|Asia/Gaza Asia/Hebron","PT|Europe/Lisbon Atlantic/Madeira Atlantic/Azores","PW|Pacific/Palau","PY|America/Asuncion","QA|Asia/Qatar","RE|Asia/Dubai Indian/Reunion","RO|Europe/Bucharest","RS|Europe/Belgrade","RU|Europe/Kaliningrad Europe/Moscow Europe/Simferopol Europe/Kirov Europe/Volgograd Europe/Astrakhan Europe/Saratov Europe/Ulyanovsk Europe/Samara Asia/Yekaterinburg Asia/Omsk Asia/Novosibirsk Asia/Barnaul Asia/Tomsk Asia/Novokuznetsk Asia/Krasnoyarsk Asia/Irkutsk Asia/Chita Asia/Yakutsk Asia/Khandyga Asia/Vladivostok Asia/Ust-Nera Asia/Magadan Asia/Sakhalin Asia/Srednekolymsk Asia/Kamchatka Asia/Anadyr","RW|Africa/Maputo Africa/Kigali","SA|Asia/Riyadh","SB|Pacific/Guadalcanal","SC|Asia/Dubai Indian/Mahe","SD|Africa/Khartoum","SE|Europe/Berlin Europe/Stockholm","SG|Asia/Singapore","SH|Africa/Abidjan Atlantic/St_Helena","SI|Europe/Belgrade Europe/Ljubljana","SJ|Europe/Berlin Arctic/Longyearbyen","SK|Europe/Prague Europe/Bratislava","SL|Africa/Abidjan Africa/Freetown","SM|Europe/Rome Europe/San_Marino","SN|Africa/Abidjan Africa/Dakar","SO|Africa/Nairobi Africa/Mogadishu","SR|America/Paramaribo","SS|Africa/Juba","ST|Africa/Sao_Tome","SV|America/El_Salvador","SX|America/Puerto_Rico America/Lower_Princes","SY|Asia/Damascus","SZ|Africa/Johannesburg Africa/Mbabane","TC|America/Grand_Turk","TD|Africa/Ndjamena","TF|Asia/Dubai Indian/Maldives Indian/Kerguelen","TG|Africa/Abidjan Africa/Lome","TH|Asia/Bangkok","TJ|Asia/Dushanbe","TK|Pacific/Fakaofo","TL|Asia/Dili","TM|Asia/Ashgabat","TN|Africa/Tunis","TO|Pacific/Tongatapu","TR|Europe/Istanbul","TT|America/Puerto_Rico America/Port_of_Spain","TV|Pacific/Tarawa Pacific/Funafuti","TW|Asia/Taipei","TZ|Africa/Nairobi Africa/Dar_es_Salaam","UA|Europe/Simferopol Europe/Kyiv","UG|Africa/Nairobi Africa/Kampala","UM|Pacific/Pago_Pago Pacific/Tarawa Pacific/Midway Pacific/Wake","US|America/New_York America/Detroit America/Kentucky/Louisville America/Kentucky/Monticello America/Indiana/Indianapolis America/Indiana/Vincennes America/Indiana/Winamac America/Indiana/Marengo America/Indiana/Petersburg America/Indiana/Vevay America/Chicago America/Indiana/Tell_City America/Indiana/Knox America/Menominee America/North_Dakota/Center America/North_Dakota/New_Salem America/North_Dakota/Beulah America/Denver America/Boise America/Phoenix America/Los_Angeles America/Anchorage America/Juneau America/Sitka America/Metlakatla America/Yakutat America/Nome America/Adak Pacific/Honolulu","UY|America/Montevideo","UZ|Asia/Samarkand Asia/Tashkent","VA|Europe/Rome Europe/Vatican","VC|America/Puerto_Rico America/St_Vincent","VE|America/Caracas","VG|America/Puerto_Rico America/Tortola","VI|America/Puerto_Rico America/St_Thomas","VN|Asia/Bangkok Asia/Ho_Chi_Minh","VU|Pacific/Efate","WF|Pacific/Tarawa Pacific/Wallis","WS|Pacific/Apia","YE|Asia/Riyadh Asia/Aden","YT|Africa/Nairobi Indian/Mayotte","ZA|Africa/Johannesburg","ZM|Africa/Maputo Africa/Lusaka","ZW|Africa/Maputo Africa/Harare"]}),e}))})),$r=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.date_math=void 0,e.format_date=function(e,r,n,i){if(null!=r||(r="ddd mmm dd yyyy hh:MM:ss"),null==e||isNaN(e.valueOf()))return"";{let a=x(e,i);if(r){let{result:e,date:t}=function(e,t){t.startsWith("UTC:")&&(t=t.substring(4),e=e.tz("UTC"));let r=function(e){let t,r=[],n="";for(;null!=(t=(0,o.oneOf)('"',"'").exec(e));){let i=e.indexOf(t[0],t.index+1);-1!==i?(r.push({content:n+e.substring(0,t.index),type:"normal"}),r.push({content:e.substring(t.index+1,i),type:"literal"}),e=e.substring(i+1),n=""):(n=e.substring(0,t.index+1),e=e.substring(t.index+1))}return""!==e&&r.push({content:n+e,type:"normal"}),r}(t),n="";for(let t of r)"literal"===t.type?(n+=d,n+=t.content.replace(m,"]$<esc>["),n+=p):n+=t.content.replace(m,"[$<esc>]").replace(b,w(e));return{result:n,date:e}}(a,r);r=e,a=t}if(null!=n){let e=t.default.locale();t.default.defineLocale("temp_locale",{parentLocale:e,monthsShort:n.monthNames.slice(0,12),months:n.monthNames.slice(12),weekdaysShort:n.dayNames.slice(0,7),weekdays:n.dayNames.slice(7)});let i=a.locale("temp_locale").format(r);return t.default.updateLocale("temp_locale",null),t.default.locale(e),i}return a.format(r)}},e.format_date_interval=A,e.get_last_day_of_utc_month=e.get_last_day_of_month=e.get_first_day_of_month=e.format_date_short_based_on_locale=void 0,e.get_previous_month_year=function(e){let t=null!=e?e:new Date,r=t.getFullYear(),n=t.getMonth(),i=0===n?12:n;return{month:i,year:i<12?r:r-1}},e.get_prior_midnight_utc_date=void 0,e.get_prior_midnight_utc_ts=function(e){return E(new Date(e)).getTime()},e.get_utc_tomorrow_midnight=void 0,e.human_readable_to_epoch=function(e,r){return e?r?t.default.tz(e,"MM/DD/YYYY H:mm",r).valueOf():(0,t.default)(e,"MM/DD/YYYY H:mm").valueOf():null},e.mk_date=M,e.print_date_interval=function(e){for(let t of["days","hours","minutes","seconds"]){let r=A(e,t);if(1===r)return`${r} ${t.slice(0,t.length-1)}`;if(null!==r&&r>1||"seconds"===t)return`${null!=r?r:"NaN"} ${t}`}return""},e.require_moment=function(){let e;return e=r.on_server()?l("moment-timezone"):Wr(),e},e.to_moment=x,Ft(),Ue();var t=c(rr()),r=u(ot()),n=c(qr()),i=u(Or()),a=u(Sr()),o=Ur(),s=it();function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function c(e){return e&&e.__esModule?e:{default:e}}var d="[",p="]",h=[["yyyy","YYYY"],["yy","YY"],["m","M"],[null,"Mo"],["mm","MM"],["mmm","MMM"],["mmmm","MMMM"],[null,"w"],[null,"wo"],[null,"ww"],["d","D"],["dd","DD"],[null,"DDD"],[null,"DDDo"],[null,"DDDD"],["ddd","ddd"],["dddd","dddd"],[null,"do"],["TT","A"],["tt","a"],["H","H"],["HH","HH"],["h","h"],["hh","hh"],["M","m"],["MM","mm"],["L","SS"],["l","SSS"],["Z","z"],[null,"zz"]],g={t:e=>d+e.format("a")[0]+p,T:e=>d+e.format("A")[0]+p,o:e=>{let t=e.utcOffset(),r=Math.floor(Math.abs(t)/60),n=Math.abs(t)-60*r;return d+(t>=0?"+":"-")+(r<10?`0${r}`:`${r}`)+(n<10?`0${n}`:`${n}`)+p},S:e=>{let t=e.format("Do");return d+t.replace(/\d/g,"")+p}},m=(0,o.withFlags)("g",(0,o.capture)("esc",(0,o.oneOf)(d,p))),v=new Set(h.map((e=>e[1]))),y=new Map(h.filter((e=>null!==e[0]))),b=(0,o.withFlags)("g",(0,o.capture)("token",(0,o.oneOf)(...[...v.values(),...y.keys(),...Object.keys(g)].sort(((e,t)=>t.length-e.length)))));function w(e){return t=>{let r=y.get(t);if(null!=r)return r;let n=g[t];if(null!=n)return n(e);if(v.has(t))return d+t+p;throw new s.UnexpectedError("Invalid Capturing Group detected in regex!",{fullMatch:t})}}function A(e,t){if(isNaN(e))return null;switch(t){case"days":return Math.round(e/864e5*10)/10;case"hours":return Math.round(e/36e5*10)/10;case"minutes":return Math.round(e/6e4);case"seconds":return Math.round(e/1e3)}}e.format_date_short_based_on_locale=(e,t)=>{let{year:r,month:n,day:i,hour:a,minute:o}=t;return e.toLocaleString(void 0,{year:r?"numeric":void 0,month:n?"short":void 0,day:i?"numeric":void 0,hour:a?"2-digit":void 0,minute:o?"2-digit":void 0})};e.get_last_day_of_month=(e,t)=>new Date(e,t,0);e.get_last_day_of_utc_month=(e,t)=>new Date(Date.UTC(e,t,0));e.get_first_day_of_month=(e,t)=>new Date(e,t,1);e.get_utc_tomorrow_midnight=()=>{let e=new Date(Date.now()+i.DAY_MS);return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))};var E=e=>{let t=null!=e?e:new Date;return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))};function M(e,r){let i;if(e instanceof Date)i=e;else if("number"==typeof e)i=new Date(e);else if("string"==typeof e)if(String(parseFloat(e))===e)i=new Date(parseFloat(e));else if(null!=r||n.default.or_throw().bubble_version()>=17){if(null!=r||(r=n.default.or_throw().current_timezone()),(0,t.default)(e,[t.default.ISO_8601,t.default.RFC_2822]).isValid())i=t.default.tz(e,r).toDate();else if(/GMT[+-]\d{4}/.test(e)||/\((?!PM|AM|am|pm)([a-z]|[A-Z]){2,3}\)/.test(e)||/ (?!PM|AM|am|pm)([a-z]|[A-Z]){2,3}$/.test(e))i=(0,t.default)(e).toDate();else{let n=(0,t.default)(e).format("YYYY-MM-DD[T]HH:mm:ss");i=t.default.tz(n,r).toDate()}}else i=(0,t.default)(e).toDate();else i=new Date(NaN);return isNaN(i.valueOf())?null:i}function x(e,r){let n=(0,t.default)(M(e));return null!=r&&n.tz(r),n}function O(e){return e.isValid()?M(e.toDate()):null}function k(e,t,r){var i;let o=x(e,n.default.or_throw().current_timezone()),s=null!=(i=a.to_num(t))?i:0;return o.add(s,r),O(o)}function S(e,t,r){let i=x(e,n.default.or_throw().current_timezone()),o=a.to_num(t);return null==o||i.set(r,o),O(i)}e.get_prior_midnight_utc_date=E;var T={plus_seconds(e,t){var r;let n=M(e);if(null==n||null==e)return null;let o=null!=(r=a.to_num(t))?r:0;return M(new Date(Math.round(n.valueOf()+o*i.SECOND_MS)))},plus_minutes(e,t){var r;let n=M(e);if(null==e||null==n)return null;let o=null!=(r=a.to_num(t))?r:0;return M(new Date(Math.round(n.valueOf()+o*i.MINUTE_MS)))},plus_hours(e,t){var r;let n=M(e);if(null==e||null==n)return null;let o=null!=(r=a.to_num(t))?r:0;return M(new Date(Math.round(n.valueOf()+o*i.HOUR_MS)))},plus_days:(e,t)=>k(e,t,"days"),plus_months:(e,t)=>k(e,t,"months"),plus_years:(e,t)=>k(e,t,"years"),change_seconds:(e,t)=>S(S(e,t,"second"),"0","millisecond"),change_minutes:(e,t)=>S(e,t,"minute"),change_hours:(e,t)=>S(e,t,"hour"),change_date:(e,t)=>S(e,t,"date"),change_month(e,t){let r=a.to_num(t);return null==r?M(e):(r-=1,S(e,r,"month"))},change_years:(e,t)=>S(e,t,"year"),extract_from_date(e,t,r){let i;switch(r.tz_type){case"static":i=r.tz_static;break;case"dynamic":i=r.tz_dynamic;break;default:i=n.default.or_throw().current_timezone()}let a=x(e,i);if(!a.isValid())return null;switch(r.component_to_extract){case"minute":return a.minute();case"hour":return a.hour();case"day":return a.day();case"date":return a.date();case"week":return a.isoWeek();case"month":return a.month()+1;case"year":return a.year();case"UNIX":return a.valueOf();default:return null}}};e.date_math=T})),Fr=u((e=>{"use strict";f(),Ue(),Ft();var t=Lr(),r=ot(),n=e;n.optional_pause_tick=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0;var i;r.on_server()&&(null!=(i=t.Fiber.current).optional_pause_ticks||(i.optional_pause_ticks=0),t.Fiber.current.optional_pause_ticks+=e,t.Fiber.current.optional_pause_ticks>=100&&(t.Fiber.current.optional_pause_ticks=0,t.optional_pause(n)))},n.with_pause_tick=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){let r=e(...arguments);return n.optional_pause_tick(t),r}},n.incremental_json_deep_copy=function(e){let t=n.incremental_json_stringify(e);return n.incremental_json_parse(t)},n.incremental_json_parse=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return""===String(e)?null:!r.on_server()||String(e).length<t?JSON.parse(e):JSON.parse(e,((e,t)=>(n.optional_pause_tick(1,"incremental json parse"),t)))},n.incremental_json_stringify=function(e){return r.on_server()?JSON.stringify(e,((e,t)=>(n.optional_pause_tick(1,"incremental json stringify"),t))):JSON.stringify(e)},n.incremental_json_length=function(e){let r=new Set,n=[],i=0,a=0;function o(e){switch(a++,a%100==0&&t.optional_pause("incremental json length"),typeof e){case"string":return void(i+=2+e.length);case"boolean":case"number":return void(i+=String(e).length);case"function":return;case"object":null==e?i+=4:Buffer.isBuffer(e)?i+=2+e.length:r.has(e)||(r.add(e),n.push(e))}}for(o(e);n.length>0;){let e=n.pop();if(Array.isArray(e)){i+=2;for(let t=0;t<e.length;t++)o(e[t]),i+=0===t?0:1}else if(e.constructor===Object||null===e.constructor){i+=2;let t=!0;for(let r in e){let n=e[r];void 0!==n&&(i+=2+r.length+1,o(n),i+=t?0:1,t=!1)}}}return i},n.incremental_for_each=function(){let e,r,n;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.length>2?[n,e,r]=a:(n=50,[e,r]=a),e.forEach(((e,i,a)=>{if(r(e,i,a),(i+1)%n==0)return t.optional_pause()}))},n.incremental_map=function(){let e,r,n;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return a.length>2?[n,e,r]=a:(n=50,[e,r]=a),e.map(((e,i,a)=>{let o=r(e,i,a);return(i+1)%n==0&&t.optional_pause(),o}))},n.incremental_for_each_2=function(){let e,r,n;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.length>2?[n,e,r]=a:(n=50,[e,r]=a);let s=0;for(let i of e)for(let e of i)r(e),s++,s%n==0&&t.optional_pause()},n.json_to_csv=function(e,r,n,i,a){null!=r||(r=","),null!=n||(n=!0),null!=i||(i=!1),null!=a||(a=100),"object"!=typeof e&&(e=JSON.parse(e));let o="";if(n){let t=[];if(i)for(let r in e[0]){let e=r+"";t.push('"'+e.replace(/"/g,'""')+'"')}else for(let r in e[0])t.push(r);o=t.join(r)+"\n"}for(let n=0;n<e.length;n++){let s=e[n];n%a==0&&t.optional_pause();let l=[];if(i)for(let e in s){let t=String(s[e]);l.push('"'+t.replace(/"/g,'""')+'"')}else for(let e in s){let t=s[e];l.push(t)}o=o+l.join(r)+"\n"}return o}})),Gr=u((e=>{"use strict";f(),Ft();Lr();var t=Fr(),{to_num:r}=Sr(),n=e;n.DEFAULT_PRECISION=15;var i=e=>parseFloat(e.toPrecision(n.DEFAULT_PRECISION));n.round_all=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0};if(Array.isArray(e))t.incremental_for_each(e,((e,t,a)=>{"number"==typeof e?a[t]=i(e):n.round_all(a[t],r)}));else if(e&&(e.constructor===Object||null==e.constructor))for(let t in e)"number"==typeof e[t]?(r.count++,e[t]=i(e[t])):n.round_all(e[t],r)},n.dec_to_string=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_PRECISION,r=e.toPrecision(t);return r=r.replace(/(\.[0-9]*?)0*(e-?[0-9]+)?$/,"$1$2").replace(/\.(e-?[0-9]+)?$/,"$1"),r},n.num_equals=function(e,t){let n=r(e),i=r(t),a=Math.abs(n),o=Math.abs(i);if(n===i)return!0;let s=Math.abs(n-i);return 0===n||0===i||s<Number.MIN_VALUE?s<1e-15*Number.MIN_VALUE:s/Math.min(a+o,Number.MAX_VALUE)<1e-15}})),Xr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.searchNextIncrementalNumber=void 0;e.searchNextIncrementalNumber=e=>{let{isPresent:n,startValue:i}=e,{lastObservedPresentValue:a,firstObservedAbsentValue:o}=t({isPresent:n,startValue:i});return null==a?o:r({isPresent:e=>e!==o&&n(e),fromValue:a+1,toValue:o})};var t=e=>{let{isPresent:r,startValue:n}=e;if(r(n)){return{lastObservedPresentValue:n,...t({isPresent:r,startValue:0===n?1:2*n})}}return{firstObservedAbsentValue:n}},r=e=>{let{isPresent:t,fromValue:r,toValue:n}=e,i=Number.NaN;for(;r<=n;){let e=Math.floor((r+n)/2);t(e)?r=e+1:(i=e,n=e-1)}return i}})),Hr=u((e=>{"use strict";f(),Ft();var t=!1,r=2,n=function(e){return e&&e.replace(/\\(.)/g,"$1").replace(/^(["'])(.*?)\1$/,"$2")},i=function(){var e=arguments;return e[0].replace(/\{(\d+)\}/g,(function(t,r){return typeof e[r-0+1]<"u"?e[r-0+1]:"{"+r+"}"}))},a=function(e){var t,r;return r=function(e){return e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)).toString(16)).length<2?"0"+e:e},(t=(e=e||"#000").match(/rgb\((\d{1,3}),\s*?(\d{1,3}),\s*?(\d{1,3})\)/i))?"#"+r(t[1])+r(t[2]-0)+r(t[3]-0):(t=e.match(/#([0-f])([0-f])([0-f])\s*?$/i))?"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]:e},o=["decimal","lower-alpha","lower-roman"],s=function(e){return e&&e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/\r\n|\r/g,"\n").replace(/\n/g,"<br />")},l="open",_="content",u="newline",c="close",d=function(e,t,r){for(var n=r.length;n--;)if(r[n].type===t&&r[n].name===e)return!0;return!1},p=function(e,t,r,n,i,a){var o=this;o.type=e,o.name=t,o.val=r,o.attrs=n||{},o.children=i||[],o.closing=a||null};p.prototype={clone:function(e){var t=this;return new p(t.type,t.name,t.val,t.attrs,e?t.children:[],t.closing?t.closing.clone():null)},splitAt:function(e){var t,r=this,n=0,i=r.children.length;if("number"!=typeof object&&(e=r.children.indexOf(e)),e<0||e>i)return null;for(;i--;)i>=e?n++:i=0;return(t=r.clone()).children=r.children.splice(e,n),t}};var h=function(e){var t,r,n,i=[],a=[{type:"close",regex:/^\[\/[^\[\]]+\]/},{type:"open",regex:/^\[[^\[\]]+\]/},{type:"newline",regex:/^(\r\n|\r|\n)/},{type:"content",regex:/^([^\[\r\n]+|\[)/}];a.reverse();e:for(;e.length;){for(n=a.length;n--;)if(r=a[n].type,(t=e.match(a[n].regex))&&t[0]){i.push(g(r,t[0])),e=e.substr(t[0].length);continue e}e.length&&i.push(g(_,e)),e=""}return i},g=function(e,t){var r,n,i;return"open"===e&&(r=t.match(/\[([^\]\s=]+)(?:([^\]]+))?\]/))?(i=b(r[1]),r[2]&&(r[2]=r[2].replace(/^\s\s*/,"").replace(/\s\s*$/,""))&&(n=m(r[2]))):"close"===e&&(r=t.match(/\[\/([^\[\]]+)\]/))?i=b(r[1]):"newline"===e&&(i="#newline"),(!i||("open"===e||"close"===e)&&!k()[i])&&(e="content",i="#"),new p(e,i,t,n)},m=function(e){var t,r=/([^\s=]+)=(?:(?:(["'])((?:\\\2|[^\2])*?)\2)|((?:.(?!\s\S+=))*.))/g,i=n,a={};if("="===e.charAt(0)&&e.indexOf("=",1)<0)a.defaultattr=i(e.substr(1));else for("="===e.charAt(0)&&(e="defaultattr"+e);t=r.exec(e);)a[b(t[1])]=i(t[3])||t[4];return a},v=function(e){for(var t,r,n,i,a,o,s=[],p=[],f=[],h=function(){return y(f)},g=function(e){h()?h().children.push(e):p.push(e)},m=function(e){return h()&&(r=k()[h().name])&&r.closedBy&&r.closedBy.indexOf(e)>-1};t=e.shift();){switch(o=e[0],t.type){case l:m(t.name)&&f.pop(),g(t),(r=k()[t.name])&&r.isSelfClosing||!r.closedBy&&!d(t.name,c,e)?(!r||!r.isSelfClosing)&&(t.type=_):f.push(t);break;case c:if(h()&&t.name!==h().name&&m("/"+t.name)&&f.pop(),h()&&t.name===h().name)h().closing=t,f.pop();else if(d(t.name,l,f)){for(;n=f.pop();){if(n.name===t.name){n.closing=t;break}i=n.clone(),s.length>1&&i.children.push(y(s)),s.push(i)}for(g(y(s)),a=s.length;a--;)f.push(s[a]);s.length=0}else t.type=_,g(t);break;case u:h()&&o&&m((o.type===c?"/":"")+o.name)&&(o.type===c&&o.name===h().name||((r=k()[h().name])&&r.breakAfter||r&&!1===r.isInline&&false)&&f.pop()),g(t);break;default:g(t)}t}return p},y=function(e){return e.length?e[e.length-1]:null},b=function(e){return e.toLowerCase()},w=function(e,t,r){var n,i,a,o,s,_,c,d,p=e.length,f=p;for(t&&(o=k()[t.name]);f--;)if(n=e[f])if(n.type===u){if(i=f>0?e[f-1]:null,a=f<p-1?e[f+1]:null,d=!1,!r&&o&&!0!==o.isSelfClosing&&(i?!_&&!a&&(o.isInline,o.breakEnd&&(d=!0),_=d):(o.isInline,o.breakStart&&(d=!0))),i&&i.type===l&&(s=k()[i.name])&&(r?!1===s.isInline&&(d=!0):(s.isInline,s.breakAfter&&(d=!0))),!r&&!c&&a&&a.type===l&&(s=k()[a.name])&&(s.isInline,s.breakBefore&&(d=!0),c=d,d)){e.splice(f,1);continue}d&&e.splice(f,1),c=!1}else n.type===l&&w(n.children,n,r)},A=function(e,r){var n,a,o,_,c,d,p,f,h=[];for(p=function(e){return!1!==(!e||(typeof e.isHtmlInline<"u"?e.isHtmlInline:e.isInline))};e.length>0;)if(n=e.shift()){if(n.type===l)f=n.children[n.children.length-1]||{},a=k()[n.name],c=r&&p(a),o=A(n.children,!1),a&&a.html?(!p(a)&&p(k()[f.name])&&!a.isPreFormatted&&!a.skipLastLineBreak&&(o+="<br />"),_="function"==typeof a.html?a.html(n,n.attrs,o):i(a.html,o)):_=n.val+o+(n.closing?n.closing.val:"");else{if(n.type===u){if(r&&0==d){h.push("<br />");continue}!d&&!t&&(h.push("<div>"),d=!0),d&&h.push("</div>"),h.push("\n"),d=!1;continue}c=r,_=s(n.val)}!c&&d&&(h.push("</div>\n"),d=!1),h.push(_)}return d&&h.push("</div>\n"),h.join("")},E=function(e,t){for(var r,n,i=e.length;i--;)(r=e[i])&&(O(t,r)||(r.name=null,r.type=_,O(t,r)?(n=[i+1,0].concat(r.children),r.closing&&(r.closing.name=null,r.closing.type=_,n.push(r.closing)),i+=n.length-1,Array.prototype.splice.apply(e,n)):t.children.splice(i,1)),r.type===l&&E(r.children,r))},M=function(e){var t,r,n,i=e.length;for(n=function(e){for(var t=e.length;t--;)if(e[t].type===l||e[t].type===c||e[t].type===_&&e[t].val&&/\S|\u00A0/.test(e[t].val))return!1;return!0};i--;)!(t=e[i])||t.type!==l||(r=k()[t.name],M(t.children),n(t.children)&&r&&!r.isSelfClosing&&!r.allowsEmpty&&e.splice.apply(e,[i,1].concat(t.children)))},x=function(e,t,r,n){var i,a,o,s,_,u,c=function(e){var t=k()[e.name];return!t||!1!==t.isInline};for(t=t||[],n=n||e,a=0;a<e.length;a++)if((i=e[a])&&i.type===l){if(!c(i)&&r&&(u=(o=y(t)).splitAt(i),(s=(_=t.length>1?t[t.length-2].children:n).indexOf(o))>-1))return u.children.splice(u.children.indexOf(i),1),void _.splice(s+1,0,i,u);t.push(i),x(i.children,t,r||c(i),n),t.pop(i)}},O=function(e,t){var r=e?k()[e.name]:null,n=r?r.allowedChildren:null;return!n||!(n&&n.indexOf(t.name||"#")<0)},k=function(){return{b:{tags:{b:null,strong:null},styles:{"font-weight":["bold","bolder","401","700","800","900"]},format:"[b]{0}[/b]",html:"<strong>{0}</strong>"},em:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},i:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},u:{tags:{u:null},styles:{"text-decoration":["underline"]},format:"[u]{0}[/u]",html:"<u>{0}</u>"},s:{tags:{s:null,strike:null},styles:{"text-decoration":["line-through"]},format:"[s]{0}[/s]",html:"<s>{0}</s>"},sub:{tags:{sub:null},format:"[sub]{0}[/sub]",html:"<sub>{0}</sub>"},sup:{tags:{sup:null},format:"[sup]{0}[/sup]",html:"<sup>{0}</sup>"},font:{tags:{font:{face:null}},styles:{"font-family":null},quoteType:r,format:function(e,t){var r;return("font"!==e[0].nodeName.toLowerCase()||!(r=e.attr("face")))&&(r=e.css("font-family")),"[font="+n(r)+"]"+t+"[/font]"},html:function(e,t,r){return'<font face="'+t.defaultattr+'">'+r+"</font>"}},h1:{tags:{h1:null},styles:{"font-size":null},format:"[h1]{0}[/h1]",html:function(e,t,r){return'<span style="font-size:2.2em">'+r+"</span>"}},h2:{tags:{h2:null},styles:{"font-size":null},format:"[h2]{0}[/h2]",html:function(e,t,r){return'<span style="font-size:1.7em">'+r+"</span>"}},h3:{tags:{h3:null},styles:{"font-size":null},format:"[h3]{0}[/h3]",html:function(e,t,r){return'<span style="font-size:1.17em">'+r+"</span>"}},h4:{tags:{h4:null},styles:{"font-size":null},format:"[h4]{0}[/h4]",html:function(e,t,r){return'<span style="font-size:1em">'+r+"</span>"}},size:{tags:{font:{size:null}},styles:{"font-size":null},format:function(e,t){var r=e.attr("size"),n=1;return r||(r=e.css("fontSize")),r.indexOf("px")>-1?((r=r.replace("px","")-0)>12&&(n=2),r>15&&(n=3),r>17&&(n=4),r>23&&(n=5),r>31&&(n=6),r>47&&(n=7)):n=r,"[size="+n+"]"+t+"[/size]"},html:function(e,t,r){return'<font size="'+t.defaultattr+'">'+r+"</font>"}},color:{tags:{font:{color:null}},styles:{color:null},quoteType:r,html:function(e,t,r){return'<font color="'+a(t.defaultattr)+'">'+r+"</font>"}},highlight:{tags:{font:{color:null}},styles:{color:null},quoteType:r,html:function(e,t,r){return'<span style="background:'+a(t.defaultattr)+'">'+r+"</span>"}},ul:{tags:{ul:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,html:"<ul>{0}</ul>"},ml:{tags:{ml:null},html:""},list:{breakStart:!0,isInline:!1,skipLastLineBreak:!0,html:function(e,t,r){var n={1:"decimal",a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};return null!=t.defaultattr&&null!=n[t.defaultattr]?'<ol style="list-style-type:'+n[t.defaultattr]+'">'+r+"</ol>":"<ul>"+r+"</ul>"}},ol:{tags:{ol:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,html:function(e,t,r){return typeof t.data<"u"?'<ol style="list-style-type:'+function(e){for(;o.length<=e;)o.push("decimal","lower-alpha","lower-roman");return o[e]}(Number(t.data))+';">'+r+"</ol>":"<ol>"+r+"</ol>"}},li:{tags:{li:null},isInline:!1,closedBy:["/ul","/ol","/list","*","li"],html:function(e,t,r){return typeof t.align<"u"?'<li style="text-align:'+t.align+';">'+r+"</li>":"<li>"+r+"</li>"}},"*":{isInline:!1,closedBy:["/ul","/ol","/list","*","li"],html:"<li>{0}</li>"},table:{tags:{table:null},isInline:!1,isHtmlInline:!0,skipLastLineBreak:!0,html:"<table>{0}</table>"},tr:{tags:{tr:null},isInline:!1,skipLastLineBreak:!0,html:"<tr>{0}</tr>"},th:{tags:{th:null},allowsEmpty:!0,isInline:!1,html:"<th>{0}</th>"},td:{tags:{td:null},allowsEmpty:!0,isInline:!1,html:"<td>{0}</td>"},emoticon:{allowsEmpty:!0,tags:{img:{src:null,"data-sceditor-emoticon":null}},html:"{0}"},hr:{tags:{hr:null},allowsEmpty:!0,isSelfClosing:!0,isInline:!1,html:"<hr />"},img:{allowsEmpty:!0,tags:{img:{src:null}},quoteType:r,html:function(e,t,r){var n,i="";return typeof t.width<"u"&&(i+=' width="'+t.width+'"'),typeof t.height<"u"&&(i+=' height="'+t.height+'"'),t.defaultattr&&(i=' width="'+(n=t.defaultattr.split(/x/i))[0]+'" height="'+(2===n.length?n[1]:n[0])+'"'),t.alt&&(i+=' alt="'+t.alt+'"'),typeof window>"u"&&-1===r.indexOf("http:")&&-1===r.indexOf("https:")&&(r="http:"+r),"<img"+i+' src="'+r+'" />'}},link:{allowsEmpty:!0,tags:{a:{href:null}},quoteType:r,html:function(e,t,r){return'<a href="'+encodeURI(t.defaultattr||r)+'" target="_blank">'+r+"</a>"}},url:{allowsEmpty:!0,tags:{a:{href:null}},quoteType:r,html:function(e,t,r){var n,i;return n=typeof t.target>"u"?"_blank":t.target,i='<a href="'+(t.defaultattr||r)+'" target='+n,typeof t.nofollow<"u"&&(i+=' rel="nofollow"'),i=i+">"+r+"</a>"}},email:{quoteType:r,html:function(e,t,r){return'<a href="mailto:'+(t.defaultattr||r)+'" target = "_blank">'+r+"</a>"}},quote:{tags:{blockquote:null},isInline:!1,quoteType:r,html:function(e,t,r){return t.defaultattr&&(r='<cite style="border-left: 4px solid #ccc;margin-bottom: 5px;margin-top: 5px;padding-left: 16px;">'+t.defaultattr+"</cite>"+r),'<blockquote style="border-left: 4px solid #ccc;margin-bottom: 5px;margin-top: 5px;padding-left: 16px;">'+r+"</blockquote>"}},indent:{tags:{indent:null},isInline:!0,html:function(e,t,r){if(typeof t.data<"u"){for(var n=Number(t.data),i="",a=1;a<=n;)i+="<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>",a+=1;return i+r}return r}},code:{tags:{code:null},isInline:!1,allowedChildren:["#","#newline"],html:"<code>{0}</code>"},left:{styles:{"text-align":["left","-webkit-left","-moz-left","-khtml-left"]},isInline:!1,html:'<div align="left">{0}</div>'},center:{styles:{"text-align":["center","-webkit-center","-moz-center","-khtml-center"]},isInline:!1,html:'<div align="center">{0}</div>'},right:{styles:{"text-align":["right","-webkit-right","-moz-right","-khtml-right"]},isInline:!1,html:'<div align="right">{0}</div>'},justify:{styles:{"text-align":["justify","-webkit-justify","-moz-justify","-khtml-justify"]},isInline:!1,html:'<div align="justify" '+(t?'style="white-space: pre-line"':"")+">{0}</div>"},youtube:{allowsEmpty:!0,tags:{iframe:{"data-youtube-id":null}},html:'<iframe width="560" height="315" src="//www.youtube.com/embed/{0}?wmode=opaque" data-youtube-id="{0}" frameborder="0" allowfullscreen></iframe>'},video:{allowsEmpty:!0,html:'<iframe width="560" height="315" src="{0}" frameborder="0" allowfullscreen></iframe>'},rtl:{styles:{direction:["rtl"]},html:'<div style="direction: rtl">{0}</div>'},ltr:{styles:{direction:["ltr"]},html:'<div style="direction: ltr">{0}</div>'},fa:{quoteType:r,html:function(e,t,r){return'<div class="fa fa-'+(t.defaultattr||r)+'"></div>'}},ignore:{}}},S=function(e,t){return A(function(e,t){var r=v(h(e));return E(r),M(r),x(r),w(r,null,t),M(r),r}(e,t),!0)};e.fromBB_to_HTML=function(e,r){return t=r,S(e,!0)};var T=/\[\/([^\]]{1,20})\]/;e.probably_has_bbcode=function(e){return!!e.match(T)}})),Vr=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.KEY_CODE_TO_CHAR=e.ERROR_SOURCES=e.ERROR_CATCHER_TYPES=e.DEFAULT_CATCHER_TYPE=e.CAUGHT_ERROR_SOURCES=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/workflow",e);var t=function(e){return e.GENERAL_WORKFLOW="general_workflow",e.ELEMENT_WORKFLOW="element_workflow",e.ELEMENT="element",e}({});e.ERROR_SOURCES=t;var r=function(e){return e.all_wf_errors="Any workflow error",e.element_wf_errors="Element workflow errors only",e}({});e.ERROR_CATCHER_TYPES=r;e.DEFAULT_CATCHER_TYPE="element_wf_errors";var n={all_wf_errors:[t.GENERAL_WORKFLOW,t.ELEMENT_WORKFLOW,t.ELEMENT],element_wf_errors:[t.ELEMENT_WORKFLOW,t.ELEMENT]};e.CAUGHT_ERROR_SOURCES=n;e.KEY_CODE_TO_CHAR={KeyA:"A",KeyB:"B",KeyC:"C",KeyD:"D",KeyE:"E",KeyF:"F",KeyG:"G",KeyH:"H",KeyI:"I",KeyJ:"J",KeyK:"K",KeyL:"L",KeyM:"M",KeyN:"N",KeyO:"O",KeyP:"P",KeyQ:"Q",KeyR:"R",KeyS:"S",KeyT:"T",KeyU:"U",KeyV:"V",KeyW:"W",KeyX:"X",KeyY:"Y",KeyZ:"Z",Backspace:"Backspace",Tab:"Tab",BracketLeft:"[",BracketRight:"]",Backslash:"\\",Semicolon:";",Quote:"'",Comma:",",Period:".",Slash:"/",Space:"Spacebar",Backquote:"`",Minus:"-",Equal:"=",CapsLock:"Caps Lock",ArrowDown:"Down Arrow",ArrowUp:"Up Arrow",ArrowLeft:"Left Arrow",ArrowRight:"Right Arrow",Enter:"Enter",Escape:"Esc",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F12:"F12",PageUp:"PageUp",PageDown:"PageDown",Delete:"Delete",NumpadAdd:"+",NumpadEnter:"Enter",Numpad1:"1(Numpad)",Numpad2:"2(Numpad)",Numpad3:"3(Numpad)",Numpad4:"4(Numpad)",Numpad5:"5(Numpad)",Numpad6:"6(Numpad)",Numpad7:"7(Numpad)",Numpad8:"8(Numpad)",Numpad9:"9(Numpad)",Numpad0:"0(Numpad)",NumpadDecimal:".(Numpad)",NumpadDivide:"/(Numpad)",NumpadMultiply:"*(Numpad)",NumpadSubtract:"-"}})),Yr=u(((e,t)=>{f(),t.exports=function(e){return function(t){return null==e?void 0:e[t]}}})),Kr=u(((e,t)=>{f();var r=Yr()({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=r})),Jr=u(((e,t)=>{f();var r="object"==typeof window&&window&&window.Object===Object&&window;t.exports=r})),Zr=u(((e,t)=>{f();var r=Jr(),n="object"==typeof self&&self&&self.Object===Object&&self,i=r||n||Function("return this")();t.exports=i})),Qr=u(((e,t)=>{f();var r=Zr().Symbol;t.exports=r})),en=u(((e,t)=>{f(),t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}})),tn=u(((e,t)=>{f();var r=Array.isArray;t.exports=r})),rn=u(((e,t)=>{f();var r=Qr(),n=Object.prototype,i=n.hasOwnProperty,a=n.toString,o=r?r.toStringTag:void 0;t.exports=function(e){var t=i.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch{}var s=a.call(e);return n&&(t?e[o]=r:delete e[o]),s}})),nn=u(((e,t)=>{f();var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}})),an=u(((e,t)=>{f();var r=Qr(),n=rn(),i=nn(),a=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?n(e):i(e)}})),on=u(((e,t)=>{f(),t.exports=function(e){return null!=e&&"object"==typeof e}})),sn=u(((e,t)=>{f();var r=an(),n=on();t.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}})),ln=u(((e,t)=>{f();var r=Qr(),n=en(),i=tn(),a=sn(),o=r?r.prototype:void 0,s=o?o.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(i(t))return n(t,e)+"";if(a(t))return s?s.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}})),_n=u(((e,t)=>{f();var r=ln();t.exports=function(e){return null==e?"":r(e)}})),un=u(((e,t)=>{f();var r=Kr(),n=_n(),i=/[&<>"']/g,a=RegExp(i.source);t.exports=function(e){return(e=n(e))&&a.test(e)?e.replace(i,r):e}})),cn=u(((e,t)=>{f();var r=Yr()({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});t.exports=r})),dn=u(((e,t)=>{f();var r=_n(),n=cn(),i=/&(?:amp|lt|gt|quot|#39);/g,a=RegExp(i.source);t.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(i,n):e}})),pn=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.all_transition_names=void 0,e.apply_css_fallbacks=function(e,t){var r;return typeof CSS>"u"||"function"!=typeof CSS.supports?t[t.length-1]:null!=(r=t.find((t=>"string"!=typeof t||CSS.supports(e,t))))?r:t[t.length-1]},e.apply_scale=function(e,t){let r=`scale(${t},${t})`,n="0 0";e.css({transform:r,"-ms-transform":r,"-webkit-transform":r,"-o-transform":r,"-moz-transform":r,"tranform-origin":n,"-ms-transform-origin":n,"-webkit-transform-origin":n,"-o-transform-origin":n,"-moz-transform-origin":n})},e.are_animations_running=function(){return b},e.bbcode_to_html=function(e,t){null!=e||(e=""),null!=t||(t=!1);let n=e;return n=n.replace(/&#x2F;/g,"/"),r.default.fromBB_to_HTML(n,t)},e.build_key_combo_string=k,e.console_with_styling=function(e){console.log(""),console.log("%c"+e,["background: #0205D3","color: white","display: block","text-align: center","font-weight: bold","padding: 7px","border-radius: 2px"].join(";")),console.log("")},e.create_style_sheet=function(e){let t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)},e.custom_transitions=void 0,e.delay=function(e,t){e.css("fake_css_nonsense",100),A(e,{fake_css_nonsense:0},{duration:t})},e.did_event_pass_through=function(e,t){var r;if(null===e.currentTarget)return!1;let n;n="string"==typeof t?e=>e.is(t):t;let i=$(null!=(r=e.target)?r:void 0);for(;null!=i[0]&&i[0]!==e.currentTarget;){if(n(i))return!0;i=i.parent()}return!1},e.escape=e.div=void 0,e.get_element=function(e){if("string"==typeof e&&(e=$(e)),a.is_edit_mode()){e.hasClass("inner-element")||(e=e.parents(".inner-element").first());let t=e.attr("id");return t?window.appquery.element(t):"not found -- should be a div with the inner-element class"}var t,r,n;return e.hasClass("bubble-element")||(e=e.parents(".bubble-element").first()),null!=(t=null==(r=e[0])||null==(n=r.bubble_data)?void 0:n.bubble_instance)?t:"not found -- should be a div with the bubble-element class"},e.has_bbcode=function(e){return null!=e||(e=""),r.default.probably_has_bbcode(e)},e.highlight_dom_changes=g,e.img=function(e,t,r,n){let i=v("img",e,t,void 0,n);return r&&(i[0].src=r),i},e.input=function(e,t,r,n,i){let s=v("input",e,t,"",i);return s.attr("type",r),s.attr("placeholder",n),(a.is_edit_mode()||a.is_plugin_edit_mode())&&(s.attr("autocomplete","new-password"),s.attr("name",o.LUID())),s},e.isScrolledIntoView=O,e.is_attached=function(e){return e.closest("html").length>0},e.is_fixed=function(e){let t=e;for(;t.length&&!t.is("body");){if("fixed"===t.css("position"))return!0;t=t.parent()}return!1},e.make_key_combo_listener=function(e){e[0].addEventListener("keydown",(t=>{t.stopPropagation(),t.preventDefault(),e.val(k(t)),e.on("blur",(()=>e.trigger("change")))}))},e.make_numeric=function(e,t){e.keydown((e=>{let r;(e.keyCode>=65&&e.keyCode<=90||[186,191,219,220,221,222,187].includes(e.keyCode))&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(r=!0),t&&190===e.keyCode&&(r=!0),r&&e.preventDefault()}))},e.make_zindex=function(e){let t=20,r=e;for(;r.length>0&&r[0]!==document;){let e=parseFloat(r.css("z-index"));isNaN(e)&&(e=0),e>t&&(t=e),r=r.parent()}return t+1},e.meta=function(e){return e.metaKey||e.ctrlKey},e.pre_json=e.page_loaded_key=e.page_is_loaded=void 0,e.real_inner_width=function(e){if("destroyed"===e)return;let t=e[0].clientWidth;if(0===t)return e.innerWidth();let r=e[0].scrollHeight>e[0].clientHeight,{overflowY:n}=window.getComputedStyle(e[0]);if("scroll"===n||r&&"auto"===n)return t;let{width:i}=e[0].getBoundingClientRect(),{borderRightWidth:a,borderLeftWidth:o,paddingLeft:s,paddingRight:l}=window.getComputedStyle(e[0]),_=parseFloat(a)+parseFloat(o),u=parseFloat(s)+parseFloat(l);return i-_-u},e.real_inner_width_slow=function(e){if("destroyed"===e)return;let t=m("measure",e),r=t.width();return t.remove(),0===r?100===e.width()&&"100%"===e.css("width")?void 0:e.width():r},e.real_inner_width_superfast=function(e){if("destroyed"===e)return;let t=e[0].clientWidth;return t>0?t:Math.round(e.innerWidth())},e.remove_global_cursor=function(){var e;null==(e=y)||e.remove()},e.revealInScreen=function(e,t,r){if(null!=t||(t=window),null!=e&&e.length&&"destroyed"!==e){if(null==r){var n,i;if(null==(r=null==(n=e.offset)||null==(i=n.call(e))?void 0:i.top))return;if(t!==window){let e=$(t+":visible");r=r+e.scrollTop()-e.offset().top}}if(!O(e,t).status)try{t!==window?$(t+":visible").scrollTop(r-20):$(document).scrollTop(r-100)}catch{}}},e.scroll_freeze=function(){M=$(document).scrollTop()},e.scroll_unfreeze=function(){$(document).scrollTop(M)},e.set_global_cursor=function(e){y||(y=$("<style></style>")),y.text(`* { cursor: ${e} !important; }`),$(document.head).append(y)},e.span=void 0,e.text=function(e,t,r,n){if(function(e,t){return e.includes(t)}(["h1","h2","h3","h4","h5"],e))return v(e,n,t,r);let i=e;return n&&(n=n+" "+(null!=i?i:"")),v("p",n,t,r)},e.textarea=function(e,t,r,n,i){let a=v("textarea",e,t,"",i);return a.attr("name",r),a.attr("placeholder",n),a},e.trigger_blur=function(e){var t,r;if("iPhone/iPod"===(null==(t=window.BrowserDetect)?void 0:t.OS)&&"Safari"===(null==(r=window.BrowserDetect)?void 0:r.browser))return void e.blur();let n=$('<input class="fake-input"></input>');s.is_on_mobile_or_tablet()&&n.attr("readonly","true"),n.css({top:$(window).scrollTop()+5,left:10,position:"absolute",overflow:"hidden",width:0,"font-size":"40px"}),$("body").append(n),n.focus(),n.blur(),n.remove()},e.unescape=void 0,e.velocity=A,Ft(),Ue();var t=p(Dr()),r=c(Hr()),n=c(st()),i=p(it()),a=p(ot()),o=p(Zt()),s=p(dt()),l=p(Vr()),_=c(un()),u=c(dn());function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var h=!1;function g(){h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}typeof window<"u"&&(window.highlight_dom_changes=g);var m=(e,t,r,n)=>v("div",e,t,r,n);e.div=m;e.pre_json=(e,t,r,n)=>v("pre",e,t,r,n);function v(e,t,r,n,i){(null==t||""===t)&&(t=[]),Array.isArray(t)||(t=[t]),t=t.map((e=>e.replace(".","")));let a=$("<"+e+"></"+e+">");for(let e of t)e&&a.addClass(e.toLowerCase());return"object"==typeof i&&a.css(i),h&&(a[0].classList.add("highlight-dom-changes"),a.one("animationend",(()=>{a[0].classList.remove("highlight-dom-changes")}))),r&&r.append(a),null!=n&&a.text(n),a}e.span=(e,t,r,n)=>v("span",e,t,r,n);var y,b=!1,w=!1;function A(e,t,r){if(e&&e.length){if(null!=e.velocity){if(r.complete)throw new i.UnexpectedError("b_ui.velocity called with complete, it should be complete_cb not to be overwritten");if("object"!=typeof r)throw new i.UnexpectedError(`b_ui.velocity called with options not being an object, will break ${String(r)}`);return $.fx.off&&(r.duration=0),r.complete=function(){var e;null==(e=r.complete_cb)||e.call(r),b=!1},b=!0,e.velocity(t,r)}w||(w=!0,window.alert("Some code is overwriting jQuery which prevents your app from working normally. Please check your application in the editor and make sure you are not requiring a version of jQuery in the page/app headers or in a plugin. \n\nYou can use Bubble safe mode to test your application (hover on PREVIEW)."))}else{var n;null==(n=r.complete_cb)||n.call(r)}}var E=_.default;e.escape=E;var M,x=u.default;function O(e,t){let r,n,i;if(null!=t||(t=window),0===e.length)return{status:!0};t!==window&&e.parents(t+":visible").length?(i=e.parents(t+":visible"),n=Math.max(i.offset().top,$(window).scrollTop()),r=Math.min(n+i.height(),$(window).scrollTop()+$(window).height()-40)):(i=$(window),n=$(i).scrollTop(),r=n+i.height()-30);let a=$(e).offset().top,o=a+$(e).height();return o<=r&&a>=n?{status:!0}:{status:!1,side:o>r?"bottom":"top"}}function k(e){let t=[];e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Meta"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt");let r=e=>/^([a-z0-9A-Z\\\][';/.,`]{1}$)/.test(e);(function(e){return"Shift"===e||"Alt"===e||"Meta"===e||"Control"===e})(e.key)||(r(e.key)?t.push(e.key):l.KEY_CODE_TO_CHAR[e.key]?t.push(l.KEY_CODE_TO_CHAR[e.key]):l.KEY_CODE_TO_CHAR[e.code]?t.push(l.KEY_CODE_TO_CHAR[e.code]):r(String.fromCharCode(e.keyCode))&&"Dead"!==e.key&&t.push(String.fromCharCode(e.keyCode)));let n="";for(let e=0;e<t.length;e++){let r=t[e];var i,a;if("Meta"===r)r="Windows"===(null==(i=window)||null==(a=i.BrowserDetect)?void 0:a.OS)?"WindowsKey":"Command";else if("Alt"===r){var o,s;r="Windows"===(null==(o=window)||null==(s=o.BrowserDetect)?void 0:s.OS)?"Alt":"Option"}n+=e>0?"+"+r:r}return n}e.unescape=x;var S=n.default.customTransitions;e.custom_transitions=S;var T,N,C=n.default.allTransitionNames;if(e.all_transition_names=C,e.page_loaded_key=T,e.page_is_loaded=N,typeof window<"u"){let r=e.page_loaded_key=T=t.MakeKey(void 0,"b_ui.page_loaded_key"),n=Date.now();e.page_is_loaded=N=function(){r.turn(),$(document.body).append(m("page-is-loaded")),console.log(`page is loaded after ${(Date.now()-n)/1e3} seconds`)}}})),fn=u(((e,t)=>{function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}f(),t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,l,_;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),o=(_=r.slice()).length,l=0;l<o;l++)_[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&((o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,a,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,a=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}})),hn=u((e=>{"use strict";f(),Ue();tr(),pn(),fn(),ot(),dt();var t=null;e.add_finish_cb_to_vimeo=function(e,r,n){var i,a,o,s;let l;null==(i=(a=window).removeEventListener)||i.call(a,"message",t),null==(o=(s=window).detachEvent)||o.call(s,"onmessage",t),t=l=t=>{var i;if(null!=(i=t)&&i.data)try{let i=JSON.parse(t.data);"finish"===i.event&&n(),"ready"===i.event&&((t,n)=>{let i={method:t};n&&(i.value=n),$(e.find("iframe"))[0].contentWindow.postMessage(JSON.stringify(i),"https://player.vimeo.com/video/"+r)})("addEventListener","finish")}catch(e){t=e}},window.addEventListener?window.addEventListener("message",l,!1):window.attachEvent("onmessage",l,!1)}})),gn=u((e=>{"use strict";f(),Ue();var t=e,r=Sr(),n=ot();t.get_domain_components=function(e){if(0===e.indexOf("www.")&&(e=e.slice(4)),n.on_server()){let t=undefined.parse(e);return{top_domain:t.domain,subdomains:t.subdomain}}{let t=["ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","com.au","com.br"],n=e.split("."),i=0;for(let n of t)if(r.ends_with(e,n)){i+=1;break}let a=n.slice(-(2+i)),o=n.slice(0,n.length-(2+i));return{top_domain:a.join("."),subdomains:o.join(".")}}}})),mn=u((e=>{"use strict";f();var t=ot(),r=it(),n=e;if(t.on_server())n.timestamp=()=>Date.now();else if(t.on_worker())n.timestamp=function(){throw new r.UnexpectedError("not supported in web workers right now")};else{if(!t.on_client())throw new r.UnexpectedError("unrecognized environment: on_server, on_worker, on_client all returned false");n.timestamp=()=>Date.now()+window.server_time_offset}})),vn=u((e=>{"use strict";function t(e){return parseInt(i(e).substring(0,2),16)}function r(e){return parseInt(i(e).substring(2,4),16)}function n(e){return parseInt(i(e).substring(4,6),16)}function i(e){return"#"===e.charAt(0)?e.substring(1,7):e}function a(e){return[t(e),r(e),n(e)]}function o(e){return"#"+(256*e[0]*256+256*e[1]+e[2]).toString(16)}f(),Object.defineProperty(e,"__esModule",{value:!0}),e.HexToNumber=function(e){return parseInt(i(e),16)},e.NumberToHex=function(e){return"#"+e.toString(16)},e.RGBA_to_ARGB=function(e){if(!e||null==e.split)return"";let t=e.split("rgba(");if(1===t.length)return e;e=(e=t[t.length-1]).slice(0,e.length-1).replace(/\s/g,"");let[r,n,i,a]=e.split(",");return"#"+Math.floor(255*parseFloat(a)).toString(16)+parseInt(r).toString(16)+parseInt(n).toString(16)+parseInt(i).toString(16)},e.RGBA_to_RGB=function(e){if(!e||null==e.split)return"";let t=e.split("rgba(");if(1===t.length)return e;let r=t[1].split(",");return"rgb("+r.slice(0,r.length-1).join(",")+")"},e.RGBToHex=o,e.decimal_to_percent=function(e){return`${Math.round(100*e)}%`},e.hexToRGB=a,e.hex_to_rgb=function(e,i){let a=t(e=e.replace("#","")),o=r(e),s=n(e);return`rgba(${a},${o},${s},${i/100})`},e.lighten_color=function(e,t){try{let r=a(e);return o(s(r,t))}catch{return"#FFFFFF"}},e.lighten_rgb_color=void 0,e.percent_to_decimal=function(e){return parseFloat(e)/100},e.rgb_color_to_rgb_string=void 0,e.rgb_to_hex=function(e){let t=e.split("rgba(");if(1===t.length)return{code:e,opacity:1};e=(e=t[t.length-1]).slice(0,e.length-1).replace(/\s/g,"");let[r,n,i,a]=e.split(",");return{opacity:parseFloat(a),code:"#"+((1<<24)+(parseInt(r)<<16)+(parseInt(n)<<8)+parseInt(i)).toString(16).substr(1)}},e.rgba_to_array=function(e){return e.match(/[.?\d]+/g)},Ft(),Ue();var s=(e,t)=>{let[r,n,i]=e,a=e=>Math.round(e*t+255*(1-t));return[a(r),a(n),a(i)]};e.lighten_rgb_color=s;e.rgb_color_to_rgb_string=e=>{let[t,r,n]=e;return`rgb(${t}, ${r}, ${n})`}})),yn=u(((e,t)=>{f();var r=h();t.exports=r.Promise})),bn=u(((e,t)=>{f();var r=h(),n=wr(),i=Y(),a=r.TypeError;t.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a constructor")}})),wn=u(((e,t)=>{f();var r=U(),n=bn(),i=q()("species");t.exports=function(e,t){var a,o=r(e).constructor;return void 0===o||null==(a=r(o)[i])?t:n(a)}})),An=u(((e,t)=>{"use strict";f();var r=K(),n=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};t.exports.f=function(e){return new n(e)}})),En=u(((e,t)=>{f();var r=U(),n=v(),i=An();t.exports=function(e,t){if(r(e),n(t)&&t.constructor===e)return t;var a=i.f(e);return(0,a.resolve)(t),a.promise}})),Mn=u((()=>{"use strict";f();var e,t=Ce(),r=S(),n=yn(),i=w(),a=z(),o=m(),s=wn(),l=En(),_=xe();t({target:"Promise",proto:!0,real:!0,forced:!!n&&i((function(){n.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,a("Promise")),r=o(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!r&&o(n)&&(e=a("Promise").prototype.finally,n.prototype.finally!==e&&_(n.prototype,"finally",e,{unsafe:!0}))})),xn={};function On(e,t){Zi||function(){let e=new MessageChannel,t=e.port2;if(Zi=()=>t.postMessage(null),e.port1.onmessage=()=>{if(null!==Qi){let e=performance.now();Ki=e+Yi;let r=!0;try{Qi(r,e)?t.postMessage(null):Qi=null}catch(e){throw t.postMessage(null),e}}},navigator&&navigator.scheduling&&navigator.scheduling.isInputPending){let e=navigator.scheduling;Vi=()=>{let t=performance.now();return t>=Ki&&(!!e.isInputPending()||t>=Ji)}}else Vi=()=>performance.now()>=Ki}();let r=performance.now(),n=ea;t&&t.timeout&&(n=t.timeout);let i={id:$i++,fn:e,startTime:r,expirationTime:r+n};return function(e,t){e.splice(function(){let r=0,n=e.length-1;for(;r<=n;){let i=n+r>>1,a=t.expirationTime-e[i].expirationTime;if(a>0)r=i+1;else{if(!(a<0))return i;n=i-1}}return r}(),0,t)}(Xi,i),!Fi&&!Gi&&(Fi=!0,Qi=Sn,Zi()),i}function kn(e){e.fn=null}function Sn(e,t){Fi=!1,Gi=!0;try{return function(e,t){let r=t;for(Hi=Xi[0]||null;null!==Hi&&(!(Hi.expirationTime>r)||e&&!Vi());){let e=Hi.fn;if(null!==e){Hi.fn=null,e(Hi.expirationTime<=r),r=performance.now(),Hi===Xi[0]&&Xi.shift()}else Xi.shift();Hi=Xi[0]||null}return null!==Hi}(e,t)}finally{Hi=null,Gi=!1}}function Tn(e){ta.context=e}function Nn(e,t){let r=ma,n=pa,i=0===e.length,a=i?ca:{owned:null,cleanups:null,context:null,owner:void 0===t?n:t},o=i?e:()=>e((()=>Un((()=>pi(a)))));pa=a,ma=null;try{return li(o,!0)}finally{ma=r,pa=n}}function Cn(e,t){let r={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},oa,t):oa).equals||void 0};return[ri.bind(r),e=>("function"==typeof e&&(e=fa&&fa.running&&fa.sources.has(r)?e(r.tValue):e(r.value)),ni(r,e))]}function Ln(e,t,r){let n=oi(e,t,!0,_a);ha&&fa&&fa.running?va.push(n):ii(n)}function Pn(e,t,r){let n=oi(e,t,!1,_a);ha&&fa&&fa.running?va.push(n):ii(n)}function Rn(e,t,r){la=ui;let n=oi(e,t,!1,_a),i=Ea&&vi(pa,Ea.id);i&&(n.suspense=i),n.user=!0,ya?ya.push(n):ii(n)}function zn(e,t){let r,n=oi((()=>{r?r():Un(e),r=void 0}),void 0,!1,0),i=Ea&&vi(pa,Ea.id);return i&&(n.suspense=i),n.user=!0,e=>{r=e,ii(n)}}function In(e,t,r){r=r?Object.assign({},oa,r):oa;let n=oi(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,ha&&fa&&fa.running?(n.tState=_a,va.push(n)):ii(n),ri.bind(n)}function Dn(e,t,r){let n,i,a;2===arguments.length&&"object"==typeof t||1===arguments.length?(n=!0,i=e,a=t||{}):(n=e,i=t,a=r||{});let o=null,s=da,l=null,_=!1,u=!1,c="initialValue"in a,d="function"==typeof n&&In(n),p=new Set,[f,h]=(a.storage||Cn)(a.initialValue),[g,m]=Cn(void 0),[v,y]=Cn(void 0,{equals:!1}),[b,w]=Cn(c?"ready":"unresolved");if(ta.context){let e;l=`${ta.context.id}${ta.context.count++}`,"initial"===a.ssrLoadFrom?s=a.initialValue:ta.load&&(e=ta.load(l))&&(s=e[0])}function A(e,t,r,n){return o===e&&(o=null,c=!0,(e===s||t===s)&&a.onHydrated&&queueMicrotask((()=>a.onHydrated(n,{value:t}))),s=da,fa&&e&&_?(fa.promises.delete(e),_=!1,li((()=>{fa.running=!0,E(t,r)}),!1)):E(t,r)),t}function E(e,t){li((()=>{void 0===t&&h((()=>e)),w(void 0!==t?"errored":"ready"),m(t);for(let e of p.keys())e.decrement();p.clear()}),!1)}function M(){let e=Ea&&vi(pa,Ea.id),t=f(),r=g();if(void 0!==r&&!o)throw r;return ma&&!ma.user&&e&&Ln((()=>{v(),o&&(e.resolved&&fa&&_?fa.promises.add(o):p.has(e)||(e.increment(),p.add(e)))})),t}function x(e=!0){if(!1!==e&&u)return;u=!1;let t=d?d():n;if(_=fa&&fa.running,null==t||!1===t)return void A(o,Un(f));fa&&o&&fa.promises.delete(o);let r=s!==da?s:Un((()=>i(t,{value:f(),refetching:e})));return"object"==typeof r&&r&&"then"in r?(o=r,u=!0,queueMicrotask((()=>u=!1)),li((()=>{w(c?"refreshing":"pending"),y()}),!1),r.then((e=>A(r,e,void 0,t)),(e=>A(r,void 0,hi(e),t)))):(A(o,r,void 0,t),r)}return Object.defineProperties(M,{state:{get:()=>b()},error:{get:()=>g()},loading:{get(){let e=b();return"pending"===e||"refreshing"===e}},latest:{get(){if(!c)return M();let e=g();if(e&&!o)throw e;return f()}}}),d?Ln((()=>x(!1))):x(!1),[M,{refetch:x,mutate:h}]}function jn(e,t){let r,n=t?t.timeoutMs:void 0,i=oi((()=>((!r||!r.fn)&&(r=On((()=>o((()=>i.value))),void 0!==n?{timeout:n}:void 0)),e())),void 0,!0),[a,o]=Cn(i.value,t);return ii(i),o((()=>i.value)),a}function Bn(e,t=ra,r){let n=new Map,i=oi((r=>{let i=e();for(let[e,a]of n.entries())if(t(e,i)!==t(e,r))for(let e of a.values())e.state=_a,e.pure?va.push(e):ya.push(e);return i}),void 0,!0,_a);return ii(i),e=>{let r=ma;if(r){let t;(t=n.get(e))?t.add(r):n.set(e,t=new Set([r])),Fn((()=>{t.delete(r),!t.size&&n.delete(e)}))}return t(e,fa&&fa.running&&fa.sources.has(i)?i.tValue:i.value)}}function qn(e){return li(e,!1)}function Un(e){if(null===ma)return e();let t=ma;ma=null;try{return e()}finally{ma=t}}function Wn(e,t,r){let n,i=Array.isArray(e),a=r&&r.defer;return r=>{let o;if(i){o=Array(e.length);for(let t=0;t<e.length;t++)o[t]=e[t]()}else o=e();if(a)return void(a=!1);let s=Un((()=>t(o,n,r)));return n=o,s}}function $n(e){Rn((()=>Un(e)))}function Fn(e){return null===pa||(null===pa.cleanups?pa.cleanups=[e]:pa.cleanups.push(e)),e}function Gn(e){sa||(sa=Symbol("error")),null===pa||(null===pa.context?pa.context={[sa]:[e]}:pa.context[sa]?pa.context[sa].push(e):pa.context[sa]=[e])}function Xn(){return ma}function Hn(){return pa}function Vn(e,t){let r=pa,n=ma;pa=e,ma=null;try{return li(t,!0)}catch(e){mi(e)}finally{pa=r,ma=n}}function Yn(e=On){ha=e}function Kn(e){if(fa&&fa.running)return e(),fa.done;let t=ma,r=pa;return Promise.resolve().then((()=>{let n;return ma=t,pa=r,(ha||Ea)&&(n=fa||(fa={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),n.done||(n.done=new Promise((e=>n.resolve=e))),n.running=!0),li(e,!1),ma=pa=null,n?n.done:void 0}))}function Jn(){return[wa,Kn]}function Zn(e,t){let r=Symbol("context");return{id:r,Provider:bi(r),defaultValue:e}}function Qn(e){let t;return void 0!==(t=vi(pa,e.id))?t:e.defaultValue}function ei(e){let t=In(e),r=In((()=>yi(t())));return r.toArray=()=>{let e=r();return Array.isArray(e)?e:null!=e?[e]:[]},r}function ti(e){if(ga){let t=ga;ga=(r,n)=>{let i=t(r,n),a=e((e=>i.track(e)),n);return{track:e=>a.track(e),dispose(){a.dispose(),i.dispose()}}}}else ga=e}function ri(){let e=fa&&fa.running;if(this.sources&&(!e&&this.state||e&&this.tState))if(!e&&this.state===_a||e&&this.tState===_a)ii(this);else{let e=va;va=null,li((()=>ci(this)),!1),va=e}if(ma){let e=this.observers?this.observers.length:0;ma.sources?(ma.sources.push(this),ma.sourceSlots.push(e)):(ma.sources=[this],ma.sourceSlots=[e]),this.observers?(this.observers.push(ma),this.observerSlots.push(ma.sources.length-1)):(this.observers=[ma],this.observerSlots=[ma.sources.length-1])}return e&&fa.sources.has(this)?this.tValue:this.value}function ni(e,t,r){let n=fa&&fa.running&&fa.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(n,t)){if(fa){let n=fa.running;(n||!r&&fa.sources.has(e))&&(fa.sources.add(e),e.tValue=t),n||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&li((()=>{for(let t=0;t<e.observers.length;t+=1){let r=e.observers[t],n=fa&&fa.running;n&&fa.disposed.has(r)||((n&&!r.tState||!n&&!r.state)&&(r.pure?va.push(r):ya.push(r),r.observers&&di(r)),n?r.tState=_a:r.state=_a)}if(va.length>1e6)throw va=[],new Error}),!1)}return t}function ii(e){if(!e.fn)return;pi(e);let t=pa,r=ma,n=ba;ma=pa=e,ai(e,fa&&fa.running&&fa.sources.has(e)?e.tValue:e.value,n),fa&&!fa.running&&fa.sources.has(e)&&queueMicrotask((()=>{li((()=>{fa&&(fa.running=!0),ma=pa=e,ai(e,e.tValue,n),ma=pa=null}),!1)})),ma=r,pa=t}function ai(e,t,r){let n;try{n=e.fn(t)}catch(t){return e.pure&&(fa&&fa.running?(e.tState=_a,e.tOwned&&e.tOwned.forEach(pi),e.tOwned=void 0):(e.state=_a,e.owned&&e.owned.forEach(pi),e.owned=null)),e.updatedAt=r+1,mi(t)}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?ni(e,n,!0):fa&&fa.running&&e.pure?(fa.sources.add(e),e.tValue=n):e.value=n,e.updatedAt=r)}function oi(e,t,r,n=_a,i){let a={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:pa,context:null,pure:r};if(fa&&fa.running&&(a.state=0,a.tState=n),null===pa||pa!==ca&&(fa&&fa.running&&pa.pure?pa.tOwned?pa.tOwned.push(a):pa.tOwned=[a]:pa.owned?pa.owned.push(a):pa.owned=[a]),ga){let[e,t]=Cn(void 0,{equals:!1}),r=ga(a.fn,t);Fn((()=>r.dispose()));let n=()=>Kn(t).then((()=>i.dispose())),i=ga(a.fn,n);a.fn=t=>(e(),fa&&fa.running?i.track(t):r.track(t))}return a}function si(e){let t=fa&&fa.running;if(!t&&0===e.state||t&&0===e.tState)return;if(!t&&e.state===ua||t&&e.tState===ua)return ci(e);if(e.suspense&&Un(e.suspense.inFallback))return e.suspense.effects.push(e);let r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ba);){if(t&&fa.disposed.has(e))return;(!t&&e.state||t&&e.tState)&&r.push(e)}for(let n=r.length-1;n>=0;n--){if(e=r[n],t){let t=e,i=r[n+1];for(;(t=t.owner)&&t!==i;)if(fa.disposed.has(t))return}if(!t&&e.state===_a||t&&e.tState===_a)ii(e);else if(!t&&e.state===ua||t&&e.tState===ua){let t=va;va=null,li((()=>ci(e,r[0])),!1),va=t}}}function li(e,t){if(va)return e();let r=!1;t||(va=[]),ya?r=!0:ya=[],ba++;try{let t=e();return function(e){if(va&&(ha&&fa&&fa.running?function(e){for(let t=0;t<e.length;t++){let r=e[t],n=fa.queue;n.has(r)||(n.add(r),ha((()=>{n.delete(r),li((()=>{fa.running=!0,si(r)}),!1),fa&&(fa.running=!1)})))}}(va):_i(va),va=null),e)return;let t;if(fa)if(fa.promises.size||fa.queue.size){if(fa.running)return fa.running=!1,fa.effects.push.apply(fa.effects,ya),ya=null,void Aa(!0)}else{let e=fa.sources,r=fa.disposed;ya.push.apply(ya,fa.effects),t=fa.resolve;for(let e of ya)"tState"in e&&(e.state=e.tState),delete e.tState;fa=null,li((()=>{for(let e of r)pi(e);for(let t of e){if(t.value=t.tValue,t.owned)for(let e=0,r=t.owned.length;e<r;e++)pi(t.owned[e]);t.tOwned&&(t.owned=t.tOwned),delete t.tValue,delete t.tOwned,t.tState=0}Aa(!1)}),!1)}let r=ya;ya=null,r.length&&li((()=>la(r)),!1),t&&t()}(r),t}catch(e){r||(ya=null),va=null,mi(e)}}function _i(e){for(let t=0;t<e.length;t++)si(e[t])}function ui(e){let t,r=0;for(t=0;t<e.length;t++){let n=e[t];n.user?e[r++]=n:si(n)}for(ta.context&&Tn(),t=0;t<r;t++)si(e[t])}function ci(e,t){let r=fa&&fa.running;r?e.tState=0:e.state=0;for(let n=0;n<e.sources.length;n+=1){let i=e.sources[n];i.sources&&(!r&&i.state===_a||r&&i.tState===_a?i!==t&&(!i.updatedAt||i.updatedAt<ba)&&si(i):(!r&&i.state===ua||r&&i.tState===ua)&&ci(i,t))}}function di(e){let t=fa&&fa.running;for(let r=0;r<e.observers.length;r+=1){let n=e.observers[r];(!t&&!n.state||t&&!n.tState)&&(t?n.tState=ua:n.state=ua,n.pure?va.push(n):ya.push(n),n.observers&&di(n))}}function pi(e){let t;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),r=e.sourceSlots.pop(),n=t.observers;if(n&&n.length){let e=n.pop(),i=t.observerSlots.pop();r<n.length&&(e.sourceSlots[i]=r,n[r]=e,t.observerSlots[r]=i)}}if(fa&&fa.running&&e.pure){if(e.tOwned){for(t=0;t<e.tOwned.length;t++)pi(e.tOwned[t]);delete e.tOwned}fi(e,!0)}else if(e.owned){for(t=0;t<e.owned.length;t++)pi(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}fa&&fa.running?e.tState=0:e.state=0,e.context=null}function fi(e,t){if(t||(e.tState=0,fa.disposed.add(e)),e.owned)for(let t=0;t<e.owned.length;t++)fi(e.owned[t])}function hi(e){return e instanceof Error||"string"==typeof e?e:new Error("Unknown error")}function gi(e,t){for(let r of e)r(t)}function mi(e){e=hi(e);let t=sa&&vi(pa,sa);if(!t)throw e;ya?ya.push({fn(){gi(t,e)},state:_a}):gi(t,e)}function vi(e,t){return e?e.context&&void 0!==e.context[t]?e.context[t]:vi(e.owner,t):void 0}function yi(e){if("function"==typeof e&&!e.length)return yi(e());if(Array.isArray(e)){let t=[];for(let r=0;r<e.length;r++){let n=yi(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function bi(e,t){return function(t){let r;return Pn((()=>r=Un((()=>(pa.context={[e]:t.value},ei((()=>t.children)))))),void 0),r}}function wi(e){return{subscribe(t){if(!(t instanceof Object)||null==t)throw new TypeError("Expected the observer to be an object.");let r="function"==typeof t?t:t.next&&t.next.bind(t);if(!r)return{unsubscribe(){}};let n=Nn((t=>(Rn((()=>{let t=e();Un((()=>r(t)))})),t)));return Hn()&&Fn(n),{unsubscribe(){n()}}},[Symbol.observable||"@@observable"](){return this}}}function Ai(e){let[t,r]=Cn(void 0,{equals:!1});if("subscribe"in e){let t=e.subscribe((e=>r((()=>e))));Fn((()=>"unsubscribe"in t?t.unsubscribe():t()))}else{Fn(e(r))}return t}function Ei(e){for(let t=0;t<e.length;t++)e[t]()}function Mi(e,t,r={}){let n=[],i=[],a=[],o=0,s=t.length>1?[]:null;return Fn((()=>Ei(a))),()=>{let l,_,u=e()||[];return u[ia],Un((()=>{let e,t,d,p,f,h,g,m,v,y=u.length;if(0===y)0!==o&&(Ei(a),a=[],n=[],i=[],o=0,s&&(s=[])),r.fallback&&(n=[Ma],i[0]=Nn((e=>(a[0]=e,r.fallback()))),o=1);else if(0===o){for(i=new Array(y),_=0;_<y;_++)n[_]=u[_],i[_]=Nn(c);o=y}else{for(d=new Array(y),p=new Array(y),s&&(f=new Array(y)),h=0,g=Math.min(o,y);h<g&&n[h]===u[h];h++);for(g=o-1,m=y-1;g>=h&&m>=h&&n[g]===u[m];g--,m--)d[m]=i[g],p[m]=a[g],s&&(f[m]=s[g]);for(e=new Map,t=new Array(m+1),_=m;_>=h;_--)v=u[_],l=e.get(v),t[_]=void 0===l?-1:l,e.set(v,_);for(l=h;l<=g;l++)v=n[l],_=e.get(v),void 0!==_&&-1!==_?(d[_]=i[l],p[_]=a[l],s&&(f[_]=s[l]),_=t[_],e.set(v,_)):a[l]();for(_=h;_<y;_++)_ in d?(i[_]=d[_],a[_]=p[_],s&&(s[_]=f[_],s[_](_))):i[_]=Nn(c);i=i.slice(0,o=y),n=u.slice(0)}return i}));function c(e){if(a[_]=e,s){let[e,r]=Cn(_);return s[_]=r,t(u[_],e)}return t(u[_])}}}function xi(e,t,r={}){let n,i=[],a=[],o=[],s=[],l=0;return Fn((()=>Ei(o))),()=>{let _=e()||[];return _[ia],Un((()=>{if(0===_.length)return 0!==l&&(Ei(o),o=[],i=[],a=[],l=0,s=[]),r.fallback&&(i=[Ma],a[0]=Nn((e=>(o[0]=e,r.fallback()))),l=1),a;for(i[0]===Ma&&(o[0](),o=[],i=[],a=[],l=0),n=0;n<_.length;n++)n<i.length&&i[n]!==_[n]?s[n]((()=>_[n])):n>=i.length&&(a[n]=Nn(u));for(;n<i.length;n++)o[n]();return l=s.length=o.length=_.length,i=_.slice(0),a=a.slice(0,l)}));function u(e){o[n]=e;let[r,i]=Cn(_[n]);return s[n]=i,t(r,n)}}}function Oi(){xa=!0}function ki(e,t){if(xa&&ta.context){let r=ta.context;Tn({...ta.context,id:`${ta.context.id}${ta.context.count++}-`,count:0});let n=Un((()=>e(t||{})));return Tn(r),n}return Un((()=>e(t||{})))}function Si(){return!0}function Ti(e){return(e="function"==typeof e?e():e)?e:{}}function Ni(...e){let t=!1;for(let r=0;r<e.length;r++){let n=e[r];t=t||!!n&&na in n,e[r]="function"==typeof n?(t=!0,In(n)):n}if(t)return new Proxy({get(t){for(let r=e.length-1;r>=0;r--){let n=Ti(e[r])[t];if(void 0!==n)return n}},has(t){for(let r=e.length-1;r>=0;r--)if(t in Ti(e[r]))return!0;return!1},keys(){let t=[];for(let r=0;r<e.length;r++)t.push(...Object.keys(Ti(e[r])));return[...new Set(t)]}},Oa);let r={};for(let t=e.length-1;t>=0;t--)if(e[t]){let n=Object.getOwnPropertyDescriptors(e[t]);for(let t in n)t in r||Object.defineProperty(r,t,{enumerable:!0,get(){for(let r=e.length-1;r>=0;r--){let n=(e[r]||{})[t];if(void 0!==n)return n}}})}return r}function Ci(e,...t){let r=new Set(t.flat());if(na in e){let n=t.map((t=>new Proxy({get:r=>t.includes(r)?e[r]:void 0,has:r=>t.includes(r)&&r in e,keys:()=>t.filter((t=>t in e))},Oa)));return n.push(new Proxy({get:t=>r.has(t)?void 0:e[t],has:t=>!r.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!r.has(e)))},Oa)),n}let n=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(n).filter((e=>!r.has(e)))),t.map((t=>{let r={};for(let i=0;i<t.length;i++){let a=t[i];a in e&&Object.defineProperty(r,a,n[a]?n[a]:{get:()=>e[a],set:()=>!0,enumerable:!0})}return r}))}function Li(e){let t,r,n=n=>{let i,a=ta.context;if(a){let[n,i]=Cn();(r||(r=e())).then((e=>{Tn(a),i((()=>e.default)),Tn()})),t=n}else if(!t){let[n]=Dn((()=>(r||(r=e())).then((e=>e.default))));t=n}return In((()=>(i=t())&&Un((()=>{if(!a)return i(n);let e=ta.context;Tn(a);let t=i(n);return Tn(e),t}))))};return n.preload=()=>r||((r=e()).then((e=>t=()=>e.default)),r),n}function Pi(){let e=ta.context;return e?`${e.id}${e.count++}`:"cl-"+ka++}function Ri(e){let t="fallback"in e&&{fallback:()=>e.fallback};return In(Mi((()=>e.each),e.children,t||void 0))}function zi(e){let t="fallback"in e&&{fallback:()=>e.fallback};return In(xi((()=>e.each),e.children,t||void 0))}function Ii(e){let t=!1,r=e.keyed,n=In((()=>e.when),void 0,{equals:(e,r)=>t?e===r:!e==!r});return In((()=>{let i=n();if(i){let n=e.children,a="function"==typeof n&&n.length>0;return t=r||a,a?Un((()=>n(i))):n}return e.fallback}),void 0,void 0)}function Di(e){let t=!1,r=!1,n=ei((()=>e.children)),i=In((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){let n=e[t].when;if(n)return r=!!e[t].keyed,[t,n,e[t]]}return[-1]}),void 0,{equals:(e,r)=>e[0]===r[0]&&(t?e[1]===r[1]:!e[1]==!r[1])&&e[2]===r[2]});return In((()=>{let[n,a,o]=i();if(n<0)return e.fallback;let s=o.children,l="function"==typeof s&&s.length>0;return t=r||l,l?Un((()=>s(a))):s}),void 0,void 0)}function ji(e){return e}function Bi(){Sa&&[...Sa].forEach((e=>e()))}function qi(e){let t,r;ta.context&&ta.load&&(r=ta.load(ta.context.id+ta.context.count))&&(t=r[0]);let[n,i]=Cn(t,void 0);return Sa||(Sa=new Set),Sa.add(i),Fn((()=>Sa.delete(i))),In((()=>{let t;if(t=n()){let r=e.fallback,n="function"==typeof r&&r.length?Un((()=>r(t,(()=>i())))):r;return Gn(i),n}return Gn(i),e.children}),void 0,void 0)}function Ui(e){let t,[r,n]=Cn((()=>({inFallback:!1}))),i=Qn(Na),[a,o]=Cn([]);i&&(t=i.register(In((()=>r()().inFallback))));let s=In((r=>{let n=e.revealOrder,i=e.tail,{showContent:o=!0,showFallback:s=!0}=t?t():{},l=a(),_="backwards"===n;if("together"===n){let e=l.every((e=>!e())),t=l.map((()=>({showContent:e&&o,showFallback:s})));return t.inFallback=!e,t}let u=!1,c=r.inFallback,d=[];for(let e=0,t=l.length;e<t;e++){let r=_?t-e-1:e,n=l[r]();if(u||n){let e=!u;e&&(c=!0),d[r]={showContent:e,showFallback:!(i&&(!e||"collapsed"!==i))&&s},u=!0}else d[r]={showContent:o,showFallback:s}}return u||(c=!1),d.inFallback=c,d}),{inFallback:!1});return n((()=>s)),ki(Na.Provider,{value:{register:e=>{let t;return o((r=>(t=r.length,[...r,e]))),In((()=>s()[t]),void 0,{equals:Ta})}},get children(){return e.children}})}function Wi(e){let t,r,n,i,a,o=0,[s,l]=Cn(!1),_=Ea||(Ea=Zn({})),u={increment:()=>{1==++o&&l(!0)},decrement:()=>{0==--o&&l(!1)},inFallback:s,effects:[],resolved:!1},c=Hn();if(ta.context&&ta.load){let e=ta.context.id+ta.context.count,t=ta.load(e);if(t&&(n=t[0])&&"$$f"!==n){("object"!=typeof n||!("then"in n))&&(n=Promise.resolve(n));let[t,o]=Cn(void 0,{equals:!1});i=t,n.then((t=>{if(t||ta.done)return t&&(a=t),o();ta.gather(e),Tn(r),o(),Tn()}))}}let d,p=Qn(Na);return p&&(t=p.register(u.inFallback)),Fn((()=>d&&d())),ki(_.Provider,{value:u,get children(){return In((()=>{if(a)throw a;if(r=ta.context,i)return i(),i=void 0;r&&"$$f"===n&&Tn();let o=In((()=>e.children));return In((i=>{let a=u.inFallback(),{showContent:s=!0,showFallback:l=!0}=t?t():{};return(!a||n&&"$$f"!==n)&&s?(u.resolved=!0,d&&d(),d=r=n=void 0,function(e){ya.push.apply(ya,e),e.length=0}(u.effects),o()):l?d?i:Nn((t=>(d=t,r&&(Tn({id:r.id+"f",count:0}),r=void 0),e.fallback)),c):void 0}))}))}})}c(xn,{$DEVCOMP:()=>aa,$PROXY:()=>na,$TRACK:()=>ia,DEV:()=>{},ErrorBoundary:()=>qi,For:()=>Ri,Index:()=>zi,Match:()=>ji,Show:()=>Ii,Suspense:()=>Wi,SuspenseList:()=>Ui,Switch:()=>Di,batch:()=>qn,cancelCallback:()=>kn,children:()=>ei,createComponent:()=>ki,createComputed:()=>Ln,createContext:()=>Zn,createDeferred:()=>jn,createEffect:()=>Rn,createMemo:()=>In,createReaction:()=>zn,createRenderEffect:()=>Pn,createResource:()=>Dn,createRoot:()=>Nn,createSelector:()=>Bn,createSignal:()=>Cn,createUniqueId:()=>Pi,enableExternalSource:()=>ti,enableHydration:()=>Oi,enableScheduling:()=>Yn,equalFn:()=>ra,from:()=>Ai,getListener:()=>Xn,getOwner:()=>Hn,indexArray:()=>xi,lazy:()=>Li,mapArray:()=>Mi,mergeProps:()=>Ni,observable:()=>wi,on:()=>Wn,onCleanup:()=>Fn,onError:()=>Gn,onMount:()=>$n,requestCallback:()=>On,resetErrorBoundaries:()=>Bi,runWithOwner:()=>Vn,sharedConfig:()=>ta,splitProps:()=>Ci,startTransition:()=>Kn,untrack:()=>Un,useContext:()=>Qn,useTransition:()=>Jn});var $i,Fi,Gi,Xi,Hi,Vi,Yi,Ki,Ji,Zi,Qi,ea,ta,ra,na,ia,aa,oa,sa,la,_a,ua,ca,da,pa,fa,ha,ga,ma,va,ya,ba,wa,Aa,Ea,Ma,xa,Oa,ka,Sa,Ta,Na,Ca=_((()=>{f(),$i=1,Fi=!1,Gi=!1,Xi=[],Hi=null,Vi=null,Yi=5,Ki=0,Ji=300,Zi=null,Qi=null,ea=1073741823,ta={},ra=(e,t)=>e===t,na=Symbol("solid-proxy"),ia=Symbol("solid-track"),aa=Symbol("solid-dev-component"),oa={equals:ra},sa=null,la=_i,_a=1,ua=2,ca={owned:null,cleanups:null,context:null,owner:null},da={},pa=null,fa=null,ha=null,ga=null,ma=null,va=null,ya=null,ba=0,[wa,Aa]=Cn(!1),Ma=Symbol("fallback"),xa=!1,Oa={get:(e,t,r)=>t===na?r:e.get(t),has:(e,t)=>t===na||e.has(t),set:Si,deleteProperty:Si,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:Si,deleteProperty:Si}),ownKeys:e=>e.keys()},ka=0,Ta=(e,t)=>e.showContent===t.showContent&&e.showFallback===t.showFallback,Na=Zn()})),La=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.SPANS=e.EPOCHS=void 0;var t="Drawing",r="Network";e.EPOCHS={load_runmode:{name:"Epoch: Runmode page fully loaded",start_at_page_load:!0},load_editor:{name:"Epoch: Editor page fully loaded",start_at_page_load:!0},load_maison:{name:"Epoch: Editor Maison page fully loaded",start_at_page_load:!0}};var n={render:{name:"Client: render complete",type:t,start_at_page_load:!0,sync:!1},data_retrieval:{name:"Client: data retrieval",type:r,sync:!1,start_at_page_load:!1},autorun_scheduled:{name:"Client: Autorun run_scheduled",type:t,sync:!1,start_at_page_load:!1},page_draw:{name:"Client: page.draw()",type:t,sync:!0,start_at_page_load:!1},rg_display_data_in_cells:{name:"Client: RepeatingGroup display_data_in_cells",type:t,sync:!0,start_at_page_load:!1},rg_add_cells:{name:"Client: RepeatingGroup add_cells",type:t,sync:!0,start_at_page_load:!1}};e.SPANS=n})),Pa=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.OLD_META_HOSTNAME=e.META_ORIGIN=e.META_HOSTNAME=e.LOCAL_HOSTNAME=e.BLOG_URL=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/domain",e);var t="bubble.io";e.META_HOSTNAME=t;e.META_ORIGIN="https://bubble.io";e.OLD_META_HOSTNAME="bubble.is";e.LOCAL_HOSTNAME="local.bubble.is";var r=`https://${t}/blog/`;e.BLOG_URL=r})),Ra=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.LABEL_REGEX=void 0,e.get_dedicated_env=function(e){var t;if(e)return null==(t=e.match(d))?void 0:t[1]},e.get_domain_from_referer=function(e){if(null!=e){if(e.startsWith(t.BLOG_URL))return"bubble.io/blog";let r=a.exec(e);if(r)return r[1]}return"direct"},e.is_appname_valid=function(e){return n.test(e)},e.is_environment_dedicated=function(e){return p.test(e)},e.is_host_aws=m,e.is_host_ip_address=v,e.is_host_on_bubble=function(e){return c.test(e)},e.is_hostname_bubble=function(e){return l.test(e)},e.is_hostname_bubble_plus_subdomain=function(e){return _.test(e)},e.is_hostname_dedicated=function(e){return d.test(e)},e.is_hostname_local_bubble=function(e){return e===t.LOCAL_HOSTNAME},e.is_hostname_valid=function(e){return i.test(e)},e.is_internal_request=function(e){return!!e&&(e.startsWith("localhost")||m(e)||v(e))},e.is_origin_on_bubble=function(e){return u.test(e)},e.validate_url=function(e){try{return new URL(e)}catch{return!1}},Ue(),Mr(),pr();var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(Pa());function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}(function(e){return e&&e.__esModule?e:{default:e}})(Nt()).default.safe_register("./shared/domain_utilities",e);var n=/^(?:[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)$/;e.LABEL_REGEX=n;var i=/^(?:[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?\.)+(?:xn--[a-z\d]+|[a-z]{2,})$/,a=/^(?:https?:\/\/)?(?:[^@/\n]+@)?(?:www.)?([^:/\n]+)/,o="bubble\\.i[so]",s="(td|d\\d+)",l=new RegExp(`^${o}$`),_=new RegExp(`^([a-z\\d-]+\\.)?${t.META_HOSTNAME}$`),u=new RegExp(`^https:\\/\\/([a-z\\d-]+\\.)?${o}$`),c=new RegExp(`\\b${o}(?:$|/)`),d=new RegExp(`^${s}\\.${o}$`),p=new RegExp(`^${s}$`),h=/\.amazonaws\.com(?::\d+)?$/,g=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/;function m(e){return h.test(e)}function v(e){return g.test(e)}})),za=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.approve_global_clipboard=function(e){let t=window.localStorage.global_clipboard_approved?JSON.parse(window.localStorage.global_clipboard_approved):[];t.push(e),console.log("Approved origin "+e+" on this computer.  Please refresh your editor window"),window.localStorage.global_clipboard_approved=JSON.stringify(t)},e.clipboard_script=void 0,e.cookies_enabled=function(){return O||k(),s.on_phonegap()||x},e.copy_on_click=function(e,t,r){r||e.css({"-webkit-user-select":"all","-moz-user-select":"all","-ms-user-select":"all","user-select":"all",cursor:"pointer"});let n="(copied)";e.on("vclick",(()=>{e.text().includes(n)||setTimeout((()=>{let r;document.execCommand("copy");let i=e.html();r=t?n+"  "+i:i+"  "+n,e.html(r),setTimeout((()=>{e.html(i)}),1e3)}),100)}))},e.createCookie=S,e.eraseCookie=function(e){S(e,"",-1)},e.events=void 0,e.get_active_epoch=function(){return C.epoch.active},e.get_all_cookies=function(){return M||k(),Object.keys(M)},e.handle_clipboard_message=N,e.initialize_global_clipboard=T,e.local_data_retrieve=function(e){var t;let r=v(e);return null==(null==(t=window)?void 0:t.localStorage)?window.local_storage_fallback(e,null,!0):window.localStorage.removeItem(e),r},e.local_data_store=function(e,t){let r=l.LUID();return g(r,e,t),r},e.local_storage_get=v,e.local_storage_is_available=function(){var e;let t=l.LUID();if(null!=(null==(e=window)?void 0:e.localStorage))try{return window.localStorage.setItem(t,"testing-localstorage"),window.localStorage.removeItem(t),!0}catch{return!1}return!1},e.local_storage_put=g,e.local_storage_put_object=m,e.readCookie=function(e){var t;return M||k(),null!=(t=M[e])?t:null},e.rebuild_cookies=k,e.session_storage=void 0,e.set_active_epoch=function(e){C.epoch.active=e},Ue();var t=function(e){return e&&e.__esModule?e:{default:e}}(fn()),r=c(Sr()),n=c(Pa()),i=c(Ra()),a=c(it()),o=c(Kt()),s=c(ot()),l=c(Zt()),_=Or();function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var d,p,h=new t.default.EventEmitter;e.events=h,e.session_storage=d;try{e.session_storage=d=null==(p=window)?void 0:p.sessionStorage}catch{}function g(e,t,r,n){m({key:e,data:t,show_warning:r,skip_global:n})}function m(e){var t;let{key:r,data:i,show_warning:o,skip_global:_,on_quota_exceeded_fn:u}=e;!_&&function(e){return s.is_edit_mode()&&e.includes("clipboard")}(r)&&function(e,t){var r,i;T();let a=Date.now();window.localStorage["_this_session_clipboard_"+e]=a,null==(r=E)||null==(i=r[0].contentWindow)||i.postMessage({action:"global_clipboard_put",key:e,data:t,timestamp:a,id:l.UUID()},n.META_ORIGIN)}(r,i);let c=JSON.stringify(i);if(null==(null==(t=window)?void 0:t.localStorage))window.local_storage_fallback(r,c);else try{window.localStorage.setItem(r,c)}catch(e){let t=e;if(u&&t.message.includes("exceeded the quota")){let e=window.localStorage.getItem(r),t=e?e.length+r.length:0;return void u(w()+t)}console.log(t.stack),console.log("clearing local storage"),h.emit("pre_clear"),window.localStorage.clear(),h.emit("clear");try{window.localStorage.setItem(r,c)}catch(e){if(o){var d,p;let e;throw e="Safari"===(null==(d=window)||null==(p=d.BrowserDetect)?void 0:p.browser)?"Safari in private mode does not support local storage, which prevents the workflow from running properly.":"This browser does not support local storage, which prevents the workflow from running properly.",new a.UserError(void 0,e)}throw new a.UnexpectedError(`Second local storage failure.  Encoded size is ${c.length}, and message was: ${e.message}. key was ' +\n              ${r} and data was: ${c.slice(0,2e3)}`)}}}function v(e){try{return typeof window>"u"?JSON.parse(window.local_storage_fallback(e)):null==window.localStorage?(o.info("no local storage present"),null):JSON.parse(null!=(t=window.localStorage.getItem(e))?t:"null");var t}catch(e){return o.info("cannot read local storage",{error:a.ensure_bubble_error(e)}),null}}window.local_storage_fallback=(e,t,r)=>{throw new a.UnexpectedError("trying to store into localstorage, but it does not exist")};var y,b=()=>Object.entries(window.localStorage).reduce(((e,t)=>{let[r,n]=t;return e+r.length+n.length}),0),w=()=>(()=>{if(!y){let e,t=b(),r=1e7,n=Array(r-t+1).join("0"),i=l.LUID();for(;r-t>1e3;){e=Math.floor((r+t)/2);try{window.localStorage.setItem(i,n.slice(0,e)),t=e}catch{r=e}}window.localStorage.removeItem(i),y=t}return y})()-b();function A(e,t,r){let n=e.split(t),i=[];return i.push(...n.slice(0,r)),i.push(n.slice(r).join(t)),i}var E,M=null,x=!1,O=!1;function k(){if(M={},s.on_phonegap())for(let e in window.localStorage){let t=window.localStorage[e];M[e]=t}else{var e;for(let e of document.cookie.split(";")){let[t,r]=A(e.trim(),"=",1);M[t]=r}(x=(null==(e=document.cookie)?void 0:e.length)>0)||(document.cookie="testcookie=hello",x=document.cookie.includes("testcookie"),document.cookie="testcookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT")}O=!0}function S(e,t,n){if(s.on_phonegap())window.localStorage.setItem(e,t);else{let i,a;i=-1===n?"; expires=Thu, 01 Jan 1970 00:00:01 GMT":n?"; expires="+new Date(Date.now()+n*_.DAY_MS).toUTCString():"",a=r.starts_with(window.document.location.href,"https://")?"; secure; SameSite=Lax":"",document.cookie=e+"="+t+i+"; path=/"+a}M=null}function T(){E||(window.addEventListener("message",N,!1),E=$(`<iframe\n     src="${n.META_ORIGIN}/appeditor/clipboard"\n     style="position: absolute; left: -2px; width: 1px; height: 1px"\n></iframe>"`),$("body").append(E))}function N(e){var t,r,a,o;if(!i.is_origin_on_bubble(e.origin))return;if("init_me"===(null==(t=e.data)?void 0:t.action))return void(null==(a=E)||null==(o=a[0].contentWindow)||o.postMessage({action:"init_sync",url:window.location.href},n.META_ORIGIN));if("new_clipboard_item"!==(null==(r=e.data)?void 0:r.action))return;let s=e.data.key;window.localStorage["_this_session_clipboard_"+s]>=e.data.timestamp||(window.localStorage["_this_session_clipboard_"+s]=e.data.timestamp,g(e.data.key,e.data.data,!1,!0))}e.clipboard_script="\nvar _dead = false;\nfunction receiveMessage(event) {\nif (_dead) { return; }\n\nif (!isOkay(event.origin)) {\n    _dead = true;\n    console.log('Note: an unrecognized domain, ' + event.origin + ', is trying to access your global Bubble editor clipboard.  If you would like to grant access, go to https://bubble.io, and in the javascript console, type client_storage.approve_global_clipboard(\\'' + event.origin + '\\'); and then refresh the editor window.');\n    return;\n}\n\nvar parentOrigin = event.origin;\n\nif (event.data.action === 'init_sync') {\n    function handleStoragePut(event) {\n        if (!event.key) { return; }\n        if (event.key.indexOf('global_clipboard_message_') != 0) { return; }\n        if (!event.newValue) { return; }\n        var message = JSON.parse(event.newValue);\n        parent.postMessage({\n            'action': 'new_clipboard_item',\n            'key': message.key,\n            'data': message.data,\n            'timestamp': message.timestamp\n        }, parentOrigin);\n    }\n\n    window.addEventListener(\"storage\", handleStoragePut, false);\n}\n\nif (event.data.action === 'global_clipboard_put') {\n    var message_key = 'global_clipboard_message_' + event.data.id;\n    window.localStorage[message_key] = JSON.stringify(event.data);\n    setTimeout(function() {\n        delete window.localStorage[message_key];\n    }, 10000);\n}\n}\n\nfunction isOkay(origin) {\nif (window.localStorage.global_clipboard_approved && JSON.parse(window.localStorage.global_clipboard_approved).indexOf(event.origin) > -1) {\n    return true;\n}\nif (/^https:\\/\\/([^\\.]+\\.)?bubble\\.i[so]$/.test(origin)) {\n    return true;\n}\nreturn false;\n}\n\nwindow.addEventListener(\"message\", receiveMessage, false);\n\nparent.postMessage({'action': 'init_me'}, '*');";var C={epoch:{active:void 0}}})),Ia=u((e=>{"use strict";function t(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}f(),Ze(),Ue();var r=Zt(),n=Br(),i=La(),a=qr(),o=ot(),s=za(),l=e,_=new WeakSet;function u(){let e=a().location.base_url,t=a().location.get_page(),r=c(),n=a().appname(),i=this.id;return{epoch_name:this.name,epoch_id:i,user_appname:r,appname:n,url:e,page:t}}l.start=e=>{l.end();let i=new class{constructor(e){t(this,_),this.name=e,this.id=r.UUID(),this.labels=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}(this,_,u).call(this),this.transaction=n.startTransaction(e,this.labels)}}(e);s.set_active_epoch(i)},l.end=()=>{let e=s.get_active_epoch();if(e){var t,r,a,o;let s=null==(t=window)||null==(r=t.performance)||null==(a=r.timing)?void 0:a.fetchStart;!!(null==(o=Object.values(i.EPOCHS).find((t=>t.name===e.name)))?void 0:o.start_at_page_load)&&s&&d(e,s),n.endTransaction(e.transaction)}s.set_active_epoch(void 0)},l.addEpochLabels=e=>{let t=s.get_active_epoch();t&&(Object.assign(t.labels,e),n.addTransactionLabels(e))},l.startSpan=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=s.get_active_epoch();if(i)return n.startSpan(e,{...i.labels,type:t},r)},l.traceSpan=(e,t,r)=>{let i=s.get_active_epoch();return i?n.traceSpan(e,{...i.labels,type:t},r):r()},l.endSpan=e=>{n.endSpan(e)};var c=()=>{let e=a().appname();var t,r;return o.is_edit_mode()&&null!=(t=null==(r=a().location.get_query())?void 0:r.id)?t:e},d=(e,t)=>{let r=e.transaction;r.setStart(t),r.spans.filter((e=>{var t;return null==(t=Object.values(i.SPANS).find((t=>t.name===e.name)))?void 0:t.start_at_page_load})).forEach((e=>e.setStart(t)))}})),Da=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.batch=d,e.schedule=function(e){e.run_immediately?_.unshift(e):_.push(e),e.dont_track_scheduling||l.turn_off()},e.scheduled_key=void 0,Ue();var t=La(),r=Pr(),n=s(Ia()),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(ot()),a=s(fr());function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.MakeSwitch)(void 0,"autorun.scheduled_key");e.scheduled_key=l,l.turn_on();var _=null,u=!1;function c(e){let r=t.SPANS.autorun_scheduled;n.default.traceSpan(r.name,r.type,(()=>{p(e)}))}function d(e){if(null!==_)return e();let t;_=[];try{t=e()}finally{i.on_server()?u||c(_):setTimeout(c,0,_)}return t}function p(e){u=!0,_=null;for(let t of e)t.updateIfNecessary();u=!1,null===_?queueMicrotask((()=>l.turn_on())):i.on_server()&&p(_)}a.default.batch=d})),ja=u(((e,t)=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.Autorun=e.AlwaysErrorWatcher=void 0,e.Box=function(e,t){let r=new T(e);!0===t&&r.not_ready();let n=r.val.bind(r);return Object.assign(n,{set:r.set.bind(r),get:r.get.bind(r),dangerously_peek:r.dangerously_peek.bind(r)})},e.BoxClass=void 0,e.FakeWatcher=function(e){return new w(e)},e.Watcher=function(e){let t,r;"function"==typeof e?r=e:({fn:r,compare:t}=e);let n=new x(r,{compare:t,watcher:!0});return(0,h.batch)((()=>(0,h.schedule)(n))),n},e.autorun=A,e.autorun_once=function(e){let t=new x(e,{run_once:!0});return(0,h.batch)((()=>t.evaluate())),t},e.autorun_return=function(e){let t=new x(e,{watcher:!0});return(0,h.batch)((()=>t.get()))},e.autorun_top=O,e.autorun_warn=void 0,e.autotop=function(e){return O((()=>A(e)))},e.mock_auto_run=function(e){let t=new S,n=r.default.CurrentAutoRun,i=r.default.CurrentNotReadyCatcher,a=r.default.NewSources,o=r.default.NewSourcesIndex;try{return r.default.CurrentAutoRun=t,r.default.CurrentNotReadyCatcher=null,r.default.NewSources=null,r.default.NewSourcesIndex=0,e(),t}finally{E(),r.default.CurrentAutoRun=n,r.default.CurrentNotReadyCatcher=i,r.default.NewSources=a,r.default.NewSourcesIndex=o}},e.no_outstanding_run_once=void 0,e.removeSourceObservers=M,e.run_once=function(e,t,i){let a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("number"!=typeof e)throw new s.UnexpectedError("calling run_once with non-numeric value for timeout_seconds");if(_.on_server())a=(0,n.Promise)(t);else{let i,_=function(){if(i.is_turned())return;let e=p.max_expected_time();null!=e||(e=b(c,f,l)),e<0?u():setTimeout(_,Math.min(1e4,e))},u=function(){let n,o=p.get_current_status();n="error"===o.status?"WAS AN ERR, WHY DID WE NOT CALL ERROR HANDLER?":"ready"===o.status?`WATCHER IS READY, WHY DID WE NOT CALL ONCE_VALUE: ${String(o.value)}`:o.ready_keys?o.ready_keys.is_turned()?`Watcher is marked not ready but keys are turned. _debug_turned_key = ${String(p._debug_turned_key)}. IS SCHEDULED: ${String(p._dirty)}`:`waiting on ${String(o.ready_keys)}`:"<NO READY KEYS>",r.default.server_connection_problems?a.reject(new s.UserError("BAD_CONNECTION")):a.reject(new s.UnexpectedError("autorun.run_once timeout",{timeout_seconds:e,fn_source:String(t),waiting_on:n})),i.turn(),p.destroy()};a=(0,n.Promise)(null,`Running once: ${String(t)}`);let c=[{timestamp:Date.now(),visibility:document.visibilityState}],d=()=>{c.push({timestamp:Date.now(),visibility:document.visibilityState})};document.addEventListener("visibilitychange",d),i=o?(0,n.MakeKey)(e+5,"run once: "+String(t)):y.make(e+5,"run once: "+String(t));let p=new x(t,{watcher:!0,run_once:!0});o&&p.stop_track_scheduling(),p.once_value((e=>{i.is_turned()&&console.error("Watcher for run_once was not destroyed immediately"),i.turn(),document.removeEventListener("visibilitychange",d),a.resolve(e)})),p.once_error((e=>{i.is_turned()&&console.error("Watcher for run_once was not destroyed immediately"),console.error("run_once failed with error",e),i.turn(),document.removeEventListener("visibilitychange",d),a.reject(e)}));let f=1e3*e;_()}return i&&a.callback(i),a},Object.defineProperty(e,"scheduled_key",{enumerable:!0,get:function(){return h.scheduled_key}}),e.singleton=function(e){let t=null;return()=>(null==t&&(t=O((()=>new e))),t)},e.updateSources=E,e.wait_for_attached=function(e,t,r){null!=r||(r={});let{error_message:i}=r,o=!1;function s(r){if(null!=r||(r=10),!o)if(a.is_attached(e))t();else if("function"==typeof r)r();else{let e=2*r;setTimeout((function(){s(e)}),r)}}e.on("remove",(function(){o=!0})),s((function(){(0,n.WaitFor)(h.scheduled_key,(function(){s((function(){i?l.owner_warn("element not attached after scheduled_key",{display:i,html:e[0].outerHTML}):l.error("element was not attached after autorun.scheduled_key",{html:e[0].outerHTML}),s()}))}))}))},e.wait_for_element=function(e,t,r){let n,i=setTimeout((function(){null!=n&&clearTimeout(n),r(`could not find ${e} after ${t} ms`)}),t);!function t(){$(e).length>0?(clearTimeout(i),r()):n=setTimeout(t,100)}()},e.wait_for_updates=function e(t){setTimeout((function(){h.scheduled_key.is_turned()?t():(0,n.WaitFor)(h.scheduled_key,(()=>e(t)))}),10)},e.wait_for_visible=function(e,t){function r(n){if(null!=n||(n=10),!(n>500))if(e.is(":visible"))t();else if("function"==typeof n)n();else{let e=2*n;setTimeout((()=>r(e)),n)}}r((function(){(0,n.WaitFor)(h.scheduled_key,(()=>r()))}))},Mn(),Ue();var r=v(fr()),n=Pr(),i=m(Qt()),a=m(pn()),o=Tr(),s=it(),l=m(Kt()),_=m(ot()),u=Zt(),c=(Ca(),p(xn)),d=v(Nt()),h=Da();function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function v(e){return e&&e.__esModule?e:{default:e}}d.default.safe_register("./u/shared/async/autorun",t.exports);var y=(0,n.MakeKeyList)();function b(e,t,r){if(!r)return e[0].timestamp+t-Date.now();let n=0;for(let t=0;t<e.length-1;t++){let r=e[t],i=e[t+1];"visible"===r.visibility&&(n+=i.timestamp-r.timestamp)}let i=Date.now(),a=e[e.length-1];return"visible"===a.visibility&&(n+=i-a.timestamp),t-n}e.no_outstanding_run_once=y;var w=class{constructor(e){this.data=void 0,this.data=e}get_ready_key(){return(0,n.FakeKey)()}stop_track_scheduling(){}max_expected_time(){return null}invalidate(){}get_current(){return[!0,this.data]}get_current_status(){return{status:"ready",value:this.data}}get_current_status_array(){return[null,!0,this.data]}get(){return this.data}on_value(e){e(this.data)}on_error(){}on_not_ready(){}once_error(){}once_value(e){e(this.data)}once_change(){}on_condition(e,t){(e===this.data||"function"==typeof e&&e(this.data))&&t(this.data)}once_condition(e,t){this.on_condition(e,t)}destroy(){}};function A(e,t){let r="object"==typeof e?e:{do:e,while:void 0,finally:t},{do:n,while:i,finally:a}=r;if(_.is_edit_mode()){let e,t=n,r=a;n=()=>{O((()=>(0,c.untrack)((()=>{var t;return null==(t=e)?void 0:t()}))));let r=(0,c.createRoot)((r=>{e=r;try{t()}catch(e){if(e instanceof s.NotReadyError)return e;throw e}return null}));if(null!=r)throw r},a=()=>{var t;null==(t=e)||t(),null==r||r()}}if(i)return function(e,t,r){return(0,h.batch)((()=>{let n=new x(e,{cleanup:()=>{null==r||r(),i.destroy()}}),i=new x((()=>{t()?n.unpause():n.pause()}));return i.evaluate(),n.updateIfNecessary(),n}))}(n,i,a);{let e=new x(n,{cleanup:a});return(0,h.batch)((()=>e.evaluate())),e}}function E(){let e=r.default.CurrentAutoRun,t=r.default.NewSources,n=r.default.NewSourcesIndex;if(t){if(e._sources&&M(e,n),e._sources&&n>0){e._sources.length=n+t.length;for(let r=0;r<t.length;r++)e._sources[n+r]=t[r]}else e._sources=t;let r;for(let t=n;t<e._sources.length;t++)r=e._sources[t],r._observers?r._observers.push(e):r._observers=[e]}else e._sources&&n<e._sources.length&&(M(e,n),e._sources.length=n)}function M(e,t){let r;for(let n=t;n<e._sources.length;n++){let t=e._sources[n];t._observers&&(r=t._observers.indexOf(e),t._observers[r]=t._observers[t._observers.length-1],t._observers.pop())}}var x=class{constructor(e){var t,n,i;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._is_destroyed=!1,this._dirty=!0,this._check=!1,this._parent=r.default.CurrentAutoRun,this._subs=[],this._sources=null,this._observers=null,this._is_paused=!1,this._is_ancestor_paused=!1,this._fn=void 0,this._cleanup=void 0,this.run_once=void 0,this.id=(0,u.LUID)(),this.run_immediately=!1,this.dont_track_scheduling=!1,this._watcher=void 0,this.error=void 0,this.value=void 0,this.ready=!1,this.ready_keys=void 0,this._debug_turned_key=void 0,this.listeners=void 0,this.error_listeners=void 0,this.not_ready_listeners=void 0,this._compare=void 0,this._log_errors=void 0,this._running=!1,this._fn=e,this._cleanup=a.cleanup,this._compare=a.compare,this.run_once=null!=(t=a.run_once)&&t,this._watcher=null!=(n=a.watcher)&&n,this._log_errors=null==(i=a.log_errors)||i,!this._watcher&&null!=this._parent&&this._parent.add_sub(this)}set_run_immediately(e){this.run_immediately=e}alive(){return!this._is_destroyed}evaluate(){if(this._is_destroyed)return;if(this.ready_keys&&!this.ready_keys.is_turned())return void(this._dirty=!1);if(this._is_paused||this._is_ancestor_paused||!this._dirty)return;let e,t,a=r.default.CurrentNotReadyCatcher,o=this._watcher?[]:null,_=r.default.CurrentAutoRun,u=r.default.NewSources,c=r.default.NewSourcesIndex,d=!1;r.default.CurrentNotReadyCatcher=o,r.default.CurrentAutoRun=this,r.default.NewSources=null,r.default.NewSourcesIndex=0,this._running=!0;try{this.destroy_subs(),t=this._fn()}catch(t){if(t instanceof s.NotReadyError&&null!=t.not_ready_key){let e=t.not_ready_key;o?o.push(e):e.turned_dependency().register(),d=!0}else e=(0,s.ensure_bubble_error)(t)}finally{E(),r.default.CurrentNotReadyCatcher=a,r.default.CurrentAutoRun=_,r.default.NewSources=u,r.default.NewSourcesIndex=c}if(null===o)d||this.run_once&&this.destroy();else if(null!=e){if(this.error=e,this.value=void 0,this.ready=!0,this._debug_turned_key=void 0,this.invalidate_observers(2),null!=this.error_listeners&&this.error_listeners.size>0)for(let e of this.error_listeners)try{e(this.error)}catch(e){l.log((0,s.ensure_bubble_error)(e))}else this._log_errors&&l.log(this.error);this.run_once&&this.destroy()}else if(0===o.length){let e=!this.ready;if(!e)if(this._compare)e=!this._compare(t,this.value);else{let r=function(e,t){try{return[!0,i.compare(e,t)]}catch(e){if(e instanceof s.NotReadyError)return[!1];throw e}}(t,this.value);e=!r[0]||!r[1]}if(e){if(this.ready=!0,this.error=void 0,this.value=t,this._debug_turned_key=void 0,this.invalidate_observers(2),this.listeners)for(let e of this.listeners)try{e(this.value)}catch(e){l.log((0,s.ensure_bubble_error)(e))}}else this.value=t;this.run_once&&this.destroy()}else{if(this.ready&&this.not_ready_listeners)for(let e of this.not_ready_listeners)try{e()}catch(e){l.log((0,s.ensure_bubble_error)(e))}this.ready=!1,this.value=t,this.error=void 0,null!=this.ready_keys||(this.ready_keys=(0,n.MakeKeyList)()),this.ready_keys.remove_all(!1);for(let e of o)e.is_turned()?this._debug_turned_key=e:this.ready_keys.add_key(e);let e=this.ready_keys.turned_dependency();this._sources?this._sources.push(e):this._sources=[e],e._observers.push(this)}this._running=!1,this._dirty=!1,this._check=!1}destroy_subs(){for(let e of this._subs)e.destroy();this._subs=[]}destroy(){var e;this._is_destroyed=!0,this._sources&&(M(this,0),this._sources=null),this.destroy_subs();try{var t;null==(t=this._cleanup)||t.call(this)}catch(e){l.error("Error while cleaning up autorun",{error:(0,s.ensure_bubble_error)(e)})}this.listeners=void 0,this.not_ready_listeners=void 0,this.error_listeners=void 0,this._observers=null,null==(e=this.ready_keys)||e.destroy(),this.ready_keys=void 0,this._dirty=!1,this._check=!1,this._cleanup=void 0,this._fn=void 0}add_sub(e){this.run_once&&this._parent?this._parent.add_sub(e):this._subs.push(e)}stop_tracking(){this.dont_track_scheduling=!0}pause(){this._is_paused=!0,this._subs.forEach((function e(t){let r=t._is_paused||t._is_ancestor_paused;t._is_ancestor_paused=!0,r||t._subs.forEach(e)}))}unpause(){this._is_paused=!1,(0,h.batch)((()=>this.run_or_unpause_subs()))}run_or_unpause_subs(){this._is_paused||this._is_ancestor_paused||(this._dirty?this.updateIfNecessary():this._subs.forEach((e=>{e._is_ancestor_paused=!1,e.run_or_unpause_subs()})))}updateIfNecessary(){if(!this._is_destroyed){if(this._check){if(this._sources)for(let e of this._sources)if(e.updateIfNecessary(),this._dirty)break;this._check=!1}this._dirty&&this.evaluate()}}invalidate_observers(e){if(!this._is_destroyed&&this._observers)for(let t of this._observers)t._invalidate(e)}invalidate(){this._is_destroyed||(0,h.batch)((()=>this._invalidate(2)))}_invalidate(e){if(this._is_destroyed)return;let t=!(this._check||this._dirty);1===e?this._dirty||(this._check=!0):(this._dirty=!0,this._check=!1),2!==e&&this._running&&console.error("Implicitly invalidated an Autorun, probably because a Box/Switch was mutated while running."),t&&!this._running&&((0,h.schedule)(this),this.invalidate_observers(1))}get_ready_key(){return null!=this.ready_keys||(this.ready_keys=(0,n.TransientKeyList)()),this.ready_keys}stop_track_scheduling(){this.dont_track_scheduling=!0}max_expected_time(){var e,t;return null!=(e=null==(t=this.ready_keys)?void 0:t.max_expected_time())?e:null}get_current(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,h.batch)((()=>this.updateIfNecessary())),(0,o.register_dependency)(this),null!=this.error){if(e)return[null,null,this.error];throw this.error}return this.ready?[this.ready,this.value]:[this.ready,this.ready_keys]}get_current_status(){return null!=this.error?{status:"error",error:this.error}:this.ready?{status:"ready",value:this.value}:{status:"not_ready",ready_keys:this.ready_keys}}get_current_status_array(){return null!=this.error?[this.error]:this.ready?[null,this.ready,this.value]:[null,this.ready,this.ready_keys]}get(){if(this._is_destroyed){if(console.warn("reading from destroyed autorun"),null!=this.error)throw this.error;return this.ready||(0,n.ensure_ready)(this.ready_keys,!1),this.value}return(0,h.batch)((()=>{if(this.updateIfNecessary(),null!=this.error)throw(0,o.register_dependency)(this),this.error;return this.ready||((0,n.ensure_ready)(this.ready_keys,!1),this.updateIfNecessary()),(0,o.register_dependency)(this),this.value}))}on_value(e){if((0,h.batch)((()=>this.updateIfNecessary())),null!=this.listeners||(this.listeners=new Set),this.listeners.add(e),null!=this.error)l.log(this.error);else if(this.ready)try{e(this.value)}catch(e){l.log((0,s.ensure_bubble_error)(e))}}on_condition(e,t){let r;r="function"==typeof e?e:t=>t===e,this.on_value((e=>{r(e)&&t(e)}))}on_not_ready(e){if(null!=this.not_ready_listeners||(this.not_ready_listeners=new Set),this.not_ready_listeners.add(e),!this.ready)try{e()}catch(e){l.log((0,s.ensure_bubble_error)(e))}}on_error(e){if((0,h.batch)((()=>this.updateIfNecessary())),null!=this.error_listeners||(this.error_listeners=new Set),this.error_listeners.add(e),null!=this.error)try{e(this.error)}catch(e){l.log((0,s.ensure_bubble_error)(e))}}once_error(e){let t=r=>{var n;null==(n=this.error_listeners)||n.delete(t),e(r)};this.on_error(t)}once_value(e){let t=r=>{var n;null==(n=this.listeners)||n.delete(t),e(r)};this.on_value(t)}once_condition(e,t){let r;r="function"==typeof e?e:t=>t===e;let n=e=>{var i;r(e)&&(null==(i=this.listeners)||i.delete(n),t(e))};this.on_value(n)}once_change(e){null!=this.listeners||(this.listeners=new Set);let t=r=>{var n;null==(n=this.listeners)||n.delete(t),e(r)};this.listeners.add(t)}};function O(e){let t=r.default.CurrentAutoRun;r.default.CurrentAutoRun=null;let n=r.default.CurrentNotReadyCatcher;r.default.CurrentNotReadyCatcher=null;try{return e()}catch(e){throw e instanceof s.NotReadyError&&l.log((0,s.ensure_bubble_error)(e)),e}finally{r.default.CurrentAutoRun=t,r.default.CurrentNotReadyCatcher=n}}e.Autorun=x;var k=O;e.autorun_warn=k;var S=class{constructor(){this._check=void 0,this._dirty=void 0,this.id=void 0,this._sources=[],this._check=!1,this._dirty=!1,this.id=(0,u.LUID)()}add_sub(e){}stop_tracking(){}will_run(){if(this._check)for(let e of this._sources)e.updateIfNecessary();let e=this._dirty;return this._dirty=!1,this._check=!1,e}_invalidate(e){1===e&&(this._dirty||(this._check=!0)),(2===e||3===e)&&(this._dirty=!0,this._check=!1)}destroy(){M(this,0),this._sources=[]}};var T=class extends o.DependencyClass{constructor(e){super(),this.state=void 0,this.is_not_ready=void 0,this.not_ready_switch=void 0,this.state=e,this.is_not_ready=!1}not_ready(){this.is_not_ready=!0,null!=this.not_ready_switch||(this.not_ready_switch=(0,n.MakeSwitch)(void 0,"autorun.Box not_ready_switch")),this.not_ready_switch.turn_off()}val(e,t){if(!0===t)this.not_ready();else{if(void 0===e)return this.get();this.set(e)}}dangerously_peek(){return this.state}get(){return this.is_not_ready&&(0,n.ensure_ready)(this.not_ready_switch),this.register(),this.state}set(e){i.compare(this.state,e)||(this.state=e,this.invalidate()),this.is_not_ready&&(this.is_not_ready=!1,this.not_ready_switch.turn_on())}};e.BoxClass=T;var N=new x((()=>{throw new s.UnexpectedError("This watcher cannot be accessed")}),{log_errors:!1});e.AlwaysErrorWatcher=N})),Ba=u(((e,t)=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.Autorun=e.AlwaysErrorWatcher=void 0,e.Box=function(e,t){let r=new P(e);!0===t&&r.not_ready();let n=r.val.bind(r);return Object.assign(n,{set:r.set.bind(r),get:r.get.bind(r),dangerously_peek:r.dangerously_peek.bind(r)})},e.BoxClass=void 0,e.FakeWatcher=function(e){return new M(e)},e.Watcher=w,e.autorun=O,e.autorun_once=function(e){return new k(e,void 0,!0).run_me()},e.autorun_return=function(e){let t,r,n=(0,o.Dependency)();if(O((()=>{try{let a=e();i.compare(a,t)||n.invalidate(),t=a,r=void 0}catch(e){r=e,n.invalidate()}})),n.register(),null!=r)throw r.suppress_dependency_error=!0,r;return t},e.autorun_top=S,e.autorun_warn=function(e){return e()},e.autorun_watch=function(){C=r.default.CurrentAutoRun},e.autotop=function(e){return S((()=>O(e)))},e.mock_auto_run=function(e){let t,n;try{n=r.default.CurrentAutoRun;let i=new T;return r.default.CurrentAutoRun=i,t=r.default.CurrentNotReadyCatcher,r.default.CurrentNotReadyCatcher=null,e(),i}finally{r.default.CurrentAutoRun=n,r.default.CurrentNotReadyCatcher=t}},e.no_outstanding_run_once=void 0,e.run_once=function(e,t,i){let a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("number"!=typeof e)throw new s.UnexpectedError("calling run_once with non-numeric value for timeout_seconds");if(_.on_server())a=(0,n.Promise)(t);else{let i,_=function(){if(i.is_turned())return;let e=p.max_expected_time();null!=e||(e=b(c,f,l)),e<0?u():setTimeout(_,Math.min(1e4,e))},u=function(){let n,o=p.get_current_status();n="error"===o.status?"WAS AN ERR, WHY DID WE NOT CALL ERROR HANDLER?":"ready"===o.status?`WATCHER IS READY, WHY DID WE NOT CALL ONCE_VALUE: ${String(o.value)}`:o.ready_keys?o.ready_keys.is_turned()?`Watcher is marked not ready but keys are turned. _debug_turned_key = ${String(p._debug_turned_key)}. IS SCHEDULED: ${String(!!p._is_scheduled)}`:`waiting on ${String(o.ready_keys)}`:"<NO READY KEYS>",document.removeEventListener("visibilitychange",d),r.default.server_connection_problems?a.reject(new s.UserError("BAD_CONNECTION")):a.reject(new s.UnexpectedError("autorun.run_once timeout",{timeout_seconds:e,fn_source:String(t),waiting_on:n})),i.turn(),p.destroy()};a=(0,n.Promise)(null,`Running once: ${String(t)}`);let c=[{timestamp:Date.now(),visibility:document.visibilityState}],d=()=>{c.push({timestamp:Date.now(),visibility:document.visibilityState})};document.addEventListener("visibilitychange",d),i=o?(0,n.MakeKey)(e+5,"run once: "+String(t)):y.make(e+5,"run once: "+String(t));let p=w(t);o&&p.dont_track_scheduling(),p.once_value((e=>{i.is_turned()||(i.turn(),p.destroy(),document.removeEventListener("visibilitychange",d),a.resolve(e))})),p.once_error((e=>{i.is_turned()||(i.turn(),p.destroy(),document.removeEventListener("visibilitychange",d),a.reject(e))}));let f=1e3*e;_()}return i&&a.callback(i),a},e.scheduled_key=e.schedule=void 0,e.singleton=function(e){let t=null;return()=>(null==t&&(t=S((()=>new e))),t)},e.wait_for_attached=function(e,t,r){null!=r||(r={});let{error_message:i}=r,o=!1;function s(r){if(null!=r||(r=10),!o)if(a.is_attached(e))t();else if("function"==typeof r)r();else{let e=2*r;setTimeout((function(){s(e)}),r)}}e.on("remove",(function(){o=!0})),s((function(){(0,n.WaitFor)(N,(function(){s((function(){i?l.owner_warn("element not attached after scheduled_key",{display:i,html:e[0].outerHTML}):l.error("element was not attached after autorun.scheduled_key",{html:e[0].outerHTML}),s()}))}))}))},e.wait_for_element=function(e,t,r){let n,i=setTimeout((function(){null!=n&&clearTimeout(n),r(`could not find ${e} after ${t} ms`)}),t);!function t(){$(e).length>0?(clearTimeout(i),r()):n=setTimeout(t,100)}()},e.wait_for_updates=function e(t){setTimeout((function(){N.is_turned()&&x.is_turned()?t():(0,n.WaitFor)(N,x,(()=>e(t)))}),10)},e.wait_for_updates_keys=void 0,e.wait_for_visible=function(e,t){function r(n){if(null!=n||(n=10),!(n>500))if(e.is(":visible"))t();else if("function"==typeof n)n();else{let e=2*n;setTimeout((()=>r(e)),n)}}r((function(){(0,n.WaitFor)(N,(()=>r()))}))},Ue(),Mn();var r=v(Rr()),n=Ir(),i=m(Qt()),a=m(pn()),o=zr(),s=it(),l=m(Kt()),_=m(ot()),u=Zt(),c=v(Ia()),d=La(),h=(Ca(),p(xn));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function v(e){return e&&e.__esModule?e:{default:e}}v(Nt()).default.safe_register("./u/shared/async/autorun",t.exports);var y=(0,n.MakeKeyList)();function b(e,t,r){if(!r)return e[0].timestamp+t-Date.now();let n=0;for(let t=0;t<e.length-1;t++){let r=e[t],i=e[t+1];"visible"===r.visibility&&(n+=i.timestamp-r.timestamp)}let i=Date.now(),a=e[e.length-1];return"visible"===a.visibility&&(n+=i-a.timestamp),t-n}function w(e){let t,r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"function"==typeof e?r=e:({fn:r,compare:t}=e),new A(r,{watcher_test:n,compare:t})}e.no_outstanding_run_once=y;var A=class{constructor(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.evaluate=void 0,this.ready_keys=void 0,this._is_scheduled=void 0,this._dont_track_scheduling=!1,this._ar_object=void 0,this.error=void 0,this.value=void 0,this.ready=!1,this._debug_turned_key=void 0,this.dependency=void 0,this.error_listeners=void 0,this.listeners=void 0,this.not_ready_listeners=void 0;let{watcher_test:c=!1,compare:d,log_errors:p=!0}=a;this.evaluate=()=>{let t,a,o=r.default.CurrentNotReadyCatcher,f=[],h=r.default.CurrentAutoRun,g={id:(0,u.LUID)(),_subs:[],invalidate:()=>{!this.ready_keys||this.ready_keys.is_turned()?(g.invalidate=function(){},g.destroy(),_.running_test()&&!c?g.run_me():(_.on_server()&&l.warn("invalidating watcher on server",{keys:String(this.ready_keys)}),L(g),this._is_scheduled=g)):this.ready_keys.turned_dependency().register(g)},add_sub:e=>{g._subs.push(e)},destroy_subs(){for(let e of g._subs)e.destroy();g._subs=[]},_is_destroyed:!1,destroy:()=>{g._is_destroyed=!0,g.destroy_subs()},run_me:()=>{g.run_me=function(){},g===this._is_scheduled&&(this._is_scheduled=void 0),this.evaluate()},dont_track_scheduling:this._dont_track_scheduling,stop_tracking:()=>{this.dont_track_scheduling()}};var m;if(this._ar_object=g,function(e,t,r){try{e()}catch(e){t(e)}finally{r()}}((function(){r.default.CurrentNotReadyCatcher=f,r.default.CurrentAutoRun=g,a=e()}),(function(e){if(e instanceof s.NotReadyError&&null!=e.not_ready_key){let t=e.not_ready_key;!t.is_registered(g)&&!0!==e.suppress_dependency_error&&l.error("Watcher caught unregistered key",{key:t.toString()}),f.push(t)}else t=(0,s.ensure_bubble_error)(e)}),(function(){r.default.CurrentNotReadyCatcher=o,r.default.CurrentAutoRun=h})),null!=t)if(this.error=t,this.value=void 0,this.ready=!0,this._debug_turned_key=void 0,null==(m=this.dependency)||m.invalidate(),null!=this.error_listeners&&this.error_listeners.size>0)for(let e of this.error_listeners)try{e(this.error)}catch(e){l.log((0,s.ensure_bubble_error)(e))}else p&&l.log(this.error);else if(0===f.length){let e=!this.ready;if(!e)if(d)e=!d(a,this.value);else{let t=function(e,t){try{return[!0,i.compare(e,t)]}catch(e){if(e instanceof s.NotReadyError)return[!1];throw e}}(a,this.value);e=!t[0]||!t[1]}var v;if(e){if(this.ready=!0,this.error=void 0,this.value=a,this._debug_turned_key=void 0,null==(v=this.dependency)||v.invalidate(),this.listeners)for(let e of this.listeners)try{e(this.value)}catch(e){l.log((0,s.ensure_bubble_error)(e))}}else this.value=a}else{if(this.ready&&this.not_ready_listeners)for(let e of this.not_ready_listeners)try{e()}catch(e){l.log((0,s.ensure_bubble_error)(e))}this.ready=!1,this.value=void 0,this.error=void 0,null!=this.ready_keys||(this.ready_keys=(0,n.MakeKeyList)()),this.ready_keys.remove_all();for(let e of f)e.is_turned()?this._debug_turned_key=e:this.ready_keys.add_key(e)}},this.evaluate(),!0!==(null==(t=this._ar_object)?void 0:t._has_dependency)&&this.ready?(this.evaluate=void 0,this._ar_object=void 0):this.dependency=(0,o.Dependency)()}get_ready_key(){return null!=this.ready_keys||(this.ready_keys=(0,n.TransientKeyList)()),this.ready_keys}dont_track_scheduling(){this._dont_track_scheduling=!0,this._ar_object&&(this._ar_object.dont_track_scheduling=!0)}invalidate(){var e;return null==(e=this._ar_object)?void 0:e.invalidate()}max_expected_time(){var e,t;return null!=(e=null==(t=this.ready_keys)?void 0:t.max_expected_time())?e:null}get_current(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null==(e=this._is_scheduled)||e.run_me(),null==(t=this.dependency)||t.register(),null!=this.error){if(r)return[null,null,this.error];throw this.error}return this.ready?[this.ready,this.value]:[this.ready,this.ready_keys]}get_current_status(){return null!=this.error?{status:"error",error:this.error}:this.ready?{status:"ready",value:this.value}:{status:"not_ready",ready_keys:this.ready_keys}}get_current_status_array(){return null!=this.error?[this.error]:this.ready?[null,this.ready,this.value]:[null,this.ready,this.ready_keys]}get(){var e,t,r;if(null==(e=this._is_scheduled)||e.run_me(),null!=this.error)throw null==(r=this.dependency)||r.register(),this.error;if(!this.ready){var i;(0,n.ensure_ready)(this.ready_keys,!1),this.evaluate();let e=this.get();return null==(i=this.dependency)||i.register(),e}return null==(t=this.dependency)||t.register(),this.value}on_value(e){if(null!=this.listeners||(this.listeners=new Set),this.listeners.add(e),null!=this.error)l.log(this.error);else if(this.ready)try{e(this.value)}catch(e){l.log((0,s.ensure_bubble_error)(e))}}on_condition(e,t){let r;r="function"==typeof e?e:t=>t===e,this.on_value((e=>{r(e)&&t(e)}))}on_not_ready(e){if(null!=this.not_ready_listeners||(this.not_ready_listeners=new Set),this.not_ready_listeners.add(e),!this.ready)try{e()}catch(e){l.log((0,s.ensure_bubble_error)(e))}}on_error(e){if(null!=this.error_listeners||(this.error_listeners=new Set),this.error_listeners.add(e),null!=this.error)try{e(this.error)}catch(e){l.log((0,s.ensure_bubble_error)(e))}}once_error(e){let t=r=>{var n;null==(n=this.error_listeners)||n.delete(t),e(r)};this.on_error(t)}once_value(e){let t=r=>{var n;null==(n=this.listeners)||n.delete(t),e(r)};this.on_value(t)}once_condition(e,t){let r;r="function"==typeof e?e:t=>t===e;let n=e=>{var i;r(e)&&(null==(i=this.listeners)||i.delete(n),t(e))};this.on_value(n)}once_change(e){null!=this.listeners||(this.listeners=new Set);let t=r=>{var n;null==(n=this.listeners)||n.delete(t),e(r)};this.listeners.add(t)}destroy(){var e,t;this.listeners=void 0,this.not_ready_listeners=void 0,this.error_listeners=void 0,this.dependency=void 0,null==(e=this.ready_keys)||e.destroy(),this.ready_keys=void 0,this.evaluate=function(){},this._is_scheduled=void 0,null==(t=this._ar_object)||t.destroy(),this._ar_object=void 0}},E=new A((()=>{throw new s.UnexpectedError("This watcher cannot be accessed")}),{log_errors:!1});e.AlwaysErrorWatcher=E;var M=class{constructor(e){this.data=void 0,this.data=e}get_ready_key(){return(0,n.FakeKey)()}dont_track_scheduling(){}max_expected_time(){return null}invalidate(){}get_current(){return[!0,this.data]}get_current_status(){return{status:"ready",value:this.data}}get_current_status_array(){return[null,!0,this.data]}get(){return this.data}on_value(e){e(this.data)}on_error(){}on_not_ready(){}once_error(){}once_value(e){e(this.data)}once_change(){}on_condition(e,t){(e===this.data||"function"==typeof e&&e(this.data))&&t(this.data)}once_condition(e,t){this.on_condition(e,t)}destroy(){}},x=(0,n.MakeKeyList)();function O(e,t){let r="object"==typeof e?e:{do:e,while:void 0,finally:t},{do:n,while:i,finally:a}=r;if(_.is_edit_mode()){let e,t=n,r=a;n=()=>{S((()=>(0,h.untrack)((()=>{var t;return null==(t=e)?void 0:t()}))));let r=(0,h.createRoot)((r=>{e=r;try{t()}catch(e){if(e instanceof s.NotReadyError)return e;throw e}return null}));if(null!=r)throw r},a=()=>{var t;null==(t=e)||t(),null==r||r()}}return i?function(e,t,r){let n=!1,i=new k(e,(()=>{null==r||r(),a.destroy()})),a=new k((()=>{t()?(i.unpause(),n||(n=!0,i.run_me())):i.pause()})).run_me();return i}(n,i,a):new k(n,a).run_me()}e.wait_for_updates_keys=x;var k=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._is_destroyed=!1,this._subs=[],this._is_paused=!1,this._is_ancestor_paused=!1,this._run_on_unpause=!1,this.fn=void 0,this.cleanup=void 0,this.run_once=void 0,this.id=void 0,this.run_immediately=!1,this._is_running=!1,this._do_another_run=void 0,this._recursive_runs=void 0,this.dont_track_scheduling=!1,this.fn=e,this.cleanup=t,this.run_once=n,this.id=(0,u.LUID)(),null!=r.default.CurrentAutoRun&&r.default.CurrentAutoRun.add_sub(this)}set_run_immediately(e){this.run_immediately=e}alive(){return!this._is_destroyed}invalidate(){if(!this._is_destroyed&&!this.run_once){if(C===this&&l.error("Watched autorun just got invalidated"),this._is_paused||this._is_ancestor_paused)return void(this._run_on_unpause=!0);if(this.run_immediately||_.on_server())if(this._is_running){if(this._do_another_run=!0,null!=this._recursive_runs&&this._recursive_runs>20)throw new s.UnexpectedError("recursive autorun run immediately loop")}else this.run_me();else L(this)}}run_me(){if(this._is_destroyed||this._is_paused||this._is_ancestor_paused)return this;this.destroy_subs();let e=r.default.CurrentAutoRun;r.default.CurrentAutoRun=this;let t=r.default.CurrentNotReadyCatcher;r.default.CurrentNotReadyCatcher=null,this._is_running=!0;try{this.fn()}catch(e){if(e instanceof s.NotReadyError&&null!=e.not_ready_key){let t=e.not_ready_key;!t.is_registered(this)&&!0!==e.suppress_dependency_error&&l.error("Unregistered key caught by autorun",{key:t.toString()})}else l.log((0,s.ensure_bubble_error)(e))}finally{this._is_running=!1,r.default.CurrentAutoRun=e,r.default.CurrentNotReadyCatcher=t}!0===this._do_another_run?(this._do_another_run=!1,null!=this._recursive_runs||(this._recursive_runs=0),this._recursive_runs++,this.run_me()):delete this._recursive_runs;return this}destroy_subs(){for(let e of this._subs)e.destroy();this._subs=[]}destroy(){var e;this._is_destroyed=!0,this.destroy_subs(),null==(e=this.cleanup)||e.call(this)}add_sub(e){this._subs.push(e)}stop_tracking(){this.dont_track_scheduling=!0}pause(){this._is_paused=!0,this._subs.forEach((function e(t){let r=t._is_paused||t._is_ancestor_paused;t._is_ancestor_paused=!0,r||t._subs.forEach(e)}))}unpause(){this._is_paused=!1,function e(t){t._is_paused||t._is_ancestor_paused||(t._run_on_unpause?(t._run_on_unpause=!1,t.invalidate()):t._subs.forEach((t=>{t._is_ancestor_paused=!1,e(t)})))}(this)}};function S(e){let t=r.default.CurrentAutoRun;r.default.CurrentAutoRun=null;let n=r.default.CurrentNotReadyCatcher;r.default.CurrentNotReadyCatcher=null;try{return e()}catch(e){throw e instanceof s.NotReadyError&&l.log((0,s.ensure_bubble_error)(e)),e}finally{r.default.CurrentAutoRun=t,r.default.CurrentNotReadyCatcher=n}}e.Autorun=k;var T=class{constructor(){this.wr=void 0,this.id=void 0,this.wr=!1,this.id=(0,u.LUID)()}add_sub(e){}stop_tracking(){}will_run(){return this.wr}invalidate(){this.wr=!0}destroy(){}},N=(0,n.MakeSwitch)(void 0,"autorun.scheduled_key");e.scheduled_key=N,N.turn_on();var C,L=function(){let e={},t=!1,r=0,n=!1,i=_.is_edit_mode()?0:100;function a(){let i=d.SPANS.autorun_scheduled;c.default.traceSpan(i.name,i.type,(()=>function(){t=!1,n=!0;let i=Object.values(e);e={};for(let e of i)e.run_me();n=!1,t||(setTimeout((()=>{t||N.turn_on()}),1),r=0)}()))}return function(o){e[o.id]=o,o.dont_track_scheduling||N.turn_off(),function(){if(!t)if(t=!0,r++,n)r<=i?queueMicrotask(a):(setTimeout(a,1),r=0);else{var e,o;null==(e=window)||null==(o=e.requestAnimationFrame)||o.call(e,a),setTimeout(a)}}()}}();e.schedule=L;var P=class{constructor(e){this.state=void 0,this.dependency=void 0,this.is_not_ready=void 0,this.not_ready_switch=void 0,this.state=e,this.dependency=(0,o.Dependency)(),this.is_not_ready=!1}not_ready(){this.is_not_ready=!0,null!=this.not_ready_switch||(this.not_ready_switch=(0,n.MakeSwitch)(void 0,"autorun.Box not_ready_switch")),this.not_ready_switch.turn_off()}val(e,t){if(!0===t)this.not_ready();else{if(void 0===e)return this.get();this.set(e)}}dangerously_peek(){return this.state}get(){return this.is_not_ready&&(0,n.ensure_ready)(this.not_ready_switch),this.dependency.register(),this.state}set(e){i.compare(this.state,e)||(this.state=e,this.dependency.invalidate()),this.is_not_ready&&(this.is_not_ready=!1,this.not_ready_switch.turn_on())}};e.BoxClass=P})),qa=u(((e,t)=>{"use strict";f(),Ue(),pr(),window&&"true"===new URLSearchParams(location.search).get("newautorun")?t.exports=ja():t.exports=Ba()})),Ua=u((e=>{"use strict";f(),Ue();var t=Lr(),r=e;r.with_fiber_notifier=function(e,r){let n=t.Fiber.current._u_with_fiber_notifier;t.Fiber.current._u_with_fiber_notifier=e;try{return r()}finally{t.Fiber.current._u_with_fiber_notifier=n}},r.no_fiber_notifier=function(e){return r.with_fiber_notifier((function(){}),e)},r.publish_fiber_notification=function(e){var r,n;null==(r=t.Fiber.current)||null==(n=r._u_with_fiber_notifier)||n.call(r,e)},r.notification_capturer=function(e){let t=[];return[r.with_fiber_notifier((e=>t.push(e)),e),function(){for(let e of t)r.publish_fiber_notification(e)}]},r.with_flush_caches=function(e){let r=t.Fiber.current._u_with_flush_caches;t.Fiber.current._u_with_flush_caches=!0;try{return e()}finally{t.Fiber.current._u_with_flush_caches=r}},r.flushing_caches=()=>t.Fiber.current._u_with_flush_caches})),Wa=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.autorun_cache=function(e){let _,u;"function"==typeof e?(_=e,u={}):(u=e,_=e.fn);let c={},d=(0,o.LUID)();return function(){for(var e=arguments.length,o=new Array(e),p=0;p<e;p++)o[p]=arguments[p];if(o.length>3)throw new r.UnexpectedError("autorun_cache only supports 3 args right now");let f=o.slice(0,3);(0,s.has_unique_string)(this)&&f.push(this);for(let e=0;e<f.length;e++){let t=f[e];if((0,s.has_unique_string)(t)&&(t=t.toUniqueString()),"string"==typeof t&&(t='"'+t),null!=t&&"object"==typeof t)throw new r.UnexpectedError("passed in object to autorun_cache",{the_object:(0,l.to_loggable)(t)});f[e]=t}let h=f.join(" ");if(i.on_server()){var g,m;let e=null==(g=n.Fiber)?void 0:g.current;if(null==e)return _.call(this,...o);let t=e.running_appname,r=e.running_app_version,i=`${d}${t}_${r}`;null!=e.__server_autorun_cache||(e.__server_autorun_cache={}),null!=(m=e.__server_autorun_cache)[i]||(m[i]=new LRU({max:1e3,length:()=>1}));let s,l=e.__server_autorun_cache[i];if(l.has(h))s=l.get(h);else{let[e,t]=a.default.notification_capturer((()=>_.call(this,...o)));s={res:e,rethrower:t},l.set(h,s)}return s.rethrower(),s.res}{let e=c[h];return"evaluating"===e?_.call(this,...o):(null==e&&(c[h]="evaluating",c[h]=e=(0,t.Watcher)({fn:()=>_.call(this,...o),compare:u.compare_fn})),e.get())}}},Ue();var t=qa(),r=it(),n=u(Lr()),i=u(ot()),a=function(e){return e&&e.__esModule?e:{default:e}}(Ua()),o=Zt(),s=Qt(),l=nt();function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}})),$a=u(((e,t)=>{"use strict";f(),Ue(),pr(),window&&"true"===new URLSearchParams(location.search).get("newautorun")?t.exports=Tr():t.exports=zr()})),Fa=u(((e,t)=>{f(),"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),Ga=u((e=>{"use strict";f(),e.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},e.toByteArray=function(e){var t,r,n=s(e),o=n[0],l=n[1],_=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,l)),u=0,c=l>0?o-4:o;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],_[u++]=t>>16&255,_[u++]=t>>8&255,_[u++]=255&t;return 2===l&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,_[u++]=255&t),1===l&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,_[u++]=t>>8&255,_[u++]=255&t),_},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(_(e,s,s+o>l?l:s+o));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")};var t,r,n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=o.length;t<r;++t)n[t]=o[t],i[o.charCodeAt(t)]=t;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function _(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(l(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63})),Xa=u((e=>{f(),e.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,_=l>>1,u=-7,c=r?i-1:0,d=r?-1:1,p=e[t+c];for(c+=d,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+e[t+c],c+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+c],c+=d,u-=8);if(0===a)a=1-_;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=_}return(p?-1:1)*o*Math.pow(2,a-n)},e.write=function(e,t,r,n,i,a){var o,s,l,_=8*a-i-1,u=(1<<_)-1,c=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,f=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=u?(s=0,o=u):o+c>=1?(s=(t*l-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(o=o<<i|s,_+=i;_>0;e[r+p]=255&o,p+=f,o/=256,_-=8);e[r+p-f]|=128*h}})),Ha=u(((e,t)=>{f();var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}})),Va=u((e=>{"use strict";f();var t=Ga(),r=Xa(),n=Ha();function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _(this,e)}return s(this,e,t,r)}function s(e,t,r,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=u(e,t),e}(e,t,r,i):"string"==typeof t?function(e,t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!o.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=a(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(o.isBuffer(t)){var r=0|c(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):u(e,t);if("Buffer"===t.type&&n(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function _(e,t){if(l(t),e=a(e,t<0?0:0|c(t)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function u(e,t){var r=t.length<0?0:0|c(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function c(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function h(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function _(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(_(e,a)===_(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var c=!0,d=0;d<l;d++)if(_(e,a+d)!==_(t,d)){c=!1;break}if(c)return a}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function y(e,t,r,n){return W(q(t,e.length-r),e,r,n)}function b(e,t,r,n){return W(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function A(e,t,r,n){return W(U(t),e,r,n)}function E(e,t,r,n){return W(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function M(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,_=e[i],u=null,c=_>239?4:_>223?3:_>191?2:1;if(i+c<=r)switch(c){case 1:_<128&&(u=_);break;case 2:128==(192&(a=e[i+1]))&&((l=(31&_)<<6|63&a)>127&&(u=l));break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&((l=(15&_)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l));break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&((l=(15&_)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l))}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=c}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch{return!1}}(),e.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,r){return s(null,e,t,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},o.allocUnsafe=function(e){return _(null,e)},o.allocUnsafeSlow=function(e){return _(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!n(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=o.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var s=e[r];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,a),a+=s.length}return i},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):p.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(e,t,r,n,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),l=Math.min(a,s),_=this.slice(n,i),u=e.slice(t,r),c=0;c<l;++c)if(_[c]!==u[c]){a=_[c],s=u[c];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=B(e[a]);return i}function N(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function z(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(e,t,n,i,a){return a||z(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function D(e,t,n,i,a){return a||z(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},o.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var s=o.isBuffer(e)?e:q(new o(e,n).toString()),l=s.length;for(a=0;a<r-t;++a)this[a+t]=s[a%l]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function U(e){return t.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}})),Ya=u(((e,t)=>{f();var r=Va(),n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),a.prototype=Object.create(n.prototype),i(n,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}})),Ka=u(((e,t)=>{f(),t.exports=fn().EventEmitter})),Ja=u((()=>{f()})),Za=u(((e,t)=>{"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}f();var a=Va().Buffer,o=Ja().inspect,s=o&&o.custom||"inspect";function l(e,t,r){a.prototype.copy.call(e,t,r)}t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,r){t&&i(e.prototype,t),r&&i(e,r)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),r=this.head,n=0;r;)l(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:s,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()})),Qa=u(((e,t)=>{"use strict";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}f(),t.exports={destroy:function(e,t){var a=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,queueMicrotask(i,this,e)):queueMicrotask(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?a._writableState?a._writableState.errorEmitted?queueMicrotask(n,a):(a._writableState.errorEmitted=!0,queueMicrotask(r,a,e)):queueMicrotask(r,a,e):t?(queueMicrotask(n,a),t(e)):queueMicrotask(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}})),eo=u(((e,t)=>{"use strict";f();var r={};function n(e,t,n){n||(n=Error);var i=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(r,e),r}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,a;if("string"==typeof t&&function(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var o=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(i(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r})),to=u(((e,t)=>{"use strict";f();var r=eo().codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(i?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}})),ro=u(((e,t)=>{function r(e){try{if(!window.localStorage)return!1}catch{return!1}var t=window.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}f(),t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}})),no=u(((e,t)=>{"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var n;f(),t.exports=M,M.WritableState=E;var i={deprecate:ro()},a=Ka(),o=Va().Buffer,s=window.Uint8Array||function(){};var l,_=Qa(),u=to().getHighWaterMark,c=eo().codes,d=c.ERR_INVALID_ARG_TYPE,p=c.ERR_METHOD_NOT_IMPLEMENTED,h=c.ERR_MULTIPLE_CALLBACK,g=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,v=c.ERR_STREAM_NULL_VALUES,y=c.ERR_STREAM_WRITE_AFTER_END,b=c.ERR_UNKNOWN_ENCODING,w=_.errorOrDestroy;function A(){}function E(e,t,i){n=n||io(),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new h;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(queueMicrotask(i,n),queueMicrotask(N,e,t),e._writableState.errorEmitted=!0,w(e,n)):(i(n),e._writableState.errorEmitted=!0,w(e,n),N(e,t))}(e,r,n,t,i);else{var a=S(r)||e.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&k(e,r),n?queueMicrotask(O,e,r,a,i):O(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function M(e){var t=this instanceof(n=n||io());if(!t&&!l.call(M,this))return new M(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function x(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function O(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),N(e,t)}function k(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,a=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)a[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;a.allBuffers=l,x(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var _=n.chunk,u=n.encoding,c=n.callback;if(x(e,t,!1,t.objectMode?1:_.length,_,u,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=S(t);if(r&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,queueMicrotask(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}Fa()(M,a),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:i.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===M&&(e&&e._writableState instanceof E)}})):l=function(e){return e instanceof this},M.prototype.pipe=function(){w(this,new g)},M.prototype.write=function(e,t,r){var n=this._writableState,i=!1,a=!n.objectMode&&function(e){return o.isBuffer(e)||e instanceof s}(e);return a&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=A),n.ending?function(e,t){var r=new y;w(e,r),queueMicrotask(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new v:"string"!=typeof r&&!t.objectMode&&(i=new d("chunk",["string","Buffer"],r)),!i||(w(e,i),queueMicrotask(n,i),!1)}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,a){if(!r){var s=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=o.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var l=t.objectMode?1:n.length;t.length+=l;var _=t.length<t.highWaterMark;if(_||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,l,n,i,a);return _}(this,n,a,e,t,r)),i},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&k(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,r){r(new p("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?queueMicrotask(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=_.destroy,M.prototype._undestroy=_.undestroy,M.prototype._destroy=function(e,t){t(e)}})),io=u(((e,t)=>{"use strict";f();var r=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=l;var n,i,a,o=_o(),s=no();for(Fa()(l,o),n=r(s.prototype),a=0;a<n.length;a++)i=n[a],l.prototype[i]||(l.prototype[i]=s.prototype[i]);function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",_)))}function _(){this._writableState.ended||queueMicrotask(u,this)}function u(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})})),ao=u((e=>{"use strict";f();var t=Ya().Buffer,r=t.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var n;switch(this.encoding=function(e){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof n&&(t.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return n||e}(e),this.encoding){case"utf16le":this.text=o,this.end=s,n=4;break;case"utf8":this.fillLast=a,n=4;break;case"base64":this.text=l,this.end=_,n=3;break;default:return this.write=u,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(n)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function _(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function c(e){return e&&e.length?this.write(e):""}e.StringDecoder=n,n.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},n.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var a=i(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r||-2===a?0:(a=i(t[n]))>=0?(a>0&&(e.lastNeed=a-2),a):--n<r||-2===a?0:(a=i(t[n]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}})),oo=u(((e,t)=>{"use strict";f();var r=eo().codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function e(t,i,a){if("function"==typeof i)return e(t,null,i);i||(i={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||n);var o=i.readable||!1!==i.readable&&t.readable,s=i.writable||!1!==i.writable&&t.writable,l=function(){t.writable||u()},_=t._writableState&&t._writableState.finished,u=function(){s=!1,_=!0,o||a.call(t)},c=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,c=!0,s||a.call(t)},p=function(e){a.call(t,e)},f=function(){var e;return o&&!c?((!t._readableState||!t._readableState.ended)&&(e=new r),a.call(t,e)):s&&!_?((!t._writableState||!t._writableState.ended)&&(e=new r),a.call(t,e)):void 0},h=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",f),t.req?h():t.on("request",h)):s&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",d),t.on("finish",u),!1!==i.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",h),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",p),t.removeListener("close",f)}}})),so=u(((e,t)=>{"use strict";var r;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}f();var i=oo(),a=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),_=Symbol("lastPromise"),u=Symbol("handlePromise"),c=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var r=e[c].read();null!==r&&(e[_]=null,e[a]=null,e[o]=null,t(d(r,!1)))}}function h(e){queueMicrotask(p,e)}var g=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((n(r={get stream(){return this[c]},next:function(){var e=this,t=this[s];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(d(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){queueMicrotask((function(){e[s]?r(e[s]):t(d(void 0,!0))}))}));var r,n=this[_];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(d(void 0,!0)):t[u](r,n)}),n)}}(n,this));else{var i=this[c].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[u])}return this[_]=r,r}},Symbol.asyncIterator,(function(){return this})),n(r,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),r),g);t.exports=function(e){var t,r=Object.create(m,(n(t={},c,{value:e,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,l,{value:e._readableState.endEmitted,writable:!0}),n(t,u,{value:function(e,t){var n=r[c].read();n?(r[_]=null,r[a]=null,r[o]=null,e(d(n,!1))):(r[a]=e,r[o]=t)},writable:!0}),t));return r[_]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[o];return null!==t&&(r[_]=null,r[a]=null,r[o]=null,t(e)),void(r[s]=e)}var n=r[a];null!==n&&(r[_]=null,r[a]=null,r[o]=null,n(d(void 0,!0))),r[l]=!0})),e.on("readable",h.bind(null,r)),r}})),lo=u(((e,t)=>{f(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),_o=u(((e,t)=>{"use strict";var r;f(),t.exports=M,M.ReadableState=E;fn().EventEmitter;var n=function(e,t){return e.listeners(t).length},i=Ka(),a=Va().Buffer,o=window.Uint8Array||function(){};var s,l=Ja();s=l&&l.debuglog?l.debuglog("stream"):function(){};var _,u,c,d=Za(),p=Qa(),h=to().getHighWaterMark,g=eo().codes,m=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Fa()(M,i);var w=p.errorOrDestroy,A=["error","close","destroy","pause","resume"];function E(e,t,n){r=r||io(),e=e||{},"boolean"!=typeof n&&(n=t instanceof r),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=h(this,e,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(_||(_=ao().StringDecoder),this.decoder=new _(e.encoding),this.encoding=e.encoding)}function M(e){if(r=r||io(),!(this instanceof M))return new M(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function x(e,t,r,n,i){s("readableAddChunk",t);var l,_=e._readableState;if(null===t)_.reading=!1,function(e,t){if(s("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}}(e,_);else if(i||(l=function(e,t){var r;return!function(e){return a.isBuffer(e)||e instanceof o}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new m("chunk",["string","Buffer","Uint8Array"],t)),r}(_,t)),l)w(e,l);else if(_.objectMode||t&&t.length>0)if("string"!=typeof t&&!_.objectMode&&Object.getPrototypeOf(t)!==a.prototype&&(t=function(e){return a.from(e)}(t)),n)_.endEmitted?w(e,new b):O(e,_,t,!0);else if(_.ended)w(e,new v);else{if(_.destroyed)return!1;_.reading=!1,_.decoder&&!r?(t=_.decoder.write(t),_.objectMode||0!==t.length?O(e,_,t,!1):C(e,_)):O(e,_,t,!1)}else n||(_.reading=!1,C(e,_));return!_.ended&&(_.length<_.highWaterMark||0===_.length)}function O(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),C(e,t)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),M.prototype.destroy=p.destroy,M.prototype._undestroy=p.undestroy,M.prototype._destroy=function(e,t){t(e)},M.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},M.prototype.unshift=function(e){return x(this,e,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(e){_||(_=ao().StringDecoder);var t=new _(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var k=1073741824;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;s("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,queueMicrotask(N,e))}function N(e){var t=e._readableState;s("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,I(e)}function C(e,t){t.readingMore||(t.readingMore=!0,queueMicrotask(L,e,t))}function L(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(s("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){s("readable nexttick read 0"),e.read(0)}function z(e,t){s("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(s("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function j(e){var t=e._readableState;s("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,queueMicrotask(B,t,e))}function B(e,t){if(s("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}M.prototype.read=function(e){s("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):T(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&j(this),null;var n,i=t.needReadable;return s("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",i=!0),t.ended||t.reading?s("reading or ended",i=!1):i&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&j(this)),null!==n&&this.emit("data",n),n},M.prototype._read=function(e){w(this,new y("_read()"))},M.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,s("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?l:h;function o(t,n){s("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,s("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",_),e.removeListener("error",d),e.removeListener("unpipe",o),r.removeListener("end",l),r.removeListener("end",h),r.removeListener("data",c),u=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&_())}function l(){s("onend"),e.end()}i.endEmitted?queueMicrotask(a):r.once("end",a),e.on("unpipe",o);var _=function(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,I(e))}}(r);e.on("drain",_);var u=!1;function c(t){s("ondata");var n=e.write(t);s("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==q(i.pipes,e))&&!u&&(s("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){s("onerror",t),h(),e.removeListener("error",d),0===n(e,"error")&&w(e,t)}function p(){e.removeListener("finish",f),h()}function f(){s("onfinish"),e.removeListener("close",p),h()}function h(){s("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",f),e.emit("pipe",r),i.flowing||(s("pipe resume"),r.resume()),e},M.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=q(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,s("on readable",n.length,n.reading),n.length?T(this):n.reading||queueMicrotask(R,this)),r},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);return"readable"===e&&queueMicrotask(P,this),r},M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&queueMicrotask(P,this),t},M.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,queueMicrotask(z,e,t))}(this,e)),e.paused=!1,this},M.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(s("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(s("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||!(r.objectMode||i&&i.length))||(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<A.length;a++)e.on(A[a],this.emit.bind(this,A[a]));return this._read=function(t){s("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=so()),u(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),M._fromList=D,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(M.from=function(e,t){return void 0===c&&(c=lo()),c(M,e,t)})})),uo=u(((e,t)=>{"use strict";f(),t.exports=_;var r=eo().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,s=io();function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function _(e){if(!(this instanceof _))return new _(e);s.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}Fa()(_,s),_.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},_.prototype._transform=function(e,t,r){r(new n("_transform()"))},_.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},_.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},_.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,(function(e){t(e)}))}})),co=u(((e,t)=>{"use strict";f(),t.exports=n;var r=uo();function n(e){if(!(this instanceof n))return new n(e);r.call(this,e)}Fa()(n,r),n.prototype._transform=function(e,t,r){r(null,e)}})),po=u(((e,t)=>{"use strict";var r;f();var n=eo().codes,i=n.ERR_MISSING_ARGS,a=n.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function s(e,t,n,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var o=!1;e.on("close",(function(){o=!0})),void 0===r&&(r=oo()),r(e,{readable:t,writable:n},(function(e){if(e)return i(e);o=!0,i()}));var s=!1;return function(t){if(!o&&!s){if(s=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();i(t||new a("pipe"))}}}function l(e){e()}function _(e,t){return e.pipe(t)}function u(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():o}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var a,o=t.map((function(e,r){var i=r<t.length-1;return s(e,i,r>0,(function(e){a||(a=e),e&&o.forEach(l),!i&&(o.forEach(l),n(a))}))}));return t.reduce(_)}})),fo=u(((e,t)=>{f(),(e=t.exports=_o()).Stream=e,e.Readable=e,e.Writable=no(),e.Duplex=io(),e.Transform=uo(),e.PassThrough=co(),e.finished=oo(),e.pipeline=po()})),ho=u(((e,t)=>{"use strict";f();var r=Ya().Buffer,n=fo().Transform;function i(e){n.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Fa()(i,n),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i})),go=u(((e,t)=>{"use strict";f();var r=Fa(),n=ho(),i=Ya().Buffer,a=new Array(16);function o(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function l(e,t,r,n,i,a,o){return s(e+(t&r|~t&n)+i+a|0,o)+t|0}function _(e,t,r,n,i,a,o){return s(e+(t&n|r&~n)+i+a|0,o)+t|0}function u(e,t,r,n,i,a,o){return s(e+(t^r^n)+i+a|0,o)+t|0}function c(e,t,r,n,i,a,o){return s(e+(r^(t|~n))+i+a|0,o)+t|0}r(o,n),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=l(r,n,i,o,e[0],3614090360,7),o=l(o,r,n,i,e[1],3905402710,12),i=l(i,o,r,n,e[2],606105819,17),n=l(n,i,o,r,e[3],3250441966,22),r=l(r,n,i,o,e[4],4118548399,7),o=l(o,r,n,i,e[5],1200080426,12),i=l(i,o,r,n,e[6],2821735955,17),n=l(n,i,o,r,e[7],4249261313,22),r=l(r,n,i,o,e[8],1770035416,7),o=l(o,r,n,i,e[9],2336552879,12),i=l(i,o,r,n,e[10],4294925233,17),n=l(n,i,o,r,e[11],2304563134,22),r=l(r,n,i,o,e[12],1804603682,7),o=l(o,r,n,i,e[13],4254626195,12),i=l(i,o,r,n,e[14],2792965006,17),r=_(r,n=l(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=_(o,r,n,i,e[6],3225465664,9),i=_(i,o,r,n,e[11],643717713,14),n=_(n,i,o,r,e[0],3921069994,20),r=_(r,n,i,o,e[5],3593408605,5),o=_(o,r,n,i,e[10],38016083,9),i=_(i,o,r,n,e[15],3634488961,14),n=_(n,i,o,r,e[4],3889429448,20),r=_(r,n,i,o,e[9],568446438,5),o=_(o,r,n,i,e[14],3275163606,9),i=_(i,o,r,n,e[3],4107603335,14),n=_(n,i,o,r,e[8],1163531501,20),r=_(r,n,i,o,e[13],2850285829,5),o=_(o,r,n,i,e[2],4243563512,9),i=_(i,o,r,n,e[7],1735328473,14),r=u(r,n=_(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=u(o,r,n,i,e[8],2272392833,11),i=u(i,o,r,n,e[11],1839030562,16),n=u(n,i,o,r,e[14],4259657740,23),r=u(r,n,i,o,e[1],2763975236,4),o=u(o,r,n,i,e[4],1272893353,11),i=u(i,o,r,n,e[7],4139469664,16),n=u(n,i,o,r,e[10],3200236656,23),r=u(r,n,i,o,e[13],681279174,4),o=u(o,r,n,i,e[0],3936430074,11),i=u(i,o,r,n,e[3],3572445317,16),n=u(n,i,o,r,e[6],76029189,23),r=u(r,n,i,o,e[9],3654602809,4),o=u(o,r,n,i,e[12],3873151461,11),i=u(i,o,r,n,e[15],530742520,16),r=c(r,n=u(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=c(o,r,n,i,e[7],1126891415,10),i=c(i,o,r,n,e[14],2878612391,15),n=c(n,i,o,r,e[5],4237533241,21),r=c(r,n,i,o,e[12],1700485571,6),o=c(o,r,n,i,e[3],2399980690,10),i=c(i,o,r,n,e[10],4293915773,15),n=c(n,i,o,r,e[1],2240044497,21),r=c(r,n,i,o,e[8],1873313359,6),o=c(o,r,n,i,e[15],4264355552,10),i=c(i,o,r,n,e[6],2734768916,15),n=c(n,i,o,r,e[13],1309151649,21),r=c(r,n,i,o,e[4],4149444226,6),o=c(o,r,n,i,e[11],3174756917,10),i=c(i,o,r,n,e[2],718787259,15),n=c(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=o})),mo=u(((e,t)=>{"use strict";f();var r=Va().Buffer,n=Fa(),i=ho(),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],c=[1352829926,1548603684,1836072691,2053994217,0];function d(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function h(e,t,r,n,i,a,o,s){return p(e+(t^r^n)+a+o|0,s)+i|0}function g(e,t,r,n,i,a,o,s){return p(e+(t&r|~t&n)+a+o|0,s)+i|0}function m(e,t,r,n,i,a,o,s){return p(e+((t|~r)^n)+a+o|0,s)+i|0}function v(e,t,r,n,i,a,o,s){return p(e+(t&n|r&~n)+a+o|0,s)+i|0}function y(e,t,r,n,i,a,o,s){return p(e+(t^(r|~n))+a+o|0,s)+i|0}n(d,i),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,d=0|this._d,f=0|this._e,b=0|this._a,w=0|this._b,A=0|this._c,E=0|this._d,M=0|this._e,x=0;x<80;x+=1){var O,k;x<16?(O=h(r,n,i,d,f,e[o[x]],u[0],l[x]),k=y(b,w,A,E,M,e[s[x]],c[0],_[x])):x<32?(O=g(r,n,i,d,f,e[o[x]],u[1],l[x]),k=v(b,w,A,E,M,e[s[x]],c[1],_[x])):x<48?(O=m(r,n,i,d,f,e[o[x]],u[2],l[x]),k=m(b,w,A,E,M,e[s[x]],c[2],_[x])):x<64?(O=v(r,n,i,d,f,e[o[x]],u[3],l[x]),k=g(b,w,A,E,M,e[s[x]],c[3],_[x])):(O=y(r,n,i,d,f,e[o[x]],u[4],l[x]),k=h(b,w,A,E,M,e[s[x]],c[4],_[x])),r=f,f=d,d=p(i,10),i=n,n=O,b=M,M=E,E=p(A,10),A=w,w=k}var S=this._b+i+E|0;this._b=this._c+d+M|0,this._c=this._d+f+b|0,this._d=this._e+r+w|0,this._e=this._a+n+A|0,this._a=S},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=d})),vo=u(((e,t)=>{f();var r=Ya().Buffer;function n(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var l=o%i,_=Math.min(a-s,i-l),u=0;u<_;u++)n[l+u]=e[s+u];s+=_,(o+=_)%i==0&&this._update(n)}return this._len+=a,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n})),yo=u(((e,t)=>{f();var r=Fa(),n=vo(),i=Ya().Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function s(){this.init(),this._w=o,n.call(this,64,56)}function l(e){return e<<5|e>>>27}function _(e){return e<<30|e>>>2}function u(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}r(s,n),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var d=0;d<80;++d){var p=~~(d/20),f=l(r)+u(p,n,i,o)+s+t[d]+a[p]|0;s=o,o=i,i=_(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},s.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=s})),bo=u(((e,t)=>{f();var r=Fa(),n=vo(),i=Ya().Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function s(){this.init(),this._w=o,n.call(this,64,56)}function l(e){return e<<1|e>>>31}function _(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function c(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}r(s,n),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=l(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var p=0;p<80;++p){var f=~~(p/20),h=_(r)+c(f,n,i,o)+s+t[p]+a[f]|0;s=o,o=i,i=u(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},s.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=s})),wo=u(((e,t)=>{f();var r=Fa(),n=vo(),i=Ya().Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function s(){this.init(),this._w=o,n.call(this,64,56)}function l(e,t,r){return r^e&(t^r)}function _(e,t,r){return e&t|r&(e|t)}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function c(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}r(s,n),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,f=0|this._f,h=0|this._g,g=0|this._h,m=0;m<16;++m)t[m]=e.readInt32BE(4*m);for(;m<64;++m)t[m]=p(t[m-2])+t[m-7]+d(t[m-15])+t[m-16]|0;for(var v=0;v<64;++v){var y=g+c(s)+l(s,f,h)+a[v]+t[v]|0,b=u(r)+_(r,n,i)|0;g=h,h=f,f=s,s=o+y|0,o=i,i=n,n=r,r=y+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=h+this._g|0,this._h=g+this._h|0},s.prototype._hash=function(){var e=i.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=s})),Ao=u(((e,t)=>{f();var r=Fa(),n=wo(),i=vo(),a=Ya().Buffer,o=new Array(64);function s(){this.init(),this._w=o,i.call(this,64,56)}r(s,n),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=s})),Eo=u(((e,t)=>{f();var r=Fa(),n=vo(),i=Ya().Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function s(){this.init(),this._w=o,n.call(this,128,112)}function l(e,t,r){return r^e&(t^r)}function _(e,t,r){return e&t|r&(e|t)}function u(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function c(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function h(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}r(s,n),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,f=0|this._fh,v=0|this._gh,y=0|this._hh,b=0|this._al,w=0|this._bl,A=0|this._cl,E=0|this._dl,M=0|this._el,x=0|this._fl,O=0|this._gl,k=0|this._hl,S=0;S<32;S+=2)t[S]=e.readInt32BE(4*S),t[S+1]=e.readInt32BE(4*S+4);for(;S<160;S+=2){var T=t[S-30],N=t[S-30+1],C=d(T,N),L=p(N,T),P=h(T=t[S-4],N=t[S-4+1]),R=g(N,T),z=t[S-14],I=t[S-14+1],D=t[S-32],j=t[S-32+1],B=L+I|0,q=C+z+m(B,L)|0;q=(q=q+P+m(B=B+R|0,R)|0)+D+m(B=B+j|0,j)|0,t[S]=q,t[S+1]=B}for(var U=0;U<160;U+=2){q=t[U],B=t[U+1];var W=_(r,n,i),$=_(b,w,A),F=u(r,b),G=u(b,r),X=c(s,M),H=c(M,s),V=a[U],Y=a[U+1],K=l(s,f,v),J=l(M,x,O),Z=k+H|0,Q=y+X+m(Z,k)|0;Q=(Q=(Q=Q+K+m(Z=Z+J|0,J)|0)+V+m(Z=Z+Y|0,Y)|0)+q+m(Z=Z+B|0,B)|0;var ee=G+$|0,te=F+W+m(ee,G)|0;y=v,k=O,v=f,O=x,f=s,x=M,s=o+Q+m(M=E+Z|0,E)|0,o=i,E=A,i=n,A=w,n=r,w=b,r=Q+te+m(b=Z+ee|0,Z)|0}this._al=this._al+b|0,this._bl=this._bl+w|0,this._cl=this._cl+A|0,this._dl=this._dl+E|0,this._el=this._el+M|0,this._fl=this._fl+x|0,this._gl=this._gl+O|0,this._hl=this._hl+k|0,this._ah=this._ah+r+m(this._al,b)|0,this._bh=this._bh+n+m(this._bl,w)|0,this._ch=this._ch+i+m(this._cl,A)|0,this._dh=this._dh+o+m(this._dl,E)|0,this._eh=this._eh+s+m(this._el,M)|0,this._fh=this._fh+f+m(this._fl,x)|0,this._gh=this._gh+v+m(this._gl,O)|0,this._hh=this._hh+y+m(this._hl,k)|0},s.prototype._hash=function(){var e=i.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=s})),Mo=u(((e,t)=>{f();var r=Fa(),n=Eo(),i=vo(),a=Ya().Buffer,o=new Array(160);function s(){this.init(),this._w=o,i.call(this,128,112)}r(s,n),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=s})),xo=u(((e,t)=>{f(),(e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r}).sha=yo(),e.sha1=bo(),e.sha224=Ao(),e.sha256=wo(),e.sha384=Mo(),e.sha512=Eo()})),Oo=u(((e,t)=>{f(),t.exports=n;var r=fn().EventEmitter;function n(){r.call(this)}Fa()(n,r),n.Readable=_o(),n.Writable=no(),n.Duplex=io(),n.Transform=uo(),n.PassThrough=co(),n.finished=oo(),n.pipeline=po(),n.Stream=n,n.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),!e._isStdio&&(!t||!1!==t.end)&&(n.on("end",s),n.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function _(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",_),e.removeListener("error",_),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",_),e.on("error",_),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}})),ko=u(((e,t)=>{f();var r=Ya().Buffer,n=Oo().Transform,i=ao().StringDecoder;function a(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Fa()(a,n),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new i(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=a})),So=u(((e,t)=>{"use strict";f();var r=Fa(),n=go(),i=mo(),a=xo(),o=ko();function s(e){o.call(this,"digest"),this._hash=e}r(s,o),s.prototype._update=function(e){this._hash.update(e)},s.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new i:new s(a(e))}})),To=u((e=>{"use strict";f(),Ue(),Ft();var t=So(),r=Lr(),n=ot(),i=e;i.digest=function(e,r){null!=r||(r="utf8");let n=t("md5");return n.update(e,r),n.digest("hex")},i.incremental_digest=function(e){let i=t("md5"),a=0,o=new Set;return function e(t){if(a+=1,a%100==0&&r.optional_pause("add incremental digest"),!o.has(t)){if(null!=t&&"object"==typeof t){if(o.add(t),n.on_server()&&Buffer.isBuffer(t))return void i.update(t);i.update("os|","utf8"),t instanceof Date&&i.update("d|"+String(t));for(let r in t){let n=t[r];i.update(r+"|","utf8"),e(n)}return void i.update("|oe","utf8")}"string"==typeof t?i.update("s|"+t.replace(/\|/g,"||")):i.update("r|"+String(t))}}(e),i.digest("hex")}})),No=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.all_page_errors=void 0;e.all_page_errors=[]})),Co=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0});var t={require:!0,server_errors:!0,base64:!0,base64decode:!0,ClientError:!0,NotFound:!0,Redirect:!0,errors:!0};e.server_errors=e.require=e.errors=e.base64decode=e.base64=e.Redirect=e.NotFound=e.ClientError=void 0;var r=I(ot());Object.keys(r).forEach((function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[n]}})}));var n=I(it());e.errors=n,Object.keys(n).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===n[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[r]}})}));var i=I(dt());Object.keys(i).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===i[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[r]}})}));var a=Qt();Object.keys(a).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===a[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return a[r]}})}));var o=tr();Object.keys(o).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===o[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return o[r]}})}));var s=$r();Object.keys(s).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===s[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return s[r]}})}));var _=Gr();Object.keys(_).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===_[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return _[r]}})}));var u=Xr();Object.keys(u).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===u[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return u[r]}})}));var c=Sr();Object.keys(c).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===c[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return c[r]}})}));var d=pn();Object.keys(d).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===d[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return d[r]}})}));var p=hn();Object.keys(p).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===p[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return p[r]}})}));var h=gn();Object.keys(h).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===h[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return h[r]}})}));var g=mn();Object.keys(g).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===g[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return g[r]}})}));var m=Zt();Object.keys(m).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===m[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return m[r]}})}));var v=vn();Object.keys(v).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===v[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return v[r]}})}));var y=Dr();Object.keys(y).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===y[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return y[r]}})}));var b=qa();Object.keys(b).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===b[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return b[r]}})}));var w=Wa();Object.keys(w).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===w[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return w[r]}})}));var A=$a();Object.keys(A).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===A[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return A[r]}})}));var E=za();Object.keys(E).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===E[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return E[r]}})}));var M=To();Object.keys(M).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===M[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return M[r]}})}));var x=Fr();Object.keys(x).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===x[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return x[r]}})}));var O=Ua();Object.keys(O).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===O[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return O[r]}})}));var k,S,T,N,C,L,P,R=No();function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(z=function(e){return e?r:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=z(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}Object.keys(R).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===R[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return R[r]}})}));var D,j,B=l;e.require=B,e.server_errors=j,(r.on_server()||r.running_test())&&(D=B("./shared/buffer"),e.server_errors=j=B("./server/server_errors"));var q=null!=(k=null==(S=D)?void 0:S.base64)?k:i.base64;e.base64=q;var U=null!=(T=null==(N=D)?void 0:N.base64decode)?T:i.base64decode;e.base64decode=U;var W=null==(C=j)?void 0:C.ClientError;e.ClientError=W;var $=null==(L=j)?void 0:L.NotFound;e.NotFound=$;var F=null==(P=j)?void 0:P.Redirect;e.Redirect=F})),Lo=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0});var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(Co());function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.keys(t).forEach((function(r){"default"===r||"__esModule"===r||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})),typeof window<"u"&&(window.u=t)})),Po=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Nt(),i=qr();n.safe_register("./lang/appquery",o);var a=e;function o(e,t){return i().app(e,t)}t.exports=o,o.app=o,o.add_methods=function(e){for(let t of r.all_keys(e.prototype))o[t]=a[t]=function(){let e=i().app();var n;if(!e[t])throw new r.UnexpectedError("Current Lib().app() is missing function",{k:t,cur_app:String(e),cur_app_keys:String(r.all_keys(e)),cur_app_constructor:null==e||null==(n=e.constructor)?void 0:n.name,app_fn:String(i().app)});return e[t](...arguments)}},typeof window<"u"&&null!==window&&(window.appquery=o)})),Ro=u((e=>{"use strict";f(),Ue();var t,r=Po(),n=Vt(),i=qr(),a=Kt(),o=Lo(),s=e;s.add_bubble_marketing=function(e){setTimeout((()=>{setTimeout((()=>{(!r.app_plan().no_branding||!r.get_public_setting("remove_bubble_console")||r.app_plan().force_branding_live)&&(o.console_with_styling("This web application is entirely built without code on Bubble"),console.log("Visit https://bubble.io to build your own apps"))}),3e3),setTimeout((()=>{$.migrateWarnings.filter((e=>!e.includes("deprecated"))).forEach((e=>{a.info("JQMIGRATE WARNING "+e)}))}),1e4),o.is_debug_mode()||setTimeout((()=>function(e){if((!r.app_plan().no_branding&&!n.is_dedicated||"live"===r.app_version()&&r.app_plan().force_branding_live)&&("meta"!==r.appname()||!["invoice","payout_receipt","poststripeauth"].includes(e))){let e="https://meta.cdn.bubble.io/f1585607370503x914556455591480200/banner-icon.svg",n=$('<div style="width: 128px !important; position: fixed !important; bottom: 10px !important; right: 10px !important; height: 29px !important; z-index: 100000000000 !important; box-shadow: 0px 0px 20px 0 #00000069 !important; background: #0205D3 !important; border-radius: 3px !important;"></div>'),s=$('<div style="position: absolute;" class="notranslate" translate="no"></div>'),l=$(`<a target="${"meta"===r.appname()?"_self":"_blank"}" style="width: 100%; height: 100%; position: absolute;"></a>`),_=$('<div style=""></div>');_.append($(`<img alt="Bubble" src="${e}" style="width: 15px !important; margin-top: 7px !important; margin-left: 6px !important; float: left;"></img>`));let u=$('<div style="color: white; font-size: 12px; font-family: Arial, sans-serif; margin-top: 9px; float: left; margin-left: 8px; width: 95px; font-weight: bold;"></div>');_.append(u),n.append(s.append(_)),n.append(l);let c="https://bubble.io?utm_source=app_mention&utm_content="+r.appname();l.attr("href",c),window.self!==window.top?$(window.frameElement).parent().append(n):$("body").append(n);let d="Built on Bubble";u.html(d);let p=n.html();if(!["meta","pioneer","bubblepodcasts"].includes(r.appname())&&window.self===window.top){var o;let e=(null!=(o=function(e){let t=document.createElement("iframe");document.body.appendChild(t);let r=t.contentWindow[e];return document.body.removeChild(t),r}("setInterval"))?o:window.setInterval).call(window,(()=>function(e,t){let r,n={tampered_banner:e.html()!==t,banner_not_visible:!e.is(":visible"),moved_div:e.parent()[0]!==$("body")[0],not_in_document:!$.contains(document,e[0])};n.tampered_banner&&(r={original_html:t,tampered_html:e.html()});for(let[e,t]of Object.entries(n))if(t)return a.info("User bypassed free branding",{broken_rule:e,details:r}),alert("This app is a free plan and should have a Bubble banner. Please upgrade to remove this banner. Removing or altering the banner in any way is against Bubble terms and can lead to your account termination."),void(document.location=i().location.get_base_for_meta())}(n,p)),2e3);t=()=>{""===document.body.innerHTML&&clearInterval(e)}}}}(e)),100)}),200)},s.hide_banner=function(){var e;null==(e=t)||e()}})),zo=u(((e,t)=>{"use strict";f(),Ze();var r=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};t.exports=function(e){let t={addNode:a,removeNode:function(e){return Object.keys(n).forEach((function(t){n[t].forEach((function(r){r===e&&d(t,r)}))})),delete n[e],t},nodes:o,adjacent:s,addEdge:c,removeEdge:d,hasEdge:function(e,t){return s(e).includes(t)},setEdgeWeight:_,getEdgeWeight:u,indegree:function(e){let t=0;function r(r){r===e&&t++}return Object.keys(n).forEach((function(e){n[e].forEach(r)})),t},outdegree:function(e){return e in n?n[e].length:0},depthFirstSearch:p,hasCycle:function(){try{return p(void 0,!0,!0),!1}catch(e){if(e instanceof r)return!0;throw e}},lowestCommonAncestors:function(e,t){let r=[],n=[];return function e(i,a){return!!i[a]||(i[a]=!0,r.push(a),a===t?(n.push(a),!1):s(a).every((t=>e(i,t))))}({},e)&&function e(t,i){t[i]||(t[i]=!0,r.indexOf(i)>=0?n.push(i):0===n.length&&s(i).forEach((r=>{e(t,r)})))}({},t),n},topologicalSort:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p(e,t,!0).reverse()},shortestPath:function(e,t){let r={},n={},i={};function a(){let e,t=1/0;return Object.keys(i).forEach((function(n){r[n]<t&&(t=r[n],e=n)})),void 0===e?(i={},null):(delete i[e],e)}function l(e,t){let i=u(e,t);r[t]>r[e]+i&&(r[t]=r[e]+i,n[t]=e)}return function(){for(function(){if(o().forEach((function(e){r[e]=1/0})),r[e]!==1/0)throw new Error("Source node is not in the graph");if(r[t]!==1/0)throw new Error("Destination node is not in the graph");r[e]=0}(),o().forEach((function(e){i[e]=!0}));0!==Object.keys(i).length;){let e=a();if(null===e)return;s(e).forEach((function(t){l(e,t)}))}}(),function(){let r=[],i=0,a=t;for(;n[a];)r.push(a),i+=u(n[a],a),a=n[a];if(a!==e)throw new Error("No path found");return r.push(a),r.reverse(),r.weight=i,r}()},serializeForVisualization:function(e){let t={nodes:o().map((function(t){let r=e.get(t);return{id:t,display:r?r.display():t,labels:r?r.labels:{},containingPropertyNodeId:r?r.containingPropertyNodeId:null}})),links:[]},r=e=>{for(let r=0;r<t.nodes.length;r++)if(t.nodes[r].id===e)return r;return null};return t.nodes.forEach((function(e){let n=e.id;s(n).forEach((function(e){let i=r(n),a=r(e);null===i||null===a||t.links.push({source:i,target:a,weight:u(n,e)})}))})),t},serialize:function(){let e={nodes:o().map((function(e){return{id:e}})),links:[]};return e.nodes.forEach((function(t){let r=t.id;s(r).forEach((function(t){e.links.push({source:r,target:t,weight:u(r,t)})}))})),e},deserialize:f},n={},i={};function a(e){return n[e]=s(e),t}function o(){let e={};return Object.keys(n).forEach((function(t){e[t]=!0,n[t].forEach((function(t){e[t]=!0}))})),Object.keys(e)}function s(e){return n[e]||[]}function l(e,t){return e+"|"+t}function _(e,r,n){return i[l(e,r)]=n,t}function u(e,t){let r=i[l(e,t)];return void 0===r?1:r}function c(e,r,n){return a(e),a(r),s(e).push(r),void 0!==n&&_(e,r,n),t}function d(e,r){return n[e]&&(n[e]=s(e).filter((function(e){return e!==r}))),t}function p(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=o()),"boolean"!=typeof t&&(t=!0);let i={},a={},l=[];function _(e){if(a[e]&&n)throw new r("Cycle found");i[e]||(i[e]=!0,a[e]=!0,s(e).forEach(_),a[e]=!1,l.push(e))}return t?e.forEach(_):(e.forEach((function(e){i[e]=!0})),e.forEach((function(e){s(e).forEach(_)}))),l}function f(e){return e.nodes.forEach((function(e){a(e.id)})),e.links.forEach((function(e){c(e.source,e.target,e.weight)})),t}return e&&f(e),t}})),Io=u(((e,t)=>{"use strict";f();t.exports={Expression:"Expression",Property:"Property"}})),Do=u(((e,t)=>{"use strict";f(),Ue();var r=zo(),n=Po(),i=Br(),a=Io(),o=it(),s=e=>e.json.toUniqueString(),l=(e,t)=>`${e}.${t}`,_={get_group_data:!0,get_list_data:!0},u=e=>{var t,r;let n=null==(t=e.owner)||null==(r=t.parent())?void 0:r.id();return n?[l(n,"data_source")]:[]},c=e=>{let t=e.owner.property("data_source");return[s(t)]},d=e=>e.has_args()?[s(e.args())]:[];t.exports=class{constructor(e){i.traceSpan("construct_ddg",{},(()=>{let t=n.get_page_by_name(e);this.graph=new r,this.nodes=new Map,this.startedConstruction=Date.now(),this.generateDependencyGraph(t)}))}getEvaluationOrder(){return this.graph.topologicalSort().reverse()}getDependencies(e){return this.graph.adjacent(e)}getNode(e){return this.nodes.get(e)}getNodeIds(){return this.graph.nodes()}setLabel(e,t,r){let n=this.getNode(e);n&&(n.labels[t]=r)}getLabel(e,t){var r;let n=this.getNode(e);return n?null==(r=n.labels)?void 0:r[t]:null}addPropertyNode(e){let t=(e=>l(e.owner.id(),e.node_name()))(e),r={id:t,topLevelExpressionId:s(e),display:()=>(e=>`${e.owner.type()}: ${e.node_name()}`)(e)||t,expression:e,labels:{},type:a.Property};return this.graph.addNode(t),this.nodes.set(t,r),t}addExpressionNode(e,t){let r=s(e),n={id:r,display:()=>(e=>{var t;return`${e.type()}: ${null==(t=e.display)?void 0:t.call(e)}`})(e)||r,expression:e,labels:{},type:a.Expression,containingPropertyNodeId:t};return this.graph.addNode(r),this.nodes.set(r,n),r}addDependency(e,t){this.graph.addEdge(e,t)}addDependencies(e,t){t.forEach((t=>this.addDependency(e,t)))}analyzeElement(e){if(Date.now()-this.startedConstruction>100)throw new o.ExpectedError("DDG construction timed out");for(let t of e.properties())this.analyzeProperty(t);for(let t of e.elements())this.analyzeElement(t)}analyzeMessageNode(e,t,r){let n=this.analyzeExpression(e);this.addDependency(n,t),e.has_args()&&this.analyzeExpression(e.args(),r),(e=>e.name()in _)(e)&&this.addDependency(n,(e=>{let t=e.prior().get_static_property("element_id");return l(t,"data_source")})(e))}analyzeProperty(e){let t=this.addPropertyNode(e),r=this.analyzeExpression(e,t);return this.addDependency(t,r),t}analyzeExpression(e,t){let r=this.addExpressionNode(e,t),n=(e=>{let t=[];switch(e.type()){case"ElementParent":t=u(e);break;case"InjectedValue":t=c(e);break;case"Message":t=d(e)}for(let r of e.properties())t.push(s(r));return t})(e);this.addDependencies(r,n),e.has_next()&&!e.next().is_empty()&&this.analyzeMessageNode(e.next(),r,t);for(let r of e.properties())this.analyzeExpression(r,t);return r}generateDependencyGraph(e){for(let t of e.elements())this.analyzeElement(t)}printDependencyGraph(){let e=this.graph.serializeForVisualization(this.nodes);console.log("Paste the following into the visualization tool here: https://data-dag-viz.bubbleapps.io/display-graph"),console.log(JSON.stringify(e))}}})),jo=u(((e,t)=>{f(),t.exports=function(){this.__data__=[],this.size=0}})),Bo=u(((e,t)=>{f(),t.exports=function(e,t){return e===t||e!=e&&t!=t}})),qo=u(((e,t)=>{f();var r=Bo();t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}})),Uo=u(((e,t)=>{f();var r=qo(),n=Array.prototype.splice;t.exports=function(e){var t=this.__data__,i=r(t,e);return!(i<0)&&(i==t.length-1?t.pop():n.call(t,i,1),--this.size,!0)}})),Wo=u(((e,t)=>{f();var r=qo();t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}})),$o=u(((e,t)=>{f();var r=qo();t.exports=function(e){return r(this.__data__,e)>-1}})),Fo=u(((e,t)=>{f();var r=qo();t.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}})),Go=u(((e,t)=>{f();var r=jo(),n=Uo(),i=Wo(),a=$o(),o=Fo();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=r,s.prototype.delete=n,s.prototype.get=i,s.prototype.has=a,s.prototype.set=o,t.exports=s})),Xo=u(((e,t)=>{f();var r=Go();t.exports=function(){this.__data__=new r,this.size=0}})),Ho=u(((e,t)=>{f(),t.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}})),Vo=u(((e,t)=>{f(),t.exports=function(e){return this.__data__.get(e)}})),Yo=u(((e,t)=>{f(),t.exports=function(e){return this.__data__.has(e)}})),Ko=u(((e,t)=>{f(),t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}})),Jo=u(((e,t)=>{f();var r=an(),n=Ko();t.exports=function(e){if(!n(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}})),Zo=u(((e,t)=>{f();var r=Zr()["__core-js_shared__"];t.exports=r})),Qo=u(((e,t)=>{f();var r=Zo(),n=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=function(e){return!!n&&n in e}})),es=u(((e,t)=>{f();var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch{}try{return e+""}catch{}}return""}})),ts=u(((e,t)=>{f();var r=Jo(),n=Qo(),i=Ko(),a=es(),o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,_=s.toString,u=l.hasOwnProperty,c=RegExp("^"+_.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!i(e)||n(e))&&(r(e)?c:o).test(a(e))}})),rs=u(((e,t)=>{f(),t.exports=function(e,t){return null==e?void 0:e[t]}})),ns=u(((e,t)=>{f();var r=ts(),n=rs();t.exports=function(e,t){var i=n(e,t);return r(i)?i:void 0}})),is=u(((e,t)=>{f();var r=ns()(Zr(),"Map");t.exports=r})),as=u(((e,t)=>{f();var r=ns()(Object,"create");t.exports=r})),os=u(((e,t)=>{f();var r=as();t.exports=function(){this.__data__=r?r(null):{},this.size=0}})),ss=u(((e,t)=>{f(),t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}})),ls=u(((e,t)=>{f();var r=as(),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return n.call(t,e)?t[e]:void 0}})),_s=u(((e,t)=>{f();var r=as(),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}})),us=u(((e,t)=>{f();var r=as();t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}})),cs=u(((e,t)=>{f();var r=os(),n=ss(),i=ls(),a=_s(),o=us();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=r,s.prototype.delete=n,s.prototype.get=i,s.prototype.has=a,s.prototype.set=o,t.exports=s})),ds=u(((e,t)=>{f();var r=cs(),n=Go(),i=is();t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||n),string:new r}}})),ps=u(((e,t)=>{f(),t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}})),fs=u(((e,t)=>{f();var r=ps();t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}})),hs=u(((e,t)=>{f();var r=fs();t.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}})),gs=u(((e,t)=>{f();var r=fs();t.exports=function(e){return r(this,e).get(e)}})),ms=u(((e,t)=>{f();var r=fs();t.exports=function(e){return r(this,e).has(e)}})),vs=u(((e,t)=>{f();var r=fs();t.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}})),ys=u(((e,t)=>{f();var r=ds(),n=hs(),i=gs(),a=ms(),o=vs();function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=r,s.prototype.delete=n,s.prototype.get=i,s.prototype.has=a,s.prototype.set=o,t.exports=s})),bs=u(((e,t)=>{f();var r=Go(),n=is(),i=ys();t.exports=function(e,t){var a=this.__data__;if(a instanceof r){var o=a.__data__;if(!n||o.length<199)return o.push([e,t]),this.size=++a.size,this;a=this.__data__=new i(o)}return a.set(e,t),this.size=a.size,this}})),ws=u(((e,t)=>{f();var r=Go(),n=Xo(),i=Ho(),a=Vo(),o=Yo(),s=bs();function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l})),As=u(((e,t)=>{f();t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}})),Es=u(((e,t)=>{f(),t.exports=function(e){return this.__data__.has(e)}})),Ms=u(((e,t)=>{f();var r=ys(),n=As(),i=Es();function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=n,a.prototype.has=i,t.exports=a})),xs=u(((e,t)=>{f(),t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}})),Os=u(((e,t)=>{f(),t.exports=function(e,t){return e.has(t)}})),ks=u(((e,t)=>{f();var r=Ms(),n=xs(),i=Os();t.exports=function(e,t,a,o,s,l){var _=1&a,u=e.length,c=t.length;if(u!=c&&!(_&&c>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,h=!0,g=2&a?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var m=e[f],v=t[f];if(o)var y=_?o(v,m,f,t,e,l):o(m,v,f,e,t,l);if(void 0!==y){if(y)continue;h=!1;break}if(g){if(!n(t,(function(e,t){if(!i(g,t)&&(m===e||s(m,e,a,o,l)))return g.push(t)}))){h=!1;break}}else if(m!==v&&!s(m,v,a,o,l)){h=!1;break}}return l.delete(e),l.delete(t),h}})),Ss=u(((e,t)=>{f();var r=Zr().Uint8Array;t.exports=r})),Ts=u(((e,t)=>{f(),t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}})),Ns=u(((e,t)=>{f(),t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}})),Cs=u(((e,t)=>{f();var r=Qr(),n=Ss(),i=Bo(),a=ks(),o=Ts(),s=Ns(),l=r?r.prototype:void 0,_=l?l.valueOf:void 0;t.exports=function(e,t,r,l,u,c,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!c(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=o;case"[object Set]":var f=1&l;if(p||(p=s),e.size!=t.size&&!f)return!1;var h=d.get(e);if(h)return h==t;l|=2,d.set(e,t);var g=a(p(e),p(t),l,u,c,d);return d.delete(e),g;case"[object Symbol]":if(_)return _.call(e)==_.call(t)}return!1}})),Ls=u(((e,t)=>{f(),t.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}})),Ps=u(((e,t)=>{f();var r=Ls(),n=tn();t.exports=function(e,t,i){var a=t(e);return n(e)?a:r(a,i(e))}})),Rs=u(((e,t)=>{f(),t.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}})),zs=u(((e,t)=>{f(),t.exports=function(){return[]}})),Is=u(((e,t)=>{f();var r=Rs(),n=zs(),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:n;t.exports=o})),Ds=u(((e,t)=>{f(),t.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}})),js=u(((e,t)=>{f();var r=an(),n=on();t.exports=function(e){return n(e)&&"[object Arguments]"==r(e)}})),Bs=u(((e,t)=>{f();var r=js(),n=on(),i=Object.prototype,a=i.hasOwnProperty,o=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return n(e)&&a.call(e,"callee")&&!o.call(e,"callee")};t.exports=s})),qs=u(((e,t)=>{f(),t.exports=function(){return!1}})),Us=u(((e,t)=>{f();var r=Zr(),n=qs(),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i?r.Buffer:void 0,s=(o?o.isBuffer:void 0)||n;t.exports=s})),Ws=u(((e,t)=>{f();var r=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}})),$s=u(((e,t)=>{f();t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}})),Fs=u(((e,t)=>{f();var r=an(),n=$s(),i=on(),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(e){return i(e)&&n(e.length)&&!!a[r(e)]}})),Gs=u(((e,t)=>{f(),t.exports=function(e){return function(t){return e(t)}}})),Xs=u(((e,t)=>{f();var r=Jr(),n="object"==typeof e&&e&&!e.nodeType&&e,i=n&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===n&&r.process,o=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})),Hs=u(((e,t)=>{f();var r=Fs(),n=Gs(),i=Xs(),a=i&&i.isTypedArray,o=a?n(a):r;t.exports=o})),Vs=u(((e,t)=>{f();var r=Ds(),n=Bs(),i=tn(),a=Us(),o=Ws(),s=Hs(),l=Object.prototype.hasOwnProperty;t.exports=function(e,t){var _=i(e),u=!_&&n(e),c=!_&&!u&&a(e),d=!_&&!u&&!c&&s(e),p=_||u||c||d,f=p?r(e.length,String):[],h=f.length;for(var g in e)(t||l.call(e,g))&&(!p||!("length"==g||c&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,h)))&&f.push(g);return f}})),Ys=u(((e,t)=>{f();var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}})),Ks=u(((e,t)=>{f(),t.exports=function(e,t){return function(r){return e(t(r))}}})),Js=u(((e,t)=>{f();var r=Ks()(Object.keys,Object);t.exports=r})),Zs=u(((e,t)=>{f();var r=Ys(),n=Js(),i=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return n(e);var t=[];for(var a in Object(e))i.call(e,a)&&"constructor"!=a&&t.push(a);return t}})),Qs=u(((e,t)=>{f();var r=Jo(),n=$s();t.exports=function(e){return null!=e&&n(e.length)&&!r(e)}})),el=u(((e,t)=>{f();var r=Vs(),n=Zs(),i=Qs();t.exports=function(e){return i(e)?r(e):n(e)}})),tl=u(((e,t)=>{f();var r=Ps(),n=Is(),i=el();t.exports=function(e){return r(e,i,n)}})),rl=u(((e,t)=>{f();var r=tl(),n=Object.prototype.hasOwnProperty;t.exports=function(e,t,i,a,o,s){var l=1&i,_=r(e),u=_.length;if(u!=r(t).length&&!l)return!1;for(var c=u;c--;){var d=_[c];if(!(l?d in t:n.call(t,d)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var h=!0;s.set(e,t),s.set(t,e);for(var g=l;++c<u;){var m=e[d=_[c]],v=t[d];if(a)var y=l?a(v,m,d,t,e,s):a(m,v,d,e,t,s);if(!(void 0===y?m===v||o(m,v,i,a,s):y)){h=!1;break}g||(g="constructor"==d)}if(h&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return s.delete(e),s.delete(t),h}})),nl=u(((e,t)=>{f();var r=ns()(Zr(),"DataView");t.exports=r})),il=u(((e,t)=>{f();var r=ns()(Zr(),"Promise");t.exports=r})),al=u(((e,t)=>{f();var r=ns()(Zr(),"Set");t.exports=r})),ol=u(((e,t)=>{f();var r=ns()(Zr(),"WeakMap");t.exports=r})),sl=u(((e,t)=>{f();var r=nl(),n=is(),i=il(),a=al(),o=ol(),s=an(),l=es(),_="[object Map]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",p="[object DataView]",h=l(r),g=l(n),m=l(i),v=l(a),y=l(o),b=s;(r&&b(new r(new ArrayBuffer(1)))!=p||n&&b(new n)!=_||i&&b(i.resolve())!=u||a&&b(new a)!=c||o&&b(new o)!=d)&&(b=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case h:return p;case g:return _;case m:return u;case v:return c;case y:return d}return t}),t.exports=b})),ll=u(((e,t)=>{f();var r=ws(),n=ks(),i=Cs(),a=rl(),o=sl(),s=tn(),l=Us(),_=Hs(),u="[object Arguments]",c="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(e,t,f,h,g,m){var v=s(e),y=s(t),b=v?c:o(e),w=y?c:o(t),A=(b=b==u?d:b)==d,E=(w=w==u?d:w)==d,M=b==w;if(M&&l(e)){if(!l(t))return!1;v=!0,A=!1}if(M&&!A)return m||(m=new r),v||_(e)?n(e,t,f,h,g,m):i(e,t,b,f,h,g,m);if(!(1&f)){var x=A&&p.call(e,"__wrapped__"),O=E&&p.call(t,"__wrapped__");if(x||O){var k=x?e.value():e,S=O?t.value():t;return m||(m=new r),g(k,S,f,h,m)}}return!!M&&(m||(m=new r),a(e,t,f,h,g,m))}})),_l=u(((e,t)=>{f();var r=ll(),n=on();t.exports=function e(t,i,a,o,s){return t===i||(null==t||null==i||!n(t)&&!n(i)?t!=t&&i!=i:r(t,i,a,o,e,s))}})),ul=u(((e,t)=>{f();var r=_l();t.exports=function(e,t){return r(e,t)}})),cl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.NV_MARKER=e.NULL_VALUE_TO_REGISTER=e.HYDRATE_STRING=e.EVAL_TYPE=e.ESTATE_PREFIX=e.ELEMENT_INSTANCE_DEHYDRATE=void 0;e.HYDRATE_STRING="1348695171700984260__LOOKUP__";e.ELEMENT_INSTANCE_DEHYDRATE="ElementInstance";e.ESTATE_PREFIX="ElementState:";e.NV_MARKER="not_valid_1431708660335x963720156345516400";e.NULL_VALUE_TO_REGISTER={};var t=function(e){return e.value="VALUE",e.thunk="THUNK",e.skip="SKIP",e}({});e.EVAL_TYPE=t})),dl=u((e=>{"use strict";f(),Ue();var t=it(),r=e,n={};r.add=function(e,t){n[e]=t},r.has=function(e){return e in n},r.get=function(e){if(!n[e])throw new t.UnexpectedError("Unknown db value type",{name:e});return n[e]},r.is=function(e,t){return e instanceof n[t]},r.list=()=>Object.keys(n),r.create=function(e){let t=r.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return new t(...i)}})),pl=u(((e,t)=>{"use strict";f();var r=function(e){return e.DYNAMIC="Dynamic",e.LIST_WRAPPER="ListWrapper",e.NODE_BASE="NodeBase",e.STATIC_NODE="StaticNode",e.STATIC_OBJECT="StaticObject",e.STATIC_LIST="StaticList",e.TRANSFORM_LIST="TransformList",e.CONCAT_LIST="ConcatList",e.INTERSECT_LIST="IntersectList",e.UNIQUE_LIST="UniqueList",e.SORTED_LIST="SortedList",e.NODE_LIST="NodeList",e.CLIENT_DB_NODE="ClientDBNode",e.CLIENT_DB_OBJECT="ClientDBObject",e.SERVER_DB_NODE="ServerDBNode",e.SERVER_DB_OBJECT="ServerDBObject",e}(r||{});t.exports=r})),fl=u((e=>{"use strict";f(),Ue(),Ft();var t=qr(),r=Lr(),n=Sr(),i=Fr(),a=Kt(),o=it(),s=cl(),l=dl(),_=pl(),u=Nt(),c=e;u.safe_register("./db/hydrate",c);var d={};function p(e){return c.dehydrate_prefix("OuterStringified")+i.incremental_json_stringify(e)}c.register_db=e=>d=e,c.from_json=function(e,t){return d[t._class]||a.warn("Trying to from_json on a bad _class",{_class:String(t._class)}),d[t._class].from_json(e,t)},c.is_json_class=function(e){return e&&e._class&&d[e._class]&&"function"==typeof d[e._class].from_json},c.dehydrate_tree=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("function"==typeof e)throw new o.UnexpectedError("cannot dehydrate a function",{toString:e.toString()});if(e&&"function"==typeof e.to_json)return e.to_json();if(e&&"function"==typeof e.dehydrate)return e.dehydrate();if(e instanceof Date)return e.valueOf();if(e&&"object"==typeof e){if(e.constructor!=={}.constructor&&!Array.isArray(e))throw new o.UnexpectedError(`trying to dehydrate a class: ${e.constructor.name}`);r.optional_pause("dehydrate_tree pre iterate");let t=0,n=Array.isArray(e)?[]:{};for(let i of Object.keys(e))t++,t%10==0&&r.optional_pause("dehydrate_tree in iterate"),n[i]=c.dehydrate_tree(e[i]);return r.optional_pause("dehydrate_tree finished"),n}return e},c.rehydrate=function(e,t){if(c.is_json_class(t))return c.from_json(e,t);if(n.starts_with(t,s.HYDRATE_STRING)){let r=(t=t.replace(s.HYDRATE_STRING,"")).split("::");return r.length>1?d[r[0]]?d[r[0]].rehydrate(e,r.slice(1).join("::")):null:e.get(t)}return t},c.rehydrate_tree=function(e,t){if(e&&"function"!=typeof e.get)throw new o.UnexpectedError(`called rehydrate tree with ${e} for my_db, it should be (my_db, obj)`);if("function"==typeof t)throw new o.UnexpectedError(`called rehydrate tree with function: ${t}`);if("string"==typeof t&&n.starts_with(t,s.HYDRATE_STRING))return c.rehydrate(e,t);if(t&&"object"==typeof t){if(c.is_json_class(t))return c.from_json(e,t);if(l.is(t,_.DYNAMIC))return t;let n=Array.isArray(t)?[]:{},i=0;for(let a of Object.keys(t))i++,i%10==0&&r.optional_pause(),n[a]=c.rehydrate_tree(e,t[a]);return n}return t},c._dehydrate_value_id_data=function(e,t){let r=c.dehydrate_tree(e);return r=i.incremental_json_stringify(r),r=`${null!=t?t:""},${r}`,r},c._rehydrate_value_id_data=function(e,t){let r,n=t.split(","),a=n[0];return 0===a.indexOf("{")?(a=null,r=t):(a||(a=null),r=n.slice(1).join(",")),r="undefined"===r?void 0:i.incremental_json_parse(r),r=c.rehydrate_tree(e,r),{value_id:a,data:r}},c.dehydrate_prefix=e=>s.HYDRATE_STRING+e+"::",c.dehydrate_tree_to_db_primitive=function(e){if(Array.isArray(e))return e.map((e=>c.dehydrate_tree_to_db_primitive(e)));let t=c.dehydrate_tree(e);return c.is_json_class(t)?p(t):t},c.dehydrate_tree_to_string_safe=function(e){if(Array.isArray(e))return e.map((e=>c.dehydrate_tree_to_string_safe(e)));let t=c.dehydrate_tree(e);return t&&"object"==typeof t?p(t):t},c.dehydrated_array_index_of=function(e,r){let i=e.indexOf(r);return i>-1?i:e.findIndex((e=>function(e){return"string"==typeof e&&n.starts_with(e,s.HYDRATE_STRING)&&!n.starts_with(e,c.dehydrate_prefix("OuterStringified"))}(e)&&r===c.dehydrate_tree_to_string_safe(c.rehydrate_tree(t().db_instance(),e))))}})),hl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ALL=void 0;e.ALL={}})),gl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.UserSelectablePre2019Plans=e.UserSelectable2023Plans=e.TEST_PLAN=e.TEMPLATE=e.PricingModel2023Plans=e.PricingModel2022Plans=e.LEGACY_PAID_ON_2022_PRICING_LAUNCH=e.LEGACY_2019_PLANS=e.LATEST_ENTERPRISE_PLAN=e.FREE=e.ExperimentalPlans=e.ENTERPRISE_PLANS=e.DO_NOT_MARK_AS_LEGACY=e.DEFAULT_DEDICATED_PLAN=e.CurrentPlans=e.AllPre2019Plans=e.AllPlans=e.APP_TEAM_2023=e.APP_STARTER_2023=e.APP_PROFESSIONAL_2019=e.APP_PRODUCTION_2019=e.APP_PLUGIN_DEMO=e.APP_PERSONAL_2019=e.APP_ORGANIZATION_FREE=e.APP_INSTRUCTOR=e.APP_HACKATHON=e.APP_GROWTH_2023=e.APP_EMPLOYEE=e.APP_EDUCATION=e.APP_CUSTOM_2023=e.AGENCY_PLAN=void 0,Ue();var t="app_free2";e.FREE=t;var r="app_personal_2019";e.APP_PERSONAL_2019=r;var n="app_professional_2019";e.APP_PROFESSIONAL_2019=n;var i="app_production_2019";e.APP_PRODUCTION_2019=i;var a="app_starter_2023";e.APP_STARTER_2023=a;var o="app_growth_2023";e.APP_GROWTH_2023=o;var s="app_team_2023";e.APP_TEAM_2023=s;var l="app_custom_2023";e.APP_CUSTOM_2023=l;var _="template_app";e.TEMPLATE=_;var u="enterprise";e.DEFAULT_DEDICATED_PLAN=u;var c="enterprise_2022";e.LATEST_ENTERPRISE_PLAN=c;var d="app_agency";e.AGENCY_PLAN=d;var p="app_testing";e.TEST_PLAN=p;var h="app_instructor";e.APP_INSTRUCTOR=h;var g="app_hackathon";e.APP_HACKATHON=g;var m="app_employee";e.APP_EMPLOYEE=m;var v="app_education";e.APP_EDUCATION=v;var y="app_organization_free";e.APP_ORGANIZATION_FREE=y;var b="app_plugin_demo";e.APP_PLUGIN_DEMO=b;var w=["app_personal","app_production","app_professional","app_team",d,"app_covid",v,m,h,g,t,"app_hobby_2021",r,"app_personal_2022",n,"app_professional_2022",i,"app_production_2022",a,o,s,l,p,u,c,"forum_apps",_,"was_legacy_paid_on_2022_pricing_launch","version_control_beta_2023",y,b];e.AllPlans=w;var A=[t,r,n,i,u,d,g,h,v,"app_test_dedicated_on_main",p,"forum_apps",_,"app_covid",m,"version_control_beta_2023",y,b];e.CurrentPlans=A;var E=["app_personal","app_production","app_professional","app_team"];e.UserSelectablePre2019Plans=E;var M=["personal","professional","team",...E];e.AllPre2019Plans=M;var x=["app_personal_2022","app_professional_2022","app_production_2022",c];e.PricingModel2022Plans=x;var O=[a,o,s];e.UserSelectable2023Plans=O;var k=[...O,l];e.PricingModel2023Plans=k;e.ExperimentalPlans=["app_hobby_2021"];var S=Object.freeze([t,d,y,"app_covid","app_education","app_employee","app_hackathon","app_instructor","forum_apps",_,b,...k]);e.DO_NOT_MARK_AS_LEGACY=S;var T=Object.freeze([u,l]);e.ENTERPRISE_PLANS=T;e.LEGACY_PAID_ON_2022_PRICING_LAUNCH="was_legacy_paid_on_2022_pricing_launch";var N=Object.freeze([r,n,i]);e.LEGACY_2019_PLANS=N})),ml=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.SPECIAL_APPS=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(gl());function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var n={blocked:!1,editable:!1,forkable:!1,hard_code:!1,meta:!1,no_issue_checker:!1,test:!1},i={coffeesearcher:{...n,editable:!0,forkable:!0,hard_code:!0},countrycity:{...n,editable:!0,forkable:!0,hard_code:!0},cutepuppy:{...n,editable:!0,forkable:!0,hard_code:!0},demo:{...n,editable:!0,hard_code:!0,no_issue_checker:!0},empty_template:{...n,hard_code:!0},findatrainer:{...n,editable:!0,forkable:!0,hard_code:!0},g2_iphone_test:{...n,no_issue_checker:!0},itunessearcher:{...n,editable:!0,forkable:!0,hard_code:!0},launchpage:{...n,editable:!0,forkable:!0,hard_code:!0},learn:{...n,editable:!0,hard_code:!0,no_issue_checker:!0},lostandfound:{...n,editable:!0,forkable:!0,hard_code:!0},meta:{...n,meta:!0,plan:t.DEFAULT_DEDICATED_PLAN},meta_dedicated:{...n,hard_code:!0,meta:!0},meta_public:{...n,editable:!0,forkable:!0,hard_code:!0,meta:!0},microbloggingapp:{...n,editable:!0,forkable:!0,hard_code:!0},template:{...n,hard_code:!0},template_live:{...n,hard_code:!0},template_new_responsive:{...n,hard_code:!0},test_app:{...n,hard_code:!0,no_issue_checker:!0,plan:t.TEST_PLAN,test:!0},test_app_editor:{...n,hard_code:!0,no_issue_checker:!0,plan:t.TEST_PLAN,test:!0},test_app2:{...n,hard_code:!0,no_issue_checker:!0,plan:t.TEST_PLAN,test:!0},test_app_plugins:{...n,hard_code:!0,plan:t.TEST_PLAN,test:!0},test_app_education:{...n,hard_code:!0,plan:t.APP_EDUCATION,test:!0},test_app_internal:{...n,hard_code:!0,plan:"app_production_2019",test:!0},test_app_elements:{...n,hard_code:!0,no_issue_checker:!1,plan:t.TEST_PLAN,test:!0},test_app_cycles:{...n,hard_code:!0,no_issue_checker:!1,plan:t.TEST_PLAN,test:!0},derived_test:{...n,hard_code:!0,test:!0},todomvcapp:{...n,editable:!0,forkable:!0,hard_code:!0},tour:{...n,editable:!0,hard_code:!0,no_issue_checker:!0},airbnbclonetemplate:{...n,blocked:!0},bubblewits1:{...n,blocked:!0},bubblewits2:{...n,blocked:!0},bubblewits3:{...n,blocked:!0},spam:{...n,blocked:!0},trello:{...n,blocked:!0},yelpclone:{...n,blocked:!0}};e.SPECIAL_APPS=i})),vl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.get_hardcoded_plan=function(e){if(e in n.SPECIAL_APPS){let t=n.SPECIAL_APPS[e];if(t.plan)return t.plan;if(t.hard_code)return"app_personal_2019"}},e.hardcoded_apps=function(){null==r&&(null!=r||(r=new Set(Object.entries(n.SPECIAL_APPS).filter((e=>{let[t,r]=e;return r.hard_code})).map((e=>{let[t,r]=e;return t})))),Object.freeze(r));return r},e.is_app_with_testing_plan=function(e){var t;return"app_testing"===(null==(t=n.SPECIAL_APPS[e])?void 0:t.plan)},e.is_blocked=function(e){return o(e,"blocked")},e.is_forkable=function(e){return o(e,"forkable")},e.is_hardcoded=function(e){return o(e,"hard_code")},e.is_local_editable=function(e){return o(e,"editable")},e.is_meta=function(e){return o(e,"meta")},e.is_test=function(e){return o(e,"test")},e.no_issue_checker=function(e){return o(e,"no_issue_checker")},Ue();var t,r,n=ml(),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(Vt());function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){var r,i;return null!=(r=null==(i=n.SPECIAL_APPS[e])?void 0:i[t])&&r}n.SPECIAL_APPS.meta.hard_code=null!=(t=i.meta_hardcoded)&&t})),yl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.TEST_APP_KEY=e.OLD_TEST_APP_KEY=e.NUMBER_OF_EDIT_TESTS=e.MAX_EDITMODE_TESTS_PER_CHUNK=e.MAIN_RUNMODE_TESTS_APPNAME=e.FUNCTIONAL_TEST_APPNAME_PREFIXES=e.EDITOR_TESTS_APPNAME=e.E2E_TEST_APPS_PREFIX=e.APPS_WITHOUT_PE_INSPECTOR=e.APPS_WITHOUT_PE_HELP_BUTTON=e.APPS_EXCLUDED_FROM_TUTORIALS=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/test_apps",e);var t="test_app_editor";e.EDITOR_TESTS_APPNAME=t;e.MAIN_RUNMODE_TESTS_APPNAME="test_app";e.APPS_WITHOUT_PE_INSPECTOR=["learn","demo"];var r=["learn",t,"demo"];e.APPS_WITHOUT_PE_HELP_BUTTON=r;e.TEST_APP_KEY="test-app-234789asdfjl";e.OLD_TEST_APP_KEY="test_app_234789asdfjl";e.FUNCTIONAL_TEST_APPNAME_PREFIXES=["backup_test_original","backup-test-original","backup_test_restore","backup-test-restore"];e.E2E_TEST_APPS_PREFIX="test_app";e.APPS_EXCLUDED_FROM_TUTORIALS=["learn","test_app","test_app2","test_app_internal"];e.NUMBER_OF_EDIT_TESTS=31;e.MAX_EDITMODE_TESTS_PER_CHUNK=7})),bl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.is_e2e_test_appname=function(e){return(0,t.hardcoded_apps)().has(e)&&e.startsWith(r.E2E_TEST_APPS_PREFIX)},e.is_functional_test_appname=function(e){return[r.TEST_APP_KEY,r.OLD_TEST_APP_KEY,...r.FUNCTIONAL_TEST_APPNAME_PREFIXES].some((t=>e.includes(t)))},Ue();var t=vl(),r=yl()})),wl=u((e=>{"use strict";f();var t=qr(),r=(Lr(),ot()),n=Yt(),i=hl(),a=Mt(),o=bl(),s=e,l=class{constructor(e){this.filter=e}active(e){return null!=e||(e={}),this.filter(e)}};function _(e){return Math.random()<e}function u(){var e,n;let a=null==(e=(n=t()).appname)?void 0:e.call(n);return!(!r.running_test()&&!o.is_e2e_test_appname(a))||null!=(s=i.ALL[a])&&s;var s}s.Investigation=l,s.frozen_state_discrepancies=new l((()=>{let e;return e=n.is_production()?.001:r.running_test()?1:.1,_(e)})),s.frozen_state_debugging=new l(u),s.workflow_execution=new l(u),s.action_update_thing=new l(u),s.postgres_dangerous_procedures=new l((e=>{let{appname:t,proc:r}=e;return i.ALL[t]&&a.SPECIAL_LOGGING_PROCS[r]})),s.fetch_bigger_chunks=function(e){return _(e)?new l((()=>!0)):new l((()=>!1))}(.01),s.is_mobile=new l((()=>!n.is_production()||_(.01))),s.is_touch=s.is_mobile})),Al=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.OPTION_VALUE_FORMATS=e.MISSING_TYPE=e.LIST_OPERATOR_NAMES=e.DETECT_FIELD_NAMES=void 0;e.DETECT_FIELD_NAMES="DETECT";e.MISSING_TYPE="<<MISSING TYPE INFO>>";var t=function(e){return e.name_is_key="name_is_key",e.name_is_db_value_with_fallback="name_is_db_value_with_fallback",e}({});e.OPTION_VALUE_FORMATS=t;var r=function(e){return e.Count="count",e.Contains="contains",e.NotContains="not_contains",e.FirstElement="first_element",e.LastElement="last_element",e.RandomElement="random_element",e.SpecificItem="specific_item",e.LimitTo="limit_to",e.ListFrom="list_from",e.ContainsList="contains_list",e.Join="join",e.Sum="sum",e.Product="product",e.Average="average",e.Median="median",e.Min="min",e.Max="max",e.PlusElement="plus_element",e.MinusElement="minus_element",e.MinusList="minus_list",e.MergedWith="merged_with",e.IntersectWith="intersect_with",e.GroupBy="group_by",e.Filtered="filtered",e.Sorted="sorted",e.RankedBy="ranked_by",e.Unique="unique",e.ApproximateCount="approximate_count",e.CachedAggregation="cached_aggregation",e.FormatAsText="format_as_text",e.MakeStatic="make_static",e}({});e.LIST_OPERATOR_NAMES=r})),El=u((e=>{"use strict";f(),Ue();var t=it(),r=e,n={},i={};r.add=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{abstract:i=!1}=r;n[e]=t,t.prototype.lang_constructor=e,!i&&!t.prototype.make_new&&(t.prototype.make_new=e=>new t(e))},r.has=function(e){return e in n},r.is=function(e,t){return e instanceof r.get(t)},r.get=function(e){if(!n[e])throw new t.UnexpectedError("Unknown app node type",{name:e});return n[e]},r.list=()=>Object.keys(n),r.create=function(e){let t=r.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return new t(...i)},r.add_generic=function(e,t){i[e]=t},r.create_generic=function(e){if(!i[e])throw new t.UnexpectedError("Unknown generic app node type",{name:e});for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return i[e](...n)},r.new_element=r.create_generic.bind(null,"element"),r.new_expression=r.create_generic.bind(null,"expression"),r.new_workflow_item=r.create_generic.bind(null,"workflow_item")})),Ml=u(((e,t)=>{"use strict";f();var r=function(e){return e.APP_NODE="AppNode",e.HAS_PROPERTIES="HasProperties",e.HAS_ID="HasID",e.FAKE_APPLICATION="FakeApplication",e.APPLICATION="Application",e.APPLICATION_VERSION="ApplicationVersion",e.API_WORKFLOWS="API",e.CUSTOM_TYPE="CustomType",e.SECURABLE_TYPE="SecurableType",e.CUSTOM_FIELD_STATE="CustomFieldState",e.CUSTOM_FIELD="CustomField",e.PRIVACY_ROLE="PrivacyRole",e.OPTION_SET="OptionSet",e.OPTION_ATTRIBUTE="OptionAttribute",e.OPTION_VALUE="OptionValue",e.COMMENT="Comment",e.EXPRESSION="Expression",e.EMPTY="Empty",e.LITERAL="Literal",e.OBJECT_LITERAL="ObjectLiteral",e.TEXT_EXPRESSION="TextExpression",e.LIVE_EXPRESSION="LiveExpression",e.DATA_SOURCE="DataSource",e.MESSAGE_NODE="MessageNode",e.GEO_ADDRESS_NODE="GeoAddressNode",e.WORKFLOW_OBJECT="WorkflowObject",e.GENERIC_EVENT="GenericEvent",e.EVENT="Event",e.API_EVENT_OBJECT="APIEventObject",e.ACTION="Action",e.STATE="State",e.TRANSITION="Transition",e.GENERIC_ELEMENT="GenericElement",e.ELEMENT="Element",e.STYLE="Style",e.STYLE_STATE="StyleState",e.CUSTOM_STATE="CustomState",e.ROOT="Root",e.PAGE="Page",e.CUSTOM_DEFINITION="CustomDefinition",e}(r||{});t.exports=r})),xl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.S=void 0,e.expand=p,e.expand_object=function e(t,n){if(null!=n||(n=0),n%3==2&&r.optional_pause(),null==t||"object"!=typeof t)return t;let i=n+1;if(Array.isArray(t))return t.map(((t,n)=>(n%10==0&&r.optional_pause(),e(t,i))));let a={};return Object.entries(t).forEach(((t,n)=>{let[o,s]=t;n%10==0&&r.optional_pause(),a[p(o)]=e(s,i)})),a},e.expand_path=function(e){return e.split(".").map((e=>p(e))).join(".")},e.shrink=d,e.shrink_again=function(e){return"string"!=typeof e?e:c(e)?u+s[e]:e},e.shrink_object=function e(t,a){if(null!=a||(a=0),a%3==2&&r.optional_pause(),null==t||"object"!=typeof t)return t;let o=t;!Array.isArray(t)&&o.constructor!==Object&&n.warn("Shrinking a non-simple object",{object:(0,i.to_loggable)(t),type:o.constructor.name});let s=a+1;if(Array.isArray(t))return t.map(((t,n)=>(n%10==0&&r.optional_pause(),e(t,s))));let l={};return Object.entries(t).forEach(((t,n)=>{let[i,a]=t;n%10==0&&r.optional_pause(),l[d(i)]=e(a,s)})),l},e.shrink_path=function(e){return e.split(".").map((e=>d(e))).join(".")},Ue();var t=o(Lo()),r=o(Lr()),n=o(Kt()),i=nt();function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var s={display_sender_name:"d7",list_id:"li",deleted:"del",email_address:"ea",action_id:"ai",description:"d3",label:"lab",user_name:"un",floating:"f7",formatting_type:"ft",poststripeauth:"p8",image_pressed:"ip",center_background:"cb",image_normal:"i9",image_hover:"ih",descending:"d2",password2:"p2",require_confirm:"rc",choices:"ch",default:"d1",terms:"tz",thing_type:"tt",initial_values:"i2",element_type:"et",email:"em",from:"fr",sort_field:"sf",separator_width:"sw",useiframe:"u2",columns:"c5",separator_color:"sc",html:"ht",name_has_been_changed:"n0",fields:"f3",rows:"rs",separator_style:"ss",body:"b3",subject:"su",constraint_type:"c2",constraints:"co",element_name:"e4",bind:"bi",meta_description:"md",type_to_find:"t5",group_type:"gt",action:"ak",to_change:"tc",stripes:"st",after:"af",changes:"cs",title:"t1",data_source:"ds",additional_values:"av",limit_number_of_characters:"0l",backdrop:"bd",workflows:"wf",margintop:"mt",password:"pw",event_name:"en",app_path:"ap",mandatory:"1m",linktype:"1l",open_in_new_tab:"o9",stripe_height:"sh",contents:"ct",floating_reference:"3f",stretch_or_rescale:"2f",tabs:"ts",custom_id:"ci",icon:"9i",page:"pa",content_format:"cf",display:"d",icon_color:"ic",args:"a",placeholder:"ps",background_gradient_direction:"b4",content:"c1",background_image:"bgi",bggcolor:"bg2",style:"s1",textshadow:"tes",key:"k",elements:"el",event:"e1",value:"v",repeat_background_vertical:"rbv",repeat_background_horizontal:"rbh",underline:"u",italic:"i",vertical_centering:"vc",textshadow_blur:"tsb",textshadow_color:"tsc",textshadow_horizontal:"tsh",textshadow_vertical:"tsv",page_item_type:"pet",readable_field:"rf",bold:"b",__initialized:"in",element_id:"ei",text:"3",line_height:"lh",condition:"c",letter_spacing:"ls",word_spacing:"ws",padding_vertical:"pv",background_gradient_from:"bgf",background_gradient_to:"bgt",padding_horizontal:"ph",current_parent:"cp",font_face:"f",font_alignment:"fa",font_size:"fs",border_width:"bw",states:"s",boxshadow_blur:"bsb",boxshadow_color:"bsc",boxshadow_vertical:"bv",boxshadow_horizontal:"bh",font_color:"fc",bgcolor:"bgc",default_name:"dn",entries:"e",border_color:"bc",is_visible:"iv",background_style:"bas",border_roundness:"br",border_style:"bos",zindex:"z",top:"t",left:"l",width:"w",height:"h",boxshadow_style:"bs",boxshadow_spread:"bsp",next:"n",name:"nm",properties:"p",type:"x",pages:"p3",element_definitions:"ed"},l={};e.S=l,Object.entries(s).forEach((e=>{let[t,r]=e,n=`%${r}`;l[t]=n})),Object.keys({provider:!0,actions:!0,val:!0,id:!0,_id:!0,value_id:!0}).forEach((e=>{l[e]=e}));var _={},u="%";function c(e){return null!=s[e]}function d(e){return"string"!=typeof e?e:c(e)?u+s[e]:0===e.indexOf(u)?u+e:e}function p(e){if("string"!=typeof e||0!==e.indexOf(u))return e;let t=e.slice(1);return function(e){return null!=_[e]}(t)?_[t]:t}Object.entries(s).forEach((e=>{let[r,n]=e,i=r;if(n.includes(u)||r.includes(u))throw new t.UnexpectedError("cannot use # sign in shrinks: "+r+", "+n);if(n.toLowerCase()!==n)throw new t.UnexpectedError("cannot use upper case in shrinks: "+n);if(_[n])throw new t.UnexpectedError("Mapping "+n+" to "+r+" but "+n+" is already mapped to "+_[n]);_[n]=i}))})),Ol=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.PROTECTED_PAGE_NAMES=e.PROTECTED_KEYS=e.OBJECT_MARKER=e.CONFLICT_PATHS=e.BUBBLE_RESERVED_KEYS=void 0,Ue(),function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/app_json",e);var t=new Set(["constructor","__defineGetter__","__defineSetter__","hasOwnProperty","__lookupGetter__","__lookupSetter__","isPrototypeOf","propertyIsEnumerable","toString","valueOf","__proto__","toLocaleString"]);e.PROTECTED_KEYS=t;var r="__obj_marker__";e.OBJECT_MARKER=r;var n=new Set(["type","id","_id","length",r,"phone_number"]);e.BUBBLE_RESERVED_KEYS=n;var i=new Set(["index","reset_pw","404"]);e.PROTECTED_PAGE_NAMES=i;e.CONFLICT_PATHS=["settings.client_safe.uid_counter","uid_counter","conflicts","conflicts_theirs_version_name","conflicts_undo_snapshot_id","merge_changes","no_merge_changes","_index","screenshot"]})),kl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.escape_app_json_key=function(e){return e.replace(a,(e=>n[e]))},e.raw_to_child_names=function(e){let r;if(null==e||"object"!=typeof e)r=[];else if(Array.isArray(e))r=e.map(((e,t)=>String(t)));else{let n=-1;if(r=[],Object.entries(e).filter((e=>{let[r,n]=e;return void 0!==n&&!["length",t.OBJECT_MARKER].includes(r)})).forEach((e=>{let[t,i]=e;if(null!=n){let e=parseInt(t);n=String(e)!==String(t)?null:Math.max(e,n)}r.push(t)})),null!=n&&n>-1&&n<100*r.length){r=[];for(let e=0;e<=n;e++)r.push(String(e))}else r.sort()}return r},e.unescape_app_json_key=function(e){return e.replace(o,(e=>i[e]))},Ue(),Ft();var t=Ol(),r=Ur();var n={".":"^{p1}","^":"^{c1}"},i={};Object.keys(n).forEach((e=>{i[n[e]]=e}));var a=new RegExp((0,r.oneOf)(...Object.keys(n)),"g"),o=new RegExp((0,r.oneOf)(...Object.values(n)),"g")})),Sl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyJSON=o,e.JSONBase=void 0,Ue();var t=kl(),r=xl(),n=Ol(),i=xl(),a=class{child_by_path(e){return this.by_path((0,i.shrink_path)(e))}by_path(e){let t=e.split("."),r=this;for(let e of t)e&&(r=r._child(e));return r}child(e){return this._child((0,r.shrink)(e))}name(){return(0,r.expand)(this._name())}path(){let e=this._path();return e&&e.split(".").map((e=>(0,r.expand)(e))).join(".")}get is_json(){return!0}by_id(e){let t=this.raw_index("id_to_path",e),r=this.root();return t&&r.pre_cache(t,!0),null==t?o(this,e):r.by_path(t)}read_index(){let e=this.raw_index(...arguments);return null!=e&&"object"==typeof e&&(delete e[n.OBJECT_MARKER],delete e.length),e}children(){return this._child_names().map((e=>this._child(e)))}child_names(){return this._child_names().map((e=>(0,r.expand)(e)))}is_equal_to(e){var t;return(null==e||null==(t=e.toUniqueString)?void 0:t.call(e))===this.toUniqueString()}_raw_to_child_names(e){return(0,t.raw_to_child_names)(e)}raw(){let e=this._raw();return void 0===e?e:(0,r.expand_object)(e)}_raw_child(e){return this._child(e)._raw()}_raw_gchild(e,t){return this._gchild(e,t)._raw()}set(e,t){this._set((0,r.shrink_object)(e),t)}pre_cache(e,t){if(!e&&!this._path())return;let r=this;if(e)for(let n of e.split(".").filter((e=>e)))r=t?r._child(n):r.child(n);r.ensure_loading()}toString(){return"JSON Base"}};function o(e,t,r){return new s(e,t,r)}e.JSONBase=a;var s=class extends a{constructor(e,t,r){super(),this.owner=void 0,this._id=void 0,this.search=void 0,this.owner=e,this._id=t,this.search=r}empty(){return!0}exists(){return!1}_raw(){}raw_type(){return"undefined"}get(){return null}id(){var e;return null!=(e=this._id)?e:""}to_id(){return this}to_path(){return this}toString(){var e,t;return"EmptyJSON<"+(null!=(e=this._id)?e:"")+(null!=(t=this.search)?t:"")+">"}toUniqueString(){return this.toString()+"_"+this.owner.toString()}path_cache(){return this.toString()+"_"+this.owner.toString()}ensure_exists(){return null}_path(){return""}_name(){return""}parent(){return null}_child(e){return o(this.owner,null,`${this.toString()}.child(${String(e)})`)}_gchild(e,t){return o(this.owner,null,`${this.toString()}.gchild(${String(e)},${String(t)})`)}pre_cache(e,t){this.owner.pre_cache(e,t)}ensure_loading(){}_child_names(){return[]}root(){return this.owner.root()}application(){return this.owner.application()}appname(){return this.owner.appname()}app_version(){return this.owner.app_version()}raw_index(){return this.owner.raw_index(...arguments)}register_indexer(){}smart_cache(e,t,r){return t(this,r)}_set(e,t){}serialize(){return{}}}})),Tl=u((e=>{"use strict";f(),Ue();var t=Lo(),r=e,n=class extends Array{is_equal_to(e){return Array.isArray(e)&&e.length===this.length&&this.every(((r,n)=>t.compare(r,e[n])))}toString(){return"Enhanced Array: "+this.to_array()}to_array(){return Array.from(this)}sort(e){return this.constructor.from(this.to_array().sort(e))}};n.prototype[Symbol.isConcatSpreadable]=!0,r.EArray=n,r.build_class=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=class extends n{};return Object.assign(i.prototype,r),e.forEach((e=>{var r;null!=(r=i.prototype)[e]||(r[e]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.flatMap((r=>{if(null==r)return null;if("function"!=typeof r[e])throw new t.UnexpectedError("EArray child missing",{name:e});return r[e](...n)}))})})),i}})),Nl=u((e=>{"use strict";f();var t=e;Nt().safe_register("./u/shared/decaf",t),t.object_keys=e=>!e||"object"!=typeof e&&"function"!=typeof e?[]:Object.keys(e),t.object_values=e=>!e||"object"!=typeof e&&"function"!=typeof e?[]:Object.values(e),t.object_entries=e=>!e||"object"!=typeof e&&"function"!=typeof e?[]:Object.entries(e),t.array_from=e=>Array.from(e)})),Cl=u((e=>{"use strict";f(),Ue();var t=Lo(),r=(qr(),Kt()),n=xl(),i=Ol(),a=Sl(),o=El(),s=Tl(),l=Nl(),_=Ml(),u=e,{OBJECT_MARKER:c}=i,{S:d}=n;function p(){return"Compiled filter: "+this._original}function h(e,r,n,i,o,s){if(e){if(s instanceof a.JSONBase)throw new t.UnexpectedError("We do not support running class filters on JSONs");if(!((s._raw?u.from_raw(s):s)instanceof e))return!1}let _,c,p;if(s instanceof a.JSONBase?(_=s,c=!0):null!=s._raw?(p=s._raw,c=!1):(_=s.json,c=!0),c){if(!_||r&&r!==_._child(d.type).get())return!1;if(n){var f;let e=_._raw_gchild(d.properties,n);if("TextExpression"===(null==(f=e)?void 0:f[d.type])&&(e=l.object_values(e[d.entries]).join("")),String(e)!==i)return!1}return!(o&&_._child(d.name).get()!==o)}if(null==p||r&&r!==p[d.type])return!1;if(n){var h,g;let e=null==(h=p[d.properties])?void 0:h[n];if("TextExpression"===(null==(g=e)?void 0:g[d.type])&&(e=l.object_values(e[d.entries]).join("")),String(e)!==i)return!1}return!(o&&p[d.name]!==o)}function g(){return!0}u.deserialize=function(e,n){let i=n.args.map((r=>function(r){switch(r.type){case"json":return e.json.by_path(r.value);case"node":return u.deserialize(e,r.value);case"raw":return r.value;default:throw new t.UnexpectedError(r.type)}}(r))),a=i[0],s=i[1],l=i[2];return i.length>3&&r.error("error deserializing: we have something with more than 3 args",{constructor_name:n.constructor_name}),o.create(n.constructor_name,a,s,l)},u.filter_array=function(e,t){if(!e)return u.enhance_array(t);e=u.make_filter(e);let r=[];for(let n of null!=t?t:[])e(n)&&r.push(n);return u.enhance_array(r)},g.toString=()=>"Identity filter";var m={};u.make_filter=function(e){if(!e)return g;if("function"==typeof e)return e;if(!m[e]){let t,i,a,s,l,_;if('"'===e.charAt(0)){let r=e.indexOf('"',1);i=e.substring(1,r),t=e.substring(r+2)}else{let r=e.split(".");i=r[0],t=r.slice(1).join(".")}t&&(a=t.split("=")[0],l=t.split("=")[1],"name"===a&&(s=l,a=null),"\name"===a&&(a="name")),a=n.shrink(a),o.has(i)&&(r.error("Deprecated: filter using class_type",{filter_str:e}),_=o.get(i),i=null),m[e]=h.bind(null,_,i,a,l,s),m[e]._type=i,m[e]._original=e,m[e].toString=p}return m[e]},u.to_raw=function(e){var r;let{json:n}=e,i=n._raw();if(null==i)return null;let a,o=n._path();if(null!=(r=e.owner)&&r.is_node&&(a=u.to_raw(e.owner),a.converter=e.owner.make_new,!a.converter))throw new t.UnexpectedError("Class "+e.owner.constructor.name+" is missing a make_new function");return{_raw:i,_path:o,owner:a}},u.from_raw=function(e,r,n){let{_raw:i,_path:a,owner:o}=n,s=e.root().by_path(a);if(null!=o){if(!o.converter)throw new t.UnexpectedError("bad owner:\n"+JSON.stringify({_raw:i,_path:a,owner:o},null,4));o=u.from_raw(e,o.converter,o)}return r(s,o)},u.from_raw_array=(e,t,r)=>u.enhance_array(r.map((r=>u.from_raw(e,t,r)))),u.raw_child=function(e,t){let{_raw:r,_path:n,owner:i}=e;return r=r[t],r?(n=n+"."+t,{_raw:r,_path:n,owner:i}):null},u.set_owner=function(e,t,r){e.owner=t,t.converter=r},u.raw_children=function(e,t){var r;let{_raw:n,_path:i,owner:a}=e,o=i+"."+t+".",s=null!=(r=n[t])?r:{};return Object.entries(s).filter((e=>{let[t,r]=e;return null!=r&&!["length",c].includes(t)})).map((e=>{let[t,r]=e;return{_raw:r,_path:o+t,owner:a}}))},u.raw_properties=function(e,t){var r;let{_raw:n,_path:i}=e;e.converter=t;let a=i+"."+d.properties+".",o=null!=(r=n[d.properties])?r:{};return Object.entries(o).filter((e=>{let[t,r]=e;return null!=r&&!["length",c].includes(t)})).map((t=>{let[r,n]=t;return{_raw:n,_path:a+r,owner:e}}))},u.raw_array_node=function(e){let{_raw:t,_path:r,owner:n}=e,i=r+".",a=null!=t?t:{};return Object.entries(a).filter((e=>{let[t,r]=e;return null!=r&&!["length",c].includes(t)})).map((e=>{let[t,r]=e;return{_raw:r,_path:i+t,owner:n}}))};var v=null;function y(){let e=[],r=["asdf"];for(let n of o.list()){let i=o.get(n);if(i&&i.prototype instanceof o.get(_.APP_NODE))for(let n of t.all_keys(i.prototype))null==r[n]&&e.push(n)}v=s.build_class(e,{filter(e){return u.filter_array(e,this)}})}u.get_EnhancedArray=function(){return v||y(),v},u.enhance_array=function(e){v||y();let t=new v;return Array.prototype.push.apply(t,e),t},u.to_array=function(e){return e.to_array?e.to_array():e}})),Ll=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=El(),i=Cl();t.exports=class{constructor(e){this.json=e}get is_node(){return!0}has_id(){return!1}toString(){return this.lang_constructor+"<"+this.json.path()+">"}toUniqueString(){return this.lang_constructor+"<"+this.json.toUniqueString()+">"}app(){let e=this.json.root();return null!=e._appnode_application_version_cache||(e._appnode_application_version_cache=n.create("ApplicationVersion",e)),e._appnode_application_version_cache}id(){return this.json.id()}is_equal_to(e){return(null==e?void 0:e.toUniqueString())===this.toUniqueString()}path(){return this.json.path()}raw(){return this.json.raw()}read_index(){return this.json.read_index(...arguments)}is(e){return i.make_filter(e)(this)}exists(){return this.json.exists()}ensure_exists(){return this.json.ensure_exists()?this:null}serialize(){if(!this.lang_constructor)throw new r.UnexpectedError("missing lang_constructor: "+this.constructor.name);let e=this.serialize_args().map((e=>function(e){return e.is_json?{type:"json",value:e._path()}:e.is_node?{type:"node",value:e.serialize()}:{type:"raw",value:e}}(e)));return{constructor_name:this.lang_constructor,args:e}}serialize_args(){return[this.json]}}})),Pl=u((e=>{"use strict";f();var t=Lo(),r=qr(),n=e;function i(e){return function(t,r,n){return{...n,value:e(r,n.value)}}}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r,n,i)=>({...i,value:t.autorun_cache(t.extend({},{fn:i.value},e))})}n.RUN_MODE="run",n.ALL_MODES="all",n.AUTORUN="autorun",n.cached=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:r,parameters:o=0,...s}=e;if(r===n.AUTORUN)return a(s);if(r===n.ALL_MODES)return i(n.all_cache);if(r===n.RUN_MODE){if(0===o)return i(n.run_cache);if(1===o)return i(n.run_cache_1_param)}throw new t.UnexpectedError("Unsupported cache options",{type:r,parameters:o})},n.standalone=function(e,t){var r;let i=null!=(r=t.name)?r:"fn",a={[i]:t},o=Object.getOwnPropertyDescriptor(a,i),s={[i]:n.cached(e)(a,i,o).value};return s[i].bind(s)},n.run_cache=function(e,r){return t.on_client()&&!t.is_edit_mode()?function(){let t=r.call(this);return this[e]=()=>t,t}:r},n.run_cache_1_param=function(e,n){return t.on_client()?function(t){let i=e+"_run_cache_1_param";if(!this[i])if(r().is_edit_mode())this[i]=n;else{let e={};this[i]=function(t){return null!=e[t]||(e[t]=n.call(this,t)),e[t]}}return this[i](t)}:n},n.all_cache=function(e,t){return function(){let r=t.call(this);return this[e]=()=>r,r}}})),Rl=u(((e,t)=>{"use strict";var r,n,i;function a(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}f(),Ue();var o=Lo(),s=(qr(),Lr()),l=Kt(),_=Pl(),u=El(),c=xl(),d=Al(),p=Cl(),h=Ll(),g=Po(),m=xr(),{S:v}=c,y={};t.exports=(r=_.cached({type:_.RUN_MODE,parameters:1}),n=_.cached({type:_.RUN_MODE}),a((i=class extends h{get_default(e){var t;if(!this.field_names)throw new o.UnexpectedError("does not have field names defined: "+this);let r=this.field_names();return r===d.DETECT_FIELD_NAMES?null:null==(t=r[e])?void 0:t.default}get_custom_parameters(){var e,t;let r=this.property("parameters");return(null!=(e=null==(t=r.entries)?void 0:t.call(r))?e:[]).map((e=>{var t;let r=null!=(t=e.get_static_property("btype_id"))?t:e.get_static_property("value"),n=e.get_static_property("is_list");return{param_id:e.get_static_property("param_id"),param_name:e.get_static_property("param_name"),optional:e.get_static_property("optional"),btype_id:n?m.list_type(r):r}}))}preprocess_properties(e,t){return e}property(e){var t;let r,n=`${g.app_version()}${this.json.path_cache()}${e}`;if(o.on_server()){var i;null!=(i=s.Fiber.current)._property_json_cache||(i._property_json_cache=new LRU({max:1e3,length:()=>1}));let t=s.Fiber.current._property_json_cache;t.has(n)?r=t.get(n):(r=this.json._gchild(v.properties,c.shrink(e)),t.set(n,r))}else{null!=y[n]||(y[n]=this.json._gchild(v.properties,c.shrink(e))),r=y[n]}return u.new_expression(r,null!=(t=this._property_owner)?t:this)}get_static_property(e){let t=this.json._raw_gchild(v.properties,c.shrink(e));var r;if(null==t)return null!=(r=this.get_default(e))?r:null;if("object"!=typeof t)return t;switch(t[v.type]){case"Empty":return null;case"TextExpression":{var n;let e=null!=(n=t[v.entries])?n:[],r=[];return Object.values(e).forEach((e=>{null!=e&&"object"==typeof e&&l.verbose("stringifying object object",{_raw:t}),r.push(e)})),r.join("")}case"GeoAddressNode":return t[c.shrink("val")];default:return t}}properties(){return p.enhance_array(this.json._child(v.properties).children().map((e=>{var t;return u.new_expression(e,null!=(t=this._property_owner)?t:this)})))}}).prototype,"get_static_property",[r],Object.getOwnPropertyDescriptor(i.prototype,"get_static_property"),i.prototype),a(i.prototype,"properties",[n],Object.getOwnPropertyDescriptor(i.prototype,"properties"),i.prototype),i)})),zl=u(((e,t)=>{"use strict";f(),Ue();qr();var r=Rl();Cl();t.exports=class extends r{exists(){return this.json.child("id").exists()}has_id(){return!0}}})),Il=u(((e,t)=>{"use strict";f();var r=El(),n=Ml(),i=Ll(),a=Rl(),o=zl(),s=Cl();t.exports={...s,...n,...r};var l=t.exports;l.AppNode=i,l.HasProperties=a,l.HasID=o,r.add(n.APP_NODE,i,{abstract:!0}),r.add(n.HAS_PROPERTIES,a,{abstract:!0}),r.add(n.HAS_ID,o,{abstract:!0})})),Dl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.create_reduced=void 0,e.expression_find_expressions=function e(r,n){let i=[],{_raw:a}=r;if(!a||"object"!=typeof a)return i;let s=a[o.type];if(["Empty","GeoAddress"].includes(s))return i;if(s)if("TextExpression"===s)for(let a of t.raw_children(r,o.entries))n(a)&&i.push(a),i.push(...e(a,n));else{if(a[o.properties])for(let a of t.raw_children(r,o.properties))n(a)&&i.push(a),i.push(...e(a,n));if("Message"===s&&a[o.args]){let a=t.raw_child(r,o.args);a&&(n(a)&&i.push(a),i.push(...e(a,n)))}if(a[o.next]){let a=t.raw_child(r,o.next);a&&(n(a)&&i.push(a),i.push(...e(a,n)))}}else for(let a of t.raw_array_node(r))n(a)&&i.push(a),i.push(...e(a,n));return i},e.missing_datasource=e.lit_eval_value=void 0,Ue();var t=a(Il()),r=a(xl()),n=a(fl());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var{S:o}=r;e.create_reduced=function(e,t){return"reduced"===t?e:{[o.type]:"Dehydrated",[o.properties]:{[o.val]:n.dehydrate_tree(e),[o.value_id]:t}}};e.lit_eval_value=function(e){switch(e){case"string":return"text";case"boolean":return"sys.bool";case"number":return"number"}};e.missing_datasource=function(e){return{_fields:()=>[],field_names:{},get_unique_string(){},evaluate(){},get_value:()=>"null",display:()=>"[missing: "+e+"]",check_for_errors(t){t("Could not find "+e)}}}})),jl=u((e=>{"use strict";f(),Ue();var t=Nt(),r=e;t.safe_register("./db/values/db_values",r),r.registry=dl();var n=pl();Object.entries(n).forEach((e=>{let[t,n]=e;return r[t]=n}))})),Bl=u((e=>{"use strict";f();var t=ot(),r=e;Nt().safe_register("./lang/evaluation/eval_node_state",r);var n=null;r.get_current_eval_node=function(){return n},r.set_current_eval_node=function(e){n=e},t.on_server()?r.with_eval_node=(e,t)=>t():r.with_eval_node=function(e,t){let r=n;n=e;try{return t()}finally{n=r}}})),ql=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.range_states=e.SUPPORTED_AGGREGATIONS=e.RetryError=e.REDIS_ONLY=e.REDIS_AND_POSTGRES=e.POSTGRES_AUTOINDEX_KEY=e.NO_USER=e.NO_SEARCH_PATH=e.NO_DB_CONSTRAINTS=e.NON_AUTHENTICATED_USER_ID=e.MAX_SEARCH_CHUNK=e.MAX_GROUPING_CALL=e.DONT_KNOW=e.DATA_PANEL_SEARCH_FAKE_EVAL_NODE=e.CALENDAR_GROUPINGS=e.BUCKET_GROUPINGS=e.BATCH_SIZE=e.ARCHIVED_DB_COUNT=e.ALL_MAX=e.ADMIN_USER_ID=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/db",e);e.NO_USER="no_user";e.NO_SEARCH_PATH="no_search_path";e.ADMIN_USER_ID="admin_user";e.NON_AUTHENTICATED_USER_ID="non_authenticated_user";e.DATA_PANEL_SEARCH_FAKE_EVAL_NODE="<data admin panel>";e.MAX_SEARCH_CHUNK=400;e.DONT_KNOW="dontknow";e.MAX_GROUPING_CALL=100;e.NO_DB_CONSTRAINTS=["list.date_range","list.number_range","list.geographic_address"];e.SUPPORTED_AGGREGATIONS=["count","sum","product","average","median","min","max"];e.CALENDAR_GROUPINGS=["day","month"];e.BUCKET_GROUPINGS=["bucket","day","month"];e.ALL_MAX=1e12;e.ARCHIVED_DB_COUNT=-2;var t=function(e){return e.LOADING="loading",e.AVAILABLE="available",e.ERROR="error",e.NOT_STARTED="not_started",e.DELETED="deleted",e.PAST_END="past_end",e}({});e.range_states=t;e.RetryError=class{};e.REDIS_ONLY="redis-only";e.REDIS_AND_POSTGRES="redis-and-postgres";e.BATCH_SIZE=100;e.POSTGRES_AUTOINDEX_KEY="postgres_auto_index"})),Ul=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.UNIQUE_ID=e.RANDOM_SORTING=e.DYNAMIC_SORTING_FIELD=e.ALL_DB_FIELDS=e.ADVANCED_SEARCH_CONSTRAINT=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/special_keys",e);e.ALL_DB_FIELDS="_all";e.ADVANCED_SEARCH_CONSTRAINT="_advanced_search_constraint";e.UNIQUE_ID="_id";e.DYNAMIC_SORTING_FIELD="_dynamic_sort_field";e.RANDOM_SORTING="_random_sorting"})),Wl=u((e=>{"use strict";f();var t=Kt(),r=e,n=class{constructor(){this.items={}}get(e){return this.items[e]}add(e,r){e in this.items&&t.warn("Adding duplicate btype definition",{name:e}),this.items[e]=r}keys(){return Object.keys(this.items)}values(){return Object.values(this.items)}entries(){return Object.entries(this.items)}};r.plugins=new n,r.providers=new n})),$l=u(((e,t)=>{"use strict";f();var r=t.exports,n="Missing btype:";r.list=()=>[],r.namespace_prefix=()=>n,r.is_missing=e=>e.startsWith(n),r.strip_prefix=e=>r.is_missing(e)?e.slice(n.length+1):e,r.get=function(e){let t=`${n} ${e}`;return{name:e,id:()=>t,is_missing:()=>!0,storable:!1,is_simple:!1,can_sort:!1,display:()=>"Missing type... ",display_for_issue(){let e="a non-defined btype";return-1!==this.id().indexOf("_current")&&(e+=" (reinitialize the plugin call)"),e},debugging_display:function(t){return`(Value is of an unknown type ${e} and cannot be displayed)`},matches:r=>r===e||r===t,cast:()=>null,get_bubble_null:()=>null,get_message_names:()=>[],get_message:e=>{}}}})),Fl=u((e=>{"use strict";f(),Ue(),Ft();var t=Lo(),r=Nl(),n=xr(),i=Nt(),a=qr(),o=Po(),s=Pl(),l=Kt(),_=Wl(),u=$l(),c=e;i.safe_register("./lang/btypes",c),c.get=function(e,t){var r;let{miss_okay:n}=null!=t?t:{};if(null!=(r=e)&&r.get_message)return e;if("string"!=typeof e){var i;if(null!=e)l.info("non-string btype_id",{type:typeof e,stringified:null==(i=e)?void 0:i.toString()});e="null"}return null!=e&&u.is_missing(e)?d([u.strip_prefix(e),n]):d("date_unix"===e?["date",n]:[e,n])},c.is_custom_type=e=>"user"===e||"string"==typeof e&&n.is_custom_type(e);var d=s.standalone({type:s.RUN_MODE,parameters:1},(e=>{let[t,r]=e;t||(t="null");let n=o.toUniqueString();return p(t,n,r)}));c.list=t.autorun_cache((e=>{var t;if(!e)return _.plugins.entries().filter((e=>{let[t,r]=e;return!r.dont_list})).map((e=>{let[t,r]=e;return c.get(t)}));let r=e.split("."),n=a().load_plugin(a().plugin_prefixes.btype+r[0]),i=r.slice(1).join(".");return(null!=(t=(""===i?n:n.get(i)).list())?t:[]).map((t=>c.get(e+"."+t)))})),c.search=function(e){return[...c.list(),..._.providers.entries().filter((e=>{let[t,r]=e;return"function"==typeof r.list})).flatMap((e=>{let[t,r]=e;return c.list(t)}))].filter((t=>t.matches(e)))};var p=t.autorun_cache((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new h(e,r)})),h=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._id="string"==typeof e?e:"null";let[r,...n]=this._id.split("."),i=n.join("."),o=a().load_plugin(a().plugin_prefixes.btype+r,t),s=""!==i?null==o?void 0:o.get(i):o;this.plugin="function"==typeof s?s():s,this.plugin||(this.plugin=u.get(this._id))}id(){return this._id}get_message(e){var t;let r=null!=(t=this.plugin.get_message(e))?t:{description:" [not found: "+e+"]",not_found:!0,fn:()=>{}};return new c.Message(e,r,this._id)}get_messages(e){return r.array_from(this.plugin.get_message_names({exclude_special_messages:e})).map((e=>this.get_message(e)))}call(e,t,r,n){return this.get_message(e).evaluate(t,r,n)}display(){return this.plugin.display()}display_for_issue(){return"function"==typeof this.plugin.display_for_issue?this.plugin.display_for_issue():"null"===this.id()?"empty":this.display()}is_aggregate(){return this.plugin.is_aggregate}equals(e,t){return this.plugin.equals(e,t)}get_sample(){return this.plugin.get_sample()}get_bubble_null(){return"function"!=typeof this.plugin.get_bubble_null?(l.warn("missing get_bubble_null",{btype:this}),null):this.plugin.get_bubble_null()}cast(e){var t;return"function"!=typeof this.plugin.cast?e:null!=(t=this.plugin.cast(e))?t:null}is_missing(){var e,t,r;return null!=(e=null==(t=(r=this.plugin).is_missing)?void 0:t.call(r))&&e}from_human(e,t){return this.plugin.from_human?this.plugin.from_human(e,t):this.cast(e)}runmode_display(e,t){var r;return this.plugin.runmode_display?this.plugin.runmode_display(e,t):(null!=(r=window)&&r.current_user_is_admin&&console.log(`trying to render a ${this.id()} to string, but no V.runmode_display function`),"")}has_runmode_display(){return null!=this.plugin.runmode_display}export_to_string(e,t){return this.plugin.export_to_string(e,t)}has_export_to_string(){return null!=this.plugin.export_to_string}debugging_display(e,t){return this.plugin.debugging_display(e,t)}has_debugging_display(){return null!=this.plugin.debugging_display}can_sort(){return this.plugin.can_sort}custom_type(){var e,t;return null==(e=(t=this.plugin).custom_type)?void 0:e.call(t)}option_set(){var e,t;return null==(e=(t=this.plugin).option_set)?void 0:e.call(t)}can_get_JS_object(){return null!=this.plugin.get_JS_object||(l.error("No get_JS_object for btype",{id:this._id}),!1)}get_JS_object(e){return this.plugin.get_JS_object(e)}can_JS_to_bubble(){return null!=this.plugin.JS_to_bubble}JS_to_bubble(e){return this.plugin.JS_to_bubble(e)}matches(e){return"function"==typeof this.plugin.matches?this.plugin.matches(e):m(e)(this)}synonyms(){if(this.inner()){var e;let t=null!=(e=this.inner().plugin.synonyms)?e:[];return[this.id(),...t.map((e=>n.list_type(e)))]}var t;return[this.id(),...null!=(t=this.plugin.synonyms)?t:[]]}storable(){return this.plugin.storable}bindable(){return this.plugin.bindable}get_composer_input_type(){return this.plugin.composer_input_type}inner(){var e,t;return null==(e=(t=this.plugin).inner)?void 0:e.call(t)}inner_including_ranges(){if(this.plugin.inner)return this.plugin.inner();let e=/_range$/;return this.id().match(e)?c.get(this.id().replace(e,"")):this}is_range(){return null==this.plugin.inner&&/_range$/.test(this.id())}is_list(){return this.plugin.is_list}};function g(e){function t(t){return t.synonyms().includes(e.id())||e.synonyms().includes(t.id())}return t.display=()=>"a "+e.display(),t.display_for_issue=()=>e.display_for_issue(),t}function m(e){if("object"==typeof e&&"function"==typeof e.id)return g(e);if("string"==typeof e)return e.startsWith("!")?function(e){let t=t=>t.id()!==e;return t.display=()=>"anything but a "+c.get(e).display(),t}(e.slice(1)):"list*bindable"===e?c.compound:e.endsWith("*")?function(e){let t=e+".",r=e=>e.id().startsWith(t);return r.display=()=>"any "+c.get(e).display(),r}(e.slice(0,-1)):g(c.get(e));if("function"==typeof e)return e.display||(l.error("every matcher function must have a display function",{str_or_fn:e}),e.display=()=>"a thing"),e;throw new t.UnexpectedError("blank or invalid matcher",{str_or_fn:e})}c.Message=class{constructor(e,t,r){this.evaluate=this.evaluate.bind(this),this.evaluate_without_cast=this.evaluate_without_cast.bind(this),this._name=e,this.M=t,this.btype=r,this.fn=this.M.fn}is_not_found(){return this.M.not_found}no_composer(e){var t,r;return null==(t=(r=this.M).no_composer)?void 0:t.call(r,e)}has_args(){return null!=this.M.arg_btype}no_arg_no_properties(){return!this.has_args()&&"SlidableAtom"!==this.spot_data()}public_for_plugins(){return this.M.public_for_plugins}arg_btype(){return this.M.arg_btype?c.get(this.M.arg_btype):null}name(){return this._name}ret_btype_id(e){return"function"==typeof this.M.ret_btype?this.M.ret_btype(e):null!=(t=this.M.ret_btype)?t:"null";var t}ret_btype(e){return c.get(this.ret_btype_id(e))}check_for_errors(e,t){this.M.check_for_errors&&this.M.check_for_errors(e,t)}ret_btype_null(){return this.ret_btype(...arguments).get_bubble_null()}spot_data(){return this.M.spot_data}fields(e,t){var r,n,i;return null!=(r=null==(n=(i=this.M).fields)?void 0:n.call(i,e,t))?r:[]}field_names(){var e;if(this.M.fields&&!this.M.field_names)throw new t.UnexpectedError("missing field_names for message "+this._name);return null!=(e=this.M.field_names)?e:{}}description(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="function"==typeof this.M.description?this.M.description(e,r):this.M.description,i=/^'s /;return t&&n.match(i)?n.replace(i,""):n}filter_context(e){if("PrivacyRole"===e.owner_type){if(!1===this.M.privacy_condition_okay)return!1;let e=this.M.build_pg_constraint,t=this.M.build_pg_relationship&&this.M.build_pg_r_constraint;return!((!e||!t&&this.M.arg_btype)&&!["and_","or_"].includes(this._name))||this.is_lookup()}return("State"!==e.owner_type||!e.is_style||!["format_boolean","format_boolean_number"].includes(this._name))&&(!this.M.filter_context||this.M.filter_context(e))}is_lookup(){return this.M.is_lookup}get_lookup_name(){return"string"==typeof this.M.is_lookup?this.M.is_lookup:this._name}evaluate(e,t,r,n,i){let a=this.evaluate_without_cast(e,t,r,n,i);return this.is_lookup()?this.ret_btype(n).cast(a):a}evaluate_without_cast(e,t,r,n,i){var a;let o=null==e||null==(a=e._type)?void 0:a.call(e);return o&&o!==this.btype?this.ret_btype(n).get_bubble_null():this.is_lookup()?null==e||null==(s=e.child)||null==(l=(_=s.call(e,this.get_lookup_name())).get)?void 0:l.call(_):this.fn(e,t,r,n,i);var s,l,_}build_pg_relationship(e,t){return null==this.M.arg_btype?[this._name+" does not take args so no relationship"]:this.M.build_pg_relationship?[null,this.M.build_pg_relationship(e,t)]:["no pg relationship for "+this._name]}build_pg_constraint(e,t){return this.M.build_pg_constraint?[null,this.M.build_pg_constraint(e,t)]:["no pg constraint for "+this._name]}build_pg_r_constraint(e,t){return null==this.M.arg_btype?[this._name+" does not take args so no reversed"]:this.M.build_pg_r_constraint?[null,this.M.build_pg_r_constraint(e,t)]:["no pg reversed constraint for "+this._name]}no_frozen_state(e){var t;let{prev:r}=e;return"NodeList"===(null==r||null==(t=r.query)?void 0:t.t)||this.M.no_frozen_state}message_cache_id(e){var t,r;let{raw:n,properties:i}=e;return null==(t=(r=this.M).message_cache_id)?void 0:t.call(r,{raw:n,properties:i})}can_shortcircuit_args(){return this.M.can_shortcircuit_args}properties_for_pre_evaluation(e){let{_properties:t}=e;return this.M.properties_for_pre_evaluation?this.M.properties_for_pre_evaluation({_properties:t}):t}},c.any=e=>!0,c.any.display=()=>"any",c.saveable=function(e){var t,r;let n=null!=(t=null==e?void 0:e.custom_type())?t:{};return!(n.not_writeable||null!=(r=n.deleted)&&r.call(n)||"function"!=typeof n.writeable_fields)},c.saveable.display=()=>"anything saveable",c.saveable.get_name=()=>"saveable",c.compound=e=>e&&e.bindable(),c.compound.display=()=>"any thing",c.stringable=e=>(null==e?void 0:e.has_runmode_display())&&"null"!==e.id(),c.stringable.display=()=>"anything that can be printed as text",c.not_built_in=e=>/^(list\.)?custom/.test(e),c.not_built_in.display=()=>"anything that is not a built-in type",c.display_matcher=function(e){var t,r;let n=m(e);return null!=(t=null==(r=n.display_for_issue)?void 0:r.call(n))?t:n.display()}})),Gl=u(((e,t)=>{f();var r="0123456789bcdefghjkmnpqrstuvwxyz",n={};for(i=0;i<r.length;i++)n[r.charAt(i)]=i;var i,a=function(e,t,n){for(var i,a=[],o=0,s=0,l=0,_=90,u=-90,c=180,d=-180;a.length<n;)if(s%2==0?t>(i=(c+d)/2)?(l=1+(l<<1),d=i):(l=0+(l<<1),c=i):e>(i=(_+u)/2)?(l=1+(l<<1),u=i):(l=0+(l<<1),_=i),s++,5===++o){var p=r[l];a.push(p),o=0,l=0}return a.join("")},o=function(e){for(var t=!0,r=90,i=-90,a=180,o=-180,s=0,l=0,_=e.length;l<_;l++){var u=e[l].toLowerCase();s=n[u];for(var c=4;c>=0;c--){var d=s>>c&1;if(t){var p=(a+o)/2;1===d?o=p:a=p}else{p=(r+i)/2;1===d?i=p:r=p}t=!t}}return[i,o,r,a]},s=function(e,t){for(var r=90,n=-90,i=180,a=-180,o=0,s=(t=t||52)/2,_=0;_<s;_++)o=l(e,2*(s-_)-1),0===l(e,2*(s-_)-2)?r=(r+n)/2:n=(r+n)/2,0===o?i=(i+a)/2:a=(i+a)/2;return[n,a,r,i]};function l(e,t){return e/Math.pow(2,t)&1}var _=function(e){var t=o(e),r=(t[0]+t[2])/2,n=(t[1]+t[3])/2;return{latitude:r,longitude:n,error:{latitude:t[2]-r,longitude:t[3]-n}}},u=function(e,t){var r=_(e),n=r.latitude+t[0]*r.error.latitude*2,i=r.longitude+t[1]*r.error.longitude*2;return a(n,i,e.length)},c={encode:a,encode_uint64:function(e,t,r){r=r||52;for(var n,i=0,a=90,o=-90,s=180,l=-180,_=0;i<r;)_*=2,i%2==0?t>(n=(s+l)/2)?(_+=1,l=n):s=n:e>(n=(a+o)/2)?(_+=1,o=n):a=n,i++;return _},decode:_,decode_uint64:function(e,t){var r=s(e,t),n=(r[0]+r[2])/2,i=(r[1]+r[3])/2;return{latitude:n,longitude:i,error:{latitude:r[2]-n,longitude:r[3]-i}}},decode_bbox:o,decode_bbox_uint64:s,neighbor:u,bboxes:function(e,t,r,n,i){for(var s=a(e,t,i=i||9),l=a(r,n,i),c=_(s),d=2*c.error.latitude,p=2*c.error.longitude,f=o(s),h=o(l),g=Math.round((h[0]-f[0])/d),m=Math.round((h[1]-f[1])/p),v=[],y=0;y<=g;y++)for(var b=0;b<=m;b++)v.push(u(s,[y,b]));return v}};t.exports=c})),Xl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.SERVER_SIDE_MAX_REQUEST_PER_MINUTE=e.SAMPLE_VALUE_FRANCE=e.SAMPLE_VALUE=e.MAP_MAX_REQUEST_PER_MINUTE=e.GEOHASH_PRECISION=e.AUTOCOMPLETE_SERVER_SIDE_MAX_REQUEST_PER_MINUTE=void 0;e.SAMPLE_VALUE={lat:40.72743,lng:-74.00595,address:"175 Varick Street, New York, NY 10014, USA",components:{"street number":"175",street:"Varick Street",neighborhood:"Lower Manhattan",city:"New York","state code":"NY",state:"New York",county:"New York County","zip code":"10014",country:"United States","country code":"US"}};e.SAMPLE_VALUE_FRANCE={lat:49.19973,lng:.21102,address:"Coquainvilliers, France",components:{city:"Coquainvilliers","state code":"Lower Normandy",state:"Lower Normandy",country:"France","country code":"FR"}};e.MAP_MAX_REQUEST_PER_MINUTE=2;e.SERVER_SIDE_MAX_REQUEST_PER_MINUTE=6;e.AUTOCOMPLETE_SERVER_SIDE_MAX_REQUEST_PER_MINUTE=12;e.GEOHASH_PRECISION=15})),Hl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.geographic_distance=function(e,t,r){let n;n="miles"===r?3958:6371;let i=e=>e*Math.PI/180,a=i(t.lat-e.lat),o=i(t.lng-e.lng),s=i(e.lat),l=i(t.lat),_=Math.sin(a/2)*Math.sin(a/2)+Math.sin(o/2)*Math.sin(o/2)*Math.cos(s)*Math.cos(l),u=2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_));return n*u},e.google_fields=void 0,e.is_b_location=function(e){return null!=e&&null!=e.lat&&null!=e.lng},e.is_hashed=function(e){if("string"!=typeof e||e.length<=a.GEOHASH_PRECISION)return!1;let t=e.indexOf("/");if(-1===t||t!==a.GEOHASH_PRECISION)return!1;let r=e.substring(0,a.GEOHASH_PRECISION);return!/[^0-9b-hjkmnp-z]/.test(r)},e.rehydrate_b_location=function(e){return"string"==typeof e&&e.includes(i.HYDRATE_STRING)?t.rehydrate_tree(r.default.or_throw().db_instance(n.default.appname(),n.default.app_version()),e):e},e.round_lat_lng=function(e){null!=e&&e.lat&&null!=e&&e.lng&&(e.lat=Math.floor(1e4*e.lat)/1e4,e.lng=Math.floor(1e4*e.lng)/1e4)},e.to_json_components=function(e){let t={};for(let n in l){let i=function(){for(let t of o)for(let r of e.address_components)if(r.types.includes(t))return a.short?r.short_name:r.long_name;return null};var r;let a=l[n],o=null!=(r=a.google_field)?r:n;Array.isArray(o)||(o=[o]);let s=i();null!=s&&(t[n]=s)}return t},Ue();var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(fl()),r=o(qr()),n=o(Po()),i=cl(),a=Xl();function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var l={"room number":{google_field:"room"},floor:{},"street number":{google_field:"street_number"},street:{google_field:"route"},neighborhood:{},premise:{},subpremise:{},city:{google_field:["locality","sublocality","postal_town"]},"state code":{google_field:"administrative_area_level_1",short:!0},state:{google_field:"administrative_area_level_1"},county:{google_field:"administrative_area_level_2"},"zip code":{google_field:"postal_code"},country:{},"country code":{google_field:"country",short:!0}};e.google_fields=l})),Vl=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.get_from_cache=function(e,r){let n=r(e);return t[n]},e.request_geocode=function(e,r,n,i,a){let o=i(e);return t[o]||a(e,r,(e=>{t[o]=e,null!=e&&(t[e.address]=e)}),n),t[o]};var t={}})),Yl=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.init=function(e,n){if(void 0!==t&&t.prev_category!==e)throw new r.UnexpectedError("Conflicting initializes called!",{category:e,prev_category:t.prev_category});t={...n,prev_category:e}},e.request_autocomplete=function(e,n){if(void 0===t)throw new r.UnexpectedError("Request Autocomplete called before init!");return t.request_autocomplete(e,n)},e.request_from_cache=function(e){if(void 0===t)throw new r.UnexpectedError("Request from cache called before init!");return n.get_from_cache(e,t.localization_hasher)},e.request_geocode=function(e,i,a){if(void 0===t)throw new r.UnexpectedError("Request Geocode Called Before Init!");return n.request_geocode(e,i,a,t.localization_hasher,t.request_geocode)},e.request_timezone=function(e){if(void 0===t)throw new r.UnexpectedError("Request Timezone Called before init");return t.request_timezone(e)};var t,r=it(),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(Vl());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}})),Kl=u(((e,t)=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0});var r={ensure_valid_location:!0,convert_to_old_format:!0,convert_to_new_format:!0,is_equal:!0,get_address:!0,get_components:!0,from_address:!0,from_place_id:!0};e.convert_to_new_format=p,e.convert_to_old_format=function(e){var t;let r,n=(e,t)=>Math.round(e*Math.pow(10,t))/Math.pow(10,t);return r=e.components?"/"+JSON.stringify(e.components):null!=e.address?"/"+JSON.stringify(g(e)):"",i.encode(n(e.lat,5),n(e.lng,5),s.GEOHASH_PRECISION)+"/"+(null!=(t=e.address)?t:"")+r},e.ensure_valid_location=d,e.from_address=function(e,t){return null!=t||(t=!1),d(e)?d(e):""===e||"string"!=typeof e?e:m("geocode",{address:e},{alert_on_failure:t})},e.from_place_id=function(e,t){return null!=t||(t=!1),""===e||"string"!=typeof e?e:m("geocode",{place_id:e},{alert_on_failure:t})},e.get_address=function(e){return h(e,(e=>{var t;return null!=(t=null==e?void 0:e.address)?t:""}))},e.get_components=g,e.is_equal=function(e,t){let r=d(e);null!=r&&(e=r.address);let n=d(t);return n&&(t=n.address),e===t};var n=c(qr()),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(Gl()),a=c(Nt()),o=Hl();Object.keys(o).forEach((function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var s=Xl(),l=Yl(),_=Kt();function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return(0,o.is_hashed)(e)?p(e,t):(0,o.is_b_location)(e)?e:null}function p(e,t){let r,n=e.split("/")[0],{latitude:a,longitude:o}=i.decode(n),s=e.split("/")[1];return t||(r=g({lat:a,lng:o,address:s})),{lat:a,lng:o,address:s,components:r}}function h(e,t,r){return null==e||""===e?t(null):((0,o.is_hashed)(e)&&(e=p(e)),t(e)?("string"==typeof e&&(0,_.info)("Unexpected, successfully extracted from string!",{location:e}),t(e)):(null!=r||(r=!1),t("string"==typeof e?m("geocode",{address:e},{throw_not_ready:r}):m("geocode_latlong",e,{throw_not_ready:r}))))}function g(e,t){return h(e,(e=>null==e?void 0:e.components),t)}function m(e,t,r){if(null!=r||(r={}),null==t.place_id&&null==t.address&&null==t.lat&&null==t.lng)return null;let i={request_type:e,language:n.default.or_throw().app_language(),...t};return(0,o.round_lat_lng)(i),(0,l.request_geocode)(i,(function(e){let{formatted_address:t}=e,r=(0,o.to_json_components)(e);function n(e){return"function"==typeof e?e():e}return{lat:n(e.geometry.location.lat),lng:n(e.geometry.location.lng),address:t,placeId:e.place_id,components:r}}),r)}a.default.safe_register("./geolocation/b_location",t.exports)})),Jl=u((e=>{"use strict";f(),Ue();var t=ot(),r=fl(),n=ql(),i=Ul(),a=Fl(),o=Kl(),s=e,l=100;s.sort_constraints=function(e){return e.sort(((e,t)=>{var n,i;let a=s.can_execute_in_memory(e);if(a!==s.can_execute_in_memory(t))return a?1:-1;let o=String(e.key)+e.constraint_type+JSON.stringify(r.dehydrate_tree(null!=(n=e.value)?n:null)),l=String(t.key)+t.constraint_type+JSON.stringify(r.dehydrate_tree(null!=(i=t.value)?i:null));return o<l?-1:l<o?1:0})),e};var _={equals:!0,"not equal":!0,is_empty:!0,is_not_empty:!0,in:!0,"not in":!0,contains:!0,"not contains":!0,empty:!0,"not empty":!0,"greater than":!0,gte:!0,"less than":!0,lte:!0,"not true":!0};s.can_execute_in_memory=function(e){if(e.key===i.ADVANCED_SEARCH_CONSTRAINT)return!0;if(["or","and"].includes(e.constraint_type)){for(let t of e.opts)if(!s.can_execute_in_memory(t))return!1;return!0}return _[e.constraint_type]},s.use_geographic_sorting=function(e,t){for(let r of null!=t?t:[]){if(null==r.sort_field||"object"!=typeof r.sort_field)continue;let t=a.get(e).get_message(r.sort_field.location_field);if(t&&"geographic_address"===t.ret_btype().id()&&o.ensure_valid_location(r.sort_field.geo_reference,!0))return!0}return!1};var u=[];s.add_bad_in_memory_sort=e=>u.push(e),s.can_sort_locally=function(e,t,r){if(s.use_geographic_sorting(e,t))return!1;for(let e of null!=t?t:[])if(e.sort_field===i.RANDOM_SORTING)return!1;if(u.length>0){let n=JSON.stringify({type:e,sorts_list:t,constraints:r});for(let e of u)if(e===n)return!1}return!0},s.QueryPlanner=class{constructor(){this.root={}}update(e,t,r,n,i){var a,o;s.sort_constraints(t);let l=null!=(o=(a=this.root)[e])?o:a[e]={type:e,constraints:[]};for(let r=0;r<t.length;r++){var _,u,c,d;let n=t[r];null!=(_=l).children||(_.children={}),l=null!=(d=(u=l.children)[c=JSON.stringify(n)])?d:u[c]={type:e,constraints:t.slice(0,+r+1||void 0)}}var p,f,h,g,m,v,y;null!=r&&(null!=(p=l).searches||(p.searches={}),l=null!=(g=(f=l.searches)[h=JSON.stringify(r)])?g:f[h]={type:e,constraints:t,sorts_list:r});null!=n.from&&(null!=(m=l).from||(m.from=l.loaded),null!=(v=l).has_gaps||(v.has_gaps=null!=l.loaded&&(n.from>l.loaded+1||l.from>n.loaded+1)),l.from=Math.min(null!=(y=l.from)?y:1/0,n.from));for(let e in n){let t=n[e];"from"!==e&&(!i||null==l[e]||t>l[e])&&(l[e]=t)}}get_stats(e,t,r){s.sort_constraints(t);let n=this.root[e];if(null==n)return null;for(let e=0;e<t.length;e++){var i;let r=t[e];if(null==(i=n.children)||!i[JSON.stringify(r)])return null;n=n.children[JSON.stringify(r)]}var a,o;return null!=r?null!=(a=n.searches)&&a[JSON.stringify(r)]?null==(o=n.searches)?void 0:o[JSON.stringify(r)]:null:n}node_to_search(e,t){var r;return{t:"CallSearch",type:e.type,constraints:e.constraints,sorts_list:null!=(r=e.sorts_list)?r:t}}pick_search(e,r,i,a){s.sort_constraints(r);let o,_,u=!s.can_sort_locally(e,i,r),c=JSON.stringify(i),d=(e,i,o)=>{let _,p,f=()=>o.concat(r.slice(i));if(_=!(r[i]&&!s.can_execute_in_memory(r[i])),null!=e.length&&e.length<l&&_){if(!e.searches)return[e,f(),!0];if(e.searches[c])return[e.searches[c],f(),!0];if(!u)for(let t in e.searches)return[e.searches[t],f(),!0]}if(e.children&&r.length>i){let t=null;for(let n=i;n<r.length;++n)if(e.children[JSON.stringify(r[n])]){let a=e.children[JSON.stringify(r[n])],l=n+1,_=o.concat(r.slice(i,n)),u=!1;for(let e of _)if(!s.can_execute_in_memory(e)){u=!0;break}if(u)break;let c=d(a,l,_);if(null!=c){if(c[2])return c;(null==t||c[1].length<t[1].length)&&(t=c)}}if(null!=t)return t}if(e.searches&&_)for(let r in e.searches){var h,g;if(p=e.searches[r],u&&r!==c)continue;let{loading_to:i}=p;if(null!=e.length&&e.length<p.loading_to&&(i=e.length),(i-(null!=(h=p.loaded)?h:0))/n.MAX_SEARCH_CHUNK>3)continue;if(null==e.length&&t.on_client()){if(null!=a&&a<l)continue;if(p.loaded<l)return[p,f(),!1];continue}let o=e.length-(null!=(g=p.loaded)?g:0);if(!(null!=a&&o>1.5*a)){if(p.loading_to>.5*e.length&&o<3*n.MAX_SEARCH_CHUNK)return[p,f(),!1];if(o<200)return[p,f(),!1]}}return null},p=this.root[e]?d(this.root[e],0,[]):null;if(null!=p){let e;[e,o]=p,_=this.node_to_search(e,i)}else o=[],_={t:"CallSearch",type:e,constraints:r,sorts_list:i};return{search:_,leftover:o}}}})),Zl=u(((e,t)=>{"use strict";f();var r=Lo(),n=fl(),i=Jl(),a=Nt();t.exports={CurrentUser:()=>"CurrentUser",Message(e){let{prev:t,arg:i,message:a,properties:o,additional:s,prior_btype_id:l}=e;return null!=t||(t=null),null!=i||(i=null),null!=o||(o={}),null!=s||(s=""),"Message_"+[r.json_stringify(n.dehydrate_tree(t)),a,r.json_stringify(n.dehydrate_tree(i)),r.json_stringify(n.dehydrate_tree(o)),s,l].join("_")},CurrentPageItem:()=>"CurrentPageItem",CurrentWorkflowItem:()=>null,PageData:e=>"Current Date/Time"===e?null:"PageData_"+e,APIEventParameter:e=>"APIEventParameter_"+e,ElementParent:()=>"ElementParent",ElementAncestor:()=>"ElementAncestor",CurrentCellsIndex:()=>"CurrentCellsIndex",ThisElement(){},PreviousStep:e=>"PreviousStep_"+e,Search:(e,t,a)=>"Search_"+function(e,t,a){return r.json_stringify(n.dehydrate_tree({type:e,constraints:i.sort_constraints(Object.values(null!=t?t:{}).filter((e=>null!=e))),sorts_list:a}))}(e,t,a),GetDataFromAPI:e=>"GetDataFromAPI_"+JSON.stringify(n.dehydrate_tree(e)),ArbitraryText:e=>"ArbitraryText_"+JSON.stringify(n.dehydrate_tree(e))},a.safe_register("./lang/evaluation/state_keys",t.exports)})),Ql=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=e.make_partial_expression_evaluator=e.evaluate_properties=e.evaluate_json=e.evaluate=e.create_reduced=void 0,Ue();var t=w(ul()),r=b(Lo()),n=b(Lr()),i=b(fl()),a=b(Kt()),o=(b(wl()),b(cl())),s=b(Al()),l=b(Il()),_=b(Dl()),u=kl(),c=(b(jl()),b(Bl())),d=b(Zl()),p=b(Fl()),h=w(qr()),g=b(Kl()),m=b(xl()),v=w(Ml());function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function w(e){return e&&e.__esModule?e:{default:e}}var{S:A}=m,E={},M=function(e,t,r){null!=e||(e={});let n={};if(r===s.DETECT_FIELD_NAMES)for(let r in e){let i=e[r],[a,o]=x(i,t,null,null);if("reduced"===o)return E;n[m.expand(r)]=a}else for(let i in r){let a=e[m.shrink(i)],s=r[i].default;switch(r[i].prop_type){case o.EVAL_TYPE.thunk:n[i]=e=>{null!=e||(e=t);let[r,n]=x(a,e,null,s);return"reduced"===n?E:r};break;case o.EVAL_TYPE.skip:continue;case o.EVAL_TYPE.value:default:{let[e,r]=x(a,t,null,s);if("reduced"===r)return E;n[i]=e}}}return n};e.evaluate_properties=M;e.evaluate_json=(e,t,r,n)=>x(e._raw(),t,r,n);var x=function(e,t,o,s,l){if(null==e)return[s,"null"];let f=e[A.type];if(f)switch(f){case"Empty":return[s,"null"];case"Message":return function(e,t,i,o){var s,l;let _,u,c=e[A.name],f="reduced"!==o?p.get(o):void 0,h=null==f?void 0:f.get_message(c),g=null!=(s=null==h||null==(l=h.ret_btype(e))?void 0:l._id)?s:"null",m=null==h?void 0:h.can_shortcircuit_args(),v=null==m?void 0:m(i),y=e[A.args];if(v?[_,u]=[null,"null"]:null!=y&&([_,u]=x(y,t,null,null)),"reduced"===u||"reduced"===o){if(["and_","or_"].includes(c)&&("reduced"!==u||"reduced"!==o)){let r,n;return"reduced"!==u?(r=k(_),n=i):(r=k(i),n=_),function(e,t,r,n,i){let a,o;return!0!==t&&(t=!1),"and_"===e&&!1===t?(o=!1,a="sys.bool"):"or_"===e&&!0===t?(o=!0,a="sys.bool"):(o=r,a="reduced"),null!=n?x(n,i,o,null,a):[o,a]}(c,r,n,e[A.next],t)}return i=S(i,o),T(e,t,i)}if(!h||h.is_not_found())return[null,"null"];if(null==h.ret_btype?a.warn("message missing ret_btype"):h.ret_btype().cast||a.warn("message has a ret_btype that cannot cast"),"function"!=typeof h.field_names)throw new r.UnexpectedError("Message does not have field_names()",{message_name:c,prior_btype_id:o,field_names:h.field_names});let b,w=h.properties_for_pre_evaluation({_properties:e[A.properties]}),N=h.field_names(),C=M(w,t,N);if(C===E)return i=S(i,o),T(e,t,i);if(h.no_frozen_state({prev:i}))b=null;else{let t=h.message_cache_id({raw:e,properties:C});b=d.Message({prev:i,arg:_,message:c,properties:C,additional:t,prior_btype_id:o})}function L(){n.optional_pause("pre-message "+c);let r=h.evaluate(i,_,C,e,t);return n.optional_pause("post-message "+c),r}return O(b,L,g,e,t)}(e,t,o,l);case"TextExpression":return function(e,t){let n=e[A.entries],i=(0,u.raw_to_child_names)(n),o=[],s=[],l=!1;for(let e of i){let i=n[e],[u,d]=x(i,t,null,null);if("reduced"===d)l=!0;else{let e=p.get(d),n=e.has_runmode_display(),i=n?e.runmode_display(u,t):"";if(!n&&r.is_debug_mode()&&"null"!==e.id()){var _;let e=e=>null==e?void 0:e.fields,t=c.get_current_eval_node(),r=null==t?void 0:t.owner,n=null==t?void 0:t.context_element(),i=e(r)?`property ${String(null==(_=r.field(t.node_name()))?void 0:_.caption)}`:"a property";a.owner_warn("trying to display a text value that cannot be displayed as text",{display:`"${String(null==n?void 0:n.display())}" - parts of property ${i} cannot be displayed as text, and will be omitted.`})}o.push(i)}s.push([u,d])}return l?[{[A.type]:"TextExpression",[A.entries]:s.map((e=>{let[t,r]=e;return S(t,r)}))},"reduced"]:[o.join(""),"text"]}(e,t);case"GeoAddress":return function(e){return[g.ensure_valid_location(e[A.val]),"geographic_address"]}(e);default:return"InjectedValue"===f&&t.reduce_mode?function(e,t){return N({[A.type]:"InjectedValue"},e[A.next],t)}(e,t):function(e,t,r){var n;let i=null!=(n=h.default.or_throw().load_plugin(`${h.default.or_throw().plugin_prefixes.datasource}${e}`,!0))?n:_.missing_datasource(e),o=M(t[A.properties],r,i.field_names);if(o===E)return function(e,t,r){let n,i=t[A.properties];return i&&(n={},Object.entries(i).forEach((e=>{let[t,i]=e,[a,o]=x(i,r,null,null);n[t]=S(a,o)}))),N({[A.properties]:n,[A.type]:e},t[A.next],r)}(e,t,r);let s=i.get_unique_string(o,r.element),l=i.get_runmode_value(t,r,o);function u(){let e=p.get(l),n=null!=e&&e.is_missing()?void 0:e.id();return n&&l&&n!==l&&a.warn("bad btypes.get in eval_data_source",{post_ret_btype_id:n,ret_btype_id:l}),i.evaluate(o,r,e,t)}return null==l&&"Dehydrated"!==e&&a.warn("Missing ret_btype_id in data eval_data_source",{_raw:t,type:e}),O(s,u,l,t,r)}(f,e,t)}return"object"==typeof e?function(e,t){if(i.is_json_class(e))return[e];let r={},n={},a=!1;for(let i in e){let o=e[i],[s,l]=x(o,t,null,null);"reduced"===l&&(a=!0),r[m.expand(i)]=s,n[i]=[s,l]}if(a){let e={};for(let t in n){let[r,i]=n[t];e[t]=S(r,i)}return[e,"reduced"]}return[r]}(e,t):[e,_.lit_eval_value(typeof e)]};e.evaluate=x;function O(e,r,n,i,s){function l(){var s;let l=null!=(s=r())?s:null;if(null!=l&&l[o.NV_MARKER])return;let _=p.get(n),u=_.cast(l);var d,f,h;(0,t.default)(l,u)||a.warn("cast resulted in change",{cast:{before:l,before_constructor:null!=(d=null==l?void 0:l.constructor.name)?d:typeof l,before_to_string:String(l),after:u,after_constructor:null!=(f=null==u?void 0:u.constructor.name)?f:typeof u,after_to_string:String(u),value_id:_.id()},state_key:e,_raw:i,current_eval_node:null==(h=c.get_current_eval_node())?void 0:h.serialize()});return u}let _,{frozen_state:u}=s;e&&u?u.has_key(e)?_=u.get(e):(_=l(),u.set(e,_),u.trust(e)):_=l();let d=i[A.next];return null!=d?x(d,s,_,null,n):[_,n]}function k(e){return"Dehydrated"!==(null==e?void 0:e[A.type])||null!=(null==e?void 0:e[A.next])?e:i.rehydrate_tree(h.default.or_throw().db_instance(),e[A.properties][A.val])}e.reduce=function(e,t,n){(t=r.extend({},t,{reduce_mode:!0})).duplicated_from_context=t.object_id,t.object_id=r.UUID(),t.duplicated_at="evaluate.reduce";let[i,a]=x(e,t,null,null);return n?k(i):S(i,a)};var S=_.create_reduced;function T(e,t,n){let i,a=e[A.name];if(null!=e[A.args]){let[r,n]=x(e[A.args],t,null,null);i=S(r,n)}let o,s=e[A.properties];return s&&(o={},Object.entries(s).forEach((e=>{let[r,n]=e,[i,a]=x(n,t,null,null);o[r]=S(i,a)}))),N(function(e,t){let n=e=r.json_deep_copy(e);for(;n[A.next];)n=n[A.next];return n[A.next]=t,e}(n,{[A.name]:a,[A.properties]:o,[A.args]:i,[A.type]:"Message"}),e[A.next],t)}function N(e,t,r){return null==t?[e,"reduced"]:x(t,r,e,null,"reduced")}e.create_reduced=S;e.make_partial_expression_evaluator=function(e){let t=l.get(v.default.MESSAGE_NODE);return function n(i){let[a,o]=i instanceof t?n(i.prior()):[void 0,void 0],s=r.json_deep_copy(i.json._raw());null==s||delete s[A.next];try{return e.is_in_partial=!0,x(s,e,a,null,o)}finally{e.is_in_partial=!1}}}})),e_=u((e=>{"use strict";f();var t=e,r={Search:!0,GetDataFromAPI:!0,CurrentPageItem:!0,CurrentUser:!0};t.isDataFetchExpression=e=>e.type()in r;var n={ElementParent:!0,GetElement:!0};t.isElementReferenceExpression=e=>e.type()in n})),t_=u(((e,t)=>{"use strict";f();t.exports=class{}})),r_=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Lr(),n=ot(),i=cl(),a=ql(),o=dl(),s=pl(),l=rt(),_=Kt(),u=xr(),c=fl(),d=it(),p=e,h=null;p.set_lang_btypes=e=>h=e,p.lang_btypes=()=>h,p._is_geographic_object=function(e,t){return t&&"string"==typeof t?"geographic_address"===t:e.lat&&e.lng&&!e._id},p.resolve_sorts=function(e,t){let r=[];for(let n of null!=e?e:[])n&&(n.self||n.sort_on_id||n.sort_field&&(t||"object"!=typeof n.sort_field))&&r.push(n);return r},p.ObjectBase={exists(){return null!=this.raw()},_id(){return this.id},_type(){let e=this.db._get_type(this.id);return e||(this.raw(),e=this.db._get_type(this.id)),e},parent_id(){return this.id},dehydrate(){return i.HYDRATE_STRING+this.id},get(){return this},key(){return this.id},flush(){this.db.flush(this.id)},child(e){return this._child(e.split("."))},_child(e){return new this.db.DBNODE(this,e,this.db)},get_email(){return p.email_getter(this)},is_logged_in(){var e;return null!=(e=this.child("user_signed_up").get())&&e},maison_by_default(){var e;return null!=(e=this.child("maison_by_default_boolean").get())&&e},poll(e,t){if(!n.running_test())return this.db._local(this._id()).poll(e,t);console.log("Polling turned on, but disabling it because this is a test")}},p.email_getter=function(e){let t=e.child("authentication").child("email").child("email").raw();if(t)return t;let r=e.child("authentication").raw();for(let e in r){let t=r[e];if(null!=t.email)return t.email}return null},p.get_temp_db=function(e,t){return e&&-1!==e.indexOf(":")?e.split(":")[0]===t?e.split(":")[1]:void 0:e},p._static_get=function(e,t,r){if(o.is(e,s.DYNAMIC))return e;if(null!=e&&e.is_db_proxy||null!=e&&e.getTime)return e;let n=h.get(r);if(n.is_range())return n.cast(c.rehydrate(t,e));if(Array.isArray(e)){return"string"==typeof r&&(r=n.inner_including_ranges().id()),new(o.get(s.STATIC_LIST))(c.rehydrate_tree(t,e),t,r)}if(e&&"object"==typeof e){if(p._is_geographic_object(e,r))return e;if(c.is_json_class(e))return c.from_json(t,e);if(e._id){return new(o.get(s.STATIC_OBJECT))(e,t,r)}return new(o.get(s.STATIC_NODE))(e,t,r)}let i=c.rehydrate(t,e);return r?h.get(r).cast(i):i},p.can_group_with=function(e,t){switch(h.get(e).get_message(t).ret_btype_id()){case"number":return["exact","bucket"];case"date":return["exact"].concat(a.CALENDAR_GROUPINGS);default:return["exact"]}};p.can_group_on=function(e){let t=h.get(e).get_messages();return t=t.filter((e=>e.is_lookup())),t=t.filter((e=>(e=>["text","number","date","user"].includes(e)||u.is_custom_type(e)||u.is_option_set(e))(e.ret_btype_id()))),t.map((e=>e.name()))},p.can_aggregate_on=function(e,t){if("count"===e)return[];let r=h.get(t).get_messages();return r=r.filter((t=>t.is_lookup()&&"number"===t.ret_btype_id()||"date"===t.ret_btype_id()&&["max","min","average","median"].includes(e))),r.map((e=>e.name()))},p.array_to_ids=function(e,n){return null!=h.get(e).custom_type()?n.map(((n,i)=>function(e,n,i){if(null==e)return null;if(n%10==0&&r.optional_pause(),"function"!=typeof e._id)throw new t.UnexpectedError("_id isnt function",{value_id:i,object_type:typeof e,obj_data:t.json_stringify(e,null,!0)});return e._id()}(n,i,e))):n.map(((e,t)=>function(e,t){return t%10==0&&r.optional_pause(),c.dehydrate_tree(e)}(e,t)))},p.is_timeout_error=function(e){return(e.message===l.TIMEOUT_MSG||e.code===l.USER_REQUESTED_CANCEL_CODE)&&e instanceof d.UnexpectedError},p.enrich_timeout_error=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p.is_timeout_error(e)){let r="Database query timeout";return t.label&&"[not found]"!==t.label&&(r=`Database query timeout on "${t.label}"`),new d.OwnerError(e.message,{...e.args,...t,display:r})}return e},p.coerce_to_integer=function(e,t){let r=Math.floor(e);return e!==r&&_.warn("consumer tried to pass non-integer value",{value:e,data_to_log:t}),r}})),n_=u(((e,t)=>{"use strict";f(),Ue();var r=er(),n=Lo(),i=Fr(),a=t_(),o=r_(),s=xr(),l=ql(),{MEBIBYTE:_}=Ct(),u=Ul(),c=pl(),d=dl(),p=Bl(),h=qr(),g=Dl(),m=fl(),v=class e extends a{constructor(e,t){if(super(),this.db=e,this.query=t,!this.db)throw new n.UnexpectedError("missing db");if(!this.query)throw new n.UnexpectedError("missing query");let r=p.get_current_eval_node();return r&&(this._creation_eval_node=r),this}_with_eval_node(e){if(p.get_current_eval_node()||!n.on_client()||!this._creation_eval_node)return e();try{return p.set_current_eval_node(this._creation_eval_node),e()}finally{p.set_current_eval_node(null)}}get_children(e,t){if(t<1)return[];e+t>l.ALL_MAX&&(t=l.ALL_MAX-e);let r=this._with_eval_node((()=>this.db.execute_with_dependency(this.query,e,t)));return this.db.array_to_objects(this.query,r)}all_ids(){let e=l.ALL_MAX,t={t:"Columns",columns:["_id"],prev:this.query};return this._with_eval_node((()=>this.db.execute_with_dependency(t,0,e)))}get_plan(e,t){return this.db.build_query_plan(this.query,e,t)}length(e){let t={t:"Length",prev:this.query,options:e};return this._with_eval_node((()=>this.db.execute_with_dependency(t,0,1)[0]))}length_or_zero(){var e;return null!=(e=this.length())?e:0}get_item_btype_id(){return this.db.get_plan_ret_btype(this.query)}filter(t,r){if(t=h().bv().resolve_constraints(t,r),0===(t=m.dehydrate_tree(t)).length)return this;for(let e of t)if("return_empty_set"===e.constraint_type)return h().db_instance().static_list(this.get_item_btype_id(),[]);let n={t:"Filter",constraints:t,prev:this.query};return new e(this.db,n)}minus_list(e){let t,r=o.lang_btypes().get(this.get_item_btype_id());if(r.custom_type()){let r=[];for(let t of e.all())null!=t&&r.push(t._id());t={key:u.UNIQUE_ID,constraint_type:"not in",value:r}}else{let i="is_not_contained_by_list";if(r.get_message(i).is_not_found())throw new n.UnexpectedError(`minus_list called on a value that doesn't have ${i}: ${r.id()}`);t={key:u.ADVANCED_SEARCH_CONSTRAINT,self:this.get_item_btype_id(),value:{"%x":"InjectedValue","%n":{"%x":"Message","%nm":i,"%a":g.create_reduced(e,s.list_type(r.id()))}}}}return this.filter([t])}with_extra_fields(t){if(!t||0===t.length)return this;let r={t:"ExtraFields",extra_field_names:t,prev:this.query};return this._with_eval_node((()=>new e(this.db,r)))}sort(t){if(0===(t=o.resolve_sorts(t,!1)).length)return this;let r={t:"Sort",sorts_list:t,prev:this.query};return new e(this.db,r)}sort_on_id(){return this.sort([{sort_field:"_id"}])}capped(t){let r={t:"Cap",max:t,prev:this.query};return new e(this.db,r)}offset(t){let r={t:"Offset",offset:t,prev:this.query};return new e(this.db,r)}to_json(){return{_class:"ListWrapper",query:this.query}}dehydrate(){return m.dehydrate_prefix("ListWrapper")+n.incremental_json_stringify(this.query)}get(){return this}all(){return this.get_children(0,l.ALL_MAX)}all_iteratively(e){let t;for(;t=this._iterate(t),t.batch.length;)e(t.batch)}_iterate(e){var t;let r=this._get_batch_size(e),n=this.get_children(null!=(t=null==e?void 0:e.index)?t:0,r);return this._create_next_cursor(e,n,r)}_get_batch_size(e){let t=_,r=l.MAX_SEARCH_CHUNK,n=e?Math.floor(t/e.average_item_byte_size):20;return Math.min(Math.max(n,1),r)}_create_next_cursor(e,t,r){let n=t.slice(0,20).filter((e=>null!=(null==e?void 0:e._id)));n.forEach((e=>e.precache()));let a=n.map((e=>e.raw())),o=i.incremental_json_length(a);if(e){let i=e.sample_count+n.length;return{batch:t,index:e.index+r,sample_count:i,average_item_byte_size:(e.average_item_byte_size*e.sample_count+o)/i}}return{batch:t,index:r,sample_count:n.length,average_item_byte_size:o/n.length}}make_static(){return this.db.static_list(this.get_item_btype_id(),this.all())}contains(e,t){let r={t:"Contains",prev:this.query,value_id:t.id(),item:m.dehydrate_tree(e)};return this._with_eval_node((()=>this.db.execute_with_dependency(r,0,1)[0]))}position(e,t){let r={t:"Position",prev:this.query,value_id:t.id(),item:m.dehydrate_tree(e)};return this._with_eval_node((()=>this.db.execute_with_dependency(r,0,1)[0]))}_length_compare(e,t,r){let n={t:"Compare",op:e,prev:{t:"Length",prev:this.query,options:r},n:t};return this._with_eval_node((()=>this.db.execute_with_dependency(n,0,1)[0]))}length_greater_than(e,t){return this._length_compare(">",e,t)}length_greater_or_equal_than(e,t){return this._length_compare(">=",e,t)}length_less_than(e,t){return this._length_compare("<",e,t)}length_less_or_equal_than(e,t){return this._length_compare("<=",e,t)}length_equals(e,t){return this._length_compare("===",e,t)}length_not_equals(e,t){return this._length_compare("!==",e,t)}_numeric_op(e,t){if("number"!==this.get_item_btype_id())return null;let r={t:"Numeric",prev:this.query,op:e,options:t};return this._with_eval_node((()=>this.db.execute_with_dependency(r,0,1)[0]))}_date_op(e,t){if("date"!==this.get_item_btype_id())return null;let r={t:"Numeric",prev:this.query,op:e,options:t};return this._with_eval_node((()=>new Date(this.db.execute_with_dependency(r,0,1)[0])))}sum(e){return this._numeric_op("sum",e)}product(e){return this._numeric_op("product",e)}average(e){var t;return null!=(t=this._numeric_op("average",e))?t:this._date_op("average",e)}median(e){var t;return null!=(t=this._numeric_op("median",e))?t:this._date_op("median",e)}min(e){var t;return null!=(t=this._numeric_op("min",e))?t:this._date_op("min",e)}max(e){var t;return null!=(t=this._numeric_op("max",e))?t:this._date_op("max",e)}flatten(){let t={t:"Flatten",prev:this.query};return new e(this.db,t)}list_cast(t){return t===this.get_item_btype_id()?this:new e(this.db,{t:"Cast",prev:this.query,value_id:t})}group_by(t){let{groupings:r,aggregations:i}=t,a=this.get_item_btype_id();r=r.map((e=>function(e){return null!=(e=n.extend({},e)).start&&(e.start=e.start.valueOf()),null!=e.end&&(e.end=e.end.valueOf()),e}(e)));for(let{message:e,fn:t,timezone_string:i}of r){if(!o.can_group_on(a).includes(e))throw new n.UnexpectedError("bad grouping message",{fn:t,value_id:a,message:e});if(null!=t&&!o.can_group_with(a,e).includes(t))throw new n.UnexpectedError("bad grouping function",{fn:t,value_id:a,message:e});if(l.CALENDAR_GROUPINGS.includes(t)&&null==i)throw new n.UnexpectedError("grouping fn "+t+" requires a timezone string")}for(let{fn:e,message:t}of i){if(!l.SUPPORTED_AGGREGATIONS.includes(e))throw new n.UnexpectedError("bad aggregation function: "+e);if(null!=t&&!o.can_aggregate_on(e,a).includes(t))throw new n.UnexpectedError("bad aggregation message",{fn:e,value_id:a,message:t})}let s={t:"GroupBy",groupings:r,aggregations:i,prev:this.query};return this._with_eval_node((()=>new e(this.db,s)))}is_equal_to(e){return!(!d.is(e,c.LIST_WRAPPER)||this.db!==e.db||this._creation_eval_node!==e._creation_eval_node)&&r(this.query,e.query)}};v.from_json=(e,t)=>{let{query:r}=t;return new v(e,r)},v.rehydrate=function(e,t){let r=n.incremental_json_parse(t);return new v(e,r)},t.exports=v})),i_=u((e=>{"use strict";f(),Ue(),Ft();var t=jl(),r=e;r.get_data_to_send=function(e,n){if(!e)return e;if(t.registry.is(e,t.STATIC_NODE))return null;if(e._id){let t,i,a=e.child("Slug").get();return null!=a&&""!==a?a:(t="function"==typeof e._id?e._id():e.id,n&&"function"==typeof e.child&&(i=e.child(n).get()),i?r.make_URL_friendly_string(i)+"-"+t:t)}return e};var n=/ /g,i=/[.,/#!$%^&*;':\\{}=_`~()<>?"@]/g,a=/\n/g,o=/\./g;r.make_URL_friendly_string=function(e,t){null!=t||(t=75);let r=e.split(" "),s=r[0];if(s.length>t)s=s.slice(0,+t+1||void 0);else for(let e of r.slice(1)){if(s.length+e.length>t)break;s+=" "+e}return s=s.toLowerCase().replace(n,"-").replace(i,"").replace(a,"-").replace(o,"-"),s}})),a_=u((e=>{"use strict";f();var t=qr(),r=qa(),n=i_(),i=Fl(),a=Zt(),{re:o}=Ur(),s=e;s.MAX_SLUG_LENGTH=250;var l=o`^(.*-)?${a.uuid_regexp}$`;s.bad_slug_formatting_message=function(e){if(e.length>s.MAX_SLUG_LENGTH)return`The slug value that you have entered contains more than ${s.MAX_SLUG_LENGTH} characters. A slug should have less than ${s.MAX_SLUG_LENGTH} characters.`;if(e.match(l))return"The slug value that you have entered is not correctly formatted. A slug can't end with a Thing's unique ID.";return e!==n.make_URL_friendly_string(e,s.MAX_SLUG_LENGTH)?"The slug value that you have entered is not correctly formatted. A slug should be composed of only lowercase letters, digits, or hyphens.":null},s.format_correctly=function(e){return(e=n.make_URL_friendly_string(e,s.MAX_SLUG_LENGTH)).length>s.MAX_SLUG_LENGTH&&(e=e.substring(0,s.MAX_SLUG_LENGTH)),e},s.get_thing_from_slug=function(e){let{appname:r,app_version:n,type:a,slug_value:o,ignore_privacy_rules:s}=e;return null==a||null==o?null:t.extend({appname:r,app_version:n,ignore_privacy_rules:s},(()=>{var e,r;let n=i.get(a);if(null==n||null==(e=n.custom_type())||!e.exists())return null;let s=t().db_instance().find(a,[{key:"Slug",constraint_type:"equals",value:o}]).get_children(0,1);return null!=(r=null==s?void 0:s[0])?r:null}))},s.get_thing_id_from_slug=function(e){let{appname:t,app_version:r,type:n,slug_value:a,ignore_privacy_rules:o}=e,l=s.get_thing_from_slug({appname:t,app_version:r,type:n,slug_value:a,ignore_privacy_rules:o});if(null!=l)return l.id;let _=i.get(n).get_sample();return a===(null==_?void 0:_.child("Slug").get())?_._id():null},s.is_slug_unique=function(e){let{appname:t,app_version:r,type:n,slug_value:i,thing:a,ignore_privacy_rules:o}=e;if(null==i||""===i)return!0;let l=s.get_thing_id_from_slug({appname:t,app_version:r,type:n,slug_value:i,ignore_privacy_rules:o});return null==l||(null==a?void 0:a._id())===l},s.is_slug_valid=function(e,t,r,n,i){return null==n||""===n||null==s.bad_slug_formatting_message(n)&&s.is_slug_unique({appname:e,app_version:t,type:r,slug_value:n,thing:i})},s.create_slug_watcher=function(){let e=r.Watcher((()=>t().pageparam.get())),i=null,a=null;e.on_value((e=>{var o;null==(o=a)||o.destroy(),null!=e&&null!=t().location.get_slug_in_url()?(i=e.id,a=r.Watcher((()=>e.child("Slug").get())),a.on_value((r=>{let o;if(i!==e.id)return;if(null!=r&&""!==r)o=r;else{var s;let r=t().location.get_underlying_page(),l=t().app().get_page_by_name(r);o=n.get_data_to_send(e,l.get_static_property("readable_field")),null==(s=a)||s.destroy(),i=null,a=null}let l=t().location.get_pieces();if(l.path[1]!==o){l.path[1]=o;let e=t().location.format_pieces(l);t().location.set_url_without_refresh({url:e})}}))):(i=null,a=null)}))}})),o_=u((e=>{"use strict";f();var t=qr(),r=a_(),n=e;n.get_page_thing_id=e=>{var t;let r=e.get_unique_id_in_url();if(null!=r)return r;let i=n.get_unique_id_from_slug_in_url(e);if(null!=i)return i;let{path:a}=e.get_pieces();return a&&null!=a[1]?a[1]:null==(t=e.get_query())?void 0:t.id},n.page_has_a_thing=e=>null!=e.get_unique_id_in_url()||null!=e.get_slug_in_url(),n.get_unique_id_from_slug_in_url=e=>{let n=e.get_slug_in_url();if(null!=n){var i,a;let o=null==(i=t().app().get_page_by_name(e.get_underlying_page()))?void 0:i.get_static_property("page_item_type");return null!=(a=r.get_thing_id_from_slug({appname:t().appname(),app_version:t().app_version(),type:o,slug_value:n}))?a:null}return null},n.get_page_thing=e=>t().db_instance().get(n.get_page_thing_id(e))})),s_=u((e=>{"use strict";f(),Ue();var t=Ql(),r=Bl(),n=Ia(),i=qr(),a=e_(),o=Kt(),s=Io(),l=n_(),_=Br(),u=it(),c=o_(),d="Prefetch timed out",p={prefetch_attempted_nodes:0,prefetch_definite_successes:0,prefetch_possible_successes:0,prefetch_definite_failures:0,prefetchable_lists:0,prefetched_lists:0},h=e=>{if(Date.now()-e>100)throw new u.ExpectedError(d)},g=e=>e.type===s.Property||!a.isElementReferenceExpression(e.expression),m=e=>e.type!==s.Property&&!!a.isDataFetchExpression(e.expression),v=(e,n)=>_.traceSpan("startPrefetching",{},(()=>{let a=Date.now(),_=(()=>{let e=c.get_page_thing_id(i().location);return{datasources:{current_user:()=>i().current_user(),current_page_item(){if(e)return i().db_instance().get(e)}}}})();(e=>{let t=e.getNodeIds();for(let r of t){let t=e.getNode(r);t&&e.setLabel(r,"isEvaluable",g(t))}})(e),h(a),n&&(e=>{let t=e.getNodeIds();for(let r of t){let t=e.getNode(r);t&&e.setLabel(r,"isDataFetch",m(t))}})(e),(e=>{let t=e.getNodeIds();for(let r of t){let t=e.getNode(r);if(t&&t.type===s.Property&&"data_source"===t.expression.node_name()){let n=t.expression.owner;if("RepeatingGroup"===n.type()&&"limit_items"===n.get_static_property("layout_style")){let i=n.get_static_property("rows",!0)*n.get_static_property("columns",!0);e.setLabel(r,"listLengthDemand",i);let a=t.topLevelExpressionId;e.setLabel(a,"listLengthDemand",i)}}}})(e),h(a),(e=>{let t=e.getEvaluationOrder();for(let r of t){let t=!0;t=!1!==e.getLabel(r,"isEvaluable")&&e.getDependencies(r).every((t=>e.getLabel(t,"isPrefetchable"))),e.setLabel(r,"isPrefetchable",t)}})(e),h(a),e.getEvaluationOrder().map((t=>e.getNode(t))).filter((e=>void 0!==e)).filter((t=>((e,t)=>m(t)&&e.getLabel(t.id,"isPrefetchable"))(e,t))).forEach((s=>{h(a),((e,n,a,s)=>{let _=n.expression;p.prefetch_attempted_nodes++;let c,d=i().db_instance().get_all_time_queued_fetches(),f=((e,t)=>{let r=e.getNode(t.containingPropertyNodeId);return null==r?void 0:r.expression})(e,n);try{let[i]=r.with_eval_node(f,(()=>t.evaluate_json(_.json,a)));if(i instanceof l){p.prefetchable_lists++;let t=e.getLabel(n.id,"listLengthDemand");t&&(p.prefetched_lists++,i.get_children(0,t))}}catch(e){c=e}i().db_instance().get_all_time_queued_fetches()>d?p.prefetch_definite_successes++:!c||c instanceof u.NotReadyError?(p.prefetch_possible_successes++,s&&o.info("Prefetch possible success",{node:n})):(p.prefetch_definite_failures++,o.info("Prefetch evaluation threw unexpected error",{eval_error:c}),s&&o.info("Prefetch definite failure",{node:n}))})(e,s,_,n)})),i().db_instance().prefetch_queued_fetches()}));e.prefetchData=()=>_.traceSpan("prefetchData",{},(()=>{let e={},t=null;try{let r="true"===i().location.get_query().prefetch;if(r||Math.random()<.01){t="PREFETCHING_SUCCESS";let n=i().ddg();if(n)try{v(n,r)}catch(e){if(e.message!==d)throw e;t="PREFETCHING_TIMED_OUT"}else t="DDG_GENERATION_FAILED";let a=i().db_instance().get_prefetched_request_counts();e={...p,prefetch_msearch_request_count:a.msearch,prefetch_mget_request_count:a.mget,prefetch_maggregate_request_count:a.maggregate},r&&o.info("Prefetch metrics",e)}}catch(e){o.info("Unexpected error in DDG prefetch",{e:e}),t="PREFETCHING_ERROR"}e.experiment_flag=t,n.addEpochLabels(e)}))})),l_=u((e=>{"use strict";f();var t=Do(),r=s_(),n=Kt(),i=e;i.instance=e=>{let r;return()=>{if(void 0===r)try{r=new t(e)}catch(e){r=null,"DDG construction timed out"===e.message?n.debug("DDG construction timed out"):n.info("Unexpected error while constructing DDG",{e:e})}return r}},i.DataDependencyGraph=t,i.optimizations=r})),__=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.getLibFactory=r,e.getNamedLib=function(e,t){return r().getLib(e,t)},Ue(),Ze();var t;function r(){return null!=t||(t=new class{constructor(){this._libCreators=new Map,this._libExtenders=new Map}registerLibCreator(e,t,r){this._libCreators.set(e,t),r&&this.registerLibExtender(e,r)}registerLibExtender(e,t){this._libExtenders.set(e,t)}_unpackAppname(e){if(e&&null!=e.appname&&"object"==typeof e.appname){let{appname:t,app_version:r,temp_db:n}=e.appname;e.appname=t,e.app_version=r,e.temp_db=n}return e}getLib(e,t){let r=this._libCreators.get(e);if(r)return r(t=this._unpackAppname(t));throw new Error(`No lib creator registered for ${e}`)}getPartialLib(e,t){let r=this._libExtenders.get(e);if(r)return r(t=this._unpackAppname(t));throw new Error(`No lib extender registered for ${e}`)}libCaller(e){return"wither"in e?e.wither(this.getLib(e.libName,e.libParams),e.fn):e.extender(this.getPartialLib(e.libName,e.libParams),e.fn)}}),t}})),u_=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(e){return e&&e.__esModule?e:{default:e}}(qr()),r=__();e.default=class{constructor(e){this._libName=e}get(){return(0,r.getLibFactory)().getLib(this._libName)}with(e,n){return(0,r.getLibFactory)().libCaller({libName:this._libName,libParams:n?e:void 0,fn:null!=n?n:e,wither:t.default.with_lib})}extend(e,n){return(0,r.getLibFactory)().libCaller({libName:this._libName,libParams:n?e:void 0,fn:null!=n?n:e,extender:t.default.extend})}ensure(e,n){return(0,t.default)()?(0,r.getLibFactory)().libCaller({libName:this._libName,libParams:n?e:void 0,fn:null!=n?n:e,extender:t.default.extend}):(0,r.getLibFactory)().libCaller({libName:this._libName,libParams:n?e:void 0,fn:null!=n?n:e,wither:t.default.with_lib})}}})),c_=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLib=void 0;var t=new(function(e){return e&&e.__esModule?e:{default:e}}(u_()).default)("default");e.DefaultLib=t})),d_=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreError=function(e){return(t,r)=>e(r)}})),p_=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.get_plugin_and_type=function(e){if(!e)return[null,null];if(!e.includes(t.PLUGIN_SEPARATOR))return[null,e];let r=e.split(t.PLUGIN_SEPARATOR);return[r[0],r.slice(1).join(t.PLUGIN_SEPARATOR)]},e.get_plugin_id=function(e){return e.split("_current")[0]};var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(Lt());function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}})),f_=u((()=>{f()})),h_=u(((e,t)=>{"use strict";function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var r,n="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a!==s-1&&1!==o)if(a!==s-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),a=s,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=s,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return n}f();var i={resolve:function(){for(var e,t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o;a>=0?o=arguments[a]:(void 0===e&&(e=process.cwd()),o=e),r(o),0!==o.length&&(t=o+"/"+t,i=47===o.charCodeAt(0))}return t=n(t,!i),i?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=n(e,!t)).length&&!t&&(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t||(e=i.resolve(e))===(t=i.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var a=e.length,o=a-n,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,_=o<l?o:l,u=-1,c=0;c<=_;++c){if(c===_){if(l>_){if(47===t.charCodeAt(s+c))return t.slice(s+c+1);if(0===c)return t.slice(s+c)}else o>_&&(47===e.charCodeAt(n+c)?u=c:0===c&&(u=0));break}var d=e.charCodeAt(n+c);if(d!==t.charCodeAt(s+c))break;47===d&&(u=c)}var p="";for(c=n+u+1;c<=a;++c)(c===a||47===e.charCodeAt(c))&&(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(s+u):(s+=u,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var _=e.charCodeAt(n);if(47===_){if(!o){i=n+1;break}}else-1===l&&(o=!1,l=n+1),s>=0&&(_===t.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(a=!1,i=s+1),46===l?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),a=47===i;a?(t.root="/",n=1):n=0;for(var o=-1,s=0,l=-1,_=!0,u=e.length-1,c=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(_=!1,l=u+1),46===i?-1===o?o=u:1!==c&&(c=1):-1!==o&&(c=-1);else if(!_){s=u+1;break}return-1===o||-1===l||0===c||1===c&&o===l-1&&o===s+1?-1!==l&&(t.base=t.name=0===s&&a?e.slice(1,l):e.slice(s,l)):(0===s&&a?(t.name=e.slice(1,o),t.base=e.slice(1,l)):(t.name=e.slice(s,o),t.base=e.slice(s,l)),t.ext=e.slice(o,l)),s>0?t.dir=e.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i})),g_=u((e=>{"use strict";f();var t=Lo();e.add_to_registry=function(e,r,n){if(!n[e]){let i=new r;if(i.name=e,null!=i.human||(i.human=t.toTitleCase(e)),n[e]=i,!i.authenticator)throw new t.UnexpectedError("Error building service "+e+": missing authenticator");"function"!=typeof i.authenticator&&(i.authenticator._service=i)}}})),m_=u((e=>{"use strict";f(),Ue();var t=f_(),r=h_(),n=Lo(),i=l,a=g_(),o=Po(),s=e;Nt().safe_register("./services/shared/plugin_registry",s),s.register_plugin=function(e,o){if(n.on_server()){let a="../server/"+e+"_server",s=r.join(__dirname,`${a}.js`);t.existsSync(s)&&n.extend(o.cls.prototype,i("./"+a))}a.add_to_registry(e,o.cls,_),u.push(e);let s=_[e];for(let t in s.keys){let r=s.keys[t];r.default&&(d[e+"_"+t]=r.default)}for(let t of c)t(e,s)},s.get_hardcoded_plugin=p,s.on_plugin_registration=function(e){for(let t of u)e(t,_[t]);c.push(e)},s.get_app_hardcoded_plugins=function(){return Object.entries(o.get_plugin_versions()).filter((e=>{let[t,r]=e;return!0===r})).map((e=>{let[t]=e;return p(t)}))};var _={},u=[],c=[],d={};function p(e){if(null!=e&&null!=_[e])return _[e]}s.defaults_for_plugins_settings=d})),v_=u((e=>{"use strict";f();var t=g_(),r=Nt(),n=e;r.safe_register("./services/shared/internal_service_registry",n),n.services={},n.add_service=function(e,r){t.add_to_registry(e,r,n.services)},n.get_service=function(e){if(null!=e&&null!=n.services[e])return n.services[e]}})),y_=u((e=>{"use strict";f(),Ze(),Ue();var t,r=Lo(),n=Po(),i=p_(),a=Nt(),o=m_(),s=v_(),l=Kt(),_=e;function u(e){if(null==t)throw new Error(`plugin_getter.${e} called before initialization`)}function c(e,t){if(u("get_plugin"),null==e)return;let a=s.get_service(e);if(null!=a)return l.warn("plugin_getter: provided name is an internal service, not a plugin",{service_name:e,version:t}),a;let _=o.get_hardcoded_plugin(e,t);if(null!=_)return _;let c=e;return-1!==e.indexOf("_current")&&(e=i.get_plugin_id(e),t="current"),r.is_UUID(e)&&(t||(t=n.get_plugin_version(e)))?d(e,c,t):void 0}_.initialize=function(e){if(null!=t)throw new Error("plugin_getter: pluginservice_getter_fn already initialized");t=e},_.get_plugin=c,_.get_app_plugins=function(){return u("get_app_plugins"),Object.entries(n.get_plugin_versions()).map((e=>{let[t,r]=e;return c(t,r)}))},a.safe_register("./services/shared/plugin_getter",_);var d=r.autorun_cache(((e,r,n)=>t(e,r,n)))})),b_=u((e=>{"use strict";f(),Ue();var t,r=Lo(),n=Po(),i=Lt(),a=Kt(),o=ul(),s=p_(),_=y_(),u=Nt(),c=e;u.safe_register("./services",c),r.on_server()&&(t=l("../u/shared/async/b_fiber"));var d={};c.log_plugin_element_init=function(e){let t=function(e){return JSON.stringify(e)}(e);d[t]||(a.verbose("plugin initialized",e),d[t]=!0)},c.get_oauth_authenticator=function(e){if(!e)return null;var t;if(-1===e.indexOf(i.PLUGIN_SEPARATOR))return null==(t=_.get_plugin(e))?void 0:t.get_authenticator();{var r;let[t,n]=s.get_plugin_and_type(e,"oauth");return null==(r=_.get_plugin(t))?void 0:r.get_authenticator(n,"oauth")}},c.get_api_calls=r.autorun_cache((()=>{let e={};for(let t of n.list_plugins()){let r=_.get_plugin(t),n=null==r?void 0:r.get_public_calls();for(let i of null!=n?n:[]){let n=t+"."+i,o=r.get_call(i);o?e[n]=o:a.error("could not find call",{name:n})}}return e})),c.get_api_calls_ids=r.autorun_cache({fn:()=>new Set(Object.keys(c.get_api_calls())),compare_fn:o}),c.get_user_calls=function(){var e,r;let i={};null==(e=t)||e.optional_pause();for(let e of n.get_user_calls()){var a;null==(a=t)||a.optional_pause();let[r,n]=s.get_plugin_and_type(e),o=_.get_plugin(r);if(null==o)continue;let l=null==o?void 0:o.get_call(n);l&&(i[n]=l)}return null==(r=t)||r.optional_pause(),i},c.get_value_ids=r.autorun_cache((()=>{let e=[];for(let t of n.list_plugins()){let r=_.get_plugin(t);if(r)for(let t of r.get_public_values())e.push(r.get_values()[t].full_name)}return e})),c._last_date_generated=null})),w_=u(((e,t)=>{"use strict";f(),Ue();var r=Nt(),n=Jt(),i=Zt(),a=Nl(),o=t.exports;r.safe_register("./core/core_datasources/utilities/core_ds_workflow_utilities",o);var s="__ALL__";o.generate_wf_param_datasource=e=>function(t){return t.param_id===s?e:"function"==typeof e[t.param_id]?e[t.param_id]():e[t.param_id]},o.dehydrate_wf_params=function(e,t){var r,n,i;let a={},o=null!=(r=null==(n=e.datasources)||null==(i=n.get_wf_param)?void 0:i.call(n,{param_id:s}))?r:{};for(let[e,r]of Object.entries(o))a[e]=t("function"==typeof r?r():r);return a},o.rehydrate_wf_params=function(e,t){let r={};null!=e.current_wf_item&&(r[n.LEGACY_PARAM_ID]=t(e.current_wf_item));for(let[n,i]of a.object_entries(e.current_wf_params))r[n]=t(i);return r},o.wf_params_from_properties=function(e){let t={};if(e.arguments)for(let{param_id:r,arg_value:n}of Object.values(e.arguments))t[r]=n;else t[n.LEGACY_PARAM_ID]=e.workflow_thing;return t},o.build_duplicate_per_item_context=function(e,t){let r={...e};return e.duplicated_from_context=e.object_id,e.object_id=i.UUID(),e.duplicated_at="core_ds_workflow_utilities.build_duplicate_per_item_context",r.datasources={...e.datasources,get_wf_param:o.generate_wf_param_datasource(t)},r}})),A_=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.has_adv_timezone_overridden=function(){return t.default.get_public_setting("adv_timezone_overridden")},e.has_input_timezone_controls_on=function(){let e=t.default.has_advanced_feature_enabled("timezone_controls_date_time_inputs"),r=t.default.get_public_setting("bubble_version")<22&&(t.default.has_feature_enabled("tz_info_in_date_input")||t.default.get_public_setting("bubble_version")>=20);return e||r},e.has_rounding_operator_timezone_controls_on=function(){let e=t.default.get_public_setting("bubble_version"),r=t.default.has_feature_enabled("timezone_improvements");return e>=22||r};var t=function(e){return e&&e.__esModule?e:{default:e}}(Po())})),E_=u((e=>{"use strict";f(),Ft();var{has_adv_timezone_overridden:t}=A_(),r=qr(),n=$r().require_moment(),i=e;i.custom_tz_field_names={tz_type:{default:"browser",no_states:!0},tz_static:{},tz_dynamic:{},tz_type_overridden:{default:"browser",no_states:!0},tz_static_overridden:{},tz_dynamic_overridden:{}},i.get_custom_tz=e=>{let{static_eval:i,dynamic_eval:a,invalid_tz_fallback:o,not_overridden:s=!1}=e;(null!=a||(a=i),void 0===o)&&(null!=o||(o=r().current_timezone()));let l=t()&&!s?"_overridden":"";switch(i(`tz_type${l}`)){case"browser":return r().current_timezone();case"static":return a(`tz_static${l}`);case"dynamic":{let e=a(`tz_dynamic${l}`);return n.tz.zone(e)?e:o}}return r().current_timezone()},i.get_tz_display=e=>{var t;return e?" ("+(null!=(t=e.replace(/_/g," "))?t:"")+")":""}})),M_=u(((e,t)=>{"use strict";f(),Ue(),pr(),window&&"true"===new URLSearchParams(location.search).get("newautorun")?t.exports=fr():t.exports=Rr()})),x_=u((e=>{"use strict";f();var t=xl(),r=e,{S:n}=t,i=ot(),a=it(),o=qa(),s=Dr(),l=M_(),_=Zt(),u=qr(),c=Bl(),d=Po(),p=El(),h=Ml(),g=Ql(),m=Nt(),v=Br();m.safe_register("./lang/evaluation/node_eval",r),r.evaluate_state_condition=function(e,t){return c.with_eval_node(e,(()=>g.evaluate(e.json._raw_child(n.condition),t,null,null)[0]))},r.evaluate_event_condition=function(e,t){return!e.get_static_property("workflow_disabled")&&v.traceSpan("evaluate event condition",{},(()=>{let n=r.eval_property(e,"condition",t,null,!0);return v.addTransactionLabels({"evaluation.condition_result":n}),n}))},r.evaluate_action_condition=function(e,t){return!(i.on_server()&&e.check_use_visible()&&d().get_public_setting("use_visible"))&&v.traceSpan("evaluate action condition",{},(()=>{let n=r.eval_property(e,"condition",t,null,!0);return v.addTransactionLabels({"evaluation.condition_result":n}),n}))},r.evaluate_action_properties=function(e,t){return v.traceSpan("evaluate action properties",{"workflow.action.id":e.id(),"workflow.action.type":e.type()},(()=>{let i=r.evaluate_action_condition(e,t);if(!i&&!e.A.handle_condition_internally)return{condition:!1};let a=e.json._child(n.properties),o=a._raw();y(o);let s=c.with_eval_node(e,(()=>g.evaluate_properties(o,t,e.field_names(),a._path()))),l=e.preprocess_properties(s,t);return l.condition=i,l}))},r.evaluate_properties=function(e,t){if(!e)return null;if(p.is(e,h.ACTION))return r.evaluate_action_properties(e,t);let i=e.json._child(n.properties),a=c.with_eval_node(e,(()=>g.evaluate_properties(i._raw(),t,e.field_names(),i._path())));return e.preprocess_properties(a,t)},r.evaluate_wf_properties=function(e,t){var n;if(p.is(e,h.GENERIC_EVENT))return o.run_once(30,(()=>({condition:r.evaluate_event_condition(r,e,t)})));let i=["slow","step_by_step"].includes(null==(n=u().workflow.debugger)?void 0:n.workflow_mode);if(e.does_fall_back_to_server()&&!i){let n=s.Promise(null,"property evaluation"),i=["Search","GetDataFromAPI"].some((t=>e.find_expressions(t).length>0));if(t.server_workflow_completed||i)n.reject(new a.UnexpectedError("no local evaluation"));else{let i;try{i=l.CurrentAutoRun,l.CurrentAutoRun={_sources:null,_invalidate(){},invalidate(){},add_sub(){}},n.resolve(r.evaluate_properties(e,t))}catch(e){n.reject(e)}finally{l.CurrentAutoRun=i}}return n}return o.run_once(30,(()=>(null==t.initial_random_iterations&&t.random_generator?t.initial_random_iterations=t.random_generator.iterations:null!=t.initial_random_iterations&&(t.random_generator=new _.Random(t.random_seed,t.initial_random_iterations)),r.evaluate_properties(e,t))))},r.evaluate_action_clientside=function(e,t){return e.needs_clientside_properties()?r.evaluate_wf_properties(e,t):s.Promise(null)},r.eval_property=function(e,r,i,a,o){return c.with_eval_node(e.property(r),(()=>{let s=e.json._raw_gchild(n.properties,t.shrink(r));return y(s),g.evaluate(s,i,a,o)[0]}))};var y=e=>{v.addTransactionLabels({"evaluation.raw":JSON.stringify(t.expand_object(e))})}})),O_=u(((e,t)=>{"use strict";f(),Ue();var r=Fl(),n=Po(),i=t.exports;function a(e){return e.draws_own_children()}i.get_element_parent=e=>{var t;return null==(t=e.context_element())?void 0:t.parent()},i.get_runtime_parent=function(e){var t;let r=null==(t=e.element)?void 0:t.parent();for(;r&&"RepeatingGroup"!==r.element.type()&&"Table"!==r.element.type()&&!r.element.get_states().includes("group_data");)r=r.parent();return r},i.get_ancestor_element=function(e,t){if("TableMainAxis"===e){let e=i.get_ancestor_element("TableCell",t).get_static_property("cell_main_axis_id");return n.element(e)}let r=t.context_element();for(;r&&r.type()!==e;)r=r.parent();return r},i.get_runmode_element_ancestor_instance=function(e,t,r){if("TableMainAxis"===e){let e=i.get_runmode_element_ancestor_instance("Table",t,r),n=i.get_runmode_element_ancestor_instance("TableCell",t).get_static_property("cell_main_axis_id"),a=e.find_instance_by_id(n);return null==r||r(a),a}for(;t&&t.element.type()!==e;){if("TableCrossAxis"===e&&"GroupItem"===t.element.type())return null==r||r(t),t;null==r||r(t),t=t.parent()}return null==r||r(t),t},i.context_parent_value=e=>{var t,r,n,i,a,o;return"TableCell"===(null==e||null==(t=e.type)?void 0:t.call(e))?null!=(i=null==(a=e.parent())||null==(o=a.parent())?void 0:o.get_static_property("group_type"))?i:null:null!=(r=null==e||null==(n=e.parent())?void 0:n.get_static_property("group_type"))?r:null},i.element_parent_value=(e,t)=>r.get(i.context_parent_value(t.context_element())),i.is_element_visible=function(e,t){var r,n,i;if(!t||(null==(r=e.root())?void 0:r.id())!==(null==(n=t.root())?void 0:n.id()))return!1;let o=null==(i=t.parents)?void 0:i.call(t,a).map((e=>e.id()));return function(e){for(let t of e.parents(a))if(!o.includes(t.id()))return!1;return!0}(e)}})),k_=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION_PATH_PREFIX=e.VERSIONS_DISPLAY=e.TEST_VERSION_DISPLAY=e.TEST_VERSION=e.TEMPLATE_VERSIONS=e.RESERVED_VERSION_NAMES=e.PUBLISHED_TEMPLATE_VERSION=e.PENDING_TEMPLATE_VERSION=e.OKAY_VERSIONS=e.MAIN_VERSION_DISPLAY=e.LIVE_VERSION_DISPLAY=e.LIVE_VERSION=e.LIVE_ENVIRONMENT_DISPLAY=e.HOTFIX_VERSION_DISPLAY=e.ENVIRONMENTS=e.DEVELOPMENT_ENVIRONMENT_DISPLAY=e.DEFAULT_TEST_VC_DESCRIPTION=e.DEFAULT_TEST_NO_VC_DESCRIPTION=e.DEFAULT_LIVE_DESCRIPTION=e.DEFAULT_HOTFIX_DESCRIPTION=e.DEFAULT_CUSTOM_BRANCH_DESCRIPTION=e.BREAKING_REVISION_TOPIC=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/locations",e);var t="Live";e.LIVE_ENVIRONMENT_DISPLAY=t;var r="Development";e.DEVELOPMENT_ENVIRONMENT_DISPLAY=r;var n=[t,r];e.ENVIRONMENTS=n;var i="live";e.LIVE_VERSION=i;var a="test";e.TEST_VERSION=a;var o=[i,a,r,t].map((e=>e.toLowerCase()));e.RESERVED_VERSION_NAMES=o;var s="pending_template";e.PENDING_TEMPLATE_VERSION=s;var l="published_template";e.PUBLISHED_TEMPLATE_VERSION=l;e.BREAKING_REVISION_TOPIC="breaking_revision";var _=[i,a];e.OKAY_VERSIONS=_;var u=[s,l];e.TEMPLATE_VERSIONS=u;e.VERSION_PATH_PREFIX="version-";var c="Live";e.LIVE_VERSION_DISPLAY=c;var d="Development";e.TEST_VERSION_DISPLAY=d;e.HOTFIX_VERSION_DISPLAY="hotfix";e.MAIN_VERSION_DISPLAY="Main";var p={[a]:d,[i]:c};e.VERSIONS_DISPLAY=p;e.DEFAULT_TEST_NO_VC_DESCRIPTION="This is your default development branch. Make changes here, and deploy them to Live.";e.DEFAULT_TEST_VC_DESCRIPTION="This is your default deployment branch. Make changes and test them in custom branches, then merge into Main and deploy from Main to Live.";e.DEFAULT_LIVE_DESCRIPTION="This is your live site on the web.";e.DEFAULT_CUSTOM_BRANCH_DESCRIPTION="This is your custom branch #BRANCHNAME. Make changes here, and merge them into Main for deployment. You can customize this description.";e.DEFAULT_HOTFIX_DESCRIPTION="Use this branch to make urgent bug fixes or time-sensitive changes, and deploy them directly to Live."})),S_=u((e=>{"use strict";f();var t=qr(),r=Kt(),n=Dr(),i=qa(),a=Hl(),o=Yl(),s=Qt(),l=e,_=null,u=i.Box(null);l.get_current_geographic_position=function(){if(navigator.geolocation){var e;if(!_){let e=function(e){let t=u(),r={lat:null==t?void 0:t.lat,lng:null==t?void 0:t.lng};if(!u()||a.geographic_distance(r,{lat:e.coords.latitude,lng:e.coords.longitude})>.01)return u({lat:e.coords.latitude,lng:e.coords.longitude})};_=n.MakeKey(1/0,"waiting_for_current_location_watcher");let t=()=>{navigator.geolocation.watchPosition(e,(e=>console.log(e)),{enableHighAccuracy:!0})};navigator.geolocation.getCurrentPosition((r=>{e(r),_.turn(),t()}),(e=>{r.owner_error(e.message),e.message.includes("User denied Geolocation")?_.turn():(_.turn(),t())}),{enableHighAccuracy:!1,maximumAge:18e5})}n.ensure_ready(_);let i=u();a.round_lat_lng(i);let s={request_type:"geocode_latlong",language:t().app_language(),...i};return null!=(e=o.request_from_cache(s))?e:i}return null},l.get_timezone_for_location=function(e){if(!e||!a.is_b_location(e))return"";let t={latitude:e.lat,longitude:e.lng,timestamp:parseInt(Date.now()/1e3),request_type:"timezone"};return o.request_timezone(t)},l.get_address_place_autocomplete=(e,t)=>o.request_autocomplete(s.extend({request_type:"autocomplete"},e),t)})),T_=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Nt(),i=Po(),a=qr(),o=k_(),s=S_(),l=t.exports;n.safe_register("./lang/evaluation/page_state",l),l.get_basic_datasources=function(e,t){var n;null!=t||(t={});let i={current_user(){if(a().bubble_version()>=23){let e=a().current_user()._id();return a().db_instance().get(e)}return a().current_user()},page_data:(e,t)=>l.get_page_data(e.name,t),page_data_btype(e){var t;return null!=(t=l.get_page_data_type(e.name))?t:" null"}};return null!=e&&null!=(n=e.is_api)&&n.call(e)||r.extend(i,{current_page_item:()=>a().pageparam.get(),current_page_item_btype(){var t;return null!=(t=e.get_static_property("page_item_type"))?t:"null"}}),r.extend(i,t)},window?l.page_width=r.Box($(window).width()):l.page_width=r.Box(null,!0),l.page_current_scroll_position=r.Box(0);var _=["Website Home","CurrentLanguage","Website Admin Email","Current Date/Time","AppIsTest","AppVersion"],u=["Website Home","This Url","CurrentLanguage"],c=["Current Page Name"],d=["Website Admin Email","Current Date/Time","Current Position","Current Page Width","Current Page Scrolling Position","Page Loaded Above Fold","Page Loaded (Entire)","AppIsTest","AppVersion"];l.get_page_data_names=function(e){var t,r;if(e.is_api)return _;let n=[...u];return"CustomDefinition"===(null==(t=e.element_node)||null==(r=t.root())?void 0:r.type())&&n.push(...c),n.push(...d),n},l.get_page_data_names_new=function(e){var t,r,n,i;if("BackendWorkflow"===e.owner_type)return _;let a=[...u];return"CustomDefinition"===(null==(t=(r=e.owner_node).context_element)||null==(n=t.call(r))||null==(i=n.root())?void 0:i.type())&&a.push(...c),a.push(...d),a},l.get_all_data_names=function(){return[...u,...c,...d]},l.get_page_data=function(e,t){if(t.is_api&&!_.includes(e))throw new r.UnexpectedError("calling a PageData datasource in API invalid: "+e);if(t.in_pageservice&&!["Current Page Name","Website Home","AppIsTest"].includes(e))throw new r.OwnerError("Datasource not allowed in page",{display:"Calling a data source invalid when generating the page HTML: "+e});switch(e){case"Website Home":return a().location.get_server_base();case"This Url":return a().location.my_location();case"Current Page Name":return a().location.get_page();case"CurrentLanguage":return a().app_language();case"AppIsTest":return a().app_version()!==o.LIVE_VERSION;case"AppVersion":return i.app_version();case"Website Admin Email":return i.admin_email();case"Current Date/Time":return null!=t._current_date_time||(t._current_date_time=new Date(r.timestamp())),t._current_date_time;case"Current Position":return t.frozen_state&&r.on_server()?t.frozen_state.other_data["Current Position"]:s.get_current_geographic_position();case"Current Page Width":return r.on_client()?l.page_width():t.frozen_state.other_data["Current Page Width"];case"Current Page Scrolling Position":return r.on_client()?l.page_current_scroll_position():t.frozen_state.other_data["Current Page Scroll Position"];case"Is Reset Password Token Valid":return null;case"Page Loaded Above Fold":return!!r.on_server()||a().element.page_done_loading();case"Page Loaded (Entire)":return!!r.on_server()||a().element.page_done_loading(!0);default:throw new r.UnexpectedError("unrecognized: "+e)}},l.get_page_data_ready_key=()=>r.FakeKey(),l.get_page_data_type=function(e){switch(e){case"Current Date/Time":return"date";case"Current Position":return"geographic_address";case"Current Page Width":case"Current Page Scrolling Position":return"number";case"Page Loaded Above Fold":case"Page Loaded (Entire)":case"Is Reset Password Token Valid":case"AppIsTest":return"boolean";default:return"text"}},l.input_focused=r.Box(!1)})),N_=u(((e,t)=>{f();var r=E();t.exports=r([].slice)})),C_=u(((e,t)=>{f();var r=I();t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)})),L_=u(((e,t)=>{f();var r=M(),n=h();t.exports="process"==r(n.process)})),P_=u(((e,t)=>{f();var r,n,i,a,o=h(),s=We(),l=or(),_=m(),u=P(),c=w(),d=de(),p=N_(),g=y(),v=C_(),b=L_(),A=o.setImmediate,E=o.clearImmediate,M=o.process,x=o.Dispatch,O=o.Function,k=o.MessageChannel,S=o.String,T=0,N={},C="onreadystatechange";try{r=o.location}catch{}var L=function(e){if(u(N,e)){var t=N[e];delete N[e],t()}},R=function(e){return function(){L(e)}},z=function(e){L(e.data)},I=function(e){o.postMessage(S(e),r.protocol+"//"+r.host)};(!A||!E)&&(A=function(e){var t=p(arguments,1);return N[++T]=function(){s(_(e)?e:O(e),void 0,t)},n(T),T},E=function(e){delete N[e]},b?n=function(e){M.nextTick(R(e))}:x&&x.now?n=function(e){x.now(R(e))}:k&&!v?(a=(i=new k).port2,i.port1.onmessage=z,n=l(a.postMessage,a)):o.addEventListener&&_(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!c(I)?(n=I,o.addEventListener("message",z,!1)):n=C in g("script")?function(e){d.appendChild(g("script"))[C]=function(){d.removeChild(this),L(e)}}:function(e){setTimeout(R(e),0)}),t.exports={set:A,clear:E}})),R_=u((()=>{f();var e=Ce(),t=h(),r=P_();e({global:!0,bind:!0,enumerable:!0,forced:!t.setImmediate||!t.clearImmediate},{setImmediate:r.set,clearImmediate:r.clear})})),z_=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.SearchNotificationTopic=e.NotificationTopic=e.LastChangeTopic=e.EditorUidTopic=e.BreakingRevisionTopic=e.BranchesListTopic=e.AppUsageTopic=e.AppUsagePlanChangedTopic=e.AppSettingTopic=e.AppPlanChangeTopic=void 0;e.NotificationTopic="id-update-";e.SearchNotificationTopic="search-update";e.AppUsageTopic="usage-update-";e.LastChangeTopic="last-change-";e.AppPlanChangeTopic="app-plan-update-";e.BreakingRevisionTopic="breaking_revision";e.BranchesListTopic="branches-list-";e.EditorUidTopic="editor-uid-";e.AppSettingTopic="app-setting-";e.AppUsagePlanChangedTopic="usage-plan-update-"})),I_=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=t_(),i=r_(),a=pl(),o=dl(),s=Kt(),l=qr(),_=fl(),u=class e extends n{constructor(e,t,r){super(),this.data=e,this.db=t,this.value_id=r,null!=this.db||(this.db=l().db_instance())}get_data(){return this.data}set(){return s.debug("SETTING TO A STATIC NODE... IGNORING THIS")}push(){return s.debug("PUSHING TO A STATIC NODE.... IGNORING THIS")}raw(){return o.is(this.data,a.LIST_WRAPPER)?this.data.get_children():this.data}_type(){return this.value_id}child(t){let r,n,a=this.get_data(),o=String(t).split(".");if(o.length>1&&"object"==typeof a[o[0]]){r=a;for(let e of o){var l;r=null==(l=r)?void 0:l[e]}}else r=null==a?void 0:a[t];if(null!=this.value_id)if("user"===this.value_id&&"authentication"===t||0===t.indexOf("authentication."))n="sys.json";else if("user"===this.value_id&&"user_signed_up"===t)n="boolean";else if("user"===this.value_id&&"StripeCustomerID"===t)n="text";else if("sys.json"===this.value_id)n="sys.json";else{var _,u;n=null==(_=i.lang_btypes().get(this.value_id))||null==(u=_.get_message(t))?void 0:u.ret_btype_id(),"null"===n&&(n=null),n||s.owner_error("Could not find StaticNode child value id",{display:`Cannot evaluate the child ${t} on type ${this.value_id} because it does not exist`,ours:this.value_id,name:t})}else n=null;return new e(r,this.db,n)}get(){return i._static_get(this.get_data(),this.db,this.value_id)}to_json(){return null!=this._json_cache||(this._json_cache=this.compute_to_json()),this._json_cache}compute_to_json(){return{_class:"StaticNode",data:_.dehydrate_tree(this.data),value_id:this.value_id}}dehydrate(){var e,t;let n=_._dehydrate_value_id_data(this.data,this.value_id),i=r.incremental_json_stringify({data:_.dehydrate_tree(this.data),value_id:this.value_id});return null!=(e=this.db).__StaticNode_rehydrate_cache||(e.__StaticNode_rehydrate_cache={}),null!=(t=this.db.__StaticNode_rehydrate_cache)[i]||(t[i]=this),_.dehydrate_prefix("StaticNode")+n}};u.from_json=(e,t)=>{let{data:r,value_id:n}=t;return new u(r,e,n)},u.rehydrate=function(e,t){let{value_id:n,data:i}=_._rehydrate_value_id_data(e,t);return function(e,t){var n;let{data:i,value_id:a}=t,o=r.incremental_json_stringify({data:_.dehydrate_tree(i),value_id:a});return null!=e.__StaticNode_rehydrate_cache||(e.__StaticNode_rehydrate_cache={}),null!=(n=e.__StaticNode_rehydrate_cache)[o]||(n[o]=new u(i,e,a)),e.__StaticNode_rehydrate_cache[o]}(e,{data:i,value_id:n})},t.exports=u})),D_=u(((e,t)=>{"use strict";f();var r=Lo(),n=r_(),i=I_(),a=Nt(),o=qr(),s=fl();a.safe_register("./db/values/StaticObject",t.exports);var l=class e extends i{constructor(e,t,r,n,i,a){null!=a||(a={}),super(e,t,r),this._exists=n,this._bubble_id=i,this.allow_email=a.allow_email}_id(){if(null!=this._bubble_id)return this._bubble_id;let e=this.get_data();return null!=e&&e._id?"function"==typeof e._id?e._id():e._id:(null!=this.__id||(this.__id=r.incremental_digest(this.to_json())),this.__id)}get(){return this}ignore_privacy(){return this.db.ignore_privacy_rules?this:o.extend({ignore_privacy_rules:!0},(()=>new e(this.data,o().db_instance(),this.value_id)))}exists(){var e;return null!=(e=this._exists)&&e}delete(){}poll(){}is_equal_to(e){return"function"==typeof(null==e?void 0:e._id)&&e._id()===this._id()}get_email(){if(this.allow_email)return n.email_getter(this)}is_logged_in(){}to_json(){return null!=this._json_cache||(this._json_cache=this.compute_to_json()),this._json_cache}compute_to_json(){return{_class:"StaticObject",data:s.dehydrate_tree(this.data),value_id:this.value_id}}dehydrate(){var e,t;let n=s._dehydrate_value_id_data(this.data,this.value_id),i=r.incremental_json_stringify({data:s.dehydrate_tree(this.data),value_id:this.value_id});return null!=(e=this.db).__StaticObject_rehydrate_cache||(e.__StaticObject_rehydrate_cache={}),null!=(t=this.db.__StaticObject_rehydrate_cache)[i]||(t[i]=this),s.dehydrate_prefix("StaticObject")+n}};l.from_json=(e,t)=>{let{data:r,value_id:n}=t;return new l(r,e,n)},l.rehydrate=function(e,t){let{value_id:n,data:i}=s._rehydrate_value_id_data(e,t);return function(e,t){var n;let{data:i,value_id:a}=t,o=r.incremental_json_stringify({data:s.dehydrate_tree(i),value_id:a});return null!=e.__StaticObject_rehydrate_cache||(e.__StaticObject_rehydrate_cache={}),null!=(n=e.__StaticObject_rehydrate_cache)[o]||(n[o]=new l(i,e,a)),e.__StaticObject_rehydrate_cache[o]}(e,{data:i,value_id:n})},t.exports=l})),j_=u(((e,t)=>{"use strict";f(),Ue();var r=t_(),n=I_(),i=n_(),a=r_(),o=fl();t.exports=class extends r{constructor(e,t,r){super(),this.parent=e,this._path=t,this.db=r}path(){return this._path.join(".")}toString(){return"DBNode<"+this.key()+">"}key(){return this.parent_id()+"."+this._path.join(".")}child(e){let t;return this.parent?(this._path&&(t=this._path.concat(e.split("."))),this.parent._child(t)):new n(void 0)}parent_id(){return this.parent._id()}get(e){let t=this.raw();if(!e){var r,n,s,l;let t=null==(r=(n=this.parent)._type)?void 0:r.call(n),i=this._path.join(".");e=null==(s=a.lang_btypes().get(t))||null==(l=s.get_message(i))?void 0:l.ret_btype_id()}return Array.isArray(t)?("string"==typeof e&&(e=a.lang_btypes().get(e).inner_including_ranges().id()),new i(this.db,{t:"NodeList",type:e,id:this.parent_id(),field:this._path.join(".")})):t&&"object"==typeof t?a._is_geographic_object(t,e)?t:this:o.rehydrate(this.db,t,e)}_extract(e){for(let i of null!=(t=this._path)?t:[]){var t,r,n;e=null!=(r=null==(n=e)?void 0:n[i])?r:null}return e}}})),B_=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=Kt(),a=xr(),o=n_(),s=qr(),l=fl(),_=r_(),u=class e extends o{constructor(t,a,o){if(null!=a||(a=s().db_instance()),null==o){i.error("StaticList created without value_id");for(let i of t){if(null!=i){if(!(o=e.guess_value_id(i)))throw new r.UnexpectedError("could not guess value_id",{dehydrated:l.dehydrate_tree(t)});break}n.optional_pause()}null!=o||(o="null")}super(a,{t:"Static",data:_.array_to_ids(o,t),value_id:o})}};u.rehydrate=function(e,t){let{value_id:r,data:n}=l._rehydrate_value_id_data(e,t);return new u(n,e,r)},u.guess_value_id=function(e){return null==e?null:"string"==typeof e?"text":"number"==typeof e?"number":"function"==typeof e._type?e._type():"boolean"==typeof e?"sys.bool":e instanceof o?a.list_type(e.get_item_btype_id()):null},t.exports=u})),q_=u(((e,t)=>{"use strict";f();var r=Lo(),n=fl(),i=n_(),a=class extends i{constructor(e,t){let{value_id:r,message:i,properties:a,_raw:o,arg:s}=t,l=e.query,_=e.db;a=n.dehydrate_tree(a),super(_,{t:"Transform",prev:l,value_id:r,message:i,properties:a,_raw:o,arg:s})}};a.rehydrate=function(e,t){let{source_list:i,transform_data:o}=r.incremental_json_parse(t);return new a(n.rehydrate(e,i),o)},t.exports=a})),U_=u(((e,t)=>{"use strict";f();var r=fl(),n=r_(),i=n_(),a=qr(),o=class extends i{constructor(e){var t,r;let i=e.all().filter((e=>null!==e)),o=null!=(t=null==(r=i[0])?void 0:r.db)?t:a().db_instance();0===i.length&&i.push(o.static_list(n.lang_btypes().get(e.get_item_btype_id()).inner().id())),super(o,{t:"Concat",prevs:i.map((e=>e.query))})}};o.rehydrate=(e,t)=>new o(r.rehydrate(e,t)),t.exports=o})),W_=u(((e,t)=>{"use strict";f();var r=fl(),n=r_(),i=n_(),a=qr(),o=class extends i{constructor(e){var t,r;let i=e.all().filter((e=>null!==e)),o=null!=(t=null==(r=i[0])?void 0:r.db)?t:a().db_instance();0===i.length&&i.push(o.static_list(n.lang_btypes().get(e.get_item_btype_id()).inner().id())),super(o,{t:"Intersect",prevs:i.map((e=>e.query))})}};o.rehydrate=(e,t)=>new o(r.rehydrate(e,t)),t.exports=o})),$_=u(((e,t)=>{"use strict";f();var r=fl(),n=n_(),i=class extends n{constructor(e){let t=e.query;super(e.db,{t:"Unique",prev:t})}};i.rehydrate=(e,t)=>new i(r.rehydrate(e,t)),t.exports=i})),F_=u(((e,t)=>{"use strict";f();var r=Lo(),n=fl(),i=n_(),a=class extends i{constructor(e,t){let{sorts_list:r}=t,n=e.query;super(e.db,{t:"Sort",sorts_list:r,prev:n})}};a.rehydrate=function(e,t){let{source_list:i,properties:o}=r.incremental_json_parse(t);return new a(n.rehydrate(e,i),o)},t.exports=a})),G_=u(((e,t)=>{"use strict";f();var r=n_(),n=class extends r{constructor(e){let t=e.parent_id(),r=e._path.join(".");super(e.db,{t:"NodeList",id:t,field:r})}};n.rehydrate=(e,t)=>new n(e.get_node(t)),t.exports=n})),X_=u(((e,t)=>{"use strict";f();var r=Lo(),n={get_ret_btype:e=>e.type,fn(){throw new r.UnexpectedError("All cannot be executed")}};t.exports=n})),H_=u(((e,t)=>{"use strict";f(),Ue();var r=Kt(),n=ql(),i={fn(e,t){let{data:i,value_id:a}=e;if(null!=i||(i=[]),!Array.isArray(i)){r.error("Bad array rehydrated",{data:i,value_id:a});let e=[];for(let[t,r]of i.entries()){let n=parseInt(t);isNaN(n)||(e[n]=r)}i=e}return e=>{null!=e||(e=n.ALL_MAX);let r=t+e,a=i.slice(t,r);return t=r,a}},get_ret_btype:e=>e.value_id};t.exports=i})),V_=u(((e,t)=>{"use strict";f();var r=Lr(),n=r_(),i=fl(),a={fn(e,t){let{prev:a,value_id:o,message:s,properties:l,_raw:_,arg:u}=e,c=this.iterate(a,t);return l=i.rehydrate_tree(this,l),s=n.lang_btypes().get(o).get_message(s),e=>{let t=c(e);if(null==t)return[];t=this.array_to_objects(a,t,!0),r.optional_pause("pre-transform");let i=t.map(((e,t)=>function(e,t){return t%10==0&&r.optional_pause("transform"),s.evaluate_without_cast(e,u,l,_)}(e,t)));return r.optional_pause("post-transform"),n.array_to_ids(s.ret_btype_id(),i)}},get_ret_btype(e){let{value_id:t,message:r}=e;return r=n.lang_btypes().get(t).get_message(r),r.ret_btype().id()},preserves_length:!0,preserves_context:{sorted_above:!0}};t.exports=a})),Y_=u(((e,t)=>{"use strict";f();var r=r_(),n={fn(e,t){let{prev:n,value_id:i}=e,a=this.iterate(n,t);return t=>{var n;return r.array_to_ids(i,this.array_to_objects(e,null!=(n=a(t))?n:[],!0))}},get_ret_btype:e=>e.value_id,preserves_length:!0,preserves_context:{sorted_above:!0}};t.exports=n})),K_=u(((e,t)=>{f();var r=ns(),n=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}}();t.exports=n})),J_=u(((e,t)=>{f();var r=K_();t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}})),Z_=u(((e,t)=>{f(),t.exports=function(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}})),Q_=u(((e,t)=>{f(),t.exports=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===r(a[l],l,a))break}return t}}})),eu=u(((e,t)=>{f();var r=Q_()();t.exports=r})),tu=u(((e,t)=>{f();var r=eu(),n=el();t.exports=function(e,t){return e&&r(e,t,n)}})),ru=u(((e,t)=>{f();var r=Qs();t.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}})),nu=u(((e,t)=>{f();var r=tu(),n=ru()(r);t.exports=n})),iu=u(((e,t)=>{f();var r=nu();t.exports=function(e,t,n,i){return r(e,(function(e,r,a){t(i,e,n(e),a)})),i}})),au=u(((e,t)=>{f();var r=ws(),n=_l();t.exports=function(e,t,i,a){var o=i.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var _=i[o];if(l&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++o<s;){var u=(_=i[o])[0],c=e[u],d=_[1];if(l&&_[2]){if(void 0===c&&!(u in e))return!1}else{var p=new r;if(a)var f=a(c,d,u,e,t,p);if(!(void 0===f?n(d,c,3,a,p):f))return!1}}return!0}})),ou=u(((e,t)=>{f();var r=Ko();t.exports=function(e){return e==e&&!r(e)}})),su=u(((e,t)=>{f();var r=ou(),n=el();t.exports=function(e){for(var t=n(e),i=t.length;i--;){var a=t[i],o=e[a];t[i]=[a,o,r(o)]}return t}})),lu=u(((e,t)=>{f(),t.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}})),_u=u(((e,t)=>{f();var r=au(),n=su(),i=lu();t.exports=function(e){var t=n(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}})),uu=u(((e,t)=>{f();var r=tn(),n=sn(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!n(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}})),cu=u(((e,t)=>{f();var r=ys();function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var r=arguments,n=t?t.apply(this,r):r[0],a=i.cache;if(a.has(n))return a.get(n);var o=e.apply(this,r);return i.cache=a.set(n,o)||a,o};return i.cache=new(n.Cache||r),i}n.Cache=r,t.exports=n})),du=u(((e,t)=>{f();var r=cu();t.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}})),pu=u(((e,t)=>{f();var r=du(),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,(function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)})),t}));t.exports=a})),fu=u(((e,t)=>{f();var r=tn(),n=uu(),i=pu(),a=_n();t.exports=function(e,t){return r(e)?e:n(e,t)?[e]:i(a(e))}})),hu=u(((e,t)=>{f();var r=sn();t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}})),gu=u(((e,t)=>{f();var r=fu(),n=hu();t.exports=function(e,t){for(var i=0,a=(t=r(t,e)).length;null!=e&&i<a;)e=e[n(t[i++])];return i&&i==a?e:void 0}})),mu=u(((e,t)=>{f();var r=gu();t.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}})),vu=u(((e,t)=>{f(),t.exports=function(e,t){return null!=e&&t in Object(e)}})),yu=u(((e,t)=>{f();var r=fu(),n=Bs(),i=tn(),a=Ws(),o=$s(),s=hu();t.exports=function(e,t,l){for(var _=-1,u=(t=r(t,e)).length,c=!1;++_<u;){var d=s(t[_]);if(!(c=null!=e&&l(e,d)))break;e=e[d]}return c||++_!=u?c:!!(u=null==e?0:e.length)&&o(u)&&a(d,u)&&(i(e)||n(e))}})),bu=u(((e,t)=>{f();var r=vu(),n=yu();t.exports=function(e,t){return null!=e&&n(e,t,r)}})),wu=u(((e,t)=>{f();var r=_l(),n=mu(),i=bu(),a=uu(),o=ou(),s=lu(),l=hu();t.exports=function(e,t){return a(e)&&o(t)?s(l(e),t):function(a){var o=n(a,e);return void 0===o&&o===t?i(a,e):r(t,o,3)}}})),Au=u(((e,t)=>{f(),t.exports=function(e){return e}})),Eu=u(((e,t)=>{f(),t.exports=function(e){return function(t){return null==t?void 0:t[e]}}})),Mu=u(((e,t)=>{f();var r=gu();t.exports=function(e){return function(t){return r(t,e)}}})),xu=u(((e,t)=>{f();var r=Eu(),n=Mu(),i=uu(),a=hu();t.exports=function(e){return i(e)?r(a(e)):n(e)}})),Ou=u(((e,t)=>{f();var r=_u(),n=wu(),i=Au(),a=tn(),o=xu();t.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?n(e[0],e[1]):r(e):o(e)}})),ku=u(((e,t)=>{f();var r=Z_(),n=iu(),i=Ou(),a=tn();t.exports=function(e,t){return function(o,s){var l=a(o)?r:n,_=t?t():{};return l(o,e,i(s,2),_)}}})),Su=u(((e,t)=>{f();var r=J_(),n=ku()((function(e,t,n){r(e,n,t)}));t.exports=n})),Tu=u(((e,t)=>{f();var r=J_(),n=tu(),i=Ou();t.exports=function(e,t){var a={};return t=i(t,3),n(e,(function(e,n,i){r(a,n,t(e,n,i))})),a}})),Nu=u(((e,t)=>{"use strict";f(),t.exports=function(){}})),Cu=u(((e,t)=>{"use strict";f();var r=Nu()();t.exports=function(e){return e!==r&&null!==e}})),Lu=u(((e,t)=>{"use strict";f();var r=Cu(),n=Array.prototype.forEach,i=Object.create,a=function(e,t){var r;for(r in e)t[r]=e[r]};t.exports=function(e){var t=i(null);return n.call(arguments,(function(e){r(e)&&a(Object(e),t)})),t}})),Pu=u(((e,t)=>{"use strict";f(),t.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}})),Ru=u(((e,t)=>{"use strict";f(),t.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}})),zu=u(((e,t)=>{"use strict";f(),t.exports=Pu()()?Math.sign:Ru()})),Iu=u(((e,t)=>{"use strict";f();var r=zu(),n=Math.abs,i=Math.floor;t.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*i(n(e)):e}})),Du=u(((e,t)=>{"use strict";f();var r=Iu(),n=Math.max;t.exports=function(e){return n(0,r(e))}})),ju=u(((e,t)=>{"use strict";f();var r=Du();t.exports=function(e,t,n){var i;return isNaN(e)?(i=t)>=0?n&&i?i-1:i:1:!1!==e&&r(e)}})),Bu=u(((e,t)=>{"use strict";f(),t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}})),qu=u(((e,t)=>{"use strict";f();var r=Cu();t.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}})),Uu=u(((e,t)=>{"use strict";f();var r=Bu(),n=qu(),i=Function.prototype.bind,a=Function.prototype.call,o=Object.keys,s=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(l,_){var u,c=arguments[2],d=arguments[3];return l=Object(n(l)),r(_),u=o(l),d&&u.sort("function"==typeof d?i.call(d,l):void 0),"function"!=typeof e&&(e=u[e]),a.call(e,u,(function(e,r){return s.call(l,e)?a.call(_,c,l[e],e,l,r):t}))}}})),Wu=u(((e,t)=>{"use strict";f(),t.exports=Uu()("forEach")})),$u=u((()=>{"use strict";f()})),Fu=u(((e,t)=>{"use strict";f(),t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}})),Gu=u(((e,t)=>{"use strict";f(),t.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}})),Xu=u(((e,t)=>{"use strict";f();var r=Cu(),n=Object.keys;t.exports=function(e){return n(r(e)?Object(e):e)}})),Hu=u(((e,t)=>{"use strict";f(),t.exports=Gu()()?Object.keys:Xu()})),Vu=u(((e,t)=>{"use strict";f();var r=Hu(),n=qu(),i=Math.max;t.exports=function(e,t){var a,o,s,l=i(arguments.length,2);for(e=Object(n(e)),s=function(r){try{e[r]=t[r]}catch(e){a||(a=e)}},o=1;o<l;++o)r(t=arguments[o]).forEach(s);if(void 0!==a)throw a;return e}})),Yu=u(((e,t)=>{"use strict";f(),t.exports=Fu()()?Object.assign:Vu()})),Ku=u(((e,t)=>{"use strict";f();var r=Cu(),n={function:!0,object:!0};t.exports=function(e){return r(e)&&n[typeof e]||!1}})),Ju=u(((e,t)=>{"use strict";f();var r=Yu(),n=Ku(),i=Cu(),a=Error.captureStackTrace;t.exports=function(e){var o=new Error(e),s=arguments[1],l=arguments[2];return i(l)||n(s)&&(l=s,s=null),i(l)&&r(o,l),i(s)&&(o.code=s),a&&a(o,t.exports),o}})),Zu=u(((e,t)=>{"use strict";f();var r=qu(),n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols;t.exports=function(e,t){var s,l=Object(r(t));if(e=Object(r(e)),a(l).forEach((function(r){try{n(e,r,i(t,r))}catch(e){s=e}})),"function"==typeof o&&o(l).forEach((function(r){try{n(e,r,i(t,r))}catch(e){s=e}})),void 0!==s)throw s;return e}})),Qu=u(((e,t)=>{"use strict";f();var r,n,i,a,o=Du(),s=function(e,t){return t};try{Object.defineProperty(s,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}1===s.length?(r={configurable:!0,writable:!1,enumerable:!1},n=Object.defineProperty,t.exports=function(e,t){return t=o(t),e.length===t?e:(r.value=t,n(e,"length",r))}):(a=Zu(),i=function(){var e=[];return function(t){var r,n=0;if(e[t])return e[t];for(r=[];t--;)r.push("a"+(++n).toString(36));return new Function("fn","return function ("+r.join(", ")+") { return fn.apply(this, arguments); };")}}(),t.exports=function(e,t){var r;if(t=o(t),e.length===t)return e;r=i(t)(e);try{a(r,e)}catch{}return r})})),ec=u(((e,t)=>{"use strict";f();t.exports=function(e){return null!=e}})),tc=u(((e,t)=>{"use strict";f();var r=ec(),n={object:!0,function:!0,undefined:!0};t.exports=function(e){return!!r(e)&&hasOwnProperty.call(n,typeof e)}})),rc=u(((e,t)=>{"use strict";f();var r=tc();t.exports=function(e){if(!r(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch{return!1}}})),nc=u(((e,t)=>{"use strict";f();var r=rc();t.exports=function(e){if("function"!=typeof e||!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length||"function"!=typeof e.call||"function"!=typeof e.apply)return!1}catch{return!1}return!r(e)}})),ic=u(((e,t)=>{"use strict";f();var r=nc(),n=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(e){return!(!r(e)||n.test(i.call(e)))}})),ac=u(((e,t)=>{"use strict";f();var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}})),oc=u(((e,t)=>{"use strict";f();var r=String.prototype.indexOf;t.exports=function(e){return r.call(this,e,arguments[1])>-1}})),sc=u(((e,t)=>{"use strict";f(),t.exports=ac()()?String.prototype.contains:oc()})),lc=u(((e,t)=>{"use strict";f();var r=ec(),n=ic(),i=Yu(),a=Lu(),o=sc();(t.exports=function(e,t){var n,s,l,_,u;return arguments.length<2||"string"!=typeof e?(_=t,t=e,e=null):_=arguments[2],r(e)?(n=o.call(e,"c"),s=o.call(e,"e"),l=o.call(e,"w")):(n=l=!0,s=!1),u={value:t,configurable:n,enumerable:s,writable:l},_?i(a(_),u):u}).gs=function(e,t,s){var l,_,u,c;return"string"!=typeof e?(u=s,s=t,t=e,e=null):u=arguments[3],r(t)?n(t)?r(s)?n(s)||(u=s,s=void 0):s=void 0:(u=t,t=s=void 0):t=void 0,r(e)?(l=o.call(e,"c"),_=o.call(e,"e")):(l=!0,_=!1),c={get:t,set:s,configurable:l,enumerable:_},u?i(a(u),c):c}})),_c=u(((e,t)=>{"use strict";f();var r,n,i,a,o,s,l,_=lc(),u=Bu(),c=Function.prototype.apply,d=Function.prototype.call,p=Object.create,h=Object.defineProperty,g=Object.defineProperties,m=Object.prototype.hasOwnProperty,v={configurable:!0,enumerable:!1,writable:!0};n=function(e,t){var n,a;return u(t),a=this,r.call(this,e,n=function(){i.call(a,e,n),c.call(t,this,arguments)}),n.__eeOnceListener__=t,this},o={on:r=function(e,t){var r;return u(t),m.call(this,"__ee__")?r=this.__ee__:(r=v.value=p(null),h(this,"__ee__",v),v.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:n,off:i=function(e,t){var r,n,i,a;if(u(t),!m.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(a=0;i=n[a];++a)(i===t||i.__eeOnceListener__===t)&&(2===n.length?r[e]=n[a?0:1]:n.splice(a,1));else(n===t||n.__eeOnceListener__===t)&&delete r[e];return this},emit:a=function(e){var t,r,n,i,a;if(m.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(r=arguments.length,a=new Array(r-1),t=1;t<r;++t)a[t-1]=arguments[t];for(i=i.slice(),t=0;n=i[t];++t)c.call(n,this,a)}else switch(arguments.length){case 1:d.call(i,this);break;case 2:d.call(i,this,arguments[1]);break;case 3:d.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),t=1;t<r;++t)a[t-1]=arguments[t];c.call(i,this,a)}}},s={on:_(r),once:_(n),off:_(i),emit:_(a)},l=g({},s),t.exports=e=function(e){return null==e?p(l):g(Object(e),s)},e.methods=o})),uc=u(((e,t)=>{"use strict";f(),t.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&!(!(t=r(e=["raz","dwa"]))||t===e||"dwa"!==t[1])}})),cc=u(((e,t)=>{"use strict";f(),t.exports=function(){return!("object"!=typeof globalThis||!globalThis)&&globalThis.Array===Array}})),dc=u(((e,t)=>{f();var r=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}()})),pc=u(((e,t)=>{"use strict";f(),t.exports=cc()()?globalThis:dc()})),fc=u(((e,t)=>{"use strict";f();var r=pc(),n={object:!0,symbol:!0};t.exports=function(){var e,t=r.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch{return!1}return!(!n[typeof t.iterator]||!n[typeof t.toPrimitive]||!n[typeof t.toStringTag])}})),hc=u(((e,t)=>{"use strict";f(),t.exports=function(e){return!!e&&("symbol"==typeof e||!(!e.constructor||"Symbol"!==e.constructor.name)&&"Symbol"===e[e.constructor.toStringTag])}})),gc=u(((e,t)=>{"use strict";f();var r=hc();t.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}})),mc=u(((e,t)=>{"use strict";f();var r=lc(),n=Object.create,i=Object.defineProperty,a=Object.prototype,o=n(null);t.exports=function(e){for(var t,n,s=0;o[e+(s||"")];)++s;return o[e+=s||""]=!0,i(a,t="@@"+e,r.gs(null,(function(e){n||(n=!0,i(this,t,r(e)),n=!1)}))),t}})),vc=u(((e,t)=>{"use strict";f();var r=lc(),n=pc().Symbol;t.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",n&&n.hasInstance||e("hasInstance")),isConcatSpreadable:r("",n&&n.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",n&&n.iterator||e("iterator")),match:r("",n&&n.match||e("match")),replace:r("",n&&n.replace||e("replace")),search:r("",n&&n.search||e("search")),species:r("",n&&n.species||e("species")),split:r("",n&&n.split||e("split")),toPrimitive:r("",n&&n.toPrimitive||e("toPrimitive")),toStringTag:r("",n&&n.toStringTag||e("toStringTag")),unscopables:r("",n&&n.unscopables||e("unscopables"))})}})),yc=u(((e,t)=>{"use strict";f();var r=lc(),n=gc(),i=Object.create(null);t.exports=function(e){return Object.defineProperties(e,{for:r((function(t){return i[t]?i[t]:i[t]=e(String(t))})),keyFor:r((function(e){var t;for(t in n(e),i)if(i[t]===e)return t}))})}})),bc=u(((e,t)=>{"use strict";f();var r,n,i,a=lc(),o=gc(),s=pc().Symbol,l=mc(),_=vc(),u=yc(),c=Object.create,d=Object.defineProperties,p=Object.defineProperty;if("function"==typeof s)try{String(s()),i=!0}catch{}else s=null;n=function(e){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return r(e)},t.exports=r=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return i?s(t):(r=c(n.prototype),t=void 0===t?"":String(t),d(r,{__description__:a("",t),__name__:a("",l(t))}))},_(r),u(r),d(n.prototype,{constructor:a(r),toString:a("",(function(){return this.__name__}))}),d(r.prototype,{toString:a((function(){return"Symbol ("+o(this).__description__+")"})),valueOf:a((function(){return o(this)}))}),p(r.prototype,r.toPrimitive,a("",(function(){var e=o(this);return"symbol"==typeof e?e:e.toString()}))),p(r.prototype,r.toStringTag,a("c","Symbol")),p(n.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),p(n.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))})),wc=u(((e,t)=>{"use strict";f(),t.exports=fc()()?pc().Symbol:bc()})),Ac=u(((e,t)=>{"use strict";f();var r=Object.prototype.toString,n=r.call(function(){return arguments}());t.exports=function(e){return r.call(e)===n}})),Ec=u(((e,t)=>{"use strict";f();var r=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(e){return"function"==typeof e&&n(r.call(e))}})),Mc=u(((e,t)=>{"use strict";f();var r=Object.prototype.toString,n=r.call("");t.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===n)||!1}})),xc=u(((e,t)=>{"use strict";f();var r=wc().iterator,n=Ac(),i=Ec(),a=Du(),o=Bu(),s=qu(),l=Cu(),_=Mc(),u=Array.isArray,c=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(e){var t,f,h,g,m,v,y,b,w,A,E=arguments[1],M=arguments[2];if(e=Object(s(e)),l(E)&&o(E),this&&this!==Array&&i(this))t=this;else{if(!E){if(n(e))return 1!==(m=e.length)?Array.apply(null,e):((g=new Array(1))[0]=e[0],g);if(u(e)){for(g=new Array(m=e.length),f=0;f<m;++f)g[f]=e[f];return g}}g=[]}if(!u(e))if(void 0!==(w=e[r])){for(y=o(w).call(e),t&&(g=new t),b=y.next(),f=0;!b.done;)A=E?c.call(E,M,b.value,f):b.value,t?(d.value=A,p(g,f,d)):g[f]=A,b=y.next(),++f;m=f}else if(_(e)){for(m=e.length,t&&(g=new t),f=0,h=0;f<m;++f)A=e[f],f+1<m&&((v=A.charCodeAt(0))>=55296&&v<=56319&&(A+=e[++f])),A=E?c.call(E,M,A,h):A,t?(d.value=A,p(g,h,d)):g[h]=A,++h;m=h}if(void 0===m)for(m=a(e.length),t&&(g=new t(m)),f=0;f<m;++f)A=E?c.call(E,M,e[f],f):e[f],t?(d.value=A,p(g,f,d)):g[f]=A;return t&&(d.value=null,g.length=m),g}})),Oc=u(((e,t)=>{"use strict";f(),t.exports=uc()()?Array.from:xc()})),kc=u(((e,t)=>{"use strict";f();var r=Oc(),n=Array.isArray;t.exports=function(e){return n(e)?e:r(e)}})),Sc=u(((e,t)=>{"use strict";f();var r,n=kc(),i=Cu(),a=Bu(),o=Array.prototype.slice;r=function(e){return this.map((function(t,r){return t?t(e[r]):e[r]})).concat(o.call(e,this.length))},t.exports=function(e){return(e=n(e)).forEach((function(e){i(e)&&a(e)})),r.bind(e)}})),Tc=u(((e,t)=>{"use strict";f();var r=Bu();t.exports=function(e){var t;return"function"==typeof e?{set:e,get:e}:(t={get:r(e.get)},void 0!==e.set?(t.set=r(e.set),e.delete&&(t.delete=r(e.delete)),e.clear&&(t.clear=r(e.clear)),t):(t.set=t.get,t))}})),Nc=u(((e,t)=>{"use strict";f();var r=Ju(),n=Qu(),i=lc(),a=_c().methods,o=Sc(),s=Tc(),l=Function.prototype.apply,_=Function.prototype.call,u=Object.create,c=Object.defineProperties,d=a.on,p=a.emit;t.exports=function(e,t,a){var f,h,g,m,v,y,b,w,A,E,M,x,O,k,S,T=u(null);return h=!1!==t?t:isNaN(e.length)?1:e.length,a.normalizer&&(E=s(a.normalizer),g=E.get,m=E.set,v=E.delete,y=E.clear),null!=a.resolvers&&(S=o(a.resolvers)),k=g?n((function(t){var n,i,a=arguments;if(S&&(a=S(a)),null!==(n=g(a))&&hasOwnProperty.call(T,n))return M&&f.emit("get",n,a,this),T[n];if(i=1===a.length?_.call(e,this,a[0]):l.call(e,this,a),null===n){if(null!==(n=g(a)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=m(a)}else if(hasOwnProperty.call(T,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return T[n]=i,x&&f.emit("set",n,null,i),i}),h):0===t?function(){var t;if(hasOwnProperty.call(T,"data"))return M&&f.emit("get","data",arguments,this),T.data;if(t=arguments.length?l.call(e,this,arguments):_.call(e,this),hasOwnProperty.call(T,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return T.data=t,x&&f.emit("set","data",null,t),t}:function(t){var n,i,a=arguments;if(S&&(a=S(arguments)),i=String(a[0]),hasOwnProperty.call(T,i))return M&&f.emit("get",i,a,this),T[i];if(n=1===a.length?_.call(e,this,a[0]):l.call(e,this,a),hasOwnProperty.call(T,i))throw r("Circular invocation","CIRCULAR_INVOCATION");return T[i]=n,x&&f.emit("set",i,null,n),n},f={original:e,memoized:k,profileName:a.profileName,get:function(e){return S&&(e=S(e)),g?g(e):String(e[0])},has:function(e){return hasOwnProperty.call(T,e)},delete:function(e){var t;hasOwnProperty.call(T,e)&&(v&&v(e),t=T[e],delete T[e],O&&f.emit("delete",e,t))},clear:function(){var e=T;y&&y(),T=u(null),f.emit("clear",e)},on:function(e,t){return"get"===e?M=!0:"set"===e?x=!0:"delete"===e&&(O=!0),d.call(this,e,t)},emit:p,updateEnv:function(){e=f.original}},b=g?n((function(e){var t,r=arguments;S&&(r=S(r)),null!==(t=g(r))&&f.delete(t)}),h):0===t?function(){return f.delete("data")}:function(e){return S&&(e=S(arguments)[0]),f.delete(e)},w=n((function(){var e,r=arguments;return 0===t?T.data:(S&&(r=S(r)),e=g?g(r):String(r[0]),T[e])})),A=n((function(){var e,r=arguments;return 0===t?f.has("data"):(S&&(r=S(r)),null!==(e=g?g(r):String(r[0]))&&f.has(e))})),c(k,{__memoized__:i(!0),delete:i(b),clear:i(f.clear),_get:i(w),_has:i(A)}),f}})),Cc=u(((e,t)=>{"use strict";f();var r=Bu(),n=Wu(),i=$u(),a=Nc(),o=ju();t.exports=function e(t){var s,l,_;if(r(t),(s=Object(arguments[1])).async&&s.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(t,"__memoized__")&&!s.force?t:(l=o(s.length,t.length,s.async&&i.async),_=a(t,l,s),n(i,(function(e,t){s[t]&&e(s[t],_,s)})),e.__profiler__&&e.__profiler__(_),_.updateEnv(),_.memoized)}})),Lc=u(((e,t)=>{"use strict";f(),t.exports=function(e){var t,r,n=e.length;if(!n)return"";for(t=String(e[r=0]);--n;)t+=""+e[++r];return t}})),Pc=u(((e,t)=>{"use strict";f(),t.exports=function(e){return e?function(t){for(var r=String(t[0]),n=0,i=e;--i;)r+=""+t[++n];return r}:function(){return""}}})),Rc=u(((e,t)=>{"use strict";f(),t.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}})),zc=u(((e,t)=>{"use strict";f(),t.exports=function(e){return e!=e}})),Ic=u(((e,t)=>{"use strict";f(),t.exports=Rc()()?Number.isNaN:zc()})),Dc=u(((e,t)=>{"use strict";f();var r=Ic(),n=Du(),i=qu(),a=Array.prototype.indexOf,o=Object.prototype.hasOwnProperty,s=Math.abs,l=Math.floor;t.exports=function(e){var t,_,u,c;if(!r(e))return a.apply(this,arguments);for(_=n(i(this).length),u=arguments[1],t=u=isNaN(u)?0:u>=0?l(u):n(this.length)-l(s(u));t<_;++t)if(o.call(this,t)&&(c=this[t],r(c)))return t;return-1}})),jc=u(((e,t)=>{"use strict";f();var r=Dc(),n=Object.create;t.exports=function(){var e=0,t=[],i=n(null);return{get:function(e){var n,i=0,a=t,o=e.length;if(0===o)return a[o]||null;if(a=a[o]){for(;i<o-1;){if(-1===(n=r.call(a[0],e[i])))return null;a=a[1][n],++i}return-1===(n=r.call(a[0],e[i]))?null:a[1][n]||null}return null},set:function(n){var a,o=0,s=t,l=n.length;if(0===l)s[l]=++e;else{for(s[l]||(s[l]=[[],[]]),s=s[l];o<l-1;)-1===(a=r.call(s[0],n[o]))&&(a=s[0].push(n[o])-1,s[1].push([[],[]])),s=s[1][a],++o;-1===(a=r.call(s[0],n[o]))&&(a=s[0].push(n[o])-1),s[1][a]=++e}return i[e]=n,e},delete:function(e){var n,a=0,o=t,s=i[e],l=s.length,_=[];if(0===l)delete o[l];else if(o=o[l]){for(;a<l-1;){if(-1===(n=r.call(o[0],s[a])))return;_.push(o,n),o=o[1][n],++a}if(-1===(n=r.call(o[0],s[a])))return;for(e=o[1][n],o[0].splice(n,1),o[1].splice(n,1);!o[0].length&&_.length;)n=_.pop(),(o=_.pop())[0].splice(n,1),o[1].splice(n,1)}delete i[e]},clear:function(){t=[],i=n(null)}}}})),Bc=u(((e,t)=>{"use strict";f();var r=Dc();t.exports=function(){var e=0,t=[],n=[];return{get:function(e){var i=r.call(t,e[0]);return-1===i?null:n[i]},set:function(r){return t.push(r[0]),n.push(++e),e},delete:function(e){var i=r.call(n,e);-1!==i&&(t.splice(i,1),n.splice(i,1))},clear:function(){t=[],n=[]}}}})),qc=u(((e,t)=>{"use strict";f();var r=Dc(),n=Object.create;t.exports=function(e){var t=0,i=[[],[]],a=n(null);return{get:function(t){for(var n,a=0,o=i;a<e-1;){if(-1===(n=r.call(o[0],t[a])))return null;o=o[1][n],++a}return-1===(n=r.call(o[0],t[a]))?null:o[1][n]||null},set:function(n){for(var o,s=0,l=i;s<e-1;)-1===(o=r.call(l[0],n[s]))&&(o=l[0].push(n[s])-1,l[1].push([[],[]])),l=l[1][o],++s;return-1===(o=r.call(l[0],n[s]))&&(o=l[0].push(n[s])-1),l[1][o]=++t,a[t]=n,t},delete:function(t){for(var n,o=0,s=i,l=[],_=a[t];o<e-1;){if(-1===(n=r.call(s[0],_[o])))return;l.push(s,n),s=s[1][n],++o}if(-1!==(n=r.call(s[0],_[o]))){for(t=s[1][n],s[0].splice(n,1),s[1].splice(n,1);!s[0].length&&l.length;)n=l.pop(),(s=l.pop())[0].splice(n,1),s[1].splice(n,1);delete a[t]}},clear:function(){i=[[],[]],a=n(null)}}}})),Uc=u(((e,t)=>{"use strict";f();var r=Bu(),n=Wu(),i=Function.prototype.call;t.exports=function(e,t){var a={},o=arguments[2];return r(t),n(e,(function(e,r,n,s){a[r]=i.call(t,o,e,r,n,s)})),a}})),Wc=u(((e,t)=>{"use strict";f();var r=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},n=function(e){var t,n,i=document.createTextNode(""),a=0;return new e((function(){var e;if(t)n&&(t=n.concat(t));else{if(!n)return;t=n}if(n=t,t=null,"function"==typeof n)return e=n,n=null,void e();for(i.data=a=++a%2;n;)e=n.shift(),n.length||(n=null),e()})).observe(i,{characterData:!0}),function(e){r(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,i.data=a=++a%2)}};t.exports=function(){if("object"==typeof process&&process&&"function"==typeof queueMicrotask)return queueMicrotask;if("function"==typeof queueMicrotask)return function(e){queueMicrotask(r(e))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return n(MutationObserver);if("function"==typeof WebKitMutationObserver)return n(WebKitMutationObserver)}return"function"==typeof setImmediate?function(e){setImmediate(r(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(r(e),0)}:null}()})),$c=u((()=>{"use strict";f();var e=Oc(),t=Uc(),r=Zu(),n=Qu(),i=Wc(),a=Array.prototype.slice,o=Function.prototype.apply,s=Object.create;$u().async=function(l,_){var u,c,d,p=s(null),f=s(null),h=_.memoized,g=_.original;_.memoized=n((function(e){var t=arguments,r=t[t.length-1];return"function"==typeof r&&(u=r,t=a.call(t,0,-1)),h.apply(c=this,d=t)}),h);try{r(_.memoized,h)}catch{}_.on("get",(function(e){var t,r,n;if(u){if(p[e])return"function"==typeof p[e]?p[e]=[p[e],u]:p[e].push(u),void(u=null);t=u,r=c,n=d,u=c=d=null,i((function(){var i;hasOwnProperty.call(f,e)?(i=f[e],_.emit("getasync",e,n,r),o.call(t,i.context,i.args)):(u=t,c=r,d=n,h.apply(r,n))}))}})),_.original=function(){var t,r,n,a;return u?(t=e(arguments),r=function t(r){var n,s,l=t.id;if(null!=l)return delete t.id,n=p[l],delete p[l],n?(s=e(arguments),_.has(l)&&(r?_.delete(l):(f[l]={context:this,args:s},_.emit("setasync",l,"function"==typeof n?1:n.length))),"function"==typeof n?a=o.call(n,this,s):n.forEach((function(e){a=o.call(e,this,s)}),this),a):void 0;i(o.bind(t,this,arguments))},n=u,u=c=d=null,t.push(r),a=o.call(g,this,t),r.cb=n,u=r,a):o.call(g,this,arguments)},_.on("set",(function(e){u?(p[e]?"function"==typeof p[e]?p[e]=[p[e],u.cb]:p[e].push(u.cb):p[e]=u.cb,delete u.cb,u.id=e,u=null):_.delete(e)})),_.on("delete",(function(e){var t;hasOwnProperty.call(p,e)||f[e]&&(t=f[e],delete f[e],_.emit("deleteasync",e,a.call(t.args,1)))})),_.on("clear",(function(){var e=f;f=s(null),_.emit("clearasync",t(e,(function(e){return a.call(e.args,1)})))}))}})),Fc=u(((e,t)=>{"use strict";f();var r=Array.prototype.forEach,n=Object.create;t.exports=function(e){var t=n(null);return r.call(arguments,(function(e){t[e]=!0})),t}})),Gc=u(((e,t)=>{"use strict";f(),t.exports=function(e){return"function"==typeof e}})),Xc=u(((e,t)=>{"use strict";f();var r=Gc();t.exports=function(e){try{return e&&r(e.toString)?e.toString():String(e)}catch{throw new TypeError("Passed argument cannot be stringifed")}}})),Hc=u(((e,t)=>{"use strict";f();var r=qu(),n=Xc();t.exports=function(e){return n(r(e))}})),Vc=u(((e,t)=>{"use strict";f();var r=Gc();t.exports=function(e){try{return e&&r(e.toString)?e.toString():String(e)}catch{return"<Non-coercible to string value>"}}})),Yc=u(((e,t)=>{"use strict";f();var r=Vc(),n=/[\n\r\u2028\u2029]/g;t.exports=function(e){var t=r(e);return t.length>100&&(t=t.slice(0,99)+"â¦"),t=t.replace(n,(function(e){return JSON.stringify(e).slice(1,-1)}))}})),Kc=u(((e,t)=>{function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}f(),t.exports=r,t.exports.default=r})),Jc=u((()=>{"use strict";f();var e=Uc(),t=Fc(),r=Hc(),n=Yc(),i=Kc(),a=Wc(),o=Object.create,s=t("then","then:finally","done","done:finally");$u().promise=function(t,l){var _=o(null),u=o(null),c=o(null);if(!0===t)t=null;else if(t=r(t),!s[t])throw new TypeError("'"+n(t)+"' is not valid promise mode");l.on("set",(function(e,r,n){var o=!1;if(!i(n))return u[e]=n,void l.emit("setasync",e,1);_[e]=1,c[e]=n;var s=function(t){var r=_[e];if(o)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");r&&(delete _[e],u[e]=t,l.emit("setasync",e,r))},d=function(){o=!0,_[e]&&(delete _[e],delete c[e],l.delete(e))},p=t;if(p||(p="then"),"then"===p){var f=function(){a(d)};"function"==typeof(n=n.then((function(e){a(s.bind(this,e))}),f)).finally&&n.finally(f)}else if("done"===p){if("function"!=typeof n.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");n.done(s,d)}else if("done:finally"===p){if("function"!=typeof n.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof n.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");n.done(s),n.finally(d)}})),l.on("get",(function(e,t,r){var n;if(_[e])++_[e];else{n=c[e];var o=function(){l.emit("getasync",e,t,r)};i(n)?"function"==typeof n.done?n.done(o):n.then((function(){a(o)})):o()}})),l.on("delete",(function(e){if(delete c[e],_[e])delete _[e];else if(hasOwnProperty.call(u,e)){var t=u[e];delete u[e],l.emit("deleteasync",e,[t])}})),l.on("clear",(function(){var t=u;u=o(null),_=o(null),c=o(null),l.emit("clearasync",e(t,(function(e){return[e]})))}))}})),Zc=u((()=>{"use strict";f();var e=Bu(),t=Wu(),r=$u(),n=Function.prototype.apply;r.dispose=function(i,a,o){var s;if(e(i),o.async&&r.async||o.promise&&r.promise)return a.on("deleteasync",s=function(e,t){n.call(i,null,t)}),void a.on("clearasync",(function(e){t(e,(function(e,t){s(t,e)}))}));a.on("delete",s=function(e,t){i(t)}),a.on("clear",(function(e){t(e,(function(e,t){s(t,e)}))}))}})),Qc=u(((e,t)=>{"use strict";f(),t.exports=2147483647})),ed=u(((e,t)=>{"use strict";f();var r=Du(),n=Qc();t.exports=function(e){if((e=r(e))>n)throw new TypeError(e+" exceeds maximum possible timeout");return e}})),td=u((()=>{"use strict";f();var e=Oc(),t=Wu(),r=Wc(),n=Kc(),i=ed(),a=$u(),o=Function.prototype,s=Math.max,l=Math.min,_=Object.create;a.maxAge=function(u,c,d){var p,f,h,g;(u=i(u))&&(p=_(null),f=d.async&&a.async||d.promise&&a.promise?"async":"",c.on("set"+f,(function(e){p[e]=setTimeout((function(){c.delete(e)}),u),"function"==typeof p[e].unref&&p[e].unref(),g&&(g[e]&&"nextTick"!==g[e]&&clearTimeout(g[e]),g[e]=setTimeout((function(){delete g[e]}),h),"function"==typeof g[e].unref&&g[e].unref())})),c.on("delete"+f,(function(e){clearTimeout(p[e]),delete p[e],g&&("nextTick"!==g[e]&&clearTimeout(g[e]),delete g[e])})),d.preFetch&&((h=!0===d.preFetch||isNaN(d.preFetch)?.333:s(l(Number(d.preFetch),1),0))&&(g={},h=(1-h)*u,c.on("get"+f,(function(t,i,a){g[t]||(g[t]="nextTick",r((function(){var r;"nextTick"===g[t]&&(delete g[t],c.delete(t),d.async&&(i=e(i)).push(o),r=c.memoized.apply(a,i),d.promise&&n(r)&&("function"==typeof r.done?r.done(o,o):r.then(o,o)))})))})))),c.on("clear"+f,(function(){t(p,(function(e){clearTimeout(e)})),p={},g&&(t(g,(function(e){"nextTick"!==e&&clearTimeout(e)})),g={})})))}})),rd=u(((e,t)=>{"use strict";f();var r=Du(),n=Object.create,i=Object.prototype.hasOwnProperty;t.exports=function(e){var t,a=0,o=1,s=n(null),l=n(null),_=0;return e=r(e),{hit:function(r){var n=l[r],u=++_;if(s[u]=r,l[r]=u,!n)return++a<=e?void 0:(r=s[o],t(r),r);if(delete s[n],o===n)for(;!i.call(s,++o););},delete:t=function(e){var t=l[e];if(t&&(delete s[t],delete l[e],--a,o===t)){if(!a)return _=0,void(o=1);for(;!i.call(s,++o););}},clear:function(){a=0,o=1,s=n(null),l=n(null),_=0}}}})),nd=u((()=>{"use strict";f();var e=Du(),t=rd(),r=$u();r.max=function(n,i,a){var o,s,l;(n=e(n))&&(s=t(n),o=a.async&&r.async||a.promise&&r.promise?"async":"",i.on("set"+o,l=function(e){void 0!==(e=s.hit(e))&&i.delete(e)}),i.on("get"+o,l),i.on("delete"+o,s.delete),i.on("clear"+o,s.clear))}})),id=u((()=>{"use strict";f();var e=lc(),t=$u(),r=Object.create,n=Object.defineProperties;t.refCounter=function(i,a,o){var s,l;s=r(null),l=o.async&&t.async||o.promise&&t.promise?"async":"",a.on("set"+l,(function(e,t){s[e]=t||1})),a.on("get"+l,(function(e){++s[e]})),a.on("delete"+l,(function(e){delete s[e]})),a.on("clear"+l,(function(){s={}})),n(a.memoized,{deleteRef:e((function(){var e=a.get(arguments);return null!==e&&s[e]?!--s[e]&&(a.delete(e),!0):null})),getRefCount:e((function(){var e=a.get(arguments);return null!==e&&s[e]?s[e]:0}))})}})),ad=u(((e,t)=>{"use strict";f();var r=Lu(),n=ju(),i=Cc();t.exports=function(e){var t,a=r(arguments[1]);return a.normalizer||0!==(t=a.length=n(a.length,e.length,a.async))&&(a.primitive?!1===t?a.normalizer=Lc():t>1&&(a.normalizer=Pc()(t)):a.normalizer=!1===t?jc()():1===t?Bc()():qc()(t)),a.async&&$c(),a.promise&&Jc(),a.dispose&&Zc(),a.maxAge&&td(),a.max&&nd(),a.refCounter&&id(),i(e,a)}})),od=u((e=>{"use strict";f(),Ze(),Ue();var t=Su(),r=Tu(),n=ad(),i=it(),a=Qt(),o=Hl(),s=Kl(),{isArrayLike:l}=tr(),_=e;function u(e,t){return!1===e&&null==t||_.numberify(e)===_.numberify(t)}function c(e,t){let r=null!=e?e:null;return-1!==(null!=t?t:"").indexOf(r)}function d(e,t){var r,n;let i=null!=(r=null==e?void 0:e.toLowerCase().split(/\s+/))?r:["WILL_NEVER_FIND_THIS"],a=(null!=(n=null==t?void 0:t.toLowerCase())?n:"").split(/\s+/);for(let e of i)if(!a.includes(e))return!1;return!0}function p(e){return e[0]>e[1]?[e[1],e[0]]:e}_.numberify=function(e){return String(parseFloat(e))===e?parseFloat(e):e},_.all=n((()=>{let e={email_equals:{value_type:"simple"},email_contains_string:{value_type:"simple"},equals:{value_type:"simple",fn:u},"not equal":{value_type:"simple",fn:(e,t)=>!u(e,t)},is_empty:{value_type:"none",fn:(e,t)=>null==t||""===t},is_not_empty:{value_type:"none",fn:(e,t)=>null!=t&&""!==t},in:{value_type:"array",fn:(e,t)=>(null!=e?e:[]).some((e=>u(e,t)))},"not in":{value_type:"array",fn:(e,t)=>!(null!=e?e:[]).some((e=>u(e,t)))},contains:{value_type:"simple",fn(e,t){var r;return-1!==(null!=(r=null==t?void 0:t.indexOf(e))?r:-1)}},"not contains":{value_type:"simple",fn(e,t){var r;return-1===(null!=(r=null==t?void 0:t.indexOf(e))?r:-1)}},empty:{value_type:"none",fn:(e,t)=>!t||0===t.length},"not empty":{value_type:"none",fn:(e,t)=>(null==t?void 0:t.length)>0},"greater than":{value_type:"simple",fn:(e,t)=>null!=t&&_.numberify(t)>_.numberify(e)},gte:{value_type:"simple",fn:(e,t)=>null!=t&&_.numberify(t)>=_.numberify(e)},"less than":{value_type:"simple",fn:(e,t)=>null!=t&&_.numberify(t)<_.numberify(e)},lte:{value_type:"simple",fn:(e,t)=>null!=t&&_.numberify(t)<=_.numberify(e)},"not true":{value_type:"none",fn:(e,t)=>[!1,null,void 0].includes(t)},"text contains string":{value_type:"simple",fn:c},"not text contains string":{value_type:"simple",fn:(e,t)=>!c(e,t)},"text contains":{value_type:"simple",fn:d},"not text contains":{value_type:"simple",fn:(e,t)=>!d(e,t)},geographic_search:{value_type:"geographic_address",fn(e,t){let{range:r,unit:n,origin_address:i}=e;if(!t||!i)return!1;let a={lat:i.lat,lng:i.lng},s={lat:t.lat,lng:t.lng};return o.geographic_distance(s,a,n)<=r}},contains_all_fields:{value_type:"simple",fn(e,t){var r,n,i;let a=null!=(r=null==t?void 0:t.toLowerCase().split(" "))?r:[],o=null!=(n=null==(i=e)?void 0:i.toLowerCase().split(" "))?n:["WILL_NEVER_FIND_THIS"];for(e of o){let t=!1;for(let r of a)if(-1!==r.indexOf(e)){t=!0;break}if(!t)return!1}return!0}},prefix_search:{value_type:"simple",fn(e,t){var r;let n=null!=(r=null==t?void 0:t.toLowerCase().split(" "))?r:[];for(let t of n)if(0===t.indexOf(e))return!0;return!1}},match_phrase_prefix:{value_type:"simple",fn(e,t){var r;let n=null!=(r=null==t?void 0:t.toLowerCase().split(" "))?r:[];for(let t of n)if(0===t.indexOf(e))return!0;return!1}},range_contains:{value_type:"array",fn(e,t){var r,n;return null!=(null==(r=t)?void 0:r[0])&&null!=(null==(n=e)?void 0:n[0])&&(e=p(e),(t=p(t))[0]<=e[0]&&t[1]>=e[1])}},range_contains_point:{value_type:"simple",fn(e,t){var r;return null!=(null==(r=t)?void 0:r[0])&&null!=e&&((t=p(t))[0]<=e&&t[1]>=e)}},range_contained_by:{value_type:"array",fn(e,t){var r,n;return null!=(null==(r=t)?void 0:r[0])&&null!=(null==(n=e)?void 0:n[0])&&(e=p(e),t=p(t),e[0]<=t[0]&&e[1]>=t[1])}},range_overlaps:{value_type:"array",fn(e,t){var r,n;return null!=(null==(r=t)?void 0:r[0])&&null!=(null==(n=e)?void 0:n[0])&&(e=p(e),(t=p(t))[0]<=e[1]&&t[1]>=e[0])}},range_greater_than:{value_type:"array",fn(e,t){var r,n;return null!=(null==(r=t)?void 0:r[0])&&null!=(null==(n=e)?void 0:n[0])&&(e=p(e),(t=p(t))[0]>e[1])}},range_less_than:{value_type:"array",fn(e,t){var r,n;return null!=(null==(r=t)?void 0:r[0])&&null!=(null==(n=e)?void 0:n[0])&&(e=p(e),(t=p(t))[1]<e[0])}},range_greater_than_point:{value_type:"simple",fn(e,t){var r;return null!=(null==(r=t)?void 0:r[0])&&null!=e&&(t=p(t))[0]>e}},range_less_than_point:{value_type:"simple",fn(e,t){var r;return null!=(null==(r=t)?void 0:r[0])&&null!=e&&(t=p(t))[1]<e}}};return Object.keys(e).map((t=>new class{constructor(e){let{name:t,fn:r,value_type:n}=e;if(this.name=t,this.fn=r,this.value_type=n,!["none","simple","array","geographic_address"].includes(this.value_type))throw new Error}takes_no_value(){return"none"===this.value_type}takes_array_value(){return"array"===this.value_type}process_array_value(e){if(Array.isArray(e))return e;var t;if(null!=(null==e?void 0:e.all))return null!=(t=e.all())?t:[];if(e&&l(e)){let t=Object.values(e);return 0===t.length?[]:t}return[]}resolve_constraint(e){let{entry:t,null_not_dropped:r}=e;return r&&(t=this.heed_empty_constraint(t),!t)?void 0:"return_empty_set"===t.constraint_type?t:_.get(t.constraint_type).ignore_empty_constraint(t)}heed_empty_constraint(e){let t=a.extend({},e);if(this.takes_array_value()){if(!this.process_array_value(e.value).length){if("not in"===this.name)return;t.constraint_type="return_empty_set"}}else[null,""].includes(t.value)&&("equals"===this.name&&(t.constraint_type="is_empty"),this.takes_no_value()||(t.constraint_type="return_empty_set"));return"geographic_search"===this.name&&!t.value.origin_address&&(t.constraint_type="return_empty_set"),t}ignore_empty_constraint(e){if(this.takes_array_value()){let t=this.process_array_value(e.value);if(t.length)return a.extend({},e,{value:t})}else{if(this.takes_no_value())return{key:e.key,constraint_type:e.constraint_type,self:e.self};if("geographic_search"!==this.name&&null!=e.value&&""!==e.value)return e;if("geographic_search"===this.name&&null!=e.value.origin_address&&""!==e.value.origin_address)return e.value.origin_address=s.from_address(e.value.origin_address),e}return null}}(a.extend({name:t},e[t]))))})),_.by_name=n((()=>t(_.all(),(e=>e.name)))),_.get=e=>{let t=_.by_name()[e];if(!t)throw new i.UnexpectedError("missing constraint_def",{name:e});return t},_.all_search_constraints=r(_.by_name(),(e=>e.fn))})),sd=u((e=>{"use strict";f(),Ue(),Ft();var t,r,n=e,i=Lo(),a=r_(),o=ql(),s=Ul(),l=od(),_=Po(),u=Ql(),c=Kt(),d=n_(),p=fl(),h=xr();function g(e,t){return null!=e&&e._id()?null!=t&&t._id()?e._id().localeCompare(t._id(),"en-US"):-1:1}n.ensure_single=function(e,t,r){if(t>0)return e=>[];let n=!1;return function(e){return null!=e||(e=1),1!==e||n?[]:(n=!0,r())}},n.can_execute_in_db=function(e,t){let r;if("_id"===t.key&&["lower than","greater than"].includes(t.constraint_type))return!0;if("user"===e&&["email","StripeCustomerID","user_signed_up"].includes(t.key))return!("email"===t.key&&"email_equals"!==t.constraint_type&&"email_contains_string"!==t.constraint_type);if(["and","or"].includes(t.constraint_type))return!0;if(t.key===s.UNIQUE_ID)return["equals","not equal","in","not in"].includes(t.constraint_type);if(t.key===s.ALL_DB_FIELDS)return!0;if(t.key===s.ADVANCED_SEARCH_CONSTRAINT)return!1;let n=a.lang_btypes().get(e).get_message(t.key);return n.is_lookup()&&(r=n.ret_btype_id(),!o.NO_DB_CONSTRAINTS.includes(r))},n.pass_filter=function(e,t,r){for(let i of t)if(!n.local_constrain(e,i,r))return!1;return!0},n.sort_in_memory=function(e,t,r){if(0===t.length)return null!=a.lang_btypes().get(r).custom_type()?e.sort(g):e;if(t[0].sort_field===s.RANDOM_SORTING)return i.shuffle_array(e);{let o=function(t){return t[0]?n.make_sort_comparer(s(t[0]),t[0].descending,o(t.slice(1))):(t,r)=>e.indexOf(t)-e.indexOf(r)},s=e=>function(t){if(e.sort_on_id)return t._id();if(e.self)return t;if(e.sort_field&&null!=t){var n;if(null!=a.lang_btypes().get(r).option_set())return null==(n=a.lang_btypes().get(r).option_set().value(t))?void 0:n.attr(e.sort_field);if("function"!=typeof t.child){if(h.is_api_type(r)){let n=a.lang_btypes().get(r).get_message(e.sort_field);if(n.is_not_found())throw new i.OwnerError("Sorting on this type of thing is currently not supported");return n.evaluate_without_cast(t)}throw new i.UnexpectedError("Trying to sort on a bad object",{value_id:r,sort_item:e,string_entry:String(t)})}return t.child(e.sort_field).get()}return null};return e.sort(o(t))}},r=typeof Intl<"u"&&null!=(null==(t=Intl)?void 0:t.Collator)?new Intl.Collator("en-US"):{compare:(e,t)=>String(e).localeCompare(t,"en-US")};var m=/[ &'.]/g;n.locale_compare=function(e,t){let n=r.compare(e.replace(m,""),t.replace(m,""));return 0!==n?n:r.compare(e,t)},n.make_sort_comparer=function(e,t,r){let i;return i=t?-1:1,function(t,a){let o=e(t),s=e(a),_=l.numberify(o),u=l.numberify(s);return typeof o==typeof s&&typeof _!=typeof u&&(_=o,u=s),typeof _==typeof u?_===u&&r?r(t,a):"string"==typeof _?n.locale_compare(_,u)*i:"number"==typeof _?(_-u)*i:"boolean"==typeof _?_?i:-i:_ instanceof Date&&u instanceof Date?_<u?-1*i:1*i:0:["undefined","object","function"].includes(typeof _)?1:["undefined","object","function"].includes(typeof u)?-1:"string"==typeof _?1*i:"string"==typeof u?-1*i:"number"==typeof _?1*i:"number"==typeof u?-1*i:void 0}},n.get_group_by_value_id=function(e,t,r){let n=a.lang_btypes().get(e),o={};for(let[e,{message:r}]of t.entries()){let t=n.get_message(r);o["grouping"+String(e)]=[t.description(void 0,!0),t.ret_btype_id()]}for(let[e,{fn:t,message:i}]of r.entries()){let r,a;if(i){let e=n.get_message(i);a=t+" of "+e.description(void 0,!0),r=e.ret_btype_id()}else a=t,r="number";o["agg"+String(e)]=[a,r]}return"struct."+i.base64(JSON.stringify({caption:"Grouping",definition:o}))},n.calculate_sort_score=function(e,t){let r=[];for(let n of null!=t?t:[])"string"==typeof n.sort_field?r.push(null==e?void 0:e[n.sort_field]):r.push(0);return r},n.is_less_than=function(e,t,r,i,a,o){if(null!=o||(o=!1),o)return r[0]<a[0];for(let[t,{descending:i}]of(null!=e?e:[]).entries())if(r[t]!==a[t]){if(null==r[t])return!1;if(null==a[t])return!0;if("string"==typeof r[t]){let e=n.locale_compare(r[t],a[t]);return i?e>0:e<0}return i?r[t]>a[t]:r[t]<a[t]}return t<i},n.AGGREGATE_LOCAL_CHANGE={count:(e,t,r,n,i)=>i+(e?-1:1),sum:(e,t,r,n,i)=>(null!=r||(r=0),null!=n||(n=0),i+n-r),product:(e,t,r,n,i)=>(null!=r||(r=1),null!=n||(n=1),i*n/r)},n.aggregate_started_key=(e,t,r)=>"CallAggregate_started_"+e+(t?"_"+t:"")+(null!=r&&r.should_approx?"_approximate":"")+(null!=r&&r.cacheable?"_cached":"");var v={email_equals:(e,t)=>e===t,email_contains_string:(e,t)=>null==e?void 0:e.includes(t)};n.local_constrain=function(e,t,r){if(null==e)return!1;if(t.key===s.ADVANCED_SEARCH_CONSTRAINT){let n={datasources:{injected_value:()=>e,injected_value_btype(){var n,i,a,o,s,l;let _=null!=(n=t.self)?n:null==e||null==(i=e._type)?void 0:i.call(e);var u;null!=_&&_!==r&&c.debug("different value_id in injected datasource constraint",{self:t.self,obj_type:null==e||null==(u=e._type)?void 0:u.call(e),value_id:r});return null!=(a=null!=(o=null!=(s=t.self)?s:null==e||null==(l=e._type)?void 0:l.call(e))?o:r)?a:"null"}},advanced_search:!0},[i]=u.evaluate(t.value,n,null,null);return i}{let u;if(t.constraint_type in v){let r=e.child("authentication"),n=r.child("email").child("email").get();if(v[t.constraint_type](n,t.value))return!0;for(let e of _.get_oauth_providers()){let n=r.child(e).child("email").get();if(v[t.constraint_type](n,t.value))return!0}return!1}if("or"===t.constraint_type){var o;if(null==(o=t.opts)||!o.length)throw new i.UnexpectedError("assertion: or must have at least one sub",{c:t});for(u of t.opts)if(n.local_constrain(e,u,r))return!0;return!1}if("and"===t.constraint_type){var f;if(null==(f=t.opts)||!f.length)throw new i.UnexpectedError("assertion: and must have at least one sub",{c:t});for(u of t.opts)if(!n.local_constrain(e,u,r))return!1;return!0}{let n,o;if("_id"===t.key&&"function"==typeof e._id)o=e._id();else if(t.key===s.ALL_DB_FIELDS)o=i.json_stringify(e.raw());else if("function"!=typeof e.child){if(!h.is_api_type(r))return!1;if(n=a.lang_btypes().get(r).get_message(t.key),n.is_not_found())throw new i.OwnerError("Filtering on this type of thing is currently not supported");o=n.evaluate_without_cast(e),o instanceof d&&(o=o.all())}else{let i;r&&(n=a.lang_btypes().get(r).get_message(t.key),i=n.is_lookup());let s=null;if("string"==typeof i?s=i:(i||!n)&&(s=t.key),s&&n){var g,m;let r=null!=(g=e.child(t.key).raw())?g:null,i=null!=(m=n.evaluate_without_cast(e))?m:null;r!==i&&n.ret_btype().option_set()&&c.info("Local constrain value mismatch",{raw_val:r,msg_val:i,c:t,lookup_key:s})}if(s){if(o=e.child(t.key).raw(),p.is_json_class(o)){let t=p.from_json(e.db,o);t instanceof d?o=t.all():c.error("JSON class value is not handled",o)}}else o=n.evaluate_without_cast(e,null,null,null,{constraint_messsage:t.key})}let _=l.all_search_constraints[t.constraint_type];if(!_)throw new i.UnexpectedError("bad constraint type "+t.constraint_type);return _(t.value,o)}}}})),ld=u(((e,t)=>{"use strict";f(),Ue();var r=sd(),n=Lo(),i={is_single:!0,fn(e,t){return r.ensure_single(e,t,(()=>{let t,r,{prev:i,op:a}=e,o=this.all(i);if(0===o.length)return[null];switch(a){case"sum":{let e=0;for(r of o)null!=r&&(e+=r);return[e]}case"product":{let e=1;for(r of o)null!=r&&(e*=r);return[e]}case"average":{let e=0,t=0;for(r of o)null!=r&&(t++,e+=r);return 0===t?[null]:[e/t]}case"median":return o=[].concat(o),o.sort(((e,t)=>e-t)),o=o.filter((e=>null!==e)),0===o.length?[null]:o.length%2==0?[(o[o.length/2-1]+o[o.length/2])/2]:[o[Math.floor(o.length/2)]];case"min":{let e=o[0];for(t of o.slice(1))null!=t&&t<e&&(e=t);return[e]}case"max":{let e=o[0];for(t of o.slice(1))if(null!=t&&t>e){var s;e=null!=(s=t)?s:0}return[e]}default:throw new n.UnexpectedError("unrecognized op: "+a)}}))},get_ret_btype:()=>"number",simplify(e){},adds_context:{sorted_above:!0}};t.exports=i})),_d=u(((e,t)=>{"use strict";f();var r=Lo(),n=sd(),i=r_(),a=Lr(),o=fl(),s=Nd(),l={is_single:!0,fn(e,t){return n.ensure_single(e,t,(()=>{let t,{value_id:r,item:n,prev:s}=e,l=i.lang_btypes().get(r);n=o.rehydrate_tree(this,n);let _=this.iterate(s);for(;t=_();){let e=this.array_to_objects(s,t);for(let t=0;t<e.length;t++){let r=e[t];if(t%10==0&&a.optional_pause(),l.equals(r,n))return[!0]}}return[!1]}))},get_ret_btype:()=>"sys.bool",adds_context:{sorted_above:!0},simplify:e=>s[e.prev.t].preserves_items?{t:"Contains",value_id:e.value_id,item:e.item,prev:e.prev.prev}:"Concat"===e.prev.t?{t:"Reduce",op:"or",prev:{t:"Concat",prevs:e.prev.prevs.map((t=>r.extend({},e,{prev:t})))}}:"Intersect"===e.prev.t?{t:"Reduce",op:"and",prev:{t:"Concat",prevs:e.prev.prevs.map((t=>r.extend({},e,{prev:t})))}}:null};t.exports=l})),ud=u(((e,t)=>{"use strict";f(),Ue();var r=sd(),n=r_(),i=Lr(),a=fl(),o={is_single:!0,fn(e,t,o){return r.ensure_single(e,t,(()=>{let t,{value_id:r,item:o,prev:s}=e,l=n.lang_btypes().get(r);o=a.rehydrate_tree(this,o);let _=-1,u=this.iterate(s);for(;t=u();){let e=this.array_to_objects(s,t,!0);for(let[t,r]of e.entries())if(t%10==0&&i.optional_pause(),_++,l.equals(r,o))return[_]}return[-1]}))},get_ret_btype:()=>"number"};t.exports=o})),cd=u(((e,t)=>{"use strict";f();var r=Lo(),n=sd(),i={is_single:!0,fn(e,t){return n.ensure_single(e,t,(()=>{var t;let{op:n,n:i,prev:a}=e,o=null==(t=this.execute_get_children(a,0,1))?void 0:t[0];switch(n){case">":return[o>i];case"<":return[o<i];case">=":return[o>=i];case"<=":return[o<=i];case"===":return[o===i];case"!==":return[o!==i];default:throw new r.UnexpectedError("unrecognized op",{plan:e})}}))},get_ret_btype:()=>"sys.bool"};t.exports=i})),dd=u(((e,t)=>{"use strict";f(),Ft();var r=Lo(),n=Lr(),i=r_(),a=cl(),o=xr(),s={fn(e,t){var o;let{id:s,field:l}=e;if(!s)throw new r.UnexpectedError("NodeList missing id",{plan:e});let _=this.get(s),u=null!=(o=_.child(l)._extract(_.raw()))?o:[];if(!Array.isArray(u))throw new r.UnexpectedError("NodeList called on bad field",{plan:e});let c=(e,t,i)=>{if(i%10==0&&n.optional_pause(),"string"!=typeof e||!r.starts_with(e,a.HYDRATE_STRING)||e.length>200||-1!==e.indexOf("StaticNode")||-1!==e.indexOf("StaticObject"))return e;let o=e.replace(a.HYDRATE_STRING,""),s=this._local(o);return s.dependency.register(),null==s.raw&&s.ready_key.is_turned()?null:o},d=[];return r=>{let a,o,s,l;for(o=null!=r?t+r:t+this.GET_BATCH_SIZE,o=i.coerce_to_integer(o,{n:r,to:o,from:t,plan:e});d.length<o&&u.length>0;){let e=1.2*(o-d.length),t=u.slice(0,e);for(u=u.slice(e),s=0;s<t.length;s++)l=t[s],c(l,0,s);for(t=t.map(((e,t)=>c(e,0,t))),t=t.filter((e=>null!=e)),s=0;s<t.length;s++)l=t[s],s%10==0&&n.optional_pause(),d.push(l)}return a=null!=r?d.slice(t,o):d.slice(t),t+=a.length,a}},get_ret_btype(e){var t;if(e.type)return e.type;if(null==e.id)throw new r.UnexpectedError("NodeList missing id",{plan:e});let n=this.get(e.id)._type();if(!n)return"null";let a=null==(t=i.lang_btypes().get(n).get_message(e.field).ret_btype())?void 0:t.id();if(null==a||"null"===a)return"null";if("date_range"===a)return"date";if("number_range"===a)return"number";if(!o.is_list(a))throw new r.UnexpectedError("NodeList has non-list value for field: "+a);return o.list_element_type(a)}};t.exports=s})),pd=u(((e,t)=>{"use strict";f();var r=ql(),n=sd(),i={is_single:!0,fn(e,t){return n.ensure_single(e,t,(()=>{let t,{prev:n,bound:i}=e;i||(i=r.ALL_MAX);let a=0,o=this.iterate(n);for(;a<i&&(t=o());)a+=t.length;return[a]}))},get_ret_btype:()=>"number",simplify:e=>a[e.prev.t].preserves_length?{t:"Length",bound:e.bound,prev:e.prev.prev,options:e.options}:"Concat"===e.prev.t?{t:"Reduce",op:"+",prev:{t:"Concat",prevs:e.prev.prevs.map((t=>({t:"Length",prev:t,options:e.options})))}}:null,adds_context:{sorted_above:!0}},a=Nd();t.exports=i})),fd=u(((e,t)=>{"use strict";f();var r={fn(e,t){let{prev:r,max:n}=e,i=this.iterate(r,t);return n-=t,t=0,e=>{let r,a=n-t;if(a<1)return[];r=null!=e?Math.min(e,a):null;let o=i(r);return o?(o.length>a&&(o=o.slice(0,a)),t+=o.length,o):[]}},get_ret_btype(e){return this.get_plan_ret_btype(e.prev)}};t.exports=r})),hd=u(((e,t)=>{"use strict";f();var r={fn(e,t){let{prev:r,offset:n}=e;n=Math.floor(n),n<0&&(n=0);let i=this.iterate(r,t+n);return e=>{var t;return null!=(t=i(e))?t:[]}},get_ret_btype(e){return this.get_plan_ret_btype(e.prev)}};t.exports=r})),gd=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=fl(),i=r_(),a=xr(),o={fn(e,t){let{prev:r}=e,a=this.iterate(r),o=null,s=[],l=[];return r=>{let _,u;for(u=null!=r?t+r:t+1,u=i.coerce_to_integer(u,{n:r,to:u,from:t,plan:e});l.length<u;){if(null==o){var c,d,p;if(0===s.length&&(s=a(),null==s))break;let e=null==(c=n.rehydrate_tree(this,s.shift()))||null==(d=(p=c).get_plan)?void 0:d.call(p);if(null==e)continue;o=this.iterate(e)}for(;l.length<u;){if(_=o(),null==_){o=null;break}l.push(..._)}}return _=null!=r?l.slice(t,u):l.slice(t),t+=_.length,_}},validate(e){let t=this.get_plan_ret_btype(e.prev);if(!a.is_list(t))throw new r.UnexpectedError("Flatten must be called on a plan that returns lists",{query:e})},get_ret_btype(e){return this.get_plan_ret_btype(e.prev).slice(5)},preserves_context:{sorted_above:!0},simplify:e=>null};t.exports=o})),md=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=r_(),i={fn(e,t){let{prevs:r}=e,i=-1,a=[],o=null;return s=>{let l,_;for(_=null!=s?t+s:t+1,_=n.coerce_to_integer(_,{n:s,to:_,from:t,plan:e});a.length<_;){if(null==o){if(i++,i===r.length)break;o=this.iterate(r[i])}l=o(),null==l?o=null:a.push(...l)}return l=null!=s?a.slice(t,_):a.slice(t),t+=l.length,l}},validate(e){if(!Array.isArray(e.prevs))throw new r.UnexpectedError("Concat must have prevs array",{query:e})},get_ret_btype(e){for(let t of e.prevs){let e=this.get_plan_ret_btype(t);if(null!=e&&"null"!==e)return e}return"null"},preserves_context:{sorted_above:!0},simplify(e){let t=!1,n=[];for(let r of e.prevs)if("Concat"===r.t){t=!0;for(let e of r.prevs)n.push(e)}else n.push(r);return!1===t?null:r.extend({},e,{prevs:n})}};t.exports=i})),vd=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=Jl(),a=r_(),o={fn(e,t){let r,{prevs:i}=e,o=[],s=i.map((e=>({}))),l={};function _(e,t,r){r%10==0&&n.optional_pause();let a=JSON.stringify(e);if(!l[a]){s[t][a]=!0;for(let e=0;e<i.length;e++)if(!s[e][a])return;return l[a]=!0,o.push(e)}}let u=i.map((e=>this.iterate(e)));r=0;let c=0;return n=>{let s,l;for(l=null!=n?t+n:t+1,l=a.coerce_to_integer(l,{n:n,to:l,from:t,plan:e});o.length<l&&c<i.length;){if(u[r]){let e=u[r]();if(e)for(let t=0;t<e.length;t++){_(e[t],r,t)}else u[r]=null,c++}r++,r===i.length&&(r=0)}return s=null!=n?o.slice(t,l):o.slice(t),t+=s.length,s}},get_ret_btype(e){for(let t of e.prevs){let e=this.get_plan_ret_btype(t);if(null!=e&&"null"!==e)return e}return"null"},validate(e){if(!Array.isArray(e.prevs))throw new r.UnexpectedError("Intersect must have prevs array",{query:e})},preserves_context:{sorted_above:!0},simplify(e,t){let n,a=!1,o=[];for(n of e.prevs)if("Intersect"===n.t){a=!0;for(let e of n.prevs)o.push(e)}else o.push(n);if(a)return r.extend({},e,{prevs:o});if(!t.sorted_above)return null;let s=null,l=null;for(n of e.prevs){if("Filter"===n.t)s=n.prev;else{if("All"!==n.t)return null;s=n}if(null==l)l=JSON.stringify(s);else if(l!==JSON.stringify(s))return null}let _={},u=[];for(n of e.prevs)if("Filter"===n.t)for(let e of n.constraints)_[JSON.stringify(e)]||(_[JSON.stringify(e)]=!0,u.push(e));return 0===u.length?s:{t:"Filter",constraints:i.sort_constraints(u),prev:s}}};t.exports=o})),yd=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=sd(),a=Jl(),o={simplify(e,t){let n,o;if("Concat"!==e.prev.t)return null;let s=!1,l=e.prev.prevs.map((e=>"Unique"===e.t?(s=!0,e.prev):e));if(s)return{t:"Unique",prev:this.simplify_query(r.extend({},e.prev,{prevs:l}))};if(!t.sorted_above)return null;let _=e.prev.prevs,u=null,c=null;for(let e of _){if("All"===e.t)return e;if("Filter"!==e.t)return null;if(c=e.prev,null==u)u=JSON.stringify(c);else if(u!==JSON.stringify(c))return null}let d=[];for(let e of _){let t={},r=[];for(n of e.constraints)t[JSON.stringify(n)]||(r.push(n),t[JSON.stringify(n)]=!0);d.push(r)}let p={};for(o of d)for(n of o){var f;null!=p[f=JSON.stringify(n)]||(p[f]=0),p[JSON.stringify(n)]++}let h=this.get_plan_ret_btype(c),g=[],m=[],v=!1;for(o of d){let e=[];for(n of null!=(y=o)?y:[]){var y;if(p[JSON.stringify(n)]===d.length)m.push(n),p[JSON.stringify(n)]="added";else if("added"!==p[JSON.stringify(n)]){if(!i.can_execute_in_db(h,n))return null;e.push(n)}}if(0===e.length)v=!0;else if(1===e.length)if("or"===e[0].constraint_type)for(let t of e[0].opts)g.push(t);else g.push(e[0]);else g.push({constraint_type:"and",opts:a.sort_constraints(e)})}return v||m.push({constraint_type:"or",opts:a.sort_constraints(g)}),{t:"Filter",constraints:a.sort_constraints(m),prev:c}},fn(e,t){let{prev:r}=e,i=[],a={},o=this.iterate(r);return e=>{let r,s,l;for(s=null!=e?t+e:t+1;i.length<s&&(l=o());)for(let[e,t]of l.entries())e%10==0&&n.optional_pause(),a[JSON.stringify(t)]||(a[JSON.stringify(t)]=!0,i.push(t));return r=null!=e?i.slice(t,s):i.slice(t),t+=r.length,r}},get_ret_btype(e){return this.get_plan_ret_btype(e.prev)},preserves_items:!0,sort_neutral:!0,preserves_context:{sorted_above:!0}};t.exports=o})),bd=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=sd(),a={is_single:!0,fn(e,t){return i.ensure_single(e,t,(()=>{let t,i,{op:a,prev:o}=e;switch(a){case"+":t=0,i=(e,t)=>[e+t];break;case"or":t=!1,i=(e,t)=>[e||t,e||t];break;case"and":t=!0,i=(e,t)=>[e&&t];break;default:throw new r.UnexpectedError("unrecognized op "+a)}let s,l=this.iterate(o);for(;s=l();)for(let[e,r]of s.entries()){let a;if(e%10==0&&n.optional_pause(),[t,a]=i(t,r),a)return[t]}return[t]}))},get_ret_btype(e){switch(e.op){case"+":return"number";case"or":return"boolean";default:throw new r.UnexpectedError("unrecognized op "+e.op)}},adds_context:{sorted_above:!0}};t.exports=a})),wd=u(((e,t)=>{"use strict";f();var r=Lo(),n=Lr(),i=sd(),a=Jl(),o=r_(),s={fn(e,t){let{prev:r,constraints:a}=e,s=[],l=this.iterate(r),_=this.get_plan_ret_btype(e.prev);return u=>{let c,d,p;for(d=null!=u?t+u:t+1,d=o.coerce_to_integer(d,{n:u,to:d,from:t,plan:e});s.length<d&&(p=l());){let e=this.array_to_objects(r,p,!0);for(let t=0;t<e.length;t++){let r=e[t];t%10==0&&n.optional_pause(),i.pass_filter(r,a,_)&&s.push(p[t])}}return c=null!=u?s.slice(t,d):s.slice(t),t+=c.length,c}},validate(e){if(!Array.isArray(e.constraints))throw new r.UnexpectedError("Filter must have constraints array",{query:e})},canonicalize:e=>a.sort_constraints(e.constraints),get_ret_btype(e){return this.get_plan_ret_btype(e.prev)},simplify(e){return"Filter"===e.prev.t?{t:"Filter",constraints:e.constraints.concat(e.prev.constraints),prev:e.prev.prev}:["Concat","Intersect"].includes(e.prev.t)?{t:e.prev.t,prevs:e.prev.prevs.map((t=>this.simplify_query(r.extend({},e,{prev:t}))))}:null},sort_neutral:!0,preserves_context:{sorted_above:!0}};t.exports=s})),Ad=u(((e,t)=>{"use strict";f();var r=ql(),n=r_(),i=sd(),a={fn(e,t){let{prev:n,sorts_list:a}=e,o=this.all(n);return o=this.array_to_objects(n,o,!0),i.sort_in_memory(o,a,this.get_plan_ret_btype(e.prev)),o=this.array_to_ids(n,o),e=>{null!=e||(e=r.ALL_MAX);let n=t+e,i=o.slice(t,n);return t=n,i}},get_ret_btype(e){return this.get_plan_ret_btype(e.prev)},preserves_items:!0,preserves_length:!0,canonicalize(e){e.sorts_list=n.resolve_sorts(e.sorts_list,!0)},adds_context:{sorted_above:!0},simplify:(e,t)=>t.sorted_above?e.prev:null};t.exports=a})),Ed=u(((e,t)=>{"use strict";f(),Ue();var r,n=Lo(),i=r_(),a=sd(),o=ql(),s=ot();function _(e,t){return"browser"===e?r(t):r(t).tz(e)}r=s.on_server()?l("moment-timezone"):Wr();function u(e,t){let r=Math.log10(t),n=Math.max(0,5-r);return Number(e.toFixed(n))}t.exports=class{constructor(e,t,r){this.prev_value_id=e,this.aggregations=r,this.prev_value=i.lang_btypes().get(this.prev_value_id),this.bucket_starts=t.map(this.get_start,this),this.all_groupings=t,this.last_grouping=t[t.length-1],null!=this.last_grouping.end&&o.BUCKET_GROUPINGS.includes(this.last_grouping.fn)?(this.continuous_group=this.last_grouping,this.groupings=t.slice(0,t.length-1),this.bucket_end=this.get_bucket_from_data(this.last_grouping,this.continuous_group.end)):(this.continuous_group=null,this.bucket_end=null,this.groupings=this.all_groupings)}get_bucket_data(e,t){return this.prev_value.get_message(e.message).evaluate_without_cast(t)}get_bucket(e,t){let r=this.get_bucket_data(e,t);return this.get_bucket_from_data(e,r)}get_bucket_from_data(e,t){var r;switch(null!=(r=e.fn)?r:"exact"){case"exact":return t;case"bucket":{if(null==t)return null;let{start:r,interval:n}=e;return u(r+Math.floor((t-r)/n)*n,n)}case"day":case"month":{if(null==t)return null;let{start:r}=e,{interval:i,timezone_string:a}=e;if(r=_(a,e.start).startOf(e.fn),t<r.valueOf())throw new n.UnexpectedError("assertion error: got data < start",{data:t,start:r,grouping:e});let o="day"===e.fn?"days":e.fn,s=r;for(;;){let e=s.clone().add(i,o);if(e.valueOf()>t)return s.valueOf();s=e}}default:throw new n.UnexpectedError("unrecognized fn "+e.fn)}}next_bucket(e,t){var r;switch(null!=(r=e.fn)?r:"exact"){case"exact":throw new n.UnexpectedError("cannot call next_bucket on an exact match",{grouping:e,data:t});case"bucket":{let{interval:r}=e;return u(t+r,r)}case"day":case"month":{let{interval:r,timezone_string:n}=e,i="day"===e.fn?"days":e.fn;return _(n,t).add(r,i).valueOf()}}}get_start(e){return o.BUCKET_GROUPINGS.includes(e.fn)?this.get_bucket_from_data(e,e.start):null}is_in_range(e){let t;for(let r=0;r<this.groupings.length;r++){let n=this.groupings[r];if(null!=this.bucket_starts[r]&&(t=this.get_bucket_data(n,e),null==t||t<this.bucket_starts[r]))return!1}if(null!=this.continuous_group){if(t=this.get_bucket_data(this.continuous_group,e),null==t)return null;if(t<this.bucket_starts[this.groupings.length]||this.get_bucket_from_data(this.continuous_group,t)>this.bucket_end)return!1}return!0}build_grouping_sorter(e){let t;null!=e||(e=0);return t=e+1<this.all_groupings.length?this.build_grouping_sorter(e+1):()=>0,a.make_sort_comparer((t=>{let r=this.get_bucket(this.all_groupings[e],t);return"function"==typeof(null==r?void 0:r._id)?r._id():r}),!1,t)}get_continuous_start(){return this.get_start(this.continuous_group)}get_continuous_end(){return this.get_bucket_from_data(this.continuous_group,this.continuous_group.end)}get_grouping_constraints(){let e,t=[];for(let r of this.groupings)e=this.get_start(r),null!=e&&t.push({constraint_type:"or",opts:[{constraint_type:"greater than",key:r.message,value:e},{constraint_type:"equals",key:r.message,value:e}]});if(this.continuous_group){e=this.get_continuous_start(),t.push({constraint_type:"or",opts:[{constraint_type:"greater than",key:this.continuous_group.message,value:e},{constraint_type:"equals",key:this.continuous_group.message,value:e}]});let r=this.next_bucket(this.continuous_group,this.get_continuous_end());t.push({constraint_type:"less than",key:this.continuous_group.message,value:r})}return t}}})),Md=u(((e,t)=>{"use strict";f(),Ue();var r=Ed(),n=Kt(),i=sd(),a=q_(),o=fl(),s={fn(e,t){let{aggregations:i,prev:s}=e,l=this.get_plan_ret_btype(s),_=new r(l,e.groupings,i),u=[],c=this.array_to_objects(s,this.all(s)).filter((e=>null!==e&&_.is_in_range(e)));c.sort(_.build_grouping_sorter());let d=null,p=null,f=e=>{for(let[t,r]of _.groupings.entries())if(o.dehydrate_tree(_.get_bucket(r,e))!==o.dehydrate_tree(d[t]))return!1;return!(null!=_.continuous_group&&_.get_bucket(_.continuous_group,e)!==p)},h=()=>{if((()=>{if(null!=_.continuous_group){if(null==p)p=_.get_continuous_start();else if(p=_.next_bucket(_.continuous_group,p),p>_.get_continuous_end()){if(d=null,0===_.groupings.length)return;p=_.get_continuous_start()}}else d=null;if(null==d){if(null==c[0]&&_.groupings.length>0)return;d=_.groupings.map((e=>_.get_bucket(e,c[0])))}})(),null==d)return;let e=[];for(;null!=c[0]&&f(c[0]);)e.push(c.shift());let t={};for(let[e,r]of d.entries())t["grouping"+String(e)]=r;null!=_.continuous_group&&(t["grouping"+String(d.length)]=p);let r=null;for(let[o,{fn:s,message:_}]of i.entries()){let i;if("count"===s)i=e.length;else{null!=r||(r=this.static_list(l,e));let t=new a(r,{value_id:l,message:_});s in t?i=t[s]():(n.info("Unexpectedly missing transform call!",{fn_name:s}),i=t._numeric_op(s))}t["agg"+String(o)]=i}return t};return e=>{let r,n,i;for(n=null!=e?t+e:t+1;u.length<n&&(i=h());)u.push(o.dehydrate_tree(i));return r=null!=e?u.slice(t,n):u.slice(t),t+=r.length,r}},get_ret_btype(e){let{aggregations:t,groupings:r,prev:n}=e;return i.get_group_by_value_id(this.get_plan_ret_btype(n),r,t)},adds_context:{sorted_above:!0}};t.exports=s})),xd=u(((e,t)=>{"use strict";f();var r=Lo(),n={get_ret_btype:e=>e.type,fn(){throw new r.UnexpectedError("Columns cannot be executed")}};t.exports=n})),Od=u(((e,t)=>{"use strict";f();var r=Lo(),n={get_ret_btype(e){return this.get_plan_ret_btype(e.prev)},fn(){throw new r.UnexpectedError("ExtraFields cannot be executed")}};t.exports=n})),kd=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(Kt()),a=ql(),o=sd(),s=function(e){return e&&e.__esModule?e:{default:e}}(D_()),l=Jl(),_=nt();function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c=["_id"];var d={watch_search_call:e=>({constraints:e.constraints,type:e.type}),load(e,t){var i,a;let{plan:o,from:s,n:l,from_id:_}=e,{constraints:u,sorts_list:d,type:p,extra:f,columns:h}=o;this.query_planner().update(p,u,d,{loading_to:s+l},!0);let{local_change_buffer:g}=null!=(i=this.query_planner().get_stats(p,u,d))?i:{};l+=null!=g?g:0;let m,v,y=function(e){return(null!=e?e:[]).every((e=>c.includes(e.sort_field)))}(d),b=null==(a=(null!=d?d:[])[0])?void 0:a.descending;y&&_?(m=[...u,{key:"_id",constraint_type:b?"less than":"greater than",value:_}],v=0):(m=[...u],v=s),this.elasticsearch("search",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),type:p,constraints:m,sorts_list:d,from:v,n:l,search_path:this.build_search_path(o,s+l),extra:f,columns:h},((e,i)=>{var a,o;if(e)return void t(e);let l=null!=(a=null==(o=i.hits)?void 0:o.hits)?a:[],{search_version:_}=i,{at_end:c}=i,f=[],g={};for(let[e,t]of l.entries()){e%10==0&&(0,n.optional_pause)();let i=t._id;if(f.push(i),null!=h){var m;let e=this._locals[i];null!=e&&t._version>(null!=(m=e.version)?m:-1)&&(0,r.extend)(e.raw,t._source)}else this._set_data(i,t._source,t._type,t._version);g[i]=t._source}if(null!=i.extras&&null==h)for(let[e,t]of i.extras.entries())e%10==0&&(0,n.optional_pause)(),t&&this._handle_get_response(t._id,null,t);c&&this.query_planner().update(p,u,null,{length:s+f.length}),this.query_planner().update(p,u,d,{from:s,loaded:s+f.length}),t(null,{at_end:c,results:f,raw_data:g,search_version:_})}))},get_ret_btype:e=>e.type,initialize_range(e,t,r){t.at_end=r.at_end,t.results=r.results,t.before=[],t.after=[],t.search_version=r.search_version;let{type:s,constraints:u,sorts_list:c}=e,p=(0,l.can_sort_locally)(s,c,u);if(t.sort_scores={},p){for(let[i,a]of t.results.entries())i%10==0&&(0,n.optional_pause)(),t.sort_scores[a]=(0,o.calculate_sort_score)(r.raw_data[a],e.sorts_list);let d=t.results.slice(0,t.results.length-1);for(let[r,n]of d.entries()){let d=t.results[r+1];if(!(0,o.is_less_than)(c,n,t.sort_scores[n],d,t.sort_scores[d])){i.warn("Client-server sort mismatch",{type:s,sorts_list:(0,_.to_loggable)(c),db_first:t.sort_scores[n],db_second:t.sort_scores[d],first_id:n,second_id:d}),p=!1,(0,l.add_bad_in_memory_sort)(JSON.stringify({type:s,sorts_list:c,constraints:u}));let r=this.get_cache_key(e);for(let e of this.result_cache[r].ranges)e.state===a.range_states.AVAILABLE&&e!==t&&(e.state=a.range_states.DELETED);this.invalidate_call_dependency(r);break}}}if(!p){for(let[e,r]of t.results.entries())e%10==0&&(0,n.optional_pause)(),t.sort_scores[r]=[t.from+e];t.server_sorted=!0}d._adjust_range_length.call(this,e,t,!0)},local_change(e,t,n,i,_,u){if(e.type!==i)return!1;let c;if(null==u)c=!1;else{c=!0;let t=new s.default(u,null,i);for(let r of e.constraints)if(!(0,o.local_constrain)(t,r,i)){if(!(0,l.can_execute_in_memory)(r))return a.DONT_KNOW;c=!1;break}}if(!c)return!(null==t.sort_scores[n]||(delete t.sort_scores[n],(0,r.array_remove)(t.before,n),(0,r.array_remove)(t.after,n),!t.results.includes(n)))&&((0,r.array_remove)(t.results,n),d._adjust_range_length.call(this,e,t),!0);if(!(0,l.can_sort_locally)(i,e.sorts_list,e.constraints))return a.DONT_KNOW;let p=(0,o.calculate_sort_score)(u,e.sorts_list),f=null!=t.sort_scores[n];if(f&&JSON.stringify(t.sort_scores[n])===JSON.stringify(p))return!1;function h(r){let i=0,a=r.length;for(;i!==a;){let s=Math.floor(i+(a-i)/2);(0,o.is_less_than)(e.sorts_list,n,p,r[s],t.sort_scores[r[s]])?a=s:(i=s+1,i>a&&(i=a))}r.splice(i,0,n)}return t.sort_scores[n]=p,f&&((0,r.array_remove)(t.before,n),(0,r.array_remove)(t.after,n),(0,r.array_remove)(t.results,n)),0===t.results.length?0===t.from&&t.at_end?t.results.push(n):(0!==t.from&&h(t.before),t.at_end||h(t.after)):(0,o.is_less_than)(e.sorts_list,n,p,t.results[0],t.sort_scores[t.results[0]])?0===t.from?t.results.unshift(n):h(t.before):(0,o.is_less_than)(e.sorts_list,t.results[t.results.length-1],t.sort_scores[t.results[t.results.length-1]],n,p)?t.at_end?t.results.push(n):h(t.after):h(t.results),d._adjust_range_length.call(this,e,t),!0},_adjust_range_length(e,t,r){if(t.results.length>t.to-t.from)delete t.at_end;else if(t.results.length!==t.to-t.from&&!t.at_end){if(!r){var n;let r=t.to-(t.from+t.results.length),{type:i,constraints:a,sorts_list:o}=e,{local_change_buffer:s}=null!=(n=this.query_planner().get_stats(i,a,o))?n:{};r+=null!=s?s:0,this.query_planner().update(i,a,o,{local_change_buffer:r})}return t.to=t.from+t.results.length,0===t.results.length?this.delete_range(e,t):void 0}},merge_ranges(e,t,r){let n=t.results[0],i=t.sort_scores[n],a=r.results[r.results.length-1],s=r.sort_scores[a],l=[],_={};for(let e in r.sort_scores){var u;let n=r.sort_scores[e];null!=(u=t.sort_scores)[e]||(u[e]=n)}let c=t.sort_scores;function p(r){let u=0,d=0;for(;u<r.length&&(0,o.is_less_than)(e.sorts_list,r[u],c[r[u]],n,i,t.server_sorted);)u++;for(;u<r.length&&(null==a||r[u]===a||(0,o.is_less_than)(e.sorts_list,r[u],c[r[u]],a,s,t.server_sorted));){if(!_[r[u]]){for(_[r[u]]=!0;d<l.length&&(0,o.is_less_than)(e.sorts_list,l[d],c[l[d]],r[u],c[r[u]],t.server_sorted);)d++;d===l.length?l.push(r[u]):l.splice(d,0,r[u]),d++}u++}}p(t.results),p(t.after),p(r.before),p(r.results),t.results=l,t.after=r.after,t.at_end=r.at_end,t.to=r.to,r.search_version<t.search_version&&(t.search_version=r.search_version),d._adjust_range_length.call(this,e,t)}};t.exports=d})),Sd=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=ql(),i=sd(),a=D_(),o={watch_search_call:e=>({constraints:e.constraints,type:e.type}),load(e,t){let{plan:n,from:a,n:o}=e;if(0!==a||1!==o)throw new r.UnexpectedError("CallAggregate weird params",{plan:n,from:a,n:o});let{constraints:s,type:l,agg_fn:_,field:u,options:c}=n;null!=u||(u=void 0),null!=c||(c=void 0);let d={};d[i.aggregate_started_key(_,u,c)]=!0,this.query_planner().update(l,s,null,d);let p=[{n:_,field:u,options:c}];this.elasticsearch("aggregate",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),type:l,constraints:s,aggregate:{fns:p},search_path:this.build_search_path(n,_)},((e,r)=>{var n,i;if(e)return void t(e);let a=r.fns[0],{search_version:o}=r;"count"===_&&!(null!=(n=c)&&n.should_approx)&&!(null!=(i=c)&&i.cacheable)&&this.query_planner().update(l,s,null,{length:a}),t(null,{value:a,search_version:o})}))},initialize_range(e,t,r){t.search_version=r.search_version,t.at_end=!0,t.results=[r.value]},local_change(e,t,r,o,s,l,_){var u;let c,d;if(e.type!==o)return!1;function p(t){if(null==t)return!1;let r=new a(t,null,o);for(let t of e.constraints)if(!i.local_constrain(r,t,o))return!1;return!0}if(s===n.DONT_KNOW)return null!=t._unknown_ids||(t._unknown_ids={}),t._unknown_ids[r]=!0,n.DONT_KNOW;if(null!=(u=t._unknown_ids)&&u[r])return n.DONT_KNOW;let f=p(s),h=p(l),g=f!==h;return!g&&f&&e.field&&(g=s[e.field]!==l[e.field]),!!g&&(i.AGGREGATE_LOCAL_CHANGE[e.agg_fn]?(e.field&&(d=f?null==s?void 0:s[e.field]:null,c=h?null==l?void 0:l[e.field]:null),t.results[0]=i.AGGREGATE_LOCAL_CHANGE[e.agg_fn](f,h,d,c,t.results[0]),!0):n.DONT_KNOW)},merge_ranges(e,t,n){throw new r.UnexpectedError("Merge CallAggregate",{plan:e,merge_into:t,merge_from:n})}};t.exports=o})),Td=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=ql(),i=sd(),a=ot(),o=Ed(),s=D_(),l=qr(),_=fl(),u=Jl(),c={watch_search_call(e){let{constraints:t,type:r,groupings:n,aggregations:i}=e,a=new o(r,n,i);return t=[].concat(t,a.get_grouping_constraints()),u.sort_constraints(t),{constraints:t,type:r,is_group_by:!0}},load(e,t){let{plan:o,from:u,n:c}=e,{constraints:d,type:p,groupings:f,aggregations:h}=o;f=f.map((function(e){return"browser"===(e=r.extend({},e)).timezone_string&&(e.timezone_string=l().current_timezone()),e}));let g=e=>f.map(((t,r)=>e[`grouping${String(r)}`]));return r.run_once(120,(()=>{if(u>0){let e=this.execute_call_get_children(o,0,u);if(e.length<u)return"at_end";let t=_.rehydrate_tree(this,e[e.length-1]).raw();return g(t)}return null}),((e,m)=>{if(e)return void t(e);if("at_end"===m)return t(null,{at_end:!0,results:[]});let v=[],y=!0,b=i.get_group_by_value_id(p,f,h),w=null,A=()=>{y=!1;let e=c-v.length;return this.elasticsearch("group_by",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),type:p,constraints:d,groupings:f,aggregations:h,last:m,n:Math.min(e,n.MAX_GROUPING_CALL),search_path:this.build_search_path(o,u+c)},((e,n)=>{if(e)return void t(e);(!w||n.search_version<w)&&({search_version:w}=n);for(let e of n.groups)v.push(_.dehydrate_tree(new s(e,l().db_instance(),b)));n.groups[n.groups.length-1]&&(m=g(n.groups[n.groups.length-1]));let{at_end:i}=n;i||v.length===c?t(null,{at_end:i,results:v,search_version:w}):v.length>c?t(new r.UnexpectedError("should never go above n",{results_length:v.length,n:c,plan:o})):a.on_server()?y=!0:A()}))};for(;y;)A()}))},get_ret_btype(e){let{type:t,groupings:r,aggregations:n}=e;return i.get_group_by_value_id(t,r,n)},initialize_range(e,t,r){t.at_end=r.at_end,t.results=r.results,t.search_version=r.search_version},local_change(e,t,r,a,o,l,_){var u;if(e.type!==a)return!1;function c(t){if(null==t)return!1;let r=new s(t,null,a);for(let t of e.constraints)if(!i.local_constrain(r,t,a))return!1;return!0}if(o===n.DONT_KNOW)return null!=t._unknown_ids||(t._unknown_ids={}),t._unknown_ids[r]=!0,n.DONT_KNOW;if(null!=(u=t._unknown_ids)&&u[r])return n.DONT_KNOW;let d=c(o),p=d!==c(l);if(!p&&d){for(let t of e.aggregations)if(t.message&&o[t.message]!==l[t.message]){p=!0;break}if(!p)for(let t of e.groupings)if(o[t.message]!==l[t.message]){p=!0;break}}return!!p&&n.DONT_KNOW},merge_ranges(e,t,r){t.results.push(...r.results),t.to=r.to,r.search_version<t.search_version&&(t.search_version=r.search_version)}};t.exports=c})),Nd=u((e=>{"use strict";f();var t=e;t.All=X_(),t.Static=H_(),t.Transform=V_(),t.Cast=Y_(),t.Numeric=ld(),t.Contains=_d(),t.Position=ud(),t.Compare=cd(),t.NodeList=dd(),t.Length=pd(),t.Cap=fd(),t.Offset=hd(),t.Flatten=gd(),t.Concat=md(),t.Intersect=vd(),t.Unique=yd(),t.Reduce=bd(),t.Filter=wd(),t.Sort=Ad(),t.GroupBy=Md(),t.Columns=xd(),t.ExtraFields=Od(),t.CallSearch=kd(),t.CallAggregate=Sd(),t.CallGroupBy=Td()})),Cd=u((e=>{"use strict";f();var t=fl(),r=B_(),n=e;Po();var i=Fl();n.SampleNode=class e{constructor(e,t,r){var n;this.object=e,this.name=t,this.value=r,null!=this.value||(this.value=null==(n=this.object.value.get_message(this.name))?void 0:n.ret_btype())}get(){var e;return null==(e=this.value)?void 0:e.get_sample()}raw(){var e;return null==(e=this.value)?void 0:e.get_sample()}set(){}push(){}remove(){}dehydrate(){return t.dehydrate_prefix("SampleNode")+this.value.id()}static rehydrate(t,r){return new e(null,null,i.get(r))}},n.SampleList=class e{constructor(e){let t=i.get(e);return new r([null==t?void 0:t.get_sample(),null==t?void 0:t.get_sample()],null,e)}static rehydrate(t,r){return new e(r)}},n.SampleObject=class e{constructor(e){try{this.value=i.get(e)}catch{this.value=i.get("null")}this.id=e}child(e){return new n.SampleNode(this,e)}dehydrate(){return t.dehydrate_prefix("SampleObject")+this.value.id()}_id(){return"sample:"+this.id}_type(){return this.value.id()}is_equal_to(e){var t;return(null==e||null==(t=e.dehydrate)?void 0:t.call(e))===this.dehydrate()}precache(){}exists(){return!1}ignore_privacy(){return this}static rehydrate(t,r){return new e(r)}}})),Ld=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.get_server_time_offset=function(e){M(),function t(){if(h()&&null==_){var r;let n=Date.now();_=function(t){let r=Date.now(),i=Math.round((n+r)/2);e(t-i),_=null,u=null},u=function(){_=null,setTimeout(t,100),u=null},null==(r=d)||r.send("ts")}else setTimeout(t,100)}()},e.watch=function(e,t,a){let[o,...l]=e;if(!i.notifier_host)return;let _=`${o}${l.join("-")}`;null!=s[_]||(s[_]={watchers:[],last_msg:null,subscribed_version:null}),s[_].watchers.push({version_fn:t,on_update:a});let{last_msg:u,subscribed_version:c}=s[_];if(null!=c){var d;let e=t();if("number"!=typeof e&&n.error("non-numeric version",{version:e,topic:_}),e<c)throw new r.UnexpectedError("Watching Notifier topic that has been subscribed to with a newer version",{topic:_,version:e,subscribed_version:c});null!=u&&e<(null!=(d=u.version)?d:-1/0)&&a(u)}else s[_].subscribed_version=-1/0,setImmediate((()=>function(e){A.push(e),E()}(_)))},Ue(),R_();var t=o(Lo()),r=o(it()),n=o(Kt()),i=o(Vt());function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}var s={},l=828e5;var _=null,u=null;var c=!1,d=null,p=!1;function h(){var e;return p&&1===(null==(e=d)?void 0:e.readyState)}var g,m=null,v=0,y=!1,b=0;function w(){var e,r,a;if(g)return;if(null==window.WebSocket)return void console.log("No window.WebSocket class defined: real time updates are disabled");null==(e=u)||e(),p=!1;let o,l=null!=(r=i.notifier_host)?r:"",c=null!=(a=i.notifier_port)?a:"";o=l?`${l}:${c}`:l,d=new window.WebSocket(`wss://${o}`);let f=null;d.onclose=function(e){null!=m||(m=Date.now()),y=!1,setTimeout(w,Math.min(6e4,v*v*1e3)),10===++v&&n.error("notifier_client: socket closed after 10 retries",{last_error:f,close_code:null==e?void 0:e.code,close_reason:null==e?void 0:e.reason})},d.onerror=function(e){var t;f=e,console.log(`notifier_client.coffee: got error from socket: ${null!=(t=f.stack)?t:""}`)},d.onopen=()=>{var e;d.send(`s ${null!=(e=i.notifier_domain)?e:String(new t.UnexpectedError("no notifier domain set"))}`)},d.onmessage=function(e){let t=e.data;if("ok"===t)p||(p=!0,v=0,A=Object.keys(s),E());else if("h "===t.slice(0,2)){let e=t.split(" "),r=e[1],n=e[2]?parseInt(e[2]):-1/0,i=e[3];null!=s[r]&&(s[r].last_msg={topic:r,version:n,message:i},s[r].watchers.forEach((e=>e.on_update({topic:r,version:n,message:i}))))}else if("i "===t.slice(0,2)){let e=t.split(" ")[1];if(e!==String(b))return n.error("Got a bad subscription ack!",{ack_counter:b,msg:t,msg_id:e}),void d.close();y=!1,E()}else if("ts "===t.slice(0,3)){var r;null==(r=_)||r(parseInt(t.slice(3)))}else n.error("unrecognized message from notifier",{msg:t})}}typeof window<"u"&&null!==window&&(g=!1,window.kill_notifier_socket=function(){var e;g=!0,null==(e=d)||e.close()},window.restore_notifier_socket=function(){g=!1,w()});var A=[];function E(){var e;if(0===A.length)return void function(){if(m){if(Date.now()-m>l)for(let e in s)s[e].watchers.forEach((e=>{let{on_update:t}=e;return t({stale:!0})}));m=null}}();if(!h()||y)return void M();y=!0;let t=A.slice(0,25);A=A.slice(25),b++;let r="g "+String(b);for(let e of t){let t=s[e].watchers.map((e=>e.version_fn())).filter((t=>"number"==typeof t||(n.error("non-numeric version",{version:t,topic:e}),!1)));if(0===t.length)continue;let i=Math.min(...t);s[e].subscribed_version=i,r+=" "+e+" "+String(i)}null==(e=d)||e.send(r)}function M(){c||(c=!0,w())}})),Pd=u((e=>{"use strict";f(),Ft();var t=Vt(),r=Nt(),n=Yt(),i=Pa(),a=Ra(),o=Nl(),s=e;r.safe_register("./util",s),s.get_meta_hostname_for_app=function(e){return t.is_dedicated?t.dedicated_subdomain:t.PROD_DOMAINS.main};var l=[];s.get_dedicated_subdomains=()=>l,s.set_dedicated_subdomains=e=>l=e,s.set_dedicated_subdomain=function(e){let t=e.replace(/\.i[so]$/,".is"),r=e.replace(/\.i[so]$/,".io");l=[t,r]},t.is_dedicated&&t.dedicated_subdomain&&s.set_dedicated_subdomain(t.dedicated_subdomain),s.is_meta_hostname=function(e){if("string"!=typeof e)return!1;if(/\.local$/.test(e)||a.is_hostname_bubble_plus_subdomain(e)||l.includes(e)||a.is_host_aws(e))return!0;let r=e.replace(/(?:^www\.)?(?:\.*$)?/g,"");return!(!o.object_values(t.PROD_DOMAINS).includes(r)&&!a.is_hostname_local_bubble(e))};var _=null;_=n.is_production()?t.is_dedicated?t.dedicated_subdomain:t.PROD_DOMAINS.main:t.dedicated_subdomain?t.dedicated_subdomain:i.LOCAL_HOSTNAME,s.get_meta_hostname_for_hostname=function(e){return t.echo_hostname&&s.is_meta_hostname(e)?e:_},s.get_meta_hostname=()=>_})),Rd=u((e=>{"use strict";f();var t,r,n,i,a=it(),o=e;o.Redirect=((t=class extends a.ExpectedError{constructor(e,t){super("redirect"),this.statusCode=e,this.url=t}}).prototype.error_class="Redirect",t),o.Redirect.prototype.toString=function(){return`Redirect (${this.statusCode}) to ${this.url}`},o.NotFound=((r=class extends a.ExpectedError{}).prototype.error_class="NotFound",r),o.ServerResponse=((n=class extends a.ExpectedError{constructor(e,t,r){super("server_response"),this.statusCode=e,this.headers=t,this.body=r}toString(){return`ServerResponse ${this.statusCode}`}}).prototype.error_class="ServerResponse",n),o.ClientError=((i=class extends a.UnexpectedError{display(){return"Invalid request: see error code for details"}}).prototype.error_class="ClientError",i.prototype.suggested_level="owner_error",i)})),zd=u((e=>{"use strict";f(),Ue();var t=Tt(),r=St(),n=Pd(),i=Sr(),a=Qt(),o=it(),s=Zt(),l=Tt(),_=Nt(),u=Vt(),c=k_(),d=vl(),p=Yt(),h=Rd(),g=e;_.safe_register("./locations",g),g.get_primary_version=function(e){return e===c.LIVE_VERSION?e:c.TEST_VERSION},g.get_db_version=function(e){return e===c.LIVE_VERSION||i.starts_with(e,u.private_version_prefix)||c.TEMPLATE_VERSIONS.includes(e)?e:c.TEST_VERSION},g.get_db_display=function(e){return(e=g.get_db_version(e))===c.TEST_VERSION?c.TEST_VERSION_DISPLAY:c.LIVE_VERSION_DISPLAY},g.is_hardcode=(e,t)=>d.is_hardcoded(e)&&0!==(null==t?void 0:t.indexOf(u.private_version_prefix)),g.live_key=()=>{var e;return u.env+" "+n.get_meta_hostname()+" "+(null!=(e=u.hostname_modifier)?e:"")},g.Location=class{constructor(e,t){this.base_url=e,t&&t.normalizeUnicode&&(this.base_url=this.standardize_unicode_url())}get_pieces(){var e;let t={},r=this.parsed_url();if(a.is_empty(r))return{};let o=r.pathname.split("/").filter((e=>""!==e));if(u.apps_domain&&i.ends_with(r.hostname,"."+u.apps_domain))t.appname=r.hostname.slice(0,r.hostname.lastIndexOf("."+u.apps_domain)),t.use_apps_domain=!0;else{if(u.apps_domain&&r.hostname===u.apps_domain)throw new h.Redirect(302,"https://"+n.get_meta_hostname());n.is_meta_hostname(r.hostname)&&"site"===o[0]?(t.use_site_path=!0,t.appname=o[1],o=o.slice(2)):t.domain=r.hostname}return 0===(null==(e=o[0])?void 0:e.indexOf(c.VERSION_PATH_PREFIX))?(t.app_version=o[0].slice(c.VERSION_PATH_PREFIX.length),t.version_explicit=!0,o=o.slice(1)):(t.version_explicit=!1,t.app_version=c.LIVE_VERSION),t.path=o,t.query=r.query,t}is_production(e){return this.parsed_url().hostname===n.get_meta_hostname_for_app(e)}format_pieces(e,t){var i;let a=(null!=(i=null==t?void 0:t.protocol)?i:this.parsed_url().protocol)+"//";if(e.domain)a+=e.domain;else if(u.apps_domain&&!e.use_site_path)a+=e.appname+"."+u.apps_domain;else{var s;a+=null!=(s=e.meta_hostname)?s:n.get_meta_hostname_for_hostname(this.parsed_url().hostname),a+="/site/",a+=e.appname}let l=e.version_explicit;if(!["default",void 0,null,!0,!1].includes(l))throw new o.UnexpectedError("unrecognized version explicit: "+l);(!0===l||"default"===l&&e.app_version!==c.LIVE_VERSION)&&(a+="/version-"+e.app_version);for(let t of null!=(_=e.path)?_:[]){var _;a+="/"+t}let d=r.stringify(e.query);return null!=e.query&&0!==d.length&&(a+="?"+d),a}protocol(){return this.parsed_url().protocol}get_base_for_meta(e){var t;let r=this.parsed_url(),i=p.is_production()?"https:":null!=(t=null==e?void 0:e.protocol)?t:r.protocol;return i+="//",i+=n.get_meta_hostname_for_hostname(r.hostname),r.port&&(i+=":"+r.port),i}get_server_base(e){let t=this.get_pieces();return delete t.path,delete t.query,this.format_pieces(t,e)+"/"}get_page_url(e,n,i){let o=t.parse(null!=e?e:"");("index"===o.pathname||null==o.pathname)&&(o.pathname="");let s=this.get_server_base()+o.pathname,l=null!=o.query?r.decode(o.query):{};n&&!a.is_empty(n)&&a.extend(l,n);let _=r.stringify(l);return _.length>0&&(s+="?"+_),i&&(s+="#"+i),s}get_page(){var e;return null!=(e=this.get_pieces().path[0])?e:"index"}get_underlying_page(){var e,t;return null!=(e=null==(t=window)?void 0:t.bubble_page_name)?e:this.get_page()}parsed_url(){return this.base_url?t.parse(this.base_url,!0):{}}my_location(){return this.base_url}get_query(){return this.parsed_url().query}get_unique_id_in_url(){let{path:e}=this.get_pieces();if(null!=e[1]){let t=e[1].split("-"),r=t[t.length-1];if(s.is_UUID(r))return r}return null}get_slug_in_url(){let{path:e}=this.get_pieces();if(null!=e[1]){let t=decodeURIComponent(e[1]);if(!this.get_unique_id_in_url())return t}return null}get_canonical_url(){let e=this.parsed_url();return`${e.protocol}//${e.hostname}${e.pathname}`}standardize_unicode_url(){let e=l.parse(this.base_url);for(let t of["search","pathname"])/[^\u0000-\u007f]/.test(e[t])&&(e[t]=encodeURI(e[t]));return l.format(e)}}})),Id=u((e=>{"use strict";f(),Ue(),Ft();var t=Lo(),r=Lr(),n=M_(),i=ot(),a=Nt(),o=Kt(),s=ql(),l=k_(),_=cl(),u=Bl(),c=Ul(),d=r_(),p=z_();e.Dynamic=t_(),e.StaticNode=I_(),e.StaticObject=D_(),e.ListWrapper=n_(),e.NodeBase=j_(),e.StaticList=B_(),e.TransformList=q_(),e.ConcatList=U_(),e.IntersectList=W_(),e.UniqueList=$_(),e.SortedList=F_(),e.NodeList=G_();var h=Nd(),g=sd(),m=Cd(),v=qr(),y=Fl(),b=Po(),w=Ld(),A=Vt(),E=zd(),M=fl(),x=Jl();d.set_lang_btypes(y),M.register_db(e),a.safe_register("./db/db",e),e.OuterStringified={rehydrate:(e,r)=>M.rehydrate_tree(e,t.incremental_json_parse(r))};var O="NOTIFIER",k="EXTERNAL";e.global_data_items_loaded=0;var S=!1,T={t:"Static",value_id:"sys.bool",data:[!1]},N={t:"Static",value_id:"sys.bool",data:[!0]};e.get_admin_user_id=function(e){if(null==e){let t=v();e={appname:t.appname(),app_version:t.app_version(),temp_db:t.temp_db()}}let t,r=E.get_db_version(e.app_version);return t=e.temp_db?`${e.temp_db}_${e.appname}_${r}`:`${e.appname}_${r}`,`${s.ADMIN_USER_ID}_${t}`},e.transform_constraint_for_db=function(e,r){return"user"===e&&"email"===r.key&&"equals"===r.constraint_type?t.extend({},r,{constraint_type:"email_equals"}):"user"===e&&"logged_in"===r.key?t.extend({},r,{key:"user_signed_up"}):r},e.DB=class{constructor(){this._locals={},this.result_cache={}}inspect(){return this.constructor.name}query_planner(){return null!=this._query_planner||(this._query_planner=new x.QueryPlanner),this._query_planner}iterate(e,t){var r;if(null!=t||(t=0),"function"==typeof(null==(r=h[e.t])?void 0:r.load))return r=>{let n;if(null!=r)n=t+r;else{let r=this.get_ranges(e,t,t+1);if(r===s.range_states.PAST_END)return null;n=[s.range_states.AVAILABLE,s.range_states.LOADING].includes(r[0].state)&&r[0].to>t?r[0].to:Math.min(t+s.MAX_SEARCH_CHUNK,Math.max(t+10,2*t))}let i=this.execute_call_get_children(e,t,n-t);return 0===i.length?null:(t=n,i)};{let r=h[e.t].fn.call(this,e,t);return e=>{let t=r(e);return 0===t.length?null:t}}}all(e){let t=this.iterate(e)(s.ALL_MAX);return null!=t?t:[]}build_search_path(e,r){var n,i,a;null!=this._search_path_cache||(this._search_path_cache={});let s=JSON.stringify({plan:e,to:r});return null!=(n=this._search_path_cache)[s]||(n[s]=null==(i=u.get_current_eval_node())?void 0:i.serialize()),!this._search_path_cache[s]&&t.on_client()&&!S&&(S=!0,o.warn("No search path found",{key:s})),JSON.stringify(null!=(a=this._search_path_cache[s])?a:null)}get_plan_for_node(r,n){switch(r.t){case"All":{var i;let e={t:"CallSearch",type:r.type,constraints:[],sorts_list:null!=(i=n.sorts_list)?i:[]};return n.lookup&&(e.extra={lookup:n.lookup}),e}case"Filter":{var a,o;let i=this.get_plan_for_node(r.prev,{});if("CallSearch"!==i.t)return t.extend({},r,{prev:i});if((null==(a=i.constraints)?void 0:a.length)>0)throw new t.UnexpectedError("should not have constraints",{query:r,prev:i});let s=[],l=[];for(let t of r.constraints){let r=e.transform_constraint_for_db(i.type,t);g.can_execute_in_db(i.type,r)?s.push(r):l.push(t)}let{search:_,leftover:u}=this.query_planner().pick_search(i.type,s,null!=(o=n.sorts_list)?o:[],n.n);return l.push(...u||[]),0===l.length?(n.lookup&&(_.extra={lookup:n.lookup}),_):{t:"Filter",constraints:l,prev:_}}case"Sort":{let e,i=this.get_plan_for_node(r.prev,{sorts_list:r.sorts_list,n:n.n,lookup:n.lookup});return"CallSearch"===i.t?e=i:"Filter"===i.t&&"CallSearch"===i.prev.t&&(e=i.prev),e&&JSON.stringify(e.sorts_list)===JSON.stringify(r.sorts_list)?i:t.extend({},r,{prev:i})}case"Contains":{var l;let e=this.get_plan_for_node(r.prev,{});if(!["CallSearch","Filter"].includes(e.t))return t.extend({},r,{prev:e});if(null==y.get(this.get_plan_ret_btype(e)).custom_type())return t.extend({},r,{prev:e});let n=M.rehydrate_tree(this,r.item);if("CallSearch"===e.t&&e.type!==(null==n||null==(l=n._type)?void 0:l.call(n))||null==n||!n.exists())return T;let i=[],a="Filter"===e.t;for(let t of null!=(_=e.constraints)?_:[]){var _;if(a||x.can_execute_in_memory(t)){if(!g.local_constrain(n,t,e.type))return T}else i.push(t)}if(0===i.length)return"CallSearch"===e.t?N:t.extend({},r,{prev:e});i.push({key:c.UNIQUE_ID,constraint_type:"equals",value:n._id()});let o={t:"Compare",op:">",n:0,prev:{t:"Length",prev:{t:"Filter",constraints:i,prev:{t:"All",type:e.type}}}};return this.get_plan_for_node(o,{})}case"Compare":{let e;if("Length"===r.prev.t&&0===r.n){let t=this.get_plan_for_node(r.prev.prev,{});return e={t:"Length",bound:r.n+1,prev:t,options:r.prev.options},{t:"Compare",prev:e,op:r.op,n:r.n}}return e=this.get_plan_for_node(r.prev,{}),"Length"===e.t&&(e={t:"Length",bound:r.n+1,prev:e.prev,options:r.prev.options}),{t:"Compare",prev:e,op:r.op,n:r.n}}case"GroupBy":{let e=this.get_plan_for_node(r.prev,{n:s.ALL_MAX}),n=e=>t.extend({},r,{prev:e});if("CallSearch"!==e.t)return n(e);let i=this.query_planner().get_stats(e.type,e.constraints);if(null!=i&&i.searches&&null!=i.length)for(let e of Object.values(i.searches))if(e.loaded>=i.length)return n(this.query_planner().node_to_search(e));return{t:"CallGroupBy",aggregations:r.aggregations,groupings:r.groupings,constraints:e.constraints,type:e.type}}case"Length":case"Numeric":{let e,n,i,a,o,l,_;if("Length"===r.t)l=this.get_plan_for_node(r.prev,{n:s.ALL_MAX}),n="CallSearch"===l.t,e=l,i=e=>({t:"Length",prev:this.query_planner().node_to_search(e)}),a="count",o=void 0,_=r.options;else{let e=r.prev;if(n="Transform"===e.t,n){let t=y.get(e.value_id).get_message(e.message);n="null"!==t.ret_btype_id()&&t.is_lookup()}n&&(l=this.get_plan_for_node(e.prev,{n:s.ALL_MAX}),n="CallSearch"===l.t),i=n=>{let i=t.extend({},e,{prev:this.query_planner().node_to_search(n)});return t.extend({},r,{prev:i})},a=r.op,o=e.message,_=r.options}if(n){let e=this.query_planner().get_stats(l.type,l.constraints);if(null!=e&&e.searches){if(null!=e.length)for(let t of Object.values(e.searches))if(!t.from>0&&!t.has_gaps&&t.loaded>=e.length)return i(t);if(!e[g.aggregate_started_key(a,o,_)])for(let t of Object.values(e.searches)){var u;let e=t.loading_to-(null!=(u=t.loaded)?u:0);if(!t.from>0&&!t.has_gaps&&e>0&&e<s.MAX_SEARCH_CHUNK)return i(t)}}return{t:"CallAggregate",type:l.type,constraints:l.constraints,agg_fn:a,field:o,options:_}}return null!=e||(e=this.get_plan_for_node(r.prev,{n:s.ALL_MAX})),t.extend({},r,{prev:e})}case"Transform":{let e,i=y.get(r.value_id).get_message(r.message);i.is_lookup()&&null!=i.ret_btype().custom_type()?(e=[r.message],n.lookup&&(e=e.concat(n.lookup))):e=null;let a=this.get_plan_for_node(r.prev,{lookup:e});return t.extend({},r,{prev:a})}case"ExtraFields":{var d;let e=this.get_plan_for_node(r.prev,{});return(null==(d=r.extra_field_names)?void 0:d.length)>0&&(e.extra={lookup:r.extra_field_names}),e}case"Columns":{let e=this.get_plan_for_node(r.prev,{});if(null!=e){let t={};for(let e of r.columns)t[e]=!0;if(t._id=!0,t._version=!0,null!=e.sorts_list)for(let r of e.sorts_list)t[r.sort_field]=!0;e.columns=Object.keys(t)}return e}default:{let e={};return r.prev&&(e.prev=this.get_plan_for_node(r.prev,{})),r.prevs&&(e.prevs=r.prevs.map((e=>this.get_plan_for_node(e,{})))),t.extend({},r,e)}}}validate_query(e){var r;if(!h[e.t])throw new t.UnexpectedError("Unrecognized query",{query:e});if(null==(r=h[e.t].validate)||r.call(this,e),null!=e.prev&&this.validate_query(e.prev),null!=e.prevs){if(!Array.isArray(e.prevs))throw new t.UnexpectedError("Prevs must be array",{query:e});for(let t of e.prevs)this.validate_query(t)}}build_query_plan(e,r,n){return e=t.json_deep_copy(e),this.validate_query(e),e=this.simplify_query(e),this.canonicalize_query(e),this.get_plan_for_node(e,{n:n})}execute_query(e,t,r){let n=this.build_query_plan(e,t,r);return this.execute_get_children(n,t,r)}init_result_cache(e){let t=this.get_cache_key(e);return this.result_cache[t]||(this.result_cache[t]={plan:e,ranges:[]}),this.result_cache[t]}get_ranges(e,r,n){if(n<=r)throw new t.UnexpectedError("assertion error: to must be strictly greater than from",{plan:e,from:r,to:n});if(r<0)throw new t.UnexpectedError("assertion error: from must be at least 0",{plan:e,from:r,to:n});let i=this.init_result_cache(e),{ranges:a}=i,o=[],l=r,_=!1;for(let e of a){if(l>=n)break;if(e.to<=l){if(e.state===s.range_states.AVAILABLE&&e.at_end)return s.range_states.PAST_END}else{if(l<e.from){let t=Math.min(e.from,n);o.push({state:s.range_states.NOT_STARTED,from:l,to:t}),l=t}if(e.from>=n)break;if(o.push(e),l=e.to,e.state===s.range_states.AVAILABLE&&e.at_end){_=!0;break}}}l<n&&(_||o.push({state:s.range_states.NOT_STARTED,from:l,to:n}));let u=!1;for(let e of o)if(e.state===s.range_states.AVAILABLE){if(u)throw new t.UnexpectedError("assertion error: adjacent available ranges");u=!0}else u=!1;return o}get_plan_ret_btype(e){return h[e.t].get_ret_btype.call(this,e)}array_to_objects(e,n,i){let a=this.get_plan_ret_btype(e);if((!a||"null"===a)&&(null==n?void 0:n.length)>0&&o.error("null value_id in array_to_objects",{plan:e,value_id:a,array_length:n.length}),"object"==typeof a){if(!a.get_message)throw new t.UnexpectedError("Got object value_id",{plan:e});o.error("Got value instead of value id",{plan:e})}let s,l=(e,t)=>{if(null==e)return null;t%10==0&&r.optional_pause("in wrapped_get");let n=this.get(e);return i&&n.precache(),n},_=(e,t)=>(t%10==0&&r.optional_pause("in wrapped_static_get"),d._static_get(e,this,a));return r.optional_pause("array_to_objects: pre"),s=null!=y.get(a).custom_type()?n.map(((e,t)=>l(e,t))):n.map(((e,t)=>_(e,t))),r.optional_pause("array_to_objects: post"),s}array_to_ids(e,t){let r=this.get_plan_ret_btype(e);return(!r||"null"===r)&&(null==t?void 0:t.length)>0&&o.error("null value_id in array_to_ids",{plan:e,value_id:r,array_length:t.length}),d.array_to_ids(r,t)}get_cache_key(e){return null!=e.extra&&delete(e=t.json_deep_copy(e)).extra,JSON.stringify(e)}execute_get_children(e,r,n){var i;let a={plan:e,from:r,n:n};if(n<=0)throw new t.UnexpectedError("must request at least 1 result",a);if(r<0)throw new t.UnexpectedError("cannot call negative from",a);return null!=(i=this.iterate(e,r)(n))?i:[]}execute_call_get_children(e,r,i){let a=r+i,o=this.get_ranges(e,r,a);if(o===s.range_states.PAST_END)return this.register_call_dependency(e),[];if(1===o.length&&o[0].state===s.range_states.AVAILABLE){let t=r-o[0].from,n=t+i;return this.register_call_dependency(e),o[0].results.slice(t,n)}let l=[],_=[];for(let e of o)switch(e.state){case s.range_states.LOADING:l.push(e.loading_key);break;case s.range_states.AVAILABLE:break;case s.range_states.ERROR:throw e.err;case s.range_states.NOT_STARTED:_.push(e);break;default:throw new t.UnexpectedError("Unrecognized range state: "+JSON.stringify(e))}if(_.length>0){var u;if((null==(u=n.CurrentNotReadyCatcher)?void 0:u.length)>0)return[];for(let t of _)l.push(this.load_get_children(e,t.from,t.to-t.from))}let c=t.TransientKeyList(l);if(c.is_turned())return this.execute_call_get_children(e,r,i);if(t.ensure_ready(c),t.on_client())return[];throw new s.RetryError}add_loading_range(e,r,n,i){let a,o,l=r+n,_=this.init_result_cache(e),{ranges:u}=_;for(a=0;a<u.length;a++){let i=u[a];if(i.from>=l)break;if(i.from>r)throw new t.UnexpectedError("adding overlapping range",{plan:e,from:r,n:n,existing_ranges:u})}u[a-1]&&u[a-1].state===s.range_states.AVAILABLE&&u[a-1].to===r&&(o=u[a-1].results.slice(-1)[0]);let c={state:s.range_states.LOADING,from_id:o,from:r,to:l,loading_key:i,result_cache:_};return u.splice(a,0,c),c}invalidate_plan(e){let t=this.result_cache[e];t&&(t.ranges=[],this.invalidate_call_dependency(e))}get_plan_version(e){let t=null;for(let i of null!=(r=null==(n=this.result_cache[e])?void 0:n.ranges)?r:[]){var r,n;null!=i.search_version&&(null==t||i.search_version<t)&&(t=i.search_version)}return t}handle_results(e,r,n,i){let a=this.get_cache_key(e);if(this.init_result_cache(e),r.state!==s.range_states.LOADING&&n)throw o.error("Got an error for a non-loading range, throwing error",{plan:e,state:r.state}),n;if(r.state!==s.range_states.LOADING)throw new t.UnexpectedError("assertion error: handle_results called on a non-loading range",{plan:e,range_state:r.state});if(r.loading_key.turn(),delete r.loading_key,n)r.state=s.range_states.ERROR,r.err=n,this.schedule_discard_errors(e);else{h[e.t].initialize_range.call(this,e,r,i),r.state=s.range_states.AVAILABLE;for(let t in this.local_changes){let n=this._local(t);h[e.t].local_change.call(this,e,r,t,n.type,s.DONT_KNOW,n.raw,!0)}let t=[],n=null;for(let r of[].concat(this.result_cache[a].ranges))r.state===s.range_states.AVAILABLE?n&&n.to===r.from?h[e.t].merge_ranges.call(this,e,n,r):(n=r,t.push(r)):(n=null,t.push(r));t=t.filter((e=>e.state!==s.range_states.DELETED)),this.result_cache[a].ranges=t}}delete_range(e,r){let n=this.get_cache_key(e);t.array_remove(this.result_cache[n].ranges,r),r.state=s.range_states.DELETED}load_get_children(e,r,n){var i;if("function"!=typeof(null==(i=h[e.t])?void 0:i.load))throw new t.UnexpectedError("no load function for "+e.t);let a=t.MakeKey(null,JSON.stringify({plan:e,from:r,n:n})),o=this.add_loading_range(e,r,n,a);return h[e.t].load.call(this,{plan:e,from:r,n:n,from_id:o.from_id},this.handle_results.bind(this,e,o)),a}canonicalize_query(e){if(h[e.t].canonicalize&&h[e.t].canonicalize(e),e.prev&&this.canonicalize_query(e.prev),e.prevs)for(let t of e.prevs)this.canonicalize_query(t);return null}simplify_query(e,r){null!=r||(r={});let n={};for(let[t,a]of Object.entries(r)){var i;null!=(i=h[e.t].preserves_context)&&i[t]&&(n[t]=a)}if(h[e.t].adds_context)for(let[t,r]of Object.entries(h[e.t].adds_context))n[t]=r;for(e.prev&&(e=t.extend({},e,{prev:this.simplify_query(e.prev,n)})),e.prevs&&(e=t.extend({},e,{prevs:e.prevs.map((e=>this.simplify_query(e,n)))}));;){var a,o;if(!h[e.t])throw new t.UnexpectedError("Unrecognized query type",{query:e});let n=null==(a=h[e.t].simplify)?void 0:a.call(this,e,r);if(n)e=n;else{if("Sort"!==(null==(o=e.prev)?void 0:o.t)||!h[e.t].sort_neutral)return e;{var s;let i=e.prev.prev,a=t.extend({},e,{prev:i});n=null==(s=h[a.t].simplify)?void 0:s.call(this,a,r),n&&(a=n),e=t.extend({},e.prev,{prev:a})}}}}get_node(e){let[t,...r]=e.split("."),n=this.get_object(t);return new this.DBNODE(n,r,this)}get_object(e){return new this.DBOBJECT(e,this)}_local(e){var r;return null!=(r=this._locals)[e]||(r[e]=new class{constructor(e,r){this.db=void 0,this.id=void 0,this.raw=void 0,this.type=void 0,this.version=void 0,this.latest_version=void 0,this.latest_version_source=void 0,this.db=e,this.id=r,this.ready_key=t.MakeKey(null,"initial data for "+this.id),this.dependency=t.Dependency(),this._old_keys=[]}is_watching(){return this._watching}flush(e){if(this.ready_key&&this._old_keys.push(this.ready_key),this.ready_key=t.MakeKey(null,"reloading item after stale"),this.flushed_raw=this.raw,delete this.raw,delete this.version,!e)return this.dependency.invalidate()}mark_ready(){this.ready_key.turn();for(let e of this._old_keys)e.turn();this._old_keys=[]}watch(){if(i.on_server()||!this.db.can_watch||this._watching)return;this._watching=!0;let e=`${this.db.appname}_${E.get_db_version(this.db.app_version)}${this.db.temp_db?"_"+this.db.temp_db:""}`;w.watch([p.NotificationTopic,e,this.id],(()=>{var e,t;return null!=(e=null!=(t=this.latest_version)?t:this.version)?e:0}),(e=>{let{stale:t,version:r,message:n}=e;t?this.flush():null!=r&&this.set_latest_version(r,O)}))}poll(e,t){t>0&&setTimeout((()=>{this.db._reload(this.id),this.poll(e,t-1)}),e)}set_latest_version(e,t){var r;null!=e||(e=0),null!=this.latest_version||(this.latest_version=0),e>this.latest_version&&(this.latest_version=e,this.latest_version_source=t,this.latest_version>(null!=(r=this.version)?r:0)&&this.db._wait_for_process_updates(this.id,this.latest_version,(()=>{this.db._reload(this.id)})))}dump(){let{raw:e,type:t,version:r}=this,n=this.ready_key.is_turned();return JSON.stringify({raw:e,type:t,version:r,ready:n},null,4)}}(this,e)),this._locals[e]}_has_local(e){return void 0!==this._local(e).raw}is_watching(e){return null!=this._locals[e]&&this._local(e).is_watching()}flush(e){this._local(e).flush(),this._reload(e)}_get_data(e){if(e===s.NO_USER)return(new P).raw();let t=this._local(e);if(t.error)throw t.error;return t.raw?t.raw:null}_get_ready_key(e){return[s.NO_USER,"constructor"].includes(e)?t.FakeKey():this._local(e).ready_key}_ensure_loading(e){e!==s.NO_USER&&(this._has_local(e)||this._reload(e))}_wait_for_process_updates(e,t,r){"local"===t||!this._get_ready_key(e).is_turned()||i.on_server()?r():v().workflow.wait_for_server(r)}_reload(e,t){var r;if(e===s.NO_USER)return;let n=this._local(e);if(n._is_loading)return;n._is_loading=!0;let i=null!=(r=this._local(e).latest_version)?r:0;this.elasticsearch("get",{id:e,appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),clear_cache:t},((t,r)=>{if(n._is_loading=!1,this._handle_get_response(e,t,r),null!=(null==r?void 0:r._version)&&r._version<i)return A.offline&&"user"===r._type&&r._source.bubble_employee_boolean?void 0:(o.error("Got an out of date version in _reload",{id:e,latest_version:i,version:r._version}),this._reload(e,!0))}))}_handle_get_response(e,t,r){if(null!=t)return void this._set_error(e,t);let{_version:n,found:i,_source:a,_type:o}=r;var s;i?this._set_data(e,a,o,n):this._set_data(e,null,null,null!=(s=this._local(e).latest_version)?s:0)}_register_dependency(e){e===s.NO_USER&&(new P).register_dependency(),this._local(e).dependency.register()}_set_local(e,r,n){this._ensure_loading(e),t.WaitFor(this._get_ready_key(e),(()=>{var i;let a=t.json_deep_copy(null!=(i=this._get_data(e))?i:{});if(r){let e=a;for(let[t,i]of r.entries())if(t===r.length-1)e[i]=n;else{var o;null!=(o=e)[i]||(o[i]={}),e=e[i]}}else t.extend(a,n);this._set_data(e,a,null,"local")}))}_delete_local(e){return this._set_data(e,null,null,"local")}_create_local(e,t){return this._set_data(e,{},t,"local")}_get_type(e){return e===s.NO_USER?"user":this._local(e).type}ensure_object_updates(e){let n=0;for(let i in e){let a=e[i];n++,n%10==0&&r.optional_pause();let o,s=this._local(i);s.ready_key.is_turned()&&(a>s.version||"clear"===a)?(s.ready_key=t.MakeKey(30,"data ensure_object_updates loaded for "+i),o=!0):o=!1,"clear"===a?o&&(delete s.raw,delete s.version,this._reload(i)):s.set_latest_version(a,k)}}_set_error(e,t){let r=this._local(e);r.error=t,r.mark_ready()}_set_data(n,a,o,l){let _=t.Promise(null,"db._set_data "+n);return n===s.NO_USER?((new P)._write(a),_.resolve(),_):("local"!==l&&e.global_data_items_loaded++,this._wait_for_process_updates(n,l,(()=>{!function(e,t){i.on_server()&&null==r.Fiber.current?r.SyncRun(e,t,!0):t()}("db_set_data",(()=>{var e;let t=this._local(n);if("local"===l||l>(null!=(e=t.version)?e:-1)){var r,i,s;if(t.latest_version>l)return this._reload(n),null==(s=t._outstanding_set_data_promise)||s.resolve(_),void(t._outstanding_set_data_promise=_);if("local"===l&&null!=o&&(t.just_created=!0),t.just_created&&"local"!==l){if(null===a)return void _.resolve();t.just_created=!1}null!=this.local_changes||(this.local_changes={}),"local"===l?this.local_changes[n]=t.raw:(t.version=l,delete this.local_changes[n]);let e=null!=(r=t.raw)?r:t.flushed_raw;delete t.flushed_raw,t.raw=a,null!=o&&(t.type=o),(t.type||null===t.raw)&&(t.error=null,t.mark_ready(),this.local_item_updated(n,t.raw,t.type,l)),t.dependency.invalidate(),t.watch(),null==(i=t._outstanding_set_data_promise)||i.resolve(),_.resolve(),(null!=e||"local"===l||t.latest_version_source===k)&&(t.treat_as_changed=!1,this.publish_change(n,null!=o?o:t.type,e,a,"local"===l))}else _.resolve()}))})),_)}publish_change(e,t,r,n,i){for(let a in this.result_cache){let o=this.result_cache[a],{plan:l}=o,_=!1;for(let a of[].concat(o.ranges))if(a.state===s.range_states.AVAILABLE){let o=h[l.t].local_change.call(this,l,a,e,t,r,n,i);if(o===s.DONT_KNOW){let e=h[l.t].watch_search_call.call(this,l);this.notify_maybe_invalid(e,!0)}else o&&(_=!0)}_&&this.invalidate_call_dependency(a)}}cur_temp_db(){if(this.temp_db)return d.get_temp_db(this.temp_db,this.get_appname())}lookup_user(e,t){let r=[{key:e,constraint_type:"equals",value:t}];return this.find("user",r).get_children(0,1)[0]}find(t,r,n,i){var a;r=M.dehydrate_tree(r),"user"===t&&(r=r.concat([{key:"user_signed_up",constraint_type:"equals",value:!0},{key:"_id",constraint_type:"not equal",value:this.get_admin_user_id()},{key:"_id",constraint_type:"not equal",value:e.get_admin_user_id({appname:this.appname,app_version:l.LIVE_VERSION})},{key:"_id",constraint_type:"not equal",value:e.get_admin_user_id({appname:this.appname,app_version:l.TEST_VERSION})},{key:"_id",constraint_type:"not equal",value:s.ADMIN_USER_ID}]));let o={t:"All",type:t};(null==(a=r)?void 0:a.length)>0&&(o={t:"Filter",constraints:r,prev:o}),(null==n?void 0:n.length)>0&&(o={t:"Sort",sorts_list:n,prev:o});let _=new e.ListWrapper(this,o);return i&&!u.get_current_eval_node()&&(_._creation_eval_node={serialize:()=>i}),_}static_list(e,r){if(!e)throw new t.UnexpectedError("Value id is required",{value_id:e});if(null!=r||(r=[]),!Array.isArray(r))throw new t.UnexpectedError("Bad array",{array_type:typeof r,array_str:String(r),value_id:e});let n=d.array_to_ids(e,r);return this.static_list_from_ids(e,n)}static_list_from_ids(r,n){if(!r)throw new t.UnexpectedError("Value id is required",{value_id:r});if(null!=n||(n=[]),!Array.isArray(n))throw new t.UnexpectedError("Bad array",{array_type:typeof n,array_str:String(n),value_id:r});let i={t:"Static",data:n,value_id:r};return new e.ListWrapper(this,i)}retrieve(e,n){let i=[];for(let e in n){let r=n[e];if(null==r)throw new t.UnexpectedError("retrieve: value cannot be null for key "+e);i.push({key:e,value:r,constraint_type:"equals"})}let a=this.find(e,i),o=5;for(;null==a.get_children(0,1)[0];){if(o-=1,0===o)throw new t.UnexpectedError("Retrieve failed for "+e,n);r.pause(1e3,"db retrieve attempt cooldown")}return a.get_children(0,1)[0]}get_admin_user_id(){let t=this.cur_temp_db();return e.get_admin_user_id({appname:this.appname,app_version:this.app_version,temp_db:t})}id(){return this.appname+"_"+this.app_version+(this.temp_db?"_"+this.temp_db:"")}create(e,r,n){if(null!=r||(r={}),n&&i.on_server()&&this.get(n).exists())throw new t.UnexpectedError("cannot create object, id already exists",{id:n,type:e,initial_data:r});null!=n||(n=t.UUID());let a,o=this.get_object(n);a="user"===e?n:v().current_user()._id();let s={"Created By":_.HYDRATE_STRING+a,"Created Date":t.timestamp(),"Modified Date":t.timestamp()};return t.extend(s,r),this._create_local(n,e),o.set(s,{is_insert:!0}),o}get(e){if(!e||"string"!=typeof e)throw new t.UnexpectedError("bad id: must be a string",{id_type:typeof e,id_as_string:String(e)});return e===s.NO_USER?new P:0===e.indexOf("sample:")?new m.SampleObject(e.replace("sample:","")):this.get_object(e)}};var C=null,L=null;e.wipe_no_user=function(){var e;i.on_server()?delete r.Fiber.current.NoUserObject:(C=null,null==(e=t.session_storage)||e.removeItem("NoUserObject"))};var P=class{constructor(){this.ready_key=t.FakeKey(),null!=L||(L=t.Dependency()),this.dependency=L}child(t){return new e.ClientDBNode(this,[t],v().db_instance())}_child(t){return new e.ClientDBNode(this,t,v().db_instance())}dehydrate(){return _.HYDRATE_STRING+s.NO_USER}_id(){return s.NO_USER}_type(){return"user"}is_equal_to(e){var t;return(null==e||null==(t=e.dehydrate)?void 0:t.call(e))===this.dehydrate()}precache(){}exists(){return!1}ignore_privacy(){return this}get_email(){return null}is_logged_in(){return!1}raw(){var e,n,a,o;function s(){let e={};if(!v().is_edit_mode()){var r;let t=null!=(r=b.custom_type("user").fields())?r:[];for(let r=0;r<t.length;r++){let n=t[r];!n.deleted()&&null!=n.default_val()&&(e[n.name()]=n.default_val())}}return e["Created Date"]=t.timestamp(),e["Modified Date"]=t.timestamp(),e}return i.on_server()?null!=(a=null==(o=r.Fiber.current)?void 0:o.NoUserObject)?a:s():null!=C?C:t.json_parse(null!=(e=null==(n=t.session_storage)?void 0:n.getItem("NoUserObject"))?e:t.json_stringify(s()))}_write(e){var n;i.on_server()&&null!=r.Fiber.current&&(r.Fiber.current.NoUserObject=e);try{t.session_storage.setItem("NoUserObject",JSON.stringify(e))}catch{var a;C=e,null==(a=t.session_storage)||a.removeItem("NoUserObject")}return null==(n=L)?void 0:n.invalidate()}register_dependency(){null!=L||(L=t.Dependency()),L.register()}};e.NoUser=P})),Dd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n():"function"==typeof define&&define.amd?define([],n):r.CryptoJS=n()}(e,(function(){var e,t,r,n,i,a,o,s,l,_,u,c=c||(e=Math,r=(t={}).lib={},n=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),i=r.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<i;a++){var o=r[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=o<<24-(n+a)%4*8}else if(r.length>65535)for(a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];else t.push.apply(t,r);return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],a=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=a(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new i.init(n,t)}}),a=t.enc={},o=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new i.init(r,t/2)}},s=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new i.init(r,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},_=r.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,a=r.sigBytes,o=this.blockSize,s=a/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,_=e.min(4*l,a);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(n,u);var c=n.splice(0,l);r.sigBytes-=_}return new i.init(c,_)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),r.Hasher=_.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new u.HMAC.init(e,r).finalize(t)}}}),u=t.algo={},t);return c}))})),jd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).lib,n=r.Base,i=r.WordArray,(a=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var a=e[n];r.push(a.high),r.push(a.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}}),e;var t,r,n,i,a}))})),Bd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||typeof Uint8ClampedArray<"u"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray}))})),qd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return function(){var t=e,r=t.lib.WordArray,n=t.enc;n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var a=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,2*t)}};function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a+=2){var o=i(t[a>>>2]>>>16-a%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,n=[],a=0;a<t;a++)n[a>>>1]|=i(e.charCodeAt(a)<<16-a%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16}))})),Ud=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)i.push(n.charAt(o>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var a=e.indexOf(i);-1!=a&&(t=a)}for(var o=[],s=0,l=0;l<t;l++)if(l%4){var _=n.indexOf(e.charAt(l-1))<<l%4*2,u=n.indexOf(e.charAt(l))>>>6-l%4*2;o[s>>>2]|=(_|u)<<24-s%4*8,s++}return r.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64;var t,r}))})),Wd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,a=n.Hasher,o=r.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],h=e[t+4],g=e[t+5],m=e[t+6],v=e[t+7],y=e[t+8],b=e[t+9],w=e[t+10],A=e[t+11],E=e[t+12],M=e[t+13],x=e[t+14],O=e[t+15],k=a[0],S=a[1],T=a[2],N=a[3];k=_(k,S,T,N,o,7,s[0]),N=_(N,k,S,T,l,12,s[1]),T=_(T,N,k,S,p,17,s[2]),S=_(S,T,N,k,f,22,s[3]),k=_(k,S,T,N,h,7,s[4]),N=_(N,k,S,T,g,12,s[5]),T=_(T,N,k,S,m,17,s[6]),S=_(S,T,N,k,v,22,s[7]),k=_(k,S,T,N,y,7,s[8]),N=_(N,k,S,T,b,12,s[9]),T=_(T,N,k,S,w,17,s[10]),S=_(S,T,N,k,A,22,s[11]),k=_(k,S,T,N,E,7,s[12]),N=_(N,k,S,T,M,12,s[13]),T=_(T,N,k,S,x,17,s[14]),k=u(k,S=_(S,T,N,k,O,22,s[15]),T,N,l,5,s[16]),N=u(N,k,S,T,m,9,s[17]),T=u(T,N,k,S,A,14,s[18]),S=u(S,T,N,k,o,20,s[19]),k=u(k,S,T,N,g,5,s[20]),N=u(N,k,S,T,w,9,s[21]),T=u(T,N,k,S,O,14,s[22]),S=u(S,T,N,k,h,20,s[23]),k=u(k,S,T,N,b,5,s[24]),N=u(N,k,S,T,x,9,s[25]),T=u(T,N,k,S,f,14,s[26]),S=u(S,T,N,k,y,20,s[27]),k=u(k,S,T,N,M,5,s[28]),N=u(N,k,S,T,p,9,s[29]),T=u(T,N,k,S,v,14,s[30]),k=c(k,S=u(S,T,N,k,E,20,s[31]),T,N,g,4,s[32]),N=c(N,k,S,T,y,11,s[33]),T=c(T,N,k,S,A,16,s[34]),S=c(S,T,N,k,x,23,s[35]),k=c(k,S,T,N,l,4,s[36]),N=c(N,k,S,T,h,11,s[37]),T=c(T,N,k,S,v,16,s[38]),S=c(S,T,N,k,w,23,s[39]),k=c(k,S,T,N,M,4,s[40]),N=c(N,k,S,T,o,11,s[41]),T=c(T,N,k,S,f,16,s[42]),S=c(S,T,N,k,m,23,s[43]),k=c(k,S,T,N,b,4,s[44]),N=c(N,k,S,T,E,11,s[45]),T=c(T,N,k,S,O,16,s[46]),k=d(k,S=c(S,T,N,k,p,23,s[47]),T,N,o,6,s[48]),N=d(N,k,S,T,v,10,s[49]),T=d(T,N,k,S,x,15,s[50]),S=d(S,T,N,k,g,21,s[51]),k=d(k,S,T,N,E,6,s[52]),N=d(N,k,S,T,f,10,s[53]),T=d(T,N,k,S,w,15,s[54]),S=d(S,T,N,k,l,21,s[55]),k=d(k,S,T,N,y,6,s[56]),N=d(N,k,S,T,O,10,s[57]),T=d(T,N,k,S,m,15,s[58]),S=d(S,T,N,k,M,21,s[59]),k=d(k,S,T,N,h,6,s[60]),N=d(N,k,S,T,A,10,s[61]),T=d(T,N,k,S,p,15,s[62]),S=d(S,T,N,k,b,21,s[63]),a[0]=a[0]+k|0,a[1]=a[1]+S|0,a[2]=a[2]+T|0,a[3]=a[3]+N|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var a=t.floor(n/4294967296),o=n;r[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,l=s.words,_=0;_<4;_++){var u=l[_];l[_]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function _(e,t,r,n,i,a,o){var s=e+(t&r|~t&n)+i+o;return(s<<a|s>>>32-a)+t}function u(e,t,r,n,i,a,o){var s=e+(t&n|r&~n)+i+o;return(s<<a|s>>>32-a)+t}function c(e,t,r,n,i,a,o){var s=e+(t^r^n)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,r,n,i,a,o){var s=e+(r^(t|~n))+i+o;return(s<<a|s>>>32-a)+t}r.MD5=a._createHelper(l),r.HmacMD5=a._createHmacHelper(l)}(Math),e.MD5}))})),$d=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).lib,n=r.WordArray,i=r.Hasher,a=t.algo,o=[],s=a.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],s=r[3],l=r[4],_=0;_<80;_++){if(_<16)o[_]=0|e[t+_];else{var u=o[_-3]^o[_-8]^o[_-14]^o[_-16];o[_]=u<<1|u>>>31}var c=(n<<5|n>>>27)+l+o[_];c+=_<20?1518500249+(i&a|~i&s):_<40?1859775393+(i^a^s):_<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,l=s,s=a,a=i<<30|i>>>2,i=n,n=c}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(s),t.HmacSHA1=i._createHmacHelper(s),e.SHA1;var t,r,n,i,a,o,s}))})),Fd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,a=n.Hasher,o=r.algo,s=[],l=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),l[i]=r(t.pow(n,1/3)),i++),n++}();var _=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],c=r[6],d=r[7],p=0;p<64;p++){if(p<16)_[p]=0|e[t+p];else{var f=_[p-15],h=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=_[p-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;_[p]=h+_[p-7]+m+_[p-16]}var v=n&i^n&a^i&a,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+l[p]+_[p];d=c,c=u,u=s,s=o+b|0,o=a,a=i,i=n,n=b+(y+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+d|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=a._createHelper(u),r.HmacSHA256=a._createHmacHelper(u)}(Math),e.SHA256}))})),Gd=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Fd()):"function"==typeof define&&define.amd?define(["./core","./sha256"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).lib.WordArray,n=t.algo,i=n.SHA256,a=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=i._createHelper(a),t.HmacSHA224=i._createHmacHelper(a),e.SHA224;var t,r,n,i,a}))})),Xd=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),jd()):"function"==typeof define&&define.amd?define(["./core","./x64-core"],n):n(r.CryptoJS)}(e,(function(e){return function(){var t=e,r=t.lib.Hasher,n=t.x64,i=n.Word,a=n.WordArray,o=t.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],_=[];!function(){for(var e=0;e<80;e++)_[e]=s()}();var u=o.SHA512=r.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],c=r[6],d=r[7],p=n.high,f=n.low,h=i.high,g=i.low,m=a.high,v=a.low,y=o.high,b=o.low,w=s.high,A=s.low,E=u.high,M=u.low,x=c.high,O=c.low,k=d.high,S=d.low,T=p,N=f,C=h,L=g,P=m,R=v,z=y,I=b,D=w,j=A,B=E,q=M,U=x,W=O,$=k,F=S,G=0;G<80;G++){var X=_[G];if(G<16)var H=X.high=0|e[t+2*G],V=X.low=0|e[t+2*G+1];else{var Y=_[G-15],K=Y.high,J=Y.low,Z=(K>>>1|J<<31)^(K>>>8|J<<24)^K>>>7,Q=(J>>>1|K<<31)^(J>>>8|K<<24)^(J>>>7|K<<25),ee=_[G-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ae=_[G-7],oe=ae.high,se=ae.low,le=_[G-16],_e=le.high,ue=le.low;H=(H=(H=Z+oe+((V=Q+se)>>>0<Q>>>0?1:0))+ne+((V=V+ie)>>>0<ie>>>0?1:0))+_e+((V=V+ue)>>>0<ue>>>0?1:0);X.high=H,X.low=V}var ce,de=D&B^~D&U,pe=j&q^~j&W,fe=T&C^T&P^C&P,he=N&L^N&R^L&R,ge=(T>>>28|N<<4)^(T<<30|N>>>2)^(T<<25|N>>>7),me=(N>>>28|T<<4)^(N<<30|T>>>2)^(N<<25|T>>>7),ve=(D>>>14|j<<18)^(D>>>18|j<<14)^(D<<23|j>>>9),ye=(j>>>14|D<<18)^(j>>>18|D<<14)^(j<<23|D>>>9),be=l[G],we=be.high,Ae=be.low,Ee=$+ve+((ce=F+ye)>>>0<F>>>0?1:0),Me=me+he;$=U,F=W,U=B,W=q,B=D,q=j,D=z+(Ee=(Ee=(Ee=Ee+de+((ce=ce+pe)>>>0<pe>>>0?1:0))+we+((ce=ce+Ae)>>>0<Ae>>>0?1:0))+H+((ce=ce+V)>>>0<V>>>0?1:0))+((j=I+ce|0)>>>0<I>>>0?1:0)|0,z=P,I=R,P=C,R=L,C=T,L=N,T=Ee+(ge+fe+(Me>>>0<me>>>0?1:0))+((N=ce+Me|0)>>>0<ce>>>0?1:0)|0}f=n.low=f+N,n.high=p+T+(f>>>0<N>>>0?1:0),g=i.low=g+L,i.high=h+C+(g>>>0<L>>>0?1:0),v=a.low=v+R,a.high=m+P+(v>>>0<R>>>0?1:0),b=o.low=b+I,o.high=y+z+(b>>>0<I>>>0?1:0),A=s.low=A+j,s.high=w+D+(A>>>0<j>>>0?1:0),M=u.low=M+q,u.high=E+B+(M>>>0<q>>>0?1:0),O=c.low=O+W,c.high=x+U+(O>>>0<W>>>0?1:0),S=d.low=S+F,d.high=k+$+(S>>>0<F>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(u),t.HmacSHA512=r._createHmacHelper(u)}(),e.SHA512}))})),Hd=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),jd(),Xd()):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).x64,n=r.Word,i=r.WordArray,a=t.algo,o=a.SHA512,s=a.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=o._createHelper(s),t.HmacSHA384=o._createHmacHelper(s),e.SHA384;var t,r,n,i,a,o,s}))})),Vd=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),jd()):"function"==typeof define&&define.amd?define(["./core","./x64-core"],n):n(r.CryptoJS)}(e,(function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,a=n.Hasher,o=r.x64.Word,s=r.algo,l=[],_=[],u=[];!function(){for(var e=1,t=0,r=0;r<24;r++){l[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)_[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,a=0;a<24;a++){for(var s=0,c=0,d=0;d<7;d++){if(1&i){var p=(1<<d)-1;p<32?c^=1<<p:s^=1<<p-32}128&i?i=i<<1^113:i<<=1}u[a]=o.create(s,c)}}();var c=[];!function(){for(var e=0;e<25;e++)c[e]=o.create()}();var d=s.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var a=e[t+2*i],o=e[t+2*i+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(S=r[i]).high^=o,S.low^=a}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var p=0,f=0,h=0;h<5;h++){p^=(S=r[d+5*h]).high,f^=S.low}var g=c[d];g.high=p,g.low=f}for(d=0;d<5;d++){var m=c[(d+4)%5],v=c[(d+1)%5],y=v.high,b=v.low;for(p=m.high^(y<<1|b>>>31),f=m.low^(b<<1|y>>>31),h=0;h<5;h++){(S=r[d+5*h]).high^=p,S.low^=f}}for(var w=1;w<25;w++){var A=(S=r[w]).high,E=S.low,M=l[w];if(M<32)p=A<<M|E>>>32-M,f=E<<M|A>>>32-M;else p=E<<M-32|A>>>64-M,f=A<<M-32|E>>>64-M;var x=c[_[w]];x.high=p,x.low=f}var O=c[0],k=r[0];O.high=k.high,O.low=k.low;for(d=0;d<5;d++)for(h=0;h<5;h++){var S=r[w=d+5*h],T=c[w],N=c[(d+1)%5+5*h],C=c[(d+2)%5+5*h];S.high=T.high^~N.high&C.high,S.low=T.low^~N.low&C.low}S=r[0];var L=u[s];S.high^=L.high,S.low^=L.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),a=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,l=s/8,_=[],u=0;u<l;u++){var c=o[u],d=c.high,p=c.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),_.push(p),_.push(d)}return new i.init(_,s)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=a._createHelper(d),r.HmacSHA3=a._createHmacHelper(d)}(Math),e.SHA3}))})),Yd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,a=n.Hasher,o=r.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=o.RIPEMD160=a.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a,o,p,b,w,A,E,M,x,O,k=this._hash.words,S=c.words,T=d.words,N=s.words,C=l.words,L=_.words,P=u.words;A=a=k[0],E=o=k[1],M=p=k[2],x=b=k[3],O=w=k[4];var R;for(r=0;r<80;r+=1)R=a+e[t+N[r]]|0,R+=r<16?f(o,p,b)+S[0]:r<32?h(o,p,b)+S[1]:r<48?g(o,p,b)+S[2]:r<64?m(o,p,b)+S[3]:v(o,p,b)+S[4],R=(R=y(R|=0,L[r]))+w|0,a=w,w=b,b=y(p,10),p=o,o=R,R=A+e[t+C[r]]|0,R+=r<16?v(E,M,x)+T[0]:r<32?m(E,M,x)+T[1]:r<48?g(E,M,x)+T[2]:r<64?h(E,M,x)+T[3]:f(E,M,x)+T[4],R=(R=y(R|=0,P[r]))+O|0,A=O,O=x,x=y(M,10),M=E,E=R;R=k[1]+p+x|0,k[1]=k[2]+b+O|0,k[2]=k[3]+w+A|0,k[3]=k[4]+a+E|0,k[4]=k[0]+o+M|0,k[0]=R},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,a=i.words,o=0;o<5;o++){var s=a[o];a[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,r){return e^t^r}function h(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function m(e,t,r){return e&r|t&~r}function v(e,t,r){return e^(t|~r)}function y(e,t){return e<<t|e>>>32-t}r.RIPEMD160=a._createHelper(p),r.HmacRIPEMD160=a._createHmacHelper(p)}(Math),e.RIPEMD160}))})),Kd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){var t,r,n;r=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,_=0;_<r;_++)s[_]^=1549556828,l[_]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}))})),Jd=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),$d(),Kd()):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).lib,n=r.Base,i=r.WordArray,a=t.algo,o=a.SHA1,s=a.HMAC,l=a.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=s.create(r.hasher,e),a=i.create(),o=i.create([1]),l=a.words,_=o.words,u=r.keySize,c=r.iterations;l.length<u;){var d=n.update(t).finalize(o);n.reset();for(var p=d.words,f=p.length,h=d,g=1;g<c;g++){h=n.finalize(h),n.reset();for(var m=h.words,v=0;v<f;v++)p[v]^=m[v]}a.concat(d),_[0]++}return a.sigBytes=4*u,a}}),t.PBKDF2=function(e,t,r){return l.create(r).compute(e,t)},e.PBKDF2;var t,r,n,i,a,o,s,l}))})),Zd=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),$d(),Kd()):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).lib,n=r.Base,i=r.WordArray,a=t.algo,o=a.MD5,s=a.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),a=i.create(),o=a.words,s=r.keySize,l=r.iterations;o.length<s;){_&&n.update(_);var _=n.update(e).finalize(t);n.reset();for(var u=1;u<l;u++)_=n.finalize(_),n.reset();a.concat(_)}return a.sigBytes=4*s,a}}),t.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)},e.EvpKDF;var t,r,n,i,a,o,s}))})),Qd=u(((e,t)=>{f(),function(r,n){"object"==typeof e?t.exports=e=n(Dd()):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)}(e,(function(e){var t,r,n,i,a,o,s,l,_,u,c,d,p,f,h,g,m,v;e.lib.Cipher||(r=(t=e).lib,n=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,(o=t.enc).Utf8,s=o.Base64,l=t.algo.EvpKDF,_=r.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:g}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),r.StreamCipher=_.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),u=t.mode={},c=r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=u.CBC=function(){var e=c.extend();function t(e,t,r){var n=this._iv;if(n){var i=n;this._iv=void 0}else i=this._prevBlock;for(var a=0;a<r;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,a=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=a}}),e}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,a=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(a);var l=i.create(o,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.BlockCipher=_.extend({cfg:_.cfg.extend({mode:d,padding:p}),reset:function(){_.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode=n.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),f=r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),h=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(s)},parse:function(e){var t=s.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return f.create({ciphertext:t,salt:n})}},g=r.SerializableCipher=n.extend({cfg:n.extend({format:h}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),a=i.finalize(t),o=i.cfg;return f.create({ciphertext:a,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),m=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var a=l.create({keySize:t+r}).compute(e,n),o=i.create(a.words.slice(t),4*r);return a.sigBytes=4*t,f.create({key:a,iv:o,salt:n})}},v=r.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:m}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var a=g.encrypt.call(this,e,t,i.key,n);return a.mixIn(i),a},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,g.decrypt.call(this,e,t,i.key,n)}}))}))})),ep=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var i=this._iv;if(i){var a=i.slice(0);this._iv=void 0}else a=this._prevBlock;n.encryptBlock(a,0);for(var o=0;o<r;o++)e[t+o]^=a[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i,n),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,a=e.slice(t,t+i);r.call(this,e,t,i,n),this._prevBlock=a}}),t}(),e.mode.CFB}))})),tp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var o=a.slice(0);r.encryptBlock(o,0),a[n-1]=a[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=o[s]}}),t.Decryptor=r,t),e.mode.CTR;var t,r}))})),rp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),function(e){0===(e[0]=r(e[0]))&&(e[1]=r(e[1]))}(o);var s=o.slice(0);n.encryptBlock(s,0);for(var l=0;l<i;l++)e[t+l]^=s[l]}});return t.Decryptor=n,t}(),e.mode.CTRGladman}))})),np=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,a=this._keystream;i&&(a=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(a,0);for(var o=0;o<n;o++)e[t+o]^=a[o]}}),t.Decryptor=r,t),e.mode.OFB;var t,r}))})),ip=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB;var t}))})),ap=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,a=r+i-1;e.clamp(),e.words[a>>>2]|=i<<24-a%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}))})),op=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}))})),sp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}))})),lp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e.pad.ZeroPadding}))})),_p=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}))})),up=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return r=(t=e).lib.CipherParams,n=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}},e.format.Hex;var t,r,n}))})),cp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Ud(),Wd(),Zd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,i=[],a=[],o=[],s=[],l=[],_=[],u=[],c=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,i[r]=f,a[f]=r;var h=e[r],g=e[h],m=e[g],v=257*e[f]^16843008*f;o[r]=v<<24|v>>>8,s[r]=v<<16|v>>>16,l[r]=v<<8|v>>>24,_[r]=v;v=16843009*m^65537*g^257*h^16843008*r;u[f]=v<<24|v>>>8,c[f]=v<<16|v>>>16,d[f]=v<<8|v>>>24,p[f]=v,r?(r=h^e[e[e[m^h]]],n^=e[e[n]]):r=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],h=n.AES=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),a=this._keySchedule=[],o=0;o<n;o++)if(o<r)a[o]=t[o];else{var s=a[o-1];o%r?r>6&&o%r==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=f[o/r|0]<<24),a[o]=a[o-r]^s}for(var l=this._invKeySchedule=[],_=0;_<n;_++){o=n-_;if(_%4)s=a[o];else s=a[o-4];l[_]=_<4||o<=4?s:u[i[s>>>24]]^c[i[s>>>16&255]]^d[i[s>>>8&255]]^p[i[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,_,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,c,d,p,a);r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,a,o,s){for(var l=this._nRounds,_=e[t]^r[0],u=e[t+1]^r[1],c=e[t+2]^r[2],d=e[t+3]^r[3],p=4,f=1;f<l;f++){var h=n[_>>>24]^i[u>>>16&255]^a[c>>>8&255]^o[255&d]^r[p++],g=n[u>>>24]^i[c>>>16&255]^a[d>>>8&255]^o[255&_]^r[p++],m=n[c>>>24]^i[d>>>16&255]^a[_>>>8&255]^o[255&u]^r[p++],v=n[d>>>24]^i[_>>>16&255]^a[u>>>8&255]^o[255&c]^r[p++];_=h,u=g,c=m,d=v}h=(s[_>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&d])^r[p++],g=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[d>>>8&255]<<8|s[255&_])^r[p++],m=(s[c>>>24]<<24|s[d>>>16&255]<<16|s[_>>>8&255]<<8|s[255&u])^r[p++],v=(s[d>>>24]<<24|s[_>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^r[p++];e[t]=h,e[t+1]=g,e[t+2]=m,e[t+3]=v},keySize:8});t.AES=r._createHelper(h)}(),e.AES}))})),dp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Ud(),Wd(),Zd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,a=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],a=0;a<16;a++){var _=i[a]=[],u=l[a];for(r=0;r<24;r++)_[r/6|0]|=t[(s[r]-1+u)%28]<<31-r%6,_[4+(r/6|0)]|=t[28+(s[r+24]-1+u)%28]<<31-r%6;_[0]=_[0]<<1|_[0]>>>31;for(r=1;r<7;r++)_[r]=_[r]>>>4*(r-1)+3;_[7]=_[7]<<5|_[7]>>>27}var c=this._invSubKeys=[];for(r=0;r<16;r++)c[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],a=this._lBlock,o=this._rBlock,s=0,l=0;l<8;l++)s|=_[l][((o^i[l])&u[l])>>>0];this._lBlock=o,this._rBlock=a^s}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=i._createHelper(c);var f=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=c.createEncryptor(n.create(e.slice(0,2))),this._des2=c.createEncryptor(n.create(e.slice(2,4))),this._des3=c.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(f)}(),e.TripleDES}))})),pp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Ud(),Wd(),Zd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var a=0;i<256;i++){var o=i%r,s=t[o>>>2]>>>24-o%4*8&255;a=(a+n[i]+s)%256;var l=n[i];n[i]=n[a],n[a]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var a=e[t];e[t]=e[r],e[r]=a,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}t.RC4=r._createHelper(i);var o=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});t.RC4Drop=r._createHelper(o)}(),e.RC4}))})),fp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Ud(),Wd(),Zd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=[],a=[],o=[],s=n.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var a=t.words,o=a[0],s=a[1],_=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=_>>>16|4294901760&u,d=u<<16|65535&_;i[0]^=_,i[1]^=c,i[2]^=u,i[3]^=d,i[4]^=_,i[5]^=c,i[6]^=u,i[7]^=d;for(r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)a[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0;for(r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,_=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^_}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=r._createHelper(s)}(),e.Rabbit}))})),hp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),Ud(),Wd(),Zd(),Qd()):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)}(e,(function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=[],a=[],o=[],s=n.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var a=t.words,o=a[0],s=a[1],_=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=_>>>16|4294901760&u,d=u<<16|65535&_;n[0]^=_,n[1]^=c,n[2]^=u,n[3]^=d,n[4]^=_,n[5]^=c,n[6]^=u,n[7]^=d;for(i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)a[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<a[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<a[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<a[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<a[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<a[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<a[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<a[6]>>>0?1:0)|0,this._b=t[7]>>>0<a[7]>>>0?1:0;for(r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,_=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^_}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=r._createHelper(s)}(),e.RabbitLegacy}))})),gp=u(((e,t)=>{f(),function(r,n,i){"object"==typeof e?t.exports=e=n(Dd(),jd(),Bd(),qd(),Ud(),Wd(),$d(),Fd(),Gd(),Xd(),Hd(),Vd(),Yd(),Kd(),Jd(),Zd(),Qd(),ep(),tp(),rp(),np(),ip(),ap(),op(),sp(),lp(),_p(),up(),cp(),dp(),pp(),fp(),hp()):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],n):r.CryptoJS=r.CryptoJS}(e,(function(e){return e}))})),mp=u(((e,t)=>{f();var r=Math.pow(2,30)-1;t.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!=t)throw new TypeError("Bad key length")}})),vp=u(((e,t)=>{var r;f(),window.process&&window.process.browser?r="utf-8":window.process&&window.process.version?r=parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":r="utf-8",t.exports=r})),yp=u(((e,t)=>{f();var r=go();t.exports=function(e){return(new r).update(e).digest()}})),bp=u(((e,t)=>{f();var r=Ya().Buffer;t.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}})),wp=u(((e,t)=>{f();var r=yp(),n=mo(),i=xo(),a=Ya().Buffer,o=mp(),s=vp(),l=bp(),_=a.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function c(e,t,o){var s=function(e){function t(t){return i(e).update(t).digest()}function a(e){return(new n).update(e).digest()}return"rmd160"===e||"ripemd160"===e?a:"md5"===e?r:t}(e),l="sha512"===e||"sha384"===e?128:64;t.length>l?t=s(t):t.length<l&&(t=a.concat([t,_],l));for(var c=a.allocUnsafe(l+u[e]),d=a.allocUnsafe(l+u[e]),p=0;p<l;p++)c[p]=54^t[p],d[p]=92^t[p];var f=a.allocUnsafe(l+o+4);c.copy(f,0,0,l),this.ipad1=f,this.ipad2=c,this.opad=d,this.alg=e,this.blocksize=l,this.hash=s,this.size=u[e]}c.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){o(r,n);var _=new c(i=i||"sha1",e=l(e,s,"Password"),(t=l(t,s,"Salt")).length),d=a.allocUnsafe(n),p=a.allocUnsafe(t.length+4);t.copy(p,0,0,t.length);for(var f=0,h=u[i],g=Math.ceil(n/h),m=1;m<=g;m++){p.writeUInt32BE(m,t.length);for(var v=_.run(p,_.ipad1),y=v,b=1;b<r;b++){y=_.run(y,_.ipad2);for(var w=0;w<h;w++)v[w]^=y[w]}v.copy(d,f),f+=h}return d}})),Ap=u(((e,t)=>{f();var r,n,i=Ya().Buffer,a=mp(),o=vp(),s=wp(),l=bp(),_=window.crypto&&window.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[];function d(){return n||(n=window.process&&window.process.nextTick?window.process.nextTick:window.queueMicrotask?window.queueMicrotask:window.setImmediate?window.setImmediate:window.setTimeout)}function p(e,t,r,n,a){return _.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return _.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:a}},e,n<<3)})).then((function(e){return i.from(e)}))}t.exports=function(e,t,n,f,h,g){"function"==typeof h&&(g=h,h=void 0);var m=u[(h=h||"sha1").toLowerCase()];if(m&&"function"==typeof window.Promise){if(a(n,f),e=l(e,o,"Password"),t=l(t,o,"Salt"),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(e){if(window.process&&!window.process.browser||!_||!_.importKey||!_.deriveBits)return Promise.resolve(!1);if(void 0!==c[e])return c[e];var t=p(r=r||i.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return c[e]=t,t}(m).then((function(r){return r?p(e,t,n,f,m):s(e,t,n,f,h)})),g)}else d()((function(){var r;try{r=s(e,t,n,f,h)}catch(e){return g(e)}g(null,r)}))}})),Ep=u((e=>{f(),e.pbkdf2=Ap(),e.pbkdf2Sync=wp()})),Mp=u((e=>{"use strict";f();var t=gp(),r=Ep(),n=mn();function i(e,n,i,a){return e=r.pbkdf2Sync(e,a,7,32,"md5"),n=r.pbkdf2Sync(n,a,7,16,"md5"),t.AES.encrypt(i,t.lib.WordArray.create(e),{iv:t.lib.WordArray.create(n),mode:t.mode.CBC,padding:t.pad.Pkcs7}).toString()}e.encode_data=(e,t)=>{let r=String(n.timestamp()),a=`${r}_1`,o=t+r,s=String(Math.random());return{z:i(o,s,JSON.stringify(e),t),y:i(t,"po9",a,t),x:i(t,"fl1",s,t)}}})),xp=u((e=>{"use strict";f();var t=k_(),r=Vt(),n=e;n.uid_cookie_name=function(e,n,i){var a,o,s;let l=null!=(a=null!=(o=null!=(s=r.cookie_name_prefix)?s:r.environment_name)?o:r.env)?a:"";return e+"_u1"+(n!==t.LIVE_VERSION?"_"+n:"")+l+(i?"_"+i:"")},n.sid_cookie_name=function(e,t,n){var i,a,o;return e+"_"+t+"_u2"+(null!=(i=null!=(a=null!=(o=r.cookie_name_prefix)?o:r.environment_name)?a:r.env)?i:"")+(n?"_"+n:"")},n.debug_mode_cookie_name=e=>`${e}_debug_mode`,n.firebase_cookie_name=(e,t)=>e+"-"+t})),Op=u((e=>{"use strict";f();var t=Lo(),r=qr(),n=Vt(),i=xp(),a=e,o="firebase_workflow";typeof window<"u"&&null!=window.firebase&&window.firebase.initializeApp(n.firebase_app_config);var s={};s.firebase_workflow=t.MakeSwitch(null,"firebase_workflow ready key"),a.get_firebase=function(){let e=t.Promise(null,"get workflow firebase");return t.WaitFor(s.firebase_workflow,(()=>{e.resolve(window.firebase.database().ref())})),e},a.get_token_expiration=()=>window.firebase.auth().currentUser.getIdTokenResult().then((e=>Date.parse(e.expirationTime)));var l={};a.reauth=function(){let e=t.Promise(null,"reauthing to firebase");if(!t.cookies_enabled())return e.reject("cookies disabled"),e;let n=i.firebase_cookie_name(r().appname(),o),a=t.readCookie(n);if("string"!=typeof a){let r=new t.ExpectedError("Reauthed to firebase but cookie did not contain a valid token",{cookie_name:n,token:a,cookieEnabled:navigator.cookieEnabled,dck:document.cookie});e.reject(r)}else a!==l[o]?(l[o]=a,window.firebase.auth().signInWithCustomToken(a).then((()=>{console.log("authorized successfully for "+o),s[o].turn_on(),e.resolve()})).catch((t=>{e.reject(t)}))):e.resolve();return e}})),kp=u(((e,t)=>{"use strict";f(),Ue();var r=Vt(),n=Kt(),i=Lo(),a=Kl(),o=Hl(),s=fl(),l=j_(),_=class extends l{_operate(e,t){let r=this.parent_id();return this.db._ensure_loading(r),t(r,e=s.dehydrate_tree_to_db_primitive(e),this._extract(this.db._get_data(r)))}set(e){return this._operate(e,((e,t,r)=>this.db._set_local(e,this._path,t)))}push(e){return this._operate(e,((e,t,a)=>{let l=(null!=a?a:[]).slice();if(Array.isArray(l)){if(-1===s.dehydrated_array_index_of(l,t)&&!function(){if(Array.isArray(t)||o.is_b_location(t))for(let e of l)if(i.json_stringify(e)===i.json_stringify(t))return!0;return!1}()){if(l.push(t),r.MAX_LIST_LENGTH&&l.length>r.MAX_LIST_LENGTH)throw new i.OwnerError("List at maximum length ("+r.MAX_LIST_LENGTH+")");this.set(l)}}else n.error("path is not array",{firebase:this.firebase,new_value:l})}))}remove(e){return this._operate(e,((e,t,r)=>{let l,_;if(null!=r||(r=[]),Array.isArray(r)){if((l=s.dehydrated_array_index_of(r,t))>-1)return _=r.slice(),_.splice(l,1),this.set(_);if(Array.isArray(t)||o.is_b_location(t)){if(_=[],o.is_b_location(t))for(let e of r)a.is_equal(e,t)||_.push(e);else if(r.map(i.json_stringify).includes(i.json_stringify(t)))for(let e of r)i.json_stringify(e)!==i.json_stringify(t)&&_.push(e);this.set(_)}}else n.error("path is not array",{firebase:this.firebase,cur_value:r})}))}raw(){let e=this.parent_id();this.db._ensure_loading(e);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.ensure_ready(this.db._get_ready_key(e),...r),this.db._register_dependency(e),this._extract(this.db._get_data(e))}dehydrate(){return s.dehydrate_prefix("ClientDBNode")+this.key()}precache(){let e=this.parent_id();return this.db._ensure_loading(e)}};_.rehydrate=(e,t)=>e.get_node(t),t.exports=_})),Sp=u(((e,t)=>{"use strict";f();var r=Id(),n=r_(),i=kp(),a=class e extends i{constructor(e,t){super(void 0,void 0,t),this.id=e}ignore_privacy(){return this}delete(){this.db._delete_local(this.id)}is_equal_to(t){return t instanceof e&&this.db===t.db&&this.id===t.id}};!function(){for(let e in n.ObjectBase){let t=n.ObjectBase[e];a.prototype[e]=t}}(),t.exports=r.ClientDBObject=a})),Tp=u((e=>{"use strict";f(),Ue(),Ze();Qt();var t=it(),r=ot(),n=Nt(),i=Po(),a=(Fl(),Kt()),o=qr(),s=(xr(),vl(),e);n.safe_register("./languages",s),s.available_languages=function(){return Object.keys(s.get_languages_data())},s.is_language_available=function(e){return null!=s.get_languages_data()[e]},s.get_runmode_language_data=function(e){if(r.on_client())return window.language_data},s.get_user_language_field=function(){let e=o().app(),t=e.get_public_setting("language_field");return t&&e.custom_type("user").field(t).exists()?t:null},s.app_language=function(e){if(o().is_edit_mode())return t=i.get_public_setting("app_language"),(t=function(e){return"portugese"===e?"portuguese":e}(t))&&s.is_language_available(t)?t:e?null:"en_us";var t;if(r.on_client()&&window.application_language)return window.application_language},s.language_data=function(e){return s.get_runmode_language_data(s.app_language())},s.get_text=function(e,t){let n=o().app_language(),i=o().app().get_public_setting(`text.${n}.${e}.${t}`);if(r.on_client()){let r=i;var l,_,u,c,d;if(null==r)if(r=null==(l=s.get_language_data(n))||null==(_=l[e])?void 0:_[t],!r)a.owner_warn("Missing translation text",{display:`No translation available yet for text ${e}-${t} in ${n}`}),r=null!=(u=null==(c=s.get_language_data("en_us"))||null==(d=c[e])?void 0:d[t])?u:"(no translation)";return r}},s.get_iso_code=function(e){if(null==e)return"en_US";if(r.on_client())return window.language_data[e].iso_code},s.format_iso_code_for_browser=function(e){let[t,r]=e.split(/[_-]/);return null!=r?`${t}-${r.toUpperCase()}`:t},s.is_rtl=function(e){var t;if(r.on_client())return null!=(t=window.language_data[e].is_rtl)&&t},s.iso_lookup_language=function(){let e={};for(let[t,r]of Object.entries(s.get_languages_data()))e[r.iso_code]=t;return e},s.add_built_ins=function(e){if(null==e)throw new t.UnexpectedError("Language node is null for add_built_ins");let r=e.child("yes_text").get(),n=e.child("no_text").get(),i=e.child("day_names_text").get(),a=e.child("month_names_text").get();return u({yes_text:r,no_text:n,day_names_text:i,month_names_text:a})},s.get_built_in_json_from_data=function(e){if(null==e)throw new t.UnexpectedError("Language data is null for get_built_in_json_from_data");let r=e.yes,n=e.no,i=e.day_names,a=e.month_names;return u({yes_text:r,no_text:n,day_names_text:i,month_names_text:a})},s.get_language_data=function(e){if(r.on_client())return null!=window.translation_data[e]?window.translation_data[e]:(null==s.iso_based_language_obj&&(s.iso_based_language_obj=s.iso_lookup_language()),window.translation_data[s.iso_based_language_obj[e]]);throw new Error("Cannot call get_language_data on server side")},s.get_languages_data=function(){var e;return r.on_client()?null!=(e=window.language_data)?e:{}:get_server_languages()};var l={language:s.get_server_languages_no_cache,translation:s.get_all_languages_translations_object_no_cache,application_message:s.get_editor_app_text_data_no_cache},_=Object.freeze({language:"server_languages",translation:"server_translations",application_message:"server_application_messages"});function u(e){let{yes_text:t,no_text:r,day_names_text:n,month_names_text:i}=e;return{BUILT_IN:{YES:t,NO:r,DATE_FORMAT:{dayNames:n.split(","),monthNames:i.split(",")}}}}s.LANGUAGE_DATA_TYPE_TO_GETTER_FUNCTION=l,s.LANGUAGE_DATA_TYPE_TO_KEY=_})),Np=u((e=>{"use strict";f(),Ue(),pr(),R_(),Ze();var t=Lo(),r=fr(),n=Da(),i=it(),a=Nt(),o=Id(),s=Nd(),l=r_(),_=Mp(),u=ql(),c=(Or(),Kt()),d=qr(),p=(Op(),xp()),h=Ia(),g=La(),m=kp(),v=Sp(),y=Tp(),b=Ld(),w=z_(),A=Bl(),E=e;function M(){return t.cookies_enabled()?l.get_temp_db(t.readCookie("temp_db"),d().appname()):null}window&&"true"===new URLSearchParams(location.search).get("newautorun")&&a.safe_register("./db/client_db",E),typeof window<"u"&&null!==window&&(window.client_db=E),E.instance=function(e,r,n){null!=e||(e=d().appname()),null!=r||(r=d().app_version()),null!=n||(n=M());let i=t.smush(e,r,n);return null!=x[i]||(x[i]=new T(n,e,r,!0)),x[i]},E.new_instance=function(e,t,r){return null!=e||(e=d().appname()),null!=t||(t=d().app_version()),null!=r||(r=M()),new T(r,e,t)};var x={},O=t.Box();E.recheck_uid=function(e,r){null!=e||(e=function(){}),d.wait_for_lib((()=>{var n;let i=t.readCookie(p.uid_cookie_name(d().appname(),d().app_version(),M()));null!=i&&i!==window.bubble_session_uid&&c.info("bubble_session_uid not updated",{last_request_uri:r,new_uid:i,bubble_session_uid:window.bubble_session_uid}),null!=i||(i=null!=(n=window.bubble_session_uid)?n:u.NO_USER),i!==O()&&(O(i),E.reauth(),t.run_once(30,(()=>{let e=d().current_user(),t=y.get_user_language_field();return null!=t&&e.child(t).get(),e.get_email()}))),e()}))},E.current_user=function(e,t,r){return E.recheck_uid(),E.instance(e,t,r).get(O())},E.server_time_offset_key=t.MakeKey(null,"server_time_offset"),typeof window<"u"&&null!==window&&(window.server_time_offset=0,setImmediate((()=>b.get_server_time_offset((e=>{window.server_time_offset=e,E.server_time_offset_key.turn()})))));var k=["get","search","aggregate"],S=["mget","msearch","maggregate"];E.reauth=e=>d.wait_for_lib((()=>{t.rebuild_cookies()}));var T=class extends o.DB{constructor(e,t,r,n){super(),this.temp_db=e,this.appname=t,this.app_version=r,this.can_watch=n,this._gets=[],this._searches=[],this._searches_current_count=0,this._aggregates=[],this.result_cache={},this.result_dependency_cache={},this.watch_search_status={},this.perc_ids_to_calls={},this.perc_id_update_versions={},this._notifier_client=b,this._last_run={},this._next_scheduled={},this._to_percolate=[],this._all_time_queued_fetches=0,this._prefetched_request_counts={mget:0,msearch:0,maggregate:0}}local_item_updated(e,r,n,i){var a;let o="db_latest_version_"+e;if(null!=(a=t.session_storage)&&a.getItem(o))return t.session_storage.setItem(o,String(i))}initialize_data(e,r,n,i){if(this.has_session_storage=null!=t.session_storage,this.has_session_storage)try{let a="db_latest_version_"+e,o=t.session_storage.getItem(a);if("local"===o||parseInt(o)>i)return;t.session_storage.setItem(a,String(i)),null!=this._tracking_on_page_load||(this._tracking_on_page_load={}),this._tracking_on_page_load[e]=!0,this._set_data(e,r,n,i)}catch(e){console.log("error in client_db.initialize_data: "+e.stack)}}schedule_discard_errors(e){setTimeout((()=>{let t=this.init_result_cache(e);t.ranges=t.ranges.filter((e=>e.state!==u.range_states.ERROR))}),3e4)}execute_with_dependency(e,a,o){let s=JSON.stringify(e)+"_"+a+"_"+o;if(!this.result_dependency_cache[s]){var l;if((null==(l=r.CurrentNotReadyCatcher)?void 0:l.length)>0)return[];let _=new class{constructor(e,t){this.results=new Error("Asked for value of a ClientDBWatcher before it had evaluated"),this._sources=null,this._observers=null,this._dirty=!0,this._check=!1,this.ready_key=void 0,this._running=!1,this.cur_eval_node=A.get_current_eval_node(),this.id=e,this.fn=t}register(){t.register_dependency(this)}needed(){return!!this._observers&&this._observers.length>0}updateIfNecessary(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.needed()||e){if(this._check){if(this._sources)for(let e of this._sources)if(e.updateIfNecessary(),this._dirty)break;this._check=!1}this._dirty&&this.update()}}update(){if(!this._dirty)return;let e,n,a=r.CurrentNotReadyCatcher,o=r.CurrentAutoRun,s=r.NewSources,l=r.NewSourcesIndex,_=A.get_current_eval_node();this._running=!0;try{r.CurrentAutoRun=this,r.CurrentNotReadyCatcher=null,r.NewSources=null,r.NewSourcesIndex=0,A.set_current_eval_node(this.cur_eval_node),e=this.fn()}catch(t){let r=t instanceof i.NotReadyError&&t.not_ready_key;if(!r)throw t;r.turned_dependency().register(),n=r,e=[]}finally{t.updateSources(),r.CurrentNotReadyCatcher=a,r.CurrentAutoRun=o,r.NewSources=s,r.NewSourcesIndex=l,A.set_current_eval_node(_),this._running=!1}let u=JSON.stringify(this.results)!==JSON.stringify(e);this.results=e,this.ready_key=n,this._dirty=!1,u&&this._observers&&r.batch((()=>{for(let e of this._observers)e._invalidate(2)}))}_invalidate(e){let r=!(this._check||this._dirty);if(1===e?this._dirty||(this._check=!0):(this._dirty=!0,this._check=!1),2!==e&&this._running)throw new t.UnexpectedError("assertion error: current_result invalidated too soon",this);if(r&&(n.schedule(this),this._observers))for(let e of this._observers)e._invalidate(1)}}(s,(()=>this.execute_query(e,a,o)));this.result_dependency_cache[s]=_,_.update()}let _=this.result_dependency_cache[s];return _.updateIfNecessary(!0),_.register(),_.ready_key&&t.ensure_ready(_.ready_key,!1),_.results}register_call_dependency(e){var r;if(!this.can_watch)return;let n=this.get_cache_key(e);null!=(r=this.result_cache[n]).dependency||(r.dependency=t.Dependency()),this.result_cache[n].dependency.register(),this.ensure_watching_plan(e)}invalidate_call_dependency(e){var t,r;null==(t=this.result_cache[e])||null==(r=t.dependency)||r.invalidate()}add_plan_to_watch_search(e){var t;let r=s[e.t].watch_search_call(e);if(!r)return;let n=JSON.stringify(r),i=this.get_cache_key(e);null!=(t=this.watch_search_status)[n]||(t[n]={plans:{},search_path:this.build_search_path(e,"watch")}),this.watch_search_status[n].plans[i]=!0}ensure_watching_plan(e){if(!this.can_watch)return;this.add_plan_to_watch_search(e);let t=s[e.t].watch_search_call(e);if(!t)return;let r=JSON.stringify(t);this.watch_search_status[r].scheduled||(this.watch_search_status[r].scheduled=!0,this.do_percolate(t))}schedule_percolator(e,t){let r=JSON.stringify(e);this.watch_search_status[r].scheduled=!0,this._set_timeout((()=>{this.percolate_still_needed(e)?this.do_percolate(e):this.watch_search_status[r].scheduled=!1}),t-Date.now())}percolate_still_needed(e){let t=JSON.stringify(e),r=!1,n={};for(let e in this.watch_search_status[t].plans){var i,a;null!=(i=this.result_cache[e])&&null!=(a=i.dependency)&&a.needed()&&(1!==this.result_cache[e].dependency._observers.length||this.result_cache[e].dependency._observers[0].needed())?(r=!0,n[e]=!0):this.invalidate_plan(e)}return this.watch_search_status[t].plans=n,r}set_perc_ids(e,t){let{search_ids:r,expires:n}=t,i=r;if(null==i||!this.can_watch)return;let a=JSON.stringify(e);this.schedule_percolator(e,n);for(let t of i){let r=this.watch_search_status[a];null!=r.perc_ids||(r.perc_ids=[]),!r.perc_ids.includes(t)&&(r.perc_ids.push(t),this.perc_ids_to_calls[t]||(this.perc_ids_to_calls[t]=[],this._notifier_client.watch([w.SearchNotificationTopic,t],this.get_perc_id_version.bind(this,t),this.handle_perc_updates.bind(this,t))),this.perc_ids_to_calls[t].push(e))}}get_perc_id_version(e){var t;if(this.perc_id_update_versions[e])return this.perc_id_update_versions[e];let r;for(let t of this.perc_ids_to_calls[e]){let e=JSON.stringify(t);for(let t in this.watch_search_status[e].plans){let e=this.get_plan_version(t);null!=e&&(null==r||e<r)&&(r=e)}}return null!=(t=r)?t:0}handle_perc_updates(e,t){let{version:r,message:n}=t;if(null!=r&&(this.perc_id_update_versions[e]=r),!n||!this.is_watching(n))for(let t of this.perc_ids_to_calls[e])this.notify_maybe_invalid(t)}notify_maybe_invalid(e,t){d().workflow.wait_for_server((()=>{let r=JSON.stringify(e);if(this._next_scheduled[r])return;let n,i=this.query_planner().get_stats(e.type,e.constraints);n=t?null!=(null==i?void 0:i.length)?i.length<50?500:i.length<1e3?2e3:1e4:e.is_group_by?1e4:2e3:null!=(null==i?void 0:i.length)?i.length<10?2e3:i.length<50?5e3:i.length<1e3?1e4:3e4:e.is_group_by?3e4:1e4,(()=>this._last_run[r]&&this._last_run[r]>Date.now()-n&&!this.percolator_rate_limit_disabled)()?(this._next_scheduled[r]=!0,this._set_timeout((()=>{d().workflow.wait_for_server((()=>{this._next_scheduled[r]=!1,this._last_run[r]=Date.now(),this.invalidate_plans(r)}))}),this._last_run[r]+n-Date.now())):(this._last_run[r]=Date.now(),this.invalidate_plans(r))}))}_set_timeout(e,t){return setTimeout(e,t)}_set_immediate(e){return setImmediate(e)}wait_for_plan_loading(e,r){let n=this.result_cache[e],i=[];for(let e of null!=(a=null==n?void 0:n.ranges)?a:[]){var a;e.state===u.range_states.LOADING&&i.push(e.loading_key)}if(!(i.length>0))return r();t.WaitFor(i,(()=>{this._set_timeout((()=>{t.wait_for_updates(this.wait_for_plan_loading.bind(this,e,r))}),5)}))}invalidate_plans(e){if(this.watch_search_status[e])for(let t in this.watch_search_status[e].plans)this.wait_for_plan_loading(t,(()=>{this.invalidate_plan(t)}))}do_percolate(e){this._to_percolate.push(e),this._watch_percolate_scheduled||(this._watch_percolate_scheduled=!0,this._set_timeout(this.bulk_watch.bind(this),200))}bulk_watch(){this._watch_percolate_scheduled=!1;let e=this._to_percolate;this._to_percolate=[];let t=e.map((e=>{let t=JSON.stringify(e),{type:r,constraints:n}=e,{search_path:i}=this.watch_search_status[t];return{type:r,constraints:n,search_path:i}}));this.elasticsearch("bulk_watch",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),searches:t},((t,r)=>{if(t)c.log(t);else for(let[t,n]of e.entries())this.set_perc_ids(n,r[t])}))}get_appname(){return this.appname}get_app_version(){return this.app_version}get_temp_db(){return l.get_temp_db(this.temp_db,this.appname)}elasticsearch(e,r,n){if(k.includes(e)&&this._all_time_queued_fetches++,"get"===e&&!r.clear_cache)return this._schedule_multi_get(),void this._gets.push({id:r.id,cb:n});if("search"===e&&r.n<40)return this._searches.push({data:r,cb:n}),this._searches_current_count+=r.n,void this._schedule_multi_search();if("aggregate"===e)return this._aggregates.push({data:r,cb:n}),void this._schedule_multi_aggregate();let i=_.encode_data(r,d().appname()),a=t.extend({},g.SPANS.data_retrieval);a.name=`${a.name} - ${e}`;let o=h.startSpan(a.name,a.type,a.sync);this._is_prefetching&&S.includes(e)&&this._prefetched_request_counts[e]++,d().location.post("server://elasticsearch/"+e,i,(function(t,a){return"bad request from client"===(null==t?void 0:t.message)&&c.info("report invalid params",{data:r,encoded:i,cmd:e,err:t}),h.endSpan(o),n(t,a)}))}_schedule_multi_get(){this._multi_get_scheduled||(this._multi_get_scheduled=!0,this._multi_get_switch||(this._multi_get_switch=t.MakeSwitch(null,"multi get switch"),this._multi_get_switch.turn_on()),t.WaitFor(this._multi_get_switch,(()=>{setTimeout((()=>this._do_multi_get(10)))})))}_do_multi_get(){if(this._multi_get_scheduled=!1,0===this._gets.length)return;let e=this.GET_BATCH_SIZE,r=this._gets.slice(0,e);this._gets=this._gets.slice(e),this._multi_get_switch.turn_off(),this._gets.length>0&&this._schedule_multi_get();let n=r.map((e=>{let{id:t}=e;return t})),i={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),ids:n};return this.elasticsearch("mget",i,((e,n)=>{var a;if(!e&&(null==(a=n.docs)?void 0:a.length)!==r.length&&(e=new t.UnexpectedError("bad response from mget",{params:i,res:n})),e)for(let{cb:t}of r)t(e);else{let e=[];for(let[t,i]of n.docs.entries())null!=i?r[t].cb(null,i):e.push(r[t]);this._gets=e.concat(this._gets),this._schedule_multi_get()}this._multi_get_switch.turn_on()}))}_schedule_multi_search(){this._multi_search_scheduled?(this._searches.length>30||this._searches_current_count>200)&&(clearTimeout(this._multi_search_timeout),this._do_multi_search()):(this._multi_search_scheduled=!0,this._multi_search_timeout=setTimeout(this._do_multi_search.bind(this),10))}_schedule_multi_aggregate(){this._multi_aggregate_scheduled?this._aggregates.length>20&&(clearTimeout(this._multi_aggregate_timeout),this._do_multi_aggregate()):(this._multi_aggregate_scheduled=!0,this._multi_aggregate_timeout=setTimeout(this._do_multi_aggregate.bind(this),10))}get_prefetched_request_counts(){return this._prefetched_request_counts}get_all_time_queued_fetches(){return this._all_time_queued_fetches}prefetch_queued_fetches(){this._is_prefetching=!0,this._multi_get_scheduled&&this._do_multi_get(),this._multi_search_scheduled&&(clearTimeout(this._multi_search_timeout),this._do_multi_search()),this._multi_aggregate_scheduled&&(clearTimeout(this._multi_aggregate_timeout),this._do_multi_aggregate()),this._is_prefetching=!1}_do_multi_search(){this._multi_search_scheduled=!1;let e=this._searches;this._searches=[],this._searches_current_count=0;let r=e.map((e=>{let{data:t}=e;return t})),n={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),searches:r};this.elasticsearch("msearch",n,((r,i)=>{var a;if(!r&&(null==(a=i.responses)?void 0:a.length)!==e.length&&(r=new t.UnexpectedError("bad response from msearch",{res:i,params:n})),r)for(let{cb:t}of e)t(r);else for(let[t,r]of i.responses.entries())e[t].cb(null,r)}))}_do_multi_aggregate(){this._multi_aggregate_scheduled=!1;let e=this._aggregates;this._aggregates=[];let r=e.map((e=>{let{data:t}=e;return t})),n={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),aggregates:r};this.elasticsearch("maggregate",n,((r,i)=>{if(!r&&i.responses.length!==e.length&&(r=new t.UnexpectedError("bad response from maggregate",{res:i,params:n})),r)for(let{cb:t}of e)t(r);else for(let[t,r]of i.responses.entries())e[t].cb(null,r)}))}};T.prototype.DBNODE=m,T.prototype.DBOBJECT=v,T.prototype.GET_BATCH_SIZE=200})),Cp=u((e=>{"use strict";f(),Ue(),pr(),R_();var t=Lo(),r=M_(),n=it(),i=Nt(),a=Id(),o=Nd(),s=r_(),l=Mp(),_=ql(),u=(Or(),Kt()),c=qr(),d=(Op(),xp()),p=Ia(),h=La(),g=kp(),m=Sp(),v=Tp(),y=Ld(),b=z_(),w=Bl(),A=e;function E(){return t.cookies_enabled()?s.get_temp_db(t.readCookie("temp_db"),c().appname()):null}(!window||"true"!==new URLSearchParams(location.search).get("newautorun"))&&i.safe_register("./db/client_db",A),typeof window<"u"&&null!==window&&(window.client_db=A),A.instance=function(e,r,n){null!=e||(e=c().appname()),null!=r||(r=c().app_version()),null!=n||(n=E());let i=t.smush(e,r,n);return null!=M[i]||(M[i]=new S(n,e,r,!0)),M[i]},A.new_instance=function(e,t,r){return null!=e||(e=c().appname()),null!=t||(t=c().app_version()),null!=r||(r=E()),new S(r,e,t)};var M={},x=t.Box();A.recheck_uid=function(e,r){null!=e||(e=function(){}),c.wait_for_lib((()=>{var n;let i=t.readCookie(d.uid_cookie_name(c().appname(),c().app_version(),E()));null!=i&&i!==window.bubble_session_uid&&u.info("bubble_session_uid not updated",{last_request_uri:r,new_uid:i,bubble_session_uid:window.bubble_session_uid}),null!=i||(i=null!=(n=window.bubble_session_uid)?n:_.NO_USER),i!==x()&&(x(i),A.reauth(),t.run_once(30,(()=>{let e=c().current_user(),t=v.get_user_language_field();return null!=t&&e.child(t).get(),e.get_email()}))),e()}))},A.current_user=function(e,t,r){return A.recheck_uid(),A.instance(e,t,r).get(x())},A.server_time_offset_key=t.MakeKey(null,"server_time_offset"),typeof window<"u"&&null!==window&&(window.server_time_offset=0,setImmediate((()=>y.get_server_time_offset((e=>{window.server_time_offset=e,A.server_time_offset_key.turn()})))));var O=["get","search","aggregate"],k=["mget","msearch","maggregate"];A.reauth=e=>c.wait_for_lib((()=>{t.rebuild_cookies()}));var S=class extends a.DB{constructor(e,t,r,n){super(),this.temp_db=e,this.appname=t,this.app_version=r,this.can_watch=n,this._gets=[],this._searches=[],this._searches_current_count=0,this._aggregates=[],this.result_cache={},this.result_dependency_cache={},this.watch_search_status={},this.perc_ids_to_calls={},this.perc_id_update_versions={},this._notifier_client=y,this._last_run={},this._next_scheduled={},this._to_percolate=[],this._all_time_queued_fetches=0,this._prefetched_request_counts={mget:0,msearch:0,maggregate:0}}local_item_updated(e,r,n,i){var a;let o="db_latest_version_"+e;if(null!=(a=t.session_storage)&&a.getItem(o))return t.session_storage.setItem(o,String(i))}initialize_data(e,r,n,i){if(this.has_session_storage=null!=t.session_storage,this.has_session_storage)try{let a="db_latest_version_"+e,o=t.session_storage.getItem(a);if("local"===o||parseInt(o)>i)return;t.session_storage.setItem(a,String(i)),null!=this._tracking_on_page_load||(this._tracking_on_page_load={}),this._tracking_on_page_load[e]=!0,this._set_data(e,r,n,i)}catch(e){console.log("error in client_db.initialize_data: "+e.stack)}}schedule_discard_errors(e){setTimeout((()=>{let t=this.init_result_cache(e);t.ranges=t.ranges.filter((e=>e.state!==_.range_states.ERROR))}),3e4)}execute_with_dependency(e,i,a){var o;let s=JSON.stringify(e)+"_"+i+"_"+a;if(null!=(o=this.result_dependency_cache)[s]||(o[s]={}),!this.result_dependency_cache[s].current_result){var l;if((null==(l=r.CurrentNotReadyCatcher)?void 0:l.length)>0)return[];let o,_,u=w.get_current_eval_node(),c={id:s,invalidate:()=>{var r;if(c.invalidated=!0,c===(null==(r=this.result_dependency_cache[s])?void 0:r.current_result)){if(!c.dependency.needed())return void delete this.result_dependency_cache[s];this.result_dependency_cache[s].old_result=this.result_dependency_cache[s].current_result,this.result_dependency_cache[s].current_result=null,this._set_immediate((()=>{t.run_once(120,(()=>{let t;try{t=w.get_current_eval_node(),w.set_current_eval_node(u),this.execute_with_dependency(e,i,a)}finally{w.set_current_eval_node(t)}}),!1,!0)}))}}},d=r.CurrentNotReadyCatcher,p=r.CurrentAutoRun;try{r.CurrentAutoRun=c,r.CurrentNotReadyCatcher=null,o=this.execute_query(e,i,a)}catch(e){let t=e instanceof n.NotReadyError&&e.not_ready_key;throw t&&p&&t.turned_dependency().register(p),e}finally{r.CurrentNotReadyCatcher=d,r.CurrentAutoRun=p}if(c.invalidated)throw new t.UnexpectedError("assertion error: current_result invalidated too soon",{query:e,from:i,n:a});this.result_dependency_cache[s].old_result?(({dependency:_}=this.result_dependency_cache[s].old_result),JSON.stringify(this.result_dependency_cache[s].old_result.results)!==JSON.stringify(o)&&_.invalidate(),this.result_dependency_cache[s].old_result=null):_=t.Dependency(),c.dependency=_,c.results=o,this.result_dependency_cache[s].current_result=c}return this.result_dependency_cache[s].current_result.dependency.register(),this.result_dependency_cache[s].current_result.results}register_call_dependency(e){var r;if(!this.can_watch)return;let n=this.get_cache_key(e);null!=(r=this.result_cache[n]).dependency||(r.dependency=t.Dependency()),this.result_cache[n].dependency.register(),this.ensure_watching_plan(e)}invalidate_call_dependency(e){var t,r;null==(t=this.result_cache[e])||null==(r=t.dependency)||r.invalidate()}add_plan_to_watch_search(e){var t;let r=o[e.t].watch_search_call(e);if(!r)return;let n=JSON.stringify(r),i=this.get_cache_key(e);null!=(t=this.watch_search_status)[n]||(t[n]={plans:{},search_path:this.build_search_path(e,"watch")}),this.watch_search_status[n].plans[i]=!0}ensure_watching_plan(e){if(!this.can_watch)return;this.add_plan_to_watch_search(e);let t=o[e.t].watch_search_call(e);if(!t)return;let r=JSON.stringify(t);this.watch_search_status[r].scheduled||(this.watch_search_status[r].scheduled=!0,this.do_percolate(t))}schedule_percolator(e,t){let r=JSON.stringify(e);this.watch_search_status[r].scheduled=!0,this._set_timeout((()=>{this.percolate_still_needed(e)?this.do_percolate(e):this.watch_search_status[r].scheduled=!1}),t-Date.now())}percolate_still_needed(e){let t=JSON.stringify(e),r=!1,n={};for(let e in this.watch_search_status[t].plans){var i,a;null!=(i=this.result_cache[e])&&null!=(a=i.dependency)&&a.needed()?(r=!0,n[e]=!0):this.invalidate_plan(e)}return this.watch_search_status[t].plans=n,r}set_perc_ids(e,t){let{search_ids:r,expires:n}=t,i=r;if(null==i||!this.can_watch)return;let a=JSON.stringify(e);this.schedule_percolator(e,n);for(let t of i){let r=this.watch_search_status[a];null!=r.perc_ids||(r.perc_ids=[]),!r.perc_ids.includes(t)&&(r.perc_ids.push(t),this.perc_ids_to_calls[t]||(this.perc_ids_to_calls[t]=[],this._notifier_client.watch([b.SearchNotificationTopic,t],this.get_perc_id_version.bind(this,t),this.handle_perc_updates.bind(this,t))),this.perc_ids_to_calls[t].push(e))}}get_perc_id_version(e){var t;if(this.perc_id_update_versions[e])return this.perc_id_update_versions[e];let r;for(let t of this.perc_ids_to_calls[e]){let e=JSON.stringify(t);for(let t in this.watch_search_status[e].plans){let e=this.get_plan_version(t);null!=e&&(null==r||e<r)&&(r=e)}}return null!=(t=r)?t:0}handle_perc_updates(e,t){let{version:r,message:n}=t;if(null!=r&&(this.perc_id_update_versions[e]=r),!n||!this.is_watching(n))for(let t of this.perc_ids_to_calls[e])this.notify_maybe_invalid(t)}notify_maybe_invalid(e,t){c().workflow.wait_for_server((()=>{let r=JSON.stringify(e);if(this._next_scheduled[r])return;let n,i=this.query_planner().get_stats(e.type,e.constraints);n=t?null!=(null==i?void 0:i.length)?i.length<50?500:i.length<1e3?2e3:1e4:e.is_group_by?1e4:2e3:null!=(null==i?void 0:i.length)?i.length<10?2e3:i.length<50?5e3:i.length<1e3?1e4:3e4:e.is_group_by?3e4:1e4,(()=>this._last_run[r]&&this._last_run[r]>Date.now()-n&&!this.percolator_rate_limit_disabled)()?(this._next_scheduled[r]=!0,this._set_timeout((()=>{c().workflow.wait_for_server((()=>{this._next_scheduled[r]=!1,this._last_run[r]=Date.now(),this.invalidate_plans(r)}))}),this._last_run[r]+n-Date.now())):(this._last_run[r]=Date.now(),this.invalidate_plans(r))}))}_set_timeout(e,t){return setTimeout(e,t)}_set_immediate(e){return setImmediate(e)}wait_for_plan_loading(e,r){let n=this.result_cache[e],i=[];for(let e of null!=(a=null==n?void 0:n.ranges)?a:[]){var a;e.state===_.range_states.LOADING&&i.push(e.loading_key)}if(!(i.length>0))return r();t.WaitFor(i,(()=>{this._set_timeout((()=>{t.wait_for_updates(this.wait_for_plan_loading.bind(this,e,r))}),5)}))}invalidate_plans(e){if(this.watch_search_status[e])for(let t in this.watch_search_status[e].plans)this.wait_for_plan_loading(t,(()=>{this.invalidate_plan(t)}))}do_percolate(e){this._to_percolate.push(e),this._watch_percolate_scheduled||(this._watch_percolate_scheduled=!0,this._set_timeout(this.bulk_watch.bind(this),200))}bulk_watch(){this._watch_percolate_scheduled=!1;let e=this._to_percolate;this._to_percolate=[];let t=e.map((e=>{let t=JSON.stringify(e),{type:r,constraints:n}=e,{search_path:i}=this.watch_search_status[t];return{type:r,constraints:n,search_path:i}}));this.elasticsearch("bulk_watch",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),searches:t},((t,r)=>{if(t)u.log(t);else for(let[t,n]of e.entries())this.set_perc_ids(n,r[t])}))}get_appname(){return this.appname}get_app_version(){return this.app_version}get_temp_db(){return s.get_temp_db(this.temp_db,this.appname)}elasticsearch(e,r,n){if(O.includes(e)&&this._all_time_queued_fetches++,"get"===e&&!r.clear_cache)return this._schedule_multi_get(),void this._gets.push({id:r.id,cb:n});if("search"===e&&r.n<40)return this._searches.push({data:r,cb:n}),this._searches_current_count+=r.n,void this._schedule_multi_search();if("aggregate"===e)return this._aggregates.push({data:r,cb:n}),void this._schedule_multi_aggregate();let i=l.encode_data(r,c().appname()),a=t.extend({},h.SPANS.data_retrieval);a.name=`${a.name} - ${e}`;let o=p.startSpan(a.name,a.type,a.sync);this._is_prefetching&&k.includes(e)&&this._prefetched_request_counts[e]++,c().location.post("server://elasticsearch/"+e,i,(function(t,a){return"bad request from client"===(null==t?void 0:t.message)&&u.info("report invalid params",{data:r,encoded:i,cmd:e,err:t}),p.endSpan(o),n(t,a)}))}_schedule_multi_get(){this._multi_get_scheduled||(this._multi_get_scheduled=!0,this._multi_get_switch||(this._multi_get_switch=t.MakeSwitch(null,"multi get switch"),this._multi_get_switch.turn_on()),t.WaitFor(this._multi_get_switch,(()=>{setTimeout((()=>this._do_multi_get(10)))})))}_do_multi_get(){if(this._multi_get_scheduled=!1,0===this._gets.length)return;let e=this.GET_BATCH_SIZE,r=this._gets.slice(0,e);this._gets=this._gets.slice(e),this._multi_get_switch.turn_off(),this._gets.length>0&&this._schedule_multi_get();let n=r.map((e=>{let{id:t}=e;return t})),i={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),ids:n};return this.elasticsearch("mget",i,((e,n)=>{var a;if(!e&&(null==(a=n.docs)?void 0:a.length)!==r.length&&(e=new t.UnexpectedError("bad response from mget",{params:i,res:n})),e)for(let{cb:t}of r)t(e);else{let e=[];for(let[t,i]of n.docs.entries())null!=i?r[t].cb(null,i):e.push(r[t]);this._gets=e.concat(this._gets),this._schedule_multi_get()}this._multi_get_switch.turn_on()}))}_schedule_multi_search(){this._multi_search_scheduled?(this._searches.length>30||this._searches_current_count>200)&&(clearTimeout(this._multi_search_timeout),this._do_multi_search()):(this._multi_search_scheduled=!0,this._multi_search_timeout=setTimeout(this._do_multi_search.bind(this),10))}_schedule_multi_aggregate(){this._multi_aggregate_scheduled?this._aggregates.length>20&&(clearTimeout(this._multi_aggregate_timeout),this._do_multi_aggregate()):(this._multi_aggregate_scheduled=!0,this._multi_aggregate_timeout=setTimeout(this._do_multi_aggregate.bind(this),10))}get_prefetched_request_counts(){return this._prefetched_request_counts}get_all_time_queued_fetches(){return this._all_time_queued_fetches}prefetch_queued_fetches(){this._is_prefetching=!0,this._multi_get_scheduled&&this._do_multi_get(),this._multi_search_scheduled&&(clearTimeout(this._multi_search_timeout),this._do_multi_search()),this._multi_aggregate_scheduled&&(clearTimeout(this._multi_aggregate_timeout),this._do_multi_aggregate()),this._is_prefetching=!1}_do_multi_search(){this._multi_search_scheduled=!1;let e=this._searches;this._searches=[],this._searches_current_count=0;let r=e.map((e=>{let{data:t}=e;return t})),n={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),searches:r};this.elasticsearch("msearch",n,((r,i)=>{var a;if(!r&&(null==(a=i.responses)?void 0:a.length)!==e.length&&(r=new t.UnexpectedError("bad response from msearch",{res:i,params:n})),r)for(let{cb:t}of e)t(r);else for(let[t,r]of i.responses.entries())e[t].cb(null,r)}))}_do_multi_aggregate(){this._multi_aggregate_scheduled=!1;let e=this._aggregates;this._aggregates=[];let r=e.map((e=>{let{data:t}=e;return t})),n={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),aggregates:r};this.elasticsearch("maggregate",n,((r,i)=>{if(!r&&i.responses.length!==e.length&&(r=new t.UnexpectedError("bad response from maggregate",{res:i,params:n})),r)for(let{cb:t}of e)t(r);else for(let[t,r]of i.responses.entries())e[t].cb(null,r)}))}};S.prototype.DBNODE=g,S.prototype.DBOBJECT=m,S.prototype.GET_BATCH_SIZE=200})),Lp=u(((e,t)=>{"use strict";f(),Ue(),pr(),window&&"true"===new URLSearchParams(location.search).get("newautorun")?t.exports=Np():t.exports=Cp()})),Pp=u(((e,t)=>{"use strict";f(),Ue(),Ft(),Ze();var r=Lo(),n=Lr(),i=fl(),a=M_(),o=Kt(),s=cl(),l=wl(),_=Nl(),u=x_(),c=O_(),d=T_(),p=Zl(),h="NOT_FOUND";var g=class e{static from_client_state(t,n){let i=new e(n);return r.extend(i,t),i}static deserialize(t,n){let i=new e(t);return r.extend(i,n),i}constructor(e){if(this.context=e,this.context.frozen_state)throw new r.UnexpectedError("this frozen state already has a context");this.context.frozen_state=this,this.cache={},this.exists={},this.trustworthy={},this.element_instances={},this.element_state={},this.other_data={},this.unshrunk_keys={},this.raw_access_log=[]}_save_element_instance(e,t,r){if(r){var n;null!=(n=this.element_instances)[t]||(n[t]=h)}else{var a,o,s,l;let r={dehydrated:i.dehydrate_tree(e),parent_element_id:i.dehydrate_tree(null==(a=e.parent())?void 0:a.element_id())};var _,u;if(null!=(o=this.element_instances)[t]||(o[t]=r),null!=(s=this.element_instances)[l=e.toUniqueString()]||(s[l]=r),"CustomElement"===e.element.type()&&e.element_id()!==t)null!=(_=this.element_instances)[u=`${e.toUniqueString()}:${t}`]||(_[u]=r)}}instance_id_not_found(e){return this.element_instances[e]===h}element_id_to_instance_id(e,t){if(this.instance_id_not_found(e))throw new r.UnexpectedError("instance id not found -- should not hit this",{element_id:e});let n=this.element_instances[e];if(!n){let n=this.element_instances[t];if(null!=n)return o.warn("using fallback dehydrated, why is this not in frozen state?",{element_id:e,fallback_id:t}),n.dehydrated;throw new r.UnexpectedError("could not find element id in frozen state",{element_id:e})}return n.dehydrated}element_id_to_parent_element_id(e,t){if(this.instance_id_not_found(e))throw new r.UnexpectedError("instance id not found -- should not hit this",{element_id:e});let n=this.element_instances[e];if(!n){let n=this.element_instances[t];if(null!=n)return o.warn("using fallback parent_element_id, why is this not in frozen state?",{element_id:e,fallback_id:t}),n.parent_element_id;throw new r.UnexpectedError("could not find element id in frozen state",{element_id:e})}return n.parent_element_id}shorten(e){return(e=String(e)).length>50?r.incremental_digest(e):e}freeze_node(e){return this._build_freeze_promise((()=>{this._freeze_current_element(),this._find_element_references(e,"find_expressions")}))}freeze_workflows(e,t){this._build_freeze_promise((()=>{this._freeze_workflows(e)})).callback(((n,i)=>{n&&"autorun.run_once timeout"===n.message&&(n=new r.OwnerError("Workflows could not run because too many events triggered at the same time.",{events:e.map((e=>({id:e.id(),type:e.type()})))})),t(n,i)}))}_build_freeze_promise(e){return r.run_once(60,(()=>{r.ensure_ready(r.scheduled_key,!1),v().app_language();let t={};return function(e,t){let r=g.dehydrate_context;try{return g.dehydrate_context=e,t()}finally{g.dehydrate_context=r}}({instance:e=>{t[e.toUniqueString()]||(t[e.toUniqueString()]=!0,this._save_element_instance(e,e.element_id()))},save_to_state:(e,t,r)=>{var n,a;let o=i.dehydrate_tree(e);null!=(n=this.element_state)[o]||(n[o]={}),null!=(a=this.element_state[o])[t]||(a[t]=i.dehydrate_tree(null!=r?r:null))}},(()=>e()))}),null,!0,!0)}_freeze_current_element(){if(this.context.element){let _=c.get_runtime_parent(this.context);if(_){var e,t,r;let u=i.dehydrate_tree(_);this._save_element_instance(_,_.element_id()),null!=(e=this.element_state)[t=u]||(e[t]={}),null!=(r=this.element_state[u]).group_data||(r.group_data=i.dehydrate_tree(_.state("group_data")));let c=_,d=[];for(;null!=c&&"GroupItem"!==c.element.type();){var n,a;c=null==(n=(a=c).parent)?void 0:n.call(a),d.push(c)}if(c){var o,s,l;for(let e of d)u=i.dehydrate_tree(e),this._save_element_instance(_,u);u=i.dehydrate_tree(c),null!=(o=this.element_state)[s=u]||(o[s]={}),null!=(l=this.element_state[u]).cell_index||(l.cell_index=c.state("cell_index"))}}this._save_element_instance(this.context.element,this.context.element.element_id())}}_freeze_workflows(e,t){null!=t||(t={});for(let i of e){let e=i;for(;e;){if(this._freeze(e),["TriggerCustomEvent","TriggerCustomEventFromReusable"].includes(e.type())){let i=m.event(e.get_static_property("custom_event"));if(i.exists())if(null!=t[i.id()])"REPORTED"!==t[i.id()]&&(t[i.id()]="REPORTED",o.owner_error("This custom event is triggering a custom event that triggers itself (directly or indirectly)",{event:i}));else{let a;var n;if("TriggerCustomEventFromReusable"===e.type())a=this.context.element,this.context.element=null==(n=this.context.element)?void 0:n.find_instance_by_id(e.get_static_property("element_id"));try{let n={};n[i.id()]="SEEN",this._freeze_workflows([i],r.extend({},t,n))}finally{"TriggerCustomEventFromReusable"===e.type()&&(this.context.element=a)}}}e=e.next()}}this._freeze_current_element()}has_invalid_state(){for(let e of _.object_values(this.element_state))for(let t of _.object_values(e))if(null!=t&&t[s.NV_MARKER])return!0;return!1}retrieve_element_state(e,t){var n;let a=i.dehydrate_tree(e),o=null==(n=this.element_state[a])?void 0:n[t];if(null!=o&&o[s.NV_MARKER])throw new r.UnexpectedError("not valid input data made it to server");if(void 0!==o)return i.rehydrate_tree(v().db_instance(),o);if("value"===t)return this.retrieve_element_state(e,"value_that_is_valid");throw new r.UnexpectedError("trying to retrieve missing element state",{instance_id:a,state:t})}_freeze(e){if(!e.is_action())if(v().workflow.uses_server(e)){var t;null!=(t=this.context)._temp_db_instance||(t._temp_db_instance=y.new_instance());let r=v().current_user();r&&(r=this.context._temp_db_instance.get(r._id())),v.extend({db_instance:this.context._temp_db_instance,current_user:r},(()=>{u.evaluate_event_condition(e,this.context)}))}else u.evaluate_event_condition(e,this.context);let r=e.element_id();if(null!=r){var n;let e=null==(n=this.context.element)?void 0:n.find_instance_by_id(r);e?this._save_element_instance(e,r):this._save_element_instance(null,r,!0)}this._find_element_references(e,"find_my_expressions")}_find_element_references(e,t){let r=e[t]("GetElement");for(let e of r){let t=e.element_id();this._add_element(t,e)}r=e[t]("ThisElement");for(let e of r){let t=e.context_element().id();this._add_element(t,e)}r=e[t]("ElementAncestor");for(let e of r){let t=e.get_static_property("ancestor_type"),r=t=>{this._add_element(t.element.id(),e)};c.get_runmode_element_ancestor_instance(t,this.context.element,r)}let n=e=>{var t;return"GetDataFromAPI"===e._raw[E.type]&&"ipify.GetIP"===(null==(t=e._raw[E.properties])?void 0:t.provider)};for(let r of e[t](n))b.evaluate_json(r.json,this.context);!this.other_data["Current Position"]&&e[t]("PageData.\name=Current Position").length>0&&(this.other_data["Current Position"]=d.get_page_data("Current Position",this.context)),this.other_data["Current Page Scroll Position"]||(this.other_data["Current Page Scroll Position"]=d.page_current_scroll_position()),this.other_data["Current Page Width"]||(this.other_data["Current Page Width"]=d.page_width())}_add_element(e,t){var r;let n=null==(r=this.context.element)?void 0:r.find_instance_by_id(e);if(n){var a;let r=i.dehydrate_tree(n);this._save_element_instance(n,e);let s=t.next(),l=null==s||null==(a=s.name)?void 0:a.call(s);if(l){var o;null!=(o=this.element_state)[r]||(o[r]={});let t=w.get("element."+e).get_message(l),a={state:e=>{let t=n.state(e);var a;(this.element_state[r][e]=i.dehydrate_tree(null!=t?t:null),"string"==typeof t&&n.is_secure()&&t.trim().length>2)&&(null!=(a=this.other_data).secure_list||(a.secure_list=[]),this.other_data.secure_list.push(t.trim()));return t},is_visible:()=>{let e=n.is_visible();return this.element_state[r].is_visible=i.dehydrate_tree(null!=e?e:null),e},toUniqueString:()=>n.toUniqueString(),element:n.element,element_id:()=>n.element_id(),find_instance_by_id:e=>n.find_instance_by_id(e),is_destroyed:()=>n.is_destroyed(),run_mode:()=>n.run_mode(),get_static_property:(e,t)=>n.get_static_property(e,t),_watchers:n._watchers,_created_watchers:n._created_watchers,is_fake_instance:!0};t.evaluate(a,null,null,null,this.context)}}else this._save_element_instance(null,e,!0)}clone(t){let n=new e(t);for(let e of["cache","exists","element_instances","element_state","other_data"])n[e]=r.json_deep_copy(this[e]);for(let e of _.object_values(n.element_state))for(let[t,r]of _.object_entries(e))null!=r&&r[s.NV_MARKER]&&delete e[t];return n}get_client_state(){return{element_instances:this.element_instances,element_state:this.element_state,other_data:this.other_data,cache:this.cache,exists:this.exists}}update_from_action(e,t,a,o){let l={},u=(e,t)=>{this.set(e,t),l[e]={v:t}},c=p.PreviousStep(e.id());return t&&u(c,t),e.return_value().id()&&u(c+"_value",e.return_value().id()),a.then((t=>{var a;n.optional_pause();let u=null!=(a=e.get_data_to_refresh(t,o))?a:{};return n.optional_pause(),_.object_entries(u).forEach((e=>{let[t,a]=e;if(n.optional_pause(),null!=a?(a===s.NULL_VALUE_TO_REGISTER&&(a=null),this.set(t,a),l[t]={v:a}):(this.clear(t),l[t]={x:!0}),r.on_server()&&0===t.indexOf(s.ESTATE_PREFIX)){let e=t.replace(s.ESTATE_PREFIX,"");this.element_state[e]&&_.object_entries(a).forEach((t=>{let[r,a]=t;n.optional_pause(),null!=a&&(this.element_state[e][r]=i.dehydrate_tree(a))}))}})),l}))}get(e){let t=this.shorten(e),r=this.exists[t]?this.cache[t]:void 0;return l.frozen_state_debugging.active()&&this.push_raw_access_log({action:"get",key:e,short_key:t,value:null!=r?r:null}),i.rehydrate_tree(v().db_instance(),r)}set(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((null==(t=a.CurrentNotReadyCatcher)?void 0:t.length)>0)return;let n=this.shorten(e),o=i.dehydrate_tree(r);this.cache[n]=o,this.exists[n]=!0,l.frozen_state_debugging.active()&&(this.unshrunk_keys[n]=e,this.push_raw_access_log({action:"set",key:e,short_key:n,value:o}))}clear(e){let t=this.shorten(e);delete this.cache[t],delete this.exists[t],l.frozen_state_debugging.active()&&this.push_raw_access_log({action:"clear",short_key:t})}has_key(e){let t=this.shorten(e),r=this.exists[t];return l.frozen_state_debugging.active()&&this.push_raw_access_log({action:"has_key",short_key:t,value:null!=r&&r}),this.exists[t]}push_raw_access_log(e){var t;let{action:r,key:n,short_key:i,value:a,rehydrated:o}=e;this.raw_access_log.push({action:r,short_key:i,key:n,value:a,rehydrated:o,timestamp:Date.now(),stack:(null==(t=(new Error).stack)?void 0:t.split("\n").slice(2,52).join("\n"))||"Stack unavailable."})}is_trusted(e){if(r.on_client())return!0;{let t=this.shorten(e);return!0===this.trustworthy[t]}}trust(e){if(!r.on_client()){let t=this.shorten(e);this.trustworthy[t]=!0}}serialize(){return{cache:this.cache,exists:this.exists,element_instances:this.element_instances,element_state:this.element_state,other_data:this.other_data}}};g.dehydrate_context=null,t.exports=g;var m=Po(),v=qr(),y=Lp(),b=Ql(),w=Fl(),A=xl(),{S:E}=A})),Rp=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.add_event=function(e,r){let n=t.get(e);n||(n=new Set,t.set(e,n)),r&&n.add(r)},e.all_events=n,e.clear_event=function(e){var r;null==(r=t.get(e))||r.clear()},e.has_event=r,e.relevant_elements=function(e){var r;return[...null!=(r=t.get(e))?r:[]]},e.relevant_events=function(e){return n().filter((t=>r(t,e)))},Ue(),function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./core/core_events/event_element_mapping",e);var t=new Map;function r(e,r){var n,i;return null!=(n=null==(i=t.get(e))?void 0:i.has(r))&&n}function n(){return[...t.keys()]}})),zp=u(((e,t)=>{"use strict";f();var r=Po();t.exports=function(e){return r.list_plugins().includes(e)}})),Ip=u(((e,t)=>{"use strict";f(),function(r,n){"function"==typeof define&&define.amd?define(n):"object"==typeof e?t.exports=n():r.NProgress=n()}(e,(function(){var e,t,r={version:"0.1.6"},n=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(e,t,r){return e<t?t:e>r?r:e}function a(e){return 100*(-1+e)}r.configure=function(e){var t,r;for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&(n[t]=r);return this},r.status=null,r.set=function(e){var t=r.isStarted();e=i(e,n.minimum,1),r.status=1===e?null:e;var l=r.render(!t),_=l.querySelector(n.barSelector),u=n.speed,c=n.easing;return l.offsetWidth,o((function(t){""===n.positionUsing&&(n.positionUsing=r.getPositioningCSS()),s(_,function(e,t,r){var i;return i="translate3d"===n.positionUsing?{transform:"translate3d("+a(e)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+a(e)+"%,0)"}:{"margin-left":a(e)+"%"},i.transition="all "+t+"ms "+r,i}(e,u,c)),1===e?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){r.remove(),t()}),u)}),u)):setTimeout(t,u)})),this},r.isStarted=function(){return"number"==typeof r.status},r.start=function(){r.status||r.set(0);var e=function(){setTimeout((function(){r.status&&(r.trickle(),e())}),n.trickleSpeed)};return n.trickle&&e(),this},r.done=function(e){return e||r.status?r.inc(.3+.5*Math.random()).set(1):this},r.inc=function(e){var t=r.status;return t?("number"!=typeof e&&(e=(1-t)*i(Math.random()*t,.1,.95)),t=i(t+e,0,.994),r.set(t)):r.start()},r.trickle=function(){return r.inc(Math.random()*n.trickleRate)},e=0,t=0,r.promise=function(n){return n&&"resolved"!=n.state()?(0==t&&r.start(),e++,t++,n.always((function(){0==--t?(e=0,r.done()):r.set((e-t)/e)})),this):this},r.render=function(e){if(r.isRendered())return document.getElementById("nprogress");_(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=n.template;var i,o=t.querySelector(n.barSelector),l=e?"-100":a(r.status||0),u=document.querySelector(n.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),n.showSpinner||(i=t.querySelector(n.spinnerSelector))&&d(i),u!=document.body&&_(u,"nprogress-custom-parent"),u.appendChild(t),t},r.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(n.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var o=function(){var e=[];function t(){var r=e.shift();r&&r(t)}return function(r){e.push(r),1==e.length&&t()}}(),s=function(){var e=["Webkit","O","Moz","ms"],t={};function r(r){return r=function(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}(r),t[r]||(t[r]=function(t){var r=document.body.style;if(t in r)return t;for(var n,i=e.length,a=t.charAt(0).toUpperCase()+t.slice(1);i--;)if((n=e[i]+a)in r)return n;return t}(r))}function n(e,t,n){t=r(t),e.style[t]=n}return function(e,t){var r,i,a=arguments;if(2==a.length)for(r in t)void 0!==(i=t[r])&&t.hasOwnProperty(r)&&n(e,r,i);else n(e,a[1],a[2])}}();function l(e,t){return("string"==typeof e?e:c(e)).indexOf(" "+t+" ")>=0}function _(e,t){var r=c(e),n=r+t;l(r,t)||(e.className=n.substring(1))}function u(e,t){var r,n=c(e);l(e,t)&&(r=n.replace(" "+t+" "," "),e.className=r.substring(1,r.length-1))}function c(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return r}))})),Dp=u(((e,t)=>{"use strict";f(),function(r,n){"object"==typeof e?t.exports=n():"function"==typeof define&&define.amd?define(n):r.Spinner=n()}(e,(function(){var e,t=["webkit","Moz","ms","O"],r={};function n(e,t){var r,n=document.createElement(e||"div");for(r in t)n[r]=t[r];return n}function i(e){for(var t=1,r=arguments.length;t<r;t++)e.appendChild(arguments[t]);return e}var a,o=(a=n("style",{type:"text/css"}),i(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet);function s(t,n,i,a){var s=["opacity",n,~~(100*t),i,a].join("-"),l=.01+i/a*100,_=Math.max(1-(1-t)/n*(100-l),t),u=e.substring(0,e.indexOf("Animation")).toLowerCase(),c=u&&"-"+u+"-"||"";return r[s]||(o.insertRule("@"+c+"keyframes "+s+"{0%{opacity:"+_+"}"+l+"%{opacity:"+t+"}"+(l+.01)+"%{opacity:1}"+(l+n)%100+"%{opacity:"+t+"}100%{opacity:"+_+"}}",o.cssRules.length),r[s]=1),s}function l(e,r){var n,i,a=e.style;if(void 0!==a[r])return r;for(r=r.charAt(0).toUpperCase()+r.slice(1),i=0;i<t.length;i++)if(void 0!==a[n=t[i]+r])return n}function _(e,t){for(var r in t)e.style[l(e,r)||r]=t[r];return e}function u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)void 0===e[n]&&(e[n]=r[n])}return e}function c(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function p(e){if(typeof this>"u")return new p(e);this.opts=u(e||{},p.defaults,d)}p.defaults={},u(p.prototype,{spin:function(t){this.stop();var r,i,a=this,o=a.opts,s=a.el=_(n(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(t&&(t.insertBefore(s,t.firstChild||null),i=c(t),r=c(s),_(s,{left:("auto"==o.left?i.x-r.x+(t.offsetWidth>>1):parseInt(o.left,10)+l)+"px",top:("auto"==o.top?i.y-r.y+(t.offsetHeight>>1):parseInt(o.top,10)+l)+"px"})),s.setAttribute("role","progressbar"),a.lines(s,a.opts),!e){var u,d=0,p=(o.lines-1)*(1-o.direction)/2,f=o.fps,h=f/o.speed,g=(1-o.opacity)/(h*o.trail/100),m=h/o.lines;!function e(){d++;for(var t=0;t<o.lines;t++)u=Math.max(1-(d+(o.lines-t)*m)%h*g,o.opacity),a.opacity(s,t*o.direction+p,u,o);a.timeout=a.el&&setTimeout(e,~~(1e3/f))}()}return a},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(t,r){var a,o=0,l=(r.lines-1)*(1-r.direction)/2;function u(e,t){return _(n(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*o+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(;o<r.lines;o++)a=_(n(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:e&&s(r.opacity,r.trail,l+o*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&i(a,_(u("#000","0 0 4px #000"),{top:"2px"})),i(t,i(a,u(r.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,r){t<e.childNodes.length&&(e.childNodes[t].style.opacity=r)}});var f=_(n("group"),{behavior:"url(#default#VML)"});return!l(f,"transform")&&f.adj?function(){function e(e,t){return n("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}o.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(t,r){var n=r.length+r.width,a=2*n;function o(){return _(e("group",{coordsize:a+" "+a,coordorigin:-n+" "+-n}),{width:a,height:a})}var s,l=2*-(r.width+r.length)+"px",u=_(o(),{position:"absolute",top:l,left:l});function c(t,a,s){i(u,i(_(o(),{rotation:360/r.lines*t+"deg",left:~~a}),i(_(e("roundrect",{arcsize:r.corners}),{width:n,height:r.width,left:r.radius,top:-r.width>>1,filter:s}),e("fill",{color:r.color,opacity:r.opacity}),e("stroke",{opacity:0}))))}if(r.shadow)for(s=1;s<=r.lines;s++)c(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=r.lines;s++)c(s);return i(t,u)},p.prototype.opacity=function(e,t,r,n){var i=e.firstChild;n=n.shadow&&n.lines||0,i&&t+n<i.childNodes.length&&((i=(i=(i=i.childNodes[t+n])&&i.firstChild)&&i.firstChild)&&(i.opacity=r))}}():e=l(f,"animation"),p}))})),jp=u((e=>{"use strict";f();var t=Lo(),r=Nt(),n=Po(),i=e;r.safe_register("./core/status_bar",i);var a=0,o=Ip();o.configure({showSpinner:!1});var s=null;i.no_status_bar=t.MakeSwitch(null,"no_status_bar"),i.no_status_bar.turn_on(),i.show_progress_line=function(e){if(null==e)throw new t.UnexpectedError("must pass in what we are waiting on (a key or promise preferably)");var r;null==s&&(s=null!=(r=n.app().get_public_setting("status_bar_color"))?r:"#29d",o.configure({showSpinner:!1,template:`<div class="bar" role="bar" style="background:${s};">\n    <div class="peg" style="box-shadow:0 0 10px ${s}, 0 0 5px ${s};">\n    </div>\n</div>`}));0===a&&(i.no_status_bar.turn_off(),setTimeout((()=>{a>0&&o.start()}),200)),a++;let l=setTimeout((()=>console.log("warning: status bar still waiting on "+e)),1e4),_=!1,u=!1;return e=>{if(!_)if(null==e){if(_=!0,a--,clearTimeout(l),0===a)return o.done(),setTimeout((()=>i.no_status_bar.turn_on()),400);u&&o.set(.5)}else u=!0,o.set(e)}};var l="#nprogress";i.hide_run_mode=()=>$(l).hide(),i.show_run_mode=()=>$(l).show(),i.bar_visible=()=>$(l).is(":visible"),i.force_done=()=>o.done();var _=[];i.spinner_key=t.MakeKeyList();var u=null,c=null;i.spinner=function(e){var r;let a=e.get_canvas();if(!a[0])return()=>{};let o=i.spinner_key.make(null,"spinner_key"),s=e.element.id();if(_.includes(s))return()=>{};_.push(s),null!=u||(u=Dp()),null!=c||(c=null!=(r=n.app().get_public_setting("spinner_color"))?r:"black");let l=null,d=!0,p=setTimeout((()=>{if(d){var t;let r={lines:13,length:10,width:2,radius:10,corners:1,rotate:0,direction:1,color:c,speed:1,trail:70,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:Math.min(Math.max(e.element.get_height(),a.height())/2-10,100),left:a.width()/2-25};(null==(t=e.element.root())?void 0:t.get_responsive_version())>0&&(r.top=Math.min(Math.max(e.element.get_height(),a.height())/2-10,50)),l=new u(r).spin(a[0])}}),700);return()=>{var e;clearTimeout(p),d=!1,null==(e=l)||e.stop(),t.array_remove(_,s),o.turn()}}})),Bp=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Ue();var t=o(Lo()),r=Sl(),n=o(El()),i=it();function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function s(e,t){return null==e?void 0:e[t]}var l=class e extends r.JSONBase{constructor(e,r,n,a,o,s){if(super(),this.cache=void 0,this._parent=null,this.__name=void 0,this._root=void 0,this._appname=void 0,this._app_version=void 0,this._unique_id=void 0,this._children={},this._child_names_cache=void 0,this._smart_cache=void 0,this.__path=void 0,this._indexers=void 0,this._has_indexers=void 0,this.cache=e,this._parent=r,this.__name=String(n),this._appname=o,this._app_version=s,this.is_root())this._root=this,this.__path="",this.__name="";else{if(!this.is_leaf())throw new i.UnexpectedError("Must be root or leaf!");this._root=a,this.__path=this._parent.__path?this._parent.__path+"."+this.__name:this.__name}this._unique_id=t.LUID()}toString(){var e,t;return`RuntimeJSON<${null!=(e=this._appname)?e:""}_${this.app_version().toString()}_${null!=(t=this.__path)?t:""}>`}toUniqueString(){var e;return null!=(e=this._unique_id)?e:""}path_cache(){var e;return null!=(e=this._unique_id)?e:""}id(){var e;let t=this.cache;return null!=(e=null==t?void 0:t.id)?e:null}_name(){var e;return null!=(e=this.__name)?e:""}to_id(){return this}to_path(){return this}parent(){return this._parent}_path(){return this.__path}get(){return"object"==typeof this.cache?null:this.cache}empty(){return null==this.cache}appname(){return this._root._appname}app_version(){return this._root._app_version}exists(){return null!=this.cache}ensure_exists(){return this.exists()?this:null}_child(t){var r;let n=String(t);return null!=(r=this._children)[n]||(r[n]=new e(s(this.cache,n),this,n,this._root,this._appname,this._app_version)),this._children[n]}_gchild(e,t){return this._child(e)._child(t)}_raw_child(e){return s(this.cache,e)}_raw_gchild(e,t){var r;return s(null!=(r=s(this.cache,e))?r:void 0,t)}_child_names(){return this._child_names_cache||this._rebuild_child_names(),this._child_names_cache}_rebuild_child_names(){this._child_names_cache=this._raw_to_child_names(this.cache)}pre_cache(e,t){}raw_index(){var e,t,r;let n=null!=(e=null==(t=this._root)||null==(r=t.cache)?void 0:r._index)?e:null;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(let e of a){var s;n=null==(s=n)?void 0:s[String(e)]}return n}root(){return this._root}application(){return n.create("FakeApplication",this._root)}_raw(){return this.cache}raw_type(){return typeof this.cache}register_indexer(e,t){null!=this._indexers||(this._indexers={}),this._indexers[e]=t;let r=this._root;null!=r&&(null!=r._has_indexers||(r._has_indexers={}),r._has_indexers[this._path()]=this)}smart_cache(e,t,r){var n;let i=null!=(n=this._smart_cache)?n:this._smart_cache={};return e in i||(i[e]=t(this,r)),i[e]}clear_smart_cache(){this._smart_cache=void 0,Object.entries(this._children).forEach((e=>{let[t,r]=e;r.clear_smart_cache()}))}reset_children(){this._children={},this._child_names_cache=void 0}ensure_loading(){}add_to_tree(e){}is_leaf(){return null!=this._parent}is_root(){return null==this._parent}};e.default=l})),qp=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,n){return new r.default(t.shrink_object(n),e.parent(),e._name(),e.root(),e.appname(),e.app_version())};var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}(xl()),r=function(e){return e&&e.__esModule?e:{default:e}}(Bp());function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}})),Up=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"EmptyJSON",{enumerable:!0,get:function(){return t.EmptyJSON}}),Object.defineProperty(e,"JSONBase",{enumerable:!0,get:function(){return t.JSONBase}}),Object.defineProperty(e,"RuntimeJSON",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"VirtualJSON",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"escape_app_json_key",{enumerable:!0,get:function(){return i.escape_app_json_key}}),Object.defineProperty(e,"raw_to_child_names",{enumerable:!0,get:function(){return i.raw_to_child_names}}),Object.defineProperty(e,"unescape_app_json_key",{enumerable:!0,get:function(){return i.unescape_app_json_key}});var t=Sl(),r=a(Bp()),n=a(qp()),i=kl();function a(e){return e&&e.__esModule?e:{default:e}}})),Wp=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=(qr(),Kt()),i=Il(),a=Fl(),o=Dl(),s=Po();t.exports=class extends i.HasProperties{constructor(e,t){if(super(e),!t)throw new r.UnexpectedError("expression created without owner");this.owner=t,this._property_owner=this.owner}make_new(){return i.new_expression(...arguments)}has_next(){return!1}has_args(){return!1}is_empty(){return!1}is_literal(){return!1}get_spot(){return"DynamicAtom"}get_literal(){return null}get_eval_value(){return a.get("null")}raw(){return this.json.raw()}node_name(){return this.json.name()}get_tree_display(){return this.display()}display_simple(){return this.display()}element_id(){return this.get_static_property("element_id")}pretty_print(e){try{return e+this.get_tree_display()}catch(t){return`${e}Error trying to pretty_print ${this.constructor.name}:\n${t.stack}`}}context_element(){return this.owner.context_element()}parent_expression(){var e,t;let r=this.json.parent(),n=this.owner.path();return n&&r&&r.path()!==n&&"FakeMultiElement"!==(null==(e=(t=this.owner).type)?void 0:e.call(t))?i.new_expression(r,this.owner):null}parent_expressions(e){let t=[],r=this;for(;r=r.parent_expression();)t.push(r);return i.filter_array(e,t)}safe_search_upwards(e){let t=this;for(null!=t&&"function"!=typeof t.json.id&&n.warn("Missing ID function",{original_node_path:this.path(),search_node_json_type:typeof t.json,original_node_id:this.id(),search_node_id:t.json.id});null!=t&&(null==t.id()||"string"==typeof t.id())&&null==s.by_id(t.id());){let r=e(t);if(!1!==r)return r;if(t.path().split(".").length<2)return n.info("Blocked reading the full app",{parent_path:t.path(),original_node_path:this.path(),original_node_id:this.id()}),!1;t=t.parent_expression(),null!=t&&"function"!=typeof t.json.id&&n.warn("Missing ID function",{search_node_json_type:typeof t.json,search_node_id:t.json.id,original_node_path:this.path(),original_node_id:this.id(),parent_path:t.path()})}return!1}serialize_args(){return[this.json,this.owner]}find_expressions(e){return i.from_raw_array(this.json,i.new_expression,o.expression_find_expressions(i.to_raw(this),i.make_filter(e)))}}})),$p=u(((e,t)=>{"use strict";f();var r=Il(),n=Wp();t.exports=class extends n{is_static(){return!0}find_expressions(){return r.enhance_array([])}field_names(){return{}}}})),Fp=u(((e,t)=>{"use strict";f();var r=Fl(),n=$p();t.exports=class extends n{get_static(){return null}is_empty(){return!0}get_value(){return r.get("null")}get_eval_value(){return r.get("null")}display(){return""}type(){return"Empty"}get_spot(){return"Atom"}}})),Gp=u(((e,t)=>{"use strict";f();var r=Fl(),n=Dl(),i=$p();t.exports=class extends i{get_static(){return this.json.get()}is_literal(){return!0}get_literal(){return this.json.get()}type(){return typeof this.json.get()}get_value(){return r.get(n.lit_eval_value(this.type()))}get_eval_value(){return r.get(n.lit_eval_value(this.type()))}get_spot(){return"Atom"}get_tree_display(){let e=this.json.get();switch(this.type()){case"string":case"number":return e;case"boolean":return e?"yes":"no"}}display(){let e=this.json.get();switch(this.type()){case"string":return"â"+e+"â";case"boolean":return e?'"yes"':'"no"';case"number":return e}}display_simple(){let e=this.json.get();switch(this.type()){case"string":return e;case"boolean":return e?'"yes"':'"no"';case"number":return e}}}})),Xp=u((e=>{"use strict";f(),Ue();var{raw_to_child_names:t}=kl(),r=xl(),n=e,{S:i}=r;n.is_static=function(e){if(!e)return!0;let t=e[i.type];if(t){if("GeoAddress"===t||"Empty"===t)return!0;if("TextExpression"===t){var r;let t=null!=(r=e[i.entries])?r:{};return Object.values(t).every((e=>n.is_static(e)))}return!1}return"object"!=typeof e||Object.values(e).every((e=>n.is_static(e)))},n.get_static=function(e){if(null==e)return null;let t=e[i.type];if(t)switch(t){case"Empty":case"Message":return null;case"TextExpression":return n.get_static_text_expression(e);case"GeoAddress":return e[i.val];default:return null}return"object"==typeof e?n.get_static_object_literal(e):e},n.get_static_text_expression=function(e){let r=e[i.entries];return t(r).map((e=>n.get_static(r[e]))).join("")},n.get_static_object_literal=function(e){let t={};for(let i in e){let a=e[i],o=n.get_static(a);t[r.expand(i)]=o}return t}})),Hp=u(((e,t)=>{"use strict";var r,n;f(),Ue();var i=Il(),a=Pl(),o=Xp(),s=Wp(),l=(r=a.cached({type:a.RUN_MODE}),function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((n=class extends s{set_field_data(e){this.field_names=()=>e().map((e=>e.name)),this._fields=e}entry(e){return i.new_expression(this.json.child(e),this.owner)}type(){return"ObjectLiteral"}id(){let e=super.id();return"string"!=typeof e?null:e}next(){if(!this.json.child("next").empty())return this.entry("next")}display(){return this.pretty_print(" ")}pretty_print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e+"ObjectLiteral:",...this.entries().flatMap((t=>[e+"  "+t.json.name(),t.pretty_print(e+"    ",!1)]))].join("\n")}_process(e){let t={};for(let r of this.entries()){let n=e(r);t[r.json.name()]=n}return t}properties(){return this.entries()}property(e){return this.entry(e)}get_static_property(e){return this.property(e).get_static()}is_static(){return this.entries().every((e=>e.is_static()))}get_static(){return o.get_static_object_literal(this.json._raw())}check_for_errors(){return{children:this.properties()}}entries(){return i.enhance_array(this.json.children().map((e=>i.new_expression(e,this.owner))))}}).prototype,"entries",[r],Object.getOwnPropertyDescriptor(n.prototype,"entries"),n.prototype),n);t.exports=l})),Vp=u(((e,t)=>{"use strict";var r,n;f(),Ue();var i=Il(),a=Pl(),o=Fl(),s=xl(),l=Xp(),_=Wp(),{S:u}=s,c=(r=a.cached({type:a.RUN_MODE}),function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((n=class extends _{entry(e){return i.new_expression(this.json._gchild(u.entries,s.shrink(e)),this.owner)}type(){return"TextExpression"}properties(){return this.entries()}is_static(){return this.entries().every((e=>e.is_static()))}get_static(){return l.get_static_text_expression(this.json._raw())}get_tree_display(e){return this.entries().map((t=>t.get_tree_display(e))).join("")}display(){return this.get_tree_display()}get_eval_value(){return o.get("text")}field_names(){return{}}entries(){return i.enhance_array(this.json._child(u.entries).children().map((e=>i.new_expression(e,this.owner))))}}).prototype,"entries",[r],Object.getOwnPropertyDescriptor(n.prototype,"entries"),n.prototype),n);t.exports=c})),Yp=u(((e,t)=>{"use strict";f();Lo();var r=qr(),n=Fl(),i=xl(),a=Il(),o=Wp(),{S:s}=i;t.exports=class extends o{has_next(){return!0}is_static(){return!1}get_static(){return null}get_static_property_fetcher(){return e=>this.get_static_property(e)}get_tree_display(e){var t,r,n;if(e)return null==(t=this.get_eval_value)||null==(r=t.call(this))||null==(n=r.get_bubble_null)?void 0:n.call(r);return this.display()+(this.has_args()?this.args().get_tree_display():"")+(this.has_next()?this.next().get_tree_display():"")}next(){return a.new_expression(this.json._child(s.next),this.owner)}type(){return this.json.child("type").get()}get_eval_value(e){if(this.has_args()){let t=this.args();if(!this.get_arg_btype().matches(t.get_eval_value())){if(e){let r=this.get_arg_btype().display(),n=t.get_eval_value().display_for_issue();n===r&&(n="different "+n),e(`This argument should be a ${r} but right now it is ${/^[aeiou]/.test(n[0])?"an":"a"} ${n}`,t)}return n.get("null")}}let t=this.next();return t.is_empty()?this.get_value():t.get_eval_value(e)}_find_used_properties(){return"SlidableAtom"===this.get_spot()?this.fields().filter((e=>r().getChecker(this,e).condition())).map((e=>this.property(e.name))):this.properties()}}})),Kp=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=qr(),i=Fl(),a=Dl(),o=Yp();t.exports=class extends o{constructor(e,t,r){super(e,t),this.D=n().load_plugin(n().plugin_prefixes.datasource+r,!0),null!=this.D||(this.D=a.missing_datasource(r)),this._type=r}field_names(){if(!this.D.field_names)throw new r.UnexpectedError("missing field_names for datasource "+this._type);return this.D.field_names}_fields(){return this.D.fields(this.get_static_property_fetcher(),this)}has_args(){return!1}get_value(){let e=this.D.get_value(this.get_static_property_fetcher(),this);return i.get(e)}display(){return this.D.display?this.D.display(this.get_static_property_fetcher(),this):`DataSource ${this._type}`}get_spot(){var e,t,r;return null!=(e=null==(t=(r=this.D).get_spot)?void 0:t.call(r))?e:"DynamicAtom"}get_literal(){return this.raw()}serialize_args(){return[this.json,this.owner,this._type]}is_equal_to(e){return super.is_equal_to(e)&&this._type===e._type}thumbnail_id(){var e,t,r;return null!=(e=null==(t=(r=this.D).thumbnail_id)?void 0:t.call(r,this.get_static_property_fetcher(),this))?e:super.thumbnail_id()}}})),Jp=u(((e,t)=>{"use strict";f();var r=Lo(),n=Il(),i=Fl(),a=Yp();t.exports=class extends a{constructor(e,t){var r,n,a,o,s;super(e,t),this._name=this.json.child("name").get(),this._parent_value=null!=(r=null==(n=(a=this.prior()).get_value)?void 0:n.call(a))?r:i.get("null"),this._message=null!=(o=null==(s=this._parent_value)?void 0:s.get_message(this.name()))?o:function(e){return{fn(){},ret_btype:()=>i.get("null"),arg_btype:()=>null,spot_data(){},field_names:{},_fields(){},M:()=>({}),description:()=>`[Not found: ${e}]`,NOT_FOUND:!0}}(this._name)}name(){return this._name}is_equal_to(e){return!(!super.is_equal_to(e)||this._name!==e.name()||this._parent_value.id()!==e._parent_value.id()||this.get_value().id()!==e.get_value().id())}message(){return this._message}get_value(){return this._message.ret_btype(this.json._raw())}has_args(){return null!=this._message.arg_btype()}args(){return n.new_expression(this.json.child("args"),this.owner)}get_arg_btype(){return this._message.arg_btype()}prior(){return n.new_expression(this.json.parent(),this.owner)}get_spot(){var e;return null!=(e=this._message.spot_data())?e:"DynamicAtom"}field_names(){var e,t;if(!this._message.field_names)throw new r.UnexpectedError("message "+this._name+" on  "+(null==(e=this._parent_value)||null==(t=e.display)?void 0:t.call(e))+" is missing field_names");return this._message.field_names()}display(){return this._message.description(this)}}})),Zp=u(((e,t)=>{"use strict";f();var r=Kl(),n=Fl(),i=$p();t.exports=class extends i{is_static(){return!0}get_address(){return r.get_address(this.json.child("val").raw())}get_static(){return this.json.child("val").raw()}get_literal(){return this.json.child("val").raw()}type(){return"GeoAddress"}get_eval_value(){return n.get("geographic_address")}get_tree_display(){return this.get_address()}display(){return this.get_address()}}})),Qp=u((e=>{"use strict";f();var t=Lo(),r=Il(),n=Wp(),i=Fp(),a=Gp(),o=Hp(),s=Vp(),l=Yp(),_=Kp(),u=Jp(),c=Zp(),d=Dl(),p=Ql(),h=Xp(),g=e;function m(e,t){if(e.empty())return new i(e,t);let r=e.child("type").get();if(r)switch(r){case"Empty":return new i(e,t);case"Message":return new u(e,t);case"TextExpression":return new s(e,t);case"GeoAddress":return new c(e,t);default:return new _(e,t,r)}return"object"===e.raw_type()?new o(e,t):new a(e,t)}g.make_partial_expression_evaluator=p.make_partial_expression_evaluator,g.create_reduced=d.create_reduced,g.expression_find_expressions=d.expression_find_expressions,g.get_static=h.get_static,g.is_static=h.is_static,r.add(r.EXPRESSION,n),r.add(r.EMPTY,i),r.add(r.LITERAL,a),r.add(r.OBJECT_LITERAL,o),r.add(r.TEXT_EXPRESSION,s),r.add(r.LIVE_EXPRESSION,l),r.add(r.DATA_SOURCE,_),r.add(r.MESSAGE_NODE,u),r.add(r.GEO_ADDRESS_NODE,c),r.add_generic("expression",t.is_edit_mode()?function(e,t){var r,n,i,a;let o=null!=(r=null==(n=t.type)?void 0:n.call(t))?r:"no_type",s=`expression_${null!=(i=null==(a=t.id)?void 0:a.call(t))?i:"no_id"}_${o}`;return e.smart_cache(s,m,t)}:function(e,t){return e.smart_cache("expression",m,t)})})),ef=u((()=>{"use strict";f(),Ue()})),tf=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.WORKFLOW_TAB=e.VISUAL_TAB=e.VISUAL_EDIT_TOOLBOX=e.VISUAL_CANVAS=e.VERSIONS_TAB=e.VERSIONS_CANVAS=e.TRANSITIONS=e.TOOLBOX_PANE=e.TEMPLATE_TAB=e.TEMPLATE_CANVAS=e.TAB_NAME_TO_TAB_SELECTOR=e.TAB_NAME_TO_CANVAS_SELECTOR=e.TABBAR_WIDTH=e.STYLES_TAB=e.STYLES_CANVAS=e.STATS_TAB=e.STATS_CANVAS=e.SPOT=e.SLIDABLE_PALETTE=e.SHAREDTECH_TAB=e.SHAREDTECH_CANVAS=e.SETTINGS_TAB=e.SETTINGS_CANVAS=e.SEARCH_PALETTE=e.PROP_ROW=e.PROP_NAME_SELECTOR=e.PROP_NAME=e.PROPERTY_EDITOR=e.PRIVACY_SUBTAB=e.PLUGIN_TAB=e.PLUGIN_CANVAS=e.MAIN_TABS_TAB_PLUGIN=e.MAIN_TABS_TAB=e.MAIN_TABS=e.MAINWINDOW=e.LOGS_TAB=e.LOGS_CANVAS=e.IMAGE_EDITOR_PALETTE=e.HIGHLIGHT_BOX=e.GENERAL_TAB=e.GENERAL_CANVAS=e.FEEDBACK_WINDOW=e.ELEMENTS_TAB=e.ELEMENTS_CANVAS=e.EDITOR_CHECKLIST_ALERT_BAR=e.DOCS_CANVAS=e.DEFAULT_TOOLBOX_WIDTH=e.DEDICATED_PALETTE=e.DATA_TAB=e.DATA_CANVAS=e.CONTEXTUAL_VIDEO_PALETTE=e.CONDITIONAL=e.APPEARANCE=e.API_TAB=e.API_CANVAS=e.ACTION_CANVAS=e.ACTIONS_TAB=e.ACTIONS_CANVAS=void 0;!function(e){e&&e.__esModule}(Nt())})),rf=u((e=>{"use strict";f(),Ue();Lo();var t=Il(),r=Dl(),n=xl(),{S:i}=n,a=e;a.find_my_expressions=function(e,n){return e?(n=t.make_filter(n),t.raw_properties(e,t.new_workflow_item).flatMap((e=>{let t=r.expression_find_expressions(e,n);return n(e)?[e,...t]:t}))):[]},a.event_find_expressions=function(e,r){return e?(r=t.make_filter(r),[e,...t.raw_children(e,i.actions)].flatMap((e=>a.find_my_expressions(e,r)))):[]}})),nf=u(((e,t)=>{"use strict";f(),Ue();Lo(),ef();var r=Il(),n=Po(),i=(tf(),qr(),xl()),a=rf(),{S:o}=i,s={"stripe-CreateCoupon":!0};t.exports=class extends r.HasID{type(){return this.json.child("type").get()}id(){return this.json.id()}is_api(){var e;return null==(e=this.root())?void 0:e.is_api()}hide_property_editor_tabs(){return!0}pretty_print(e,t){null!=e||(e=""),null!=t||(t=!0);let r,n=[];t&&n.push("\n"),n.push(e);try{r=this.display()}catch{}null!=r||(r=this.type()),n.push((this.is_action()?"Action ":"Event ")+this.id()+": "+r);for(let t of this.properties())n.push("\n"+e+"  "+t.json.name()+":"),n.push("\n"+t.pretty_print(e+"    ",!1));let i=this.next();return i&&(n.push(e+"\n\n          â\n\n"),n.push(i.pretty_print(e,!1))),t&&n.push("\n"),n.join("")}get_name(){let e=this.json.child("name").get();return e||!function(e){return!s[e]}(this.type())?e:this.get_static_property("name")}find_my_expressions(e){return r.from_raw_array(this.json,r.new_expression,a.find_my_expressions(r.to_raw(this),e))}root(){var e,t,r;return null==(e=this.event())||null==(t=e.owner)||null==(r=t.call(e))?void 0:r.root()}my_element(){let e=this.element_id();return e?n.element(e):null}element_id(){return this.json.smart_cache("element_id",(e=>e._raw_gchild(o.properties,o.element_id)))}next_recommended_actions(){return[]}},t.exports.prototype.make_new=r.new_workflow_item})),af=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION_STYLE_OVERRIDES=e.TYPES_TO_EXCLUDE_FROM_SEARCH=e.STATE_NOT_READY=e.PLACEHOLDER_COLOR_VERSION=e.PADDING_VERSION=e.OLD_VERSION_OVERRIDE_PROPERTIES=e.NOT_STATIC_PROP=e.LATEST_ELEMENT_VERSION=e.FONT_FAMILY_VERSION=e.ELEMENT_TYPE_TO_NAME=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/elements",e);e.LATEST_ELEMENT_VERSION=4;e.VERSION_STYLE_OVERRIDES=4;e.OLD_VERSION_OVERRIDE_PROPERTIES=["padding_top","padding_bottom","padding_left","padding_right"];e.FONT_FAMILY_VERSION=1;var t=Symbol("NOT_STATIC_PROP");e.NOT_STATIC_PROP=t;e.STATE_NOT_READY={};e.PADDING_VERSION=2;e.PLACEHOLDER_COLOR_VERSION=3;e.ELEMENT_TYPE_TO_NAME={Text:"Text",Button:"Button",Icon:"Icon",Link:"Link",Image:"Image",Shape:"Shape",Alert:"Alert",Video:"Video",HTML:"HTML",GoogleMap:"Map",PoweredByBubble:"Built on Bubble",Group:"Group",RepeatingGroup:"Repeating Group",Popup:"Popup",FloatingGroup:"Floating Group",GroupFocus:"Group Focus",Table:"Table",Input:"Input",MultilineInput:"Multiline Input",Checkbox:"Checkbox",Dropdown:"Dropdown",AutocompleteDropdown:"Searchbox",RadioButtons:"Radio Buttons",SliderInput:"Slider Input",DateInput:"Date/Time Picker",PictureInput:"Picture Uploader",FileInput:"File Uploader","slickcarousel-Carousel":"Slideshow","chartjs-LineBarChart":"Line/Bar Chart"};e.TYPES_TO_EXCLUDE_FROM_SEARCH=["GroupWithFocus","Table","TableMainAxis","TableCrossAxis","TableCell"]})),of=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.allow_overrides_check=void 0;var t=af();e.allow_overrides_check=(e,r,n)=>{var i,a;let o=e.element_version();null!=n||(n=e.definition_or_self.field_names());let s=o>=t.VERSION_STYLE_OVERRIDES,l=null!=(i=(null==(a=n[r])?void 0:a.allow_overrides)&&t.OLD_VERSION_OVERRIDE_PROPERTIES.includes(r))&&i;return s||l}})),sf=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.edit_eval=o,e.get_border_widths=function(e){let t=["left","right","bottom","top"],r={};if(o("four_border_style",null,e))for(let n of t)r[n]=s(e,n);else{let n=s(e);for(let e of t)r[e]=n}return r},e.get_container_width=function(e){if(e.E.get_container_width)return e.E.get_container_width(e);{let t=o("four_border_style",null,e)?s(e,"left")+s(e,"right"):2*s(e);return e.get_width()-t}},Ue();var t=a(qr()),r=a(x_()),n=a(Nt()),i=of();function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,a){var o;let s,l=null!=a?a:null==n?void 0:n.element,_=l.get_style_if_exists(),u=null;((null==n?void 0:n.responsive_mode())||((null==n?void 0:n.edit_mode())||(null==n?void 0:n.reusable_edit_mode()))&&n.element.is_responsive_v1()&&"responsive"===t.default.or_throw().visual_edit.responsive_mode_box())&&(s=t.default.or_throw().visual_edit.get_state_eval_context()),s&&(s=Object.assign(s,{element:n}));let c=[];_&&l.is_styleable_property(e)&&c.push(..._.states()),c.push(...l.states()),c.reverse();let d=c.find((t=>!!t.property_names().includes(e)&&(s?r.default.evaluate_state_condition(t,s):l.is_on_edit_mode(t))));var p;if(u=null!=(o=null==d?void 0:d.property(e))?o:null,null===u&&_&&l.is_styleable_property(e)&&(!(0,i.allow_overrides_check)(l,e)||null==l.definition_or_self.property(e).raw())&&(u=_.property(e)),null===u&&(u=l.property(e)),u.is_empty())return null!=(p=l.get_default(e))?p:null;if(u.is_static())return u.get_static();{let t=l.field(e);var f;if("Color"===(null==t?void 0:t.editor)&&null!=t&&t.dynamic)return null!=(f=l.get_default(e))?f:null;if(u.get_eval_value().matches("text")){let t="HTML"===l.type()&&"html"===e;return u.get_tree_display(t)}return null}}function s(e,t){let r=t?`_${t}`:"",n=o(`border_style${r}`,null,e);return void 0===n||"none"===n?0:null!=(i=o(`border_width${r}`,null,e))?i:0;var i}n.default.safe_register("./lang/evaluation/element_edit_eval",e)})),lf=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.TOKEN_NAMES=e.TOKEN_DESCRIPTIONS=e.SPECIAL_DISPLAY=e.NAMED_WEIGHTS=e.MISSING_USER_FONT_TOKEN_TEXT=e.MAX_USER_FONTS=e.FONT_VARIANTS=e.FONT_TOKEN_NAME_AND_WEIGHT=e.FONT_STYLE_LIST=e.DEFAULT_WEIGHT=e.DEFAULT_TOKENS=e.DEFAULT_FONT=e.DEFAULT_FAMILY=e.DEFAULT_CSS_TOKEN=e.CUSTOM_FONT_FLAG=e.ALL_WEIGHTS=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/fonts",e);e.DEFAULT_FONT="Lato:::";e.DEFAULT_FAMILY="Lato";e.DEFAULT_WEIGHT="400";e.ALL_WEIGHTS=["100","200","300","400","500","600","700","800","900"];e.NAMED_WEIGHTS={regular:"400",bold:"700"};var t=function(e){return e.default="App Font",e}({});e.TOKEN_NAMES=t;var r=function(e){return e.default="Applied to all elements using App Font as their font family in styles.",e}({});e.TOKEN_DESCRIPTIONS=r;var n=function(e){return e.default="Lato",e}({});e.DEFAULT_TOKENS=n;e.CUSTOM_FONT_FLAG=":::custom";e.MAX_USER_FONTS=7;e.MISSING_USER_FONT_TOKEN_TEXT="Custom font (MISSING)";e.DEFAULT_CSS_TOKEN="var(--font_default)";e.FONT_TOKEN_NAME_AND_WEIGHT=/var\(--font_(.*)\)(.*)/;e.FONT_VARIANTS=["default"];e.SPECIAL_DISPLAY={100:"100 (Thin)",200:"200 (Extra Light)",300:"300 (Light)",400:"400 (Regular)",500:"500 (Medium)",600:"600 (Semi Bold)",700:"700 (Bold)",800:"800 (Extra Bold)",900:"900 (Black)"};e.FONT_STYLE_LIST=["bold","italic","underline"]})),_f=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_TOKEN_NAME_LENGTH=e.MAX_TOKEN_DESC_LENGTH=e.DELETED_USER_TOKEN_STRING=e.DEFAULT_USER_TOKENS=void 0;e.DELETED_USER_TOKEN_STRING=" (DELETED)";e.MAX_TOKEN_NAME_LENGTH=30;e.MAX_TOKEN_DESC_LENGTH=100;e.DEFAULT_USER_TOKENS={default:{}}})),uf=u((e=>{"use strict";f(),Ue(),Ft();var t=qa(),r=ot(),n=(it(),Qt()),i=Dr(),a=Nt(),o=Kt(),s=lf(),{DEFAULT_USER_TOKENS:_}=_f(),u=Po(),c=qr(),d=e;a.safe_register("./webfonts",d);var p=["Arial:::","Tinos:::","Raleway:::","Cousine:::","Open Sans:::","Open Sans:::600","Droid Sans:::","Droid Serif:::","EB Garamond:::","PT Sans:::","Ubuntu:::","Lato:::","Oswald:::","ABeeZee:::","Source Sans 3:::300","Source Sans 3:::400"],h=["Arial:::","Times New Roman:::","Courier New:::","Georgia:::","Trebuchet MS:::","Verdana:::","Palatino:::","Garamond:::","Bookman:::","Avant Garde:::","Arial Black:::","Impact:::"],g={"Source Sans Pro":"Source Sans 3","Source Serif Pro":"Source Serif 4"};d.already_loaded=[];var m,v,y=["BESbswy","Ø£Ø³Ø¦ÙØ© ÙØ£Ø¬ÙØ¨Ø©"].join(""),b=l;function w(e){let{font_family:t,variant:r}=M(e);return t in g?E({font_family:g[t],variant:r}):e}function A(e){for(let t=0;t<e.length;t++)e[t]=w(e[t])}function E(e){return e.variant?`${e.font_family}:::${e.variant}`:`${e.font_family}:::`}function M(e){if(!e)return{};if(!e.includes(":::"))return{font_family:e,variant:null};let t=e.split(":::");return{font_family:t.slice(0,t.length-1).join(":::"),variant:t[t.length-1]||null}}if(r.on_server()&&(b("./configuration"),b("./server/assets/core/with_cache")),d.standardized_name=E,d.get_unquoted_face_and_variant=M,d.get_quoted_face_and_variant=function(e){let t=d.get_unquoted_face_and_variant(e);return null!=e&&e.includes("var(")||(t.font_family=`'${t.font_family}'`),t},d.get_face_and_variant=function(e){var t;return e=w(e),typeof window<"u"&&null!=(t=window)&&t.google_web_fonts_active?d.get_quoted_face_and_variant(e):d.get_unquoted_face_and_variant(e)},d.get_canonical=function(e){if(e)return d.standardized_name(d.get_face_and_variant(e))},d.font_token_to_font=function(e){let t=e.match(s.FONT_TOKEN_NAME_AND_WEIGHT)[1];if(T(t)){var r,i;let e=null!=(r=u.get_public_setting("font_tokens_user"))?r:n.json_deep_copy(_),[a,o]=t.split("_"),l=null!=(i=e[o][a])?i:{name:s.MISSING_USER_FONT_TOKEN_TEXT,font_family:s.DEFAULT_FAMILY};return{font_token:t,token_name:l.name,font_family:l.font_family.replace(s.CUSTOM_FONT_FLAG,"")}}{var a;let e=null!=(a=u.get_public_setting("font_tokens"))?a:s.DEFAULT_TOKENS;return{font_token:t,token_name:s.TOKEN_NAMES[t],font_family:e[t].replace(s.CUSTOM_FONT_FLAG,"")}}},d.substitute_font_token=function(e){return e.replace(s.FONT_TOKEN_NAME_AND_WEIGHT,((e,t,r)=>{if(T(t)){var i;let e=null!=(i=u.get_public_setting("font_tokens_user"))?i:n.json_deep_copy(_),[a,o]=t.split("_"),l=e[o][a];return l.font_family.includes(s.CUSTOM_FONT_FLAG)?l.font_family:l.font_family+r}{var a;let e=null!=(a=u.get_public_setting("font_tokens"))?a:s.DEFAULT_TOKENS;return e[t].includes(s.CUSTOM_FONT_FLAG)?e[t]:e[t]+r}}))},d.pretty_font=function(e){let{font_family:t,variant:r}=d.get_face_and_variant(e),n=t;if(null!=t&&t.includes("var(")){let e=d.font_token_to_font(t);n=`${e.token_name} (${e.font_family})`}return null!=r&&"custom"!==r&&(n+=` (${r})`),n},d.load_font=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t||(t=!1),e&&(O(e=d.get_canonical(e))||("custom"===d.get_face_and_variant(e).variant?d.load_external(d.get_face_and_variant(e).font_family):k([e],r,t)))},d.load_external=function(e,t){let{font_family:r}=d.get_quoted_face_and_variant(e);d.already_loaded.push(`${r}${s.CUSTOM_FONT_FLAG}`);let n={custom:{families:[r],urls:[t]}};window.WebFont.load(n)},d.load_for_preview=function(e,t){A(e);let r=e.filter((e=>!O(e)));0!==r.length&&k(r,t)},d.clean_list=function(e){return e.filter((e=>{let t=d.get_canonical(e);return t&&"string"==typeof t&&!h.includes(t)}))},d.to_google_list=function(e){return e.filter(Boolean).map((e=>function(e){let{font_family:t,variant:r}=d.get_face_and_variant(e);return r?`${t}:${r}`:t}(e)))},d.load_app_fonts=function(){t.run_once(60,(()=>{var e;return{fonts_used_in_app:c().derived("AppFonts").content(),custom_fonts_installed:null!=(e=c().app().get_public_setting("fonts"))?e:{}}}),((e,t)=>{e&&(o.log(e),t={needed_fonts:[],fonts_used_in_app:[],custom_fonts_installed:{}});let r=t.fonts_used_in_app.concat(p);A(r),x(r),function(e){window.WebFont.load({custom:{families:Object.keys(e),urls:Object.values(e)}})}(t.custom_fonts_installed)}))},d.load_default_fonts=function(){x(p)},d.check_font_valid=function(e,t,r,n){let i={};i[e]=y;let a={custom:{families:[e],urls:[t],testStrings:i},active(){null==r||r(e,t)},fontinactive(){null==n||n(e,t),console.log(`fontinactive being called for ${e}, Google says the fonts didnt render`)}};window.WebFont.load(a)},d.get_full_clean_list=function(e){let t=[];for(let r of e){let e=d.get_face_and_variant(r);if(!S.includes(e.variant)){t.push(r);continue}let n=get_all_variants(r);if(null!=n){for(let r of S)if(n.includes(r)){let n=d.standardized_name({font_family:e.font_family,variant:r});t.includes(n)||t.push(n)}}else t.push(r)}return d.clean_list(t)},d.to_font_face=function(e,t){return e in g&&(e=g[e]),null==e?null:e.includes(s.CUSTOM_FONT_FLAG)?e:d.standardized_name({...d.get_unquoted_face_and_variant(e),variant:t})},d.is_user_font_token=T,d.convert_if_legacy=w,d.convert_all_legacy=A,d.active_key=i.MakeKey(null,"webfonts.active_key"),d.fontface_key=i.MakeKey(null,"webfonts.fontface_key"),d.fontface_keys={},typeof window<"u"&&null!==window){window.google_web_fonts_active?d.active_key.turn():window.google_web_fonts_active_cb=()=>d.active_key.turn();for(let e of Object.keys(null!=(m=window.fontface_loaded)?m:{}).concat(h))null!=(v=d.fontface_keys)[e]||(v[e]=i.MakeKey(null,`webfont.fontface_key_${e}`)),d.fontface_keys[e].turn();window.all_fontface_loaded?d.fontface_key.turn():window.fontface_webfonts_loaded_cb=function(e){var t;null!=e?(null!=(t=d.fontface_keys)[e]||(t[e]=i.MakeKey(null,`webfont.fontface_key_${e}`)),d.fontface_keys[e].turn()):d.fontface_key.turn()}}else d.active_key.turn(),d.fontface_key.turn();function x(e){let t=e.filter((e=>!O(e)));t.length>0?k(t,(()=>d.active_key.turn())):d.active_key.turn()}function O(e){return d.already_loaded.includes(e)||h.includes(e)}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;null!=r||(r=!1);for(let t of e)d.already_loaded.push(t);filter_out_unsupported_fonts_client(e,(n=>{n.length<1&&(n=["Lato"]);let i={google:{families:n},active(){null==t||t()}};r&&1===e.length&&(i.google.text=d.pretty_font(e[0])),window.WebFont.load(i)}))}var S=["regular","italic"];function T(e){var t;return!(null!=(t=Object.keys(s.DEFAULT_TOKENS))&&t.includes(e))}})),cf=u((e=>{"use strict";f(),Ue();var{LATEST_ELEMENT_VERSION:t,OLD_VERSION_OVERRIDE_PROPERTIES:r}=af(),n=(qr(),Po(),qa(),Kt(),uf()),i=lf(),a=e,o=[{font_family:"font_face",font_weight:"font_face"},{padding_left:"padding_horizontal",padding_right:"padding_horizontal",padding_top:"padding_vertical",padding_bottom:"padding_vertical"},{},{}],s=[{font_face:["font_family","font_weight"]},{padding_horizontal:["padding_left","padding_right"],padding_vertical:["padding_bottom","padding_top"]},{},{}],l=[(e,t)=>{let{font_family:r,variant:a}=n.get_unquoted_face_and_variant(t);return"font_family"===e?r:"custom"===a?"400":null!=(o=i.NAMED_WEIGHTS[a])?o:a;var o},(e,t)=>t,()=>{}];a.get_mapped_property=function(e,t,r){for(let n=e;n<t;n++)if(o[n][r])return o[n][r];return null},a.get_unmapped_properties=function(e,t,r){for(let n=e;n<t;n++)if(s[n][r])return s[n][r];return[]},a.map_property=function(e,t,r,n){for(let i=e;i<t;i++)if(o[i][r])return l[i](r,n);return n}})),df=u((e=>{"use strict";f(),Ue();var t=e;function r(e,t){for(let r of["left","top","right","bottom"]){let n=t[`margin_${r}`];e[`margin-${r}`]=null!=n?`${n}px`:""}}t.margin_properties=["margin_left","margin_right","margin_top","margin_bottom"],t.container_properties=e=>{var t,r,n;return{"justify-content":null!=(t=e.container_alignment)?t:"","row-gap":e.use_gap&&null!=(r=e.row_gap)?r:"","column-gap":e.use_gap&&null!=(n=e.column_gap)?n:""}},t.flex_element_properties=e=>t=>{var n,i,a,o;let s={"align-self":null!=(n=t.align_self)?n:"","min-width":t.min_width,"max-width":null!=(i=t.max_width)?i:"",order:null!=(a=t.order)?a:"","min-height":t.has_fixed_aspect_ratio?"":t.min_height,"max-height":t.has_fixed_aspect_ratio?"":null!=(o=t.max_height)?o:""};return"row"===e?(t.fit_width?(s.width="max-content",s["flex-grow"]=0):(s.width=t.min_width,s["flex-grow"]=1),t.fit_height||t.has_fixed_aspect_ratio?s.height="max-content":t.min_height===t.max_height?s.height=t.min_height:"stretch"===t.align_self?s.height="auto":s.height=t.min_height):(t.fit_height||t.has_fixed_aspect_ratio?(s.height="max-content",s["flex-grow"]=0,s["flex-shrink"]=0):(s.height=t.min_height,s["flex-grow"]=1),t.min_width===t.max_width?s.width=t.min_width:"stretch"===t.align_self||t.fit_width?s.width="auto":s.width=`calc(100% - ${t.margin_left+t.margin_right}px)`),r(s,t),s};var n={a:"start",b:"center",c:"end"};t.relative_element_properties=function(e){var t,i,a,o;let s={"align-self":n[null==(t=e.nonant_alignment)?void 0:t.charAt(1)],"justify-self":n[null==(i=e.nonant_alignment)?void 0:i.charAt(0)],"min-width":e.min_width,"max-width":null!=(a=e.max_width)?a:"","min-height":e.has_fixed_aspect_ratio?"":e.min_height,"max-height":e.has_fixed_aspect_ratio?"":null!=(o=e.max_height)?o:""};return e.min_width===e.max_width?s.width=e.min_width:e.fit_width?s.width="max-content":s.width=`calc(100% - ${e.margin_left+e.margin_right}px)`,e.fit_height||e.has_fixed_aspect_ratio?s.height="max-content":e.min_height===e.max_height?s.height=e.min_height:s.height=`calc(100% - ${e.margin_top+e.margin_bottom}px)`,r(s,e),s},t.fixed_element_properties=e=>({top:`${e.top}px`,left:`${e.left}px`,width:`${e.min_width}px`,height:`${e.min_height}px`}),t.element_reset={margin:"","align-self":"","justify-self":"","min-width":"","max-width":"",width:"","min-height":"","max-height":"","flex-grow":"",top:"",left:"",right:"",bottom:"",position:""}})),pf=u((e=>{"use strict";function t(e,t){return r(((e,t)=>{switch(typeof e){case"number":return e-t;case"string":return e<t?-1:e>t?1:0}}),"first")(e,t)}function r(e,t){return(r,n)=>null==r&&null==n?0:null==r?"first"===t?-1:1:null==n?"first"===t?1:-1:e(r,n)}f(),Object.defineProperty(e,"__esModule",{value:!0}),e.compare=t,e.create_sort_function=function(e,r){return(n,i)=>{let a=e(n),o=e(i);return(null!=r?r:t)(a,o)}},e.filterNulls=r})),ff=u((e=>{"use strict";f();var t=df(),r=Po(),{compare:n}=pf(),i=e;function a(e){return(t,r)=>{var i,a,o,s,l,_;return t.get_static_property(e)-r.get_static_property(e)||n(null!=(i=null==(a=t.element_id)?void 0:a.call(t))?i:null==(o=t.id)?void 0:o.call(t),null!=(s=null==(l=r.element_id)?void 0:l.call(r))?s:null==(_=r.id)?void 0:_.call(r))}}i.CONTAINER_CLASSES="fixed relative flex row column",i.LAYOUT_PROPERTIES={fixed:{classes:"fixed",css_func:t.fixed_element_properties,container_properties:{},element_properties:{top:"top",left:"left"},sort_fn:a("zindex")},relative:{classes:"relative",css_func:t.relative_element_properties,container_properties:{},element_properties:{nonant_alignment:"nonant_alignment"},sort_fn:a("zindex")},row:{classes:"flex row",css_func:t.flex_element_properties("row"),container_properties:{container_horiz_alignment:"container_alignment",use_gap:"use_gap",row_gap:"row_gap",column_gap:"column_gap"},element_properties:{vert_alignment:"align_self",order:"order"},sort_fn:a("order")},column:{classes:"flex column",css_func:t.flex_element_properties("column"),container_properties:{container_vert_alignment:"container_alignment",use_gap:"use_gap",row_gap:"row_gap"},element_properties:{horiz_alignment:"align_self",order:"order"},sort_fn:a("order")},table:{classes:"table",css_fnc:()=>{},container_properties:{},element_properties:{},sort_fn:a("axis_index")},table_cross_axis:{classes:"axis",css_fnc:()=>{},container_properties:{},element_properties:{},sort_fn:(e,t)=>{let n=r.element(e.get_static_property("cell_main_axis_id")),i=r.element(t.get_static_property("cell_main_axis_id"));return a("axis_index")(n,i)}}},i.LAYOUT_NAMES={fixed:"Fixed",relative:"Align to parent",row:"Row",column:"Column"},i.FLEX_LAYOUTS=["row","column"],i.NON_FIXED_LAYOUTS=["row","column","relative"],i.FIXED_LAYOUT="fixed",i.DIMENSION_TO_CROSS_AXIS={width:"column",height:"row"},i.CONTAINER_PROPERTIES=["container_layout","container_horiz_alignment","container_vert_alignment","use_gap","row_gap","column_gap"]})),hf=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.get_font_face=function(e){var i,a,o;return e.element.element_version(!0)>=r.FONT_FAMILY_VERSION?n.default.to_font_face(null!=(i=t.evaluate_property(e,"font_family"))?i:"",null!=(a=t.evaluate_property(e,"font_weight"))?a:""):null!=(o=t.evaluate_property(e,"font_face"))?o:""},e.is_fitting_height=function(e){var r;if(!e.element.E.uses_css_responsive)return!0;if(!e.element.can_fit_height()||e.element.force_fixed())return!1;let n=null==(r=e.element.parent())?void 0:r.container_layout();return n===i.default.DIMENSION_TO_CROSS_AXIS.height?!e.get_static_property("single_height")&&"stretch"!==t.evaluate_property(e,"vert_alignment"):n!==i.default.FIXED_LAYOUT&&e.element.fit_height()},e.is_fitting_width=function(e){var r;if(!e.element.E.uses_css_responsive||!e.element.can_fit_width()||e.element.force_fixed())return!1;let n=null==(r=e.element.parent())?void 0:r.container_layout();return n===i.default.DIMENSION_TO_CROSS_AXIS.width?"stretch"!==t.evaluate_property(e,"horiz_alignment")&&e.element.fit_width():n!==i.default.FIXED_LAYOUT&&e.element.fit_width()},e.max_height_css=function(e){if(!e.element.E.uses_css_responsive)return null;var r,n;return e.element.can_be_variable_width()&&!e.element.force_fixed()?e.get_static_property("single_height")?null!=(r=t.evaluate_property(e,"min_height_css"))?r:"0px":null!=(n=t.evaluate_property(e,"max_height_css"))?n:null:`${e.element.get_height()}px`},e.max_width_css=function(e){if(!e.element.E.uses_css_responsive){let t=e.element.get_max_width();return null!=t?`${t}px`:null}var r,n;return e.element.can_be_variable_width()&&!e.element.force_fixed()?e.get_static_property("single_width")?null!=(r=t.evaluate_property(e,"min_width_css"))?r:"0px":null!=(n=t.evaluate_property(e,"max_width_css"))?n:null:`${e.element.get_width()}px`},e.min_height_css=function(e){if(!e.element.E.uses_css_responsive)return"0px";var r;return e.element.can_be_variable_width()&&!e.element.force_fixed()?null!=(r=t.evaluate_property(e,"min_height_css"))?r:"0px":`${e.element.get_height()}px`},e.min_width_css=function(e){if(!e.element.E.uses_css_responsive)return`${e.element.get_min_width()}px`;var r;return e.element.can_be_variable_width()&&!e.element.force_fixed()?null!=(r=t.evaluate_property(e,"min_width_css"))?r:"0px":`${e.element.get_width()}px`};var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(Fh()),r=af(),n=a(uf()),i=a(ff());function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}a(Nt()).default.safe_register("./lang/evaluation/element_props",e)})),gf=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.run_eval=function(e,c,d,p,f,h){var g,m;null!=h||(h=null==f?void 0:f.element);let v,y=d.filter((e=>_.is_state_on(f,e))),b=y[y.length-1],w=h.element_version(!1),A=h.element_version(!0),E=s.default.get_mapped_property(w,A,e),M=E&&h.states().includes(b),x=M?E:e;if(null!=b&&(!b.property(x).is_empty()||null!=(g=h.field_names()[x])&&g.allow_empty_condition)){let t=f.prop_eval_context(!0);v=r.default.eval_property(b,x,t),M&&(v=s.default.map_property(h.element_version(!1),h.element_version(!0),e,v))}else if(!c||(0,u.allow_overrides_check)(h,e)&&null!=p)if(p===n.NOT_STATIC_PROP){let t=f.prop_eval_context(!0);v=r.default.eval_property(h,e,t,null,h.get_default(e))}else v=p;else v=c.get_static_property(e);if(["text","html"].includes(e)&&i.on_client())if(a.ensure_ready(o.default.active_key),window.wait_for_individual_fonts){var O;let e=l.get_font_face(f);null!=(O=e)&&O.includes("var(")&&(e=o.default.substitute_font_token(e)),null!=e&&(null==o.default.fontface_keys[e]&&(o.default.fontface_keys[e]=a.MakeKey(void 0,`webfont.fontface_key_${e}`),setTimeout((()=>{t.warn("fontface key never properly turned",{font_face:e}),o.default.fontface_keys[e].turn()}),3e3)),a.ensure_ready(o.default.fontface_keys[e]))}else a.ensure_ready(o.default.fontface_key);return null!=(m=v)?m:null};var t=p(Kt()),r=c(x_()),n=p(af()),i=p(ot()),a=p(Dr()),o=c(uf()),s=c(cf()),l=p(hf()),_=p(Fh()),u=of();function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}})),mf=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.serverside_eval_prop=void 0,Ue();of()})),vf={};function yf(e,t,r,n={}){let i;return Nn((n=>{i=n,t===document?e():Pf(t,e(),t.firstChild?null:void 0,r)}),n.owner),()=>{i(),t.textContent=""}}function bf(e,t,r){let n=document.createElement("template");if(n.innerHTML=e,t&&n.innerHTML.split("<").length-1!==t)throw`The browser resolved template HTML does not match JSX input:\n${n.innerHTML}\n\n${e}. Is your HTML properly formed?`;let i=n.content.firstChild;return r&&(i=i.firstChild),i}function wf(e,t=window.document){let r=t[Ah]||(t[Ah]=new Set);for(let n=0,i=e.length;n<i;n++){let i=e[n];r.has(i)||(r.add(i),t.addEventListener(i,Uf))}}function Af(e=window.document){if(e[Ah]){for(let t of e[Ah].keys())e.removeEventListener(t,Uf);delete e[Ah]}}function Ef(e,t,r){null==r?e.removeAttribute(t):e.setAttribute(t,r)}function Mf(e,t,r,n){null==n?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,n)}function xf(e,t){null==t?e.removeAttribute("class"):e.className=t}function Of(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){let n=r[0];e.addEventListener(t,r[0]=t=>n.call(e,r[1],t))}else e.addEventListener(t,r)}function kf(e,t,r={}){let n,i,a=Object.keys(t||{}),o=Object.keys(r);for(n=0,i=o.length;n<i;n++){let i=o[n];!i||"undefined"===i||t[i]||(Bf(e,i,!1),delete r[i])}for(n=0,i=a.length;n<i;n++){let i=a[n],o=!!t[i];!i||"undefined"===i||r[i]===o||!o||(Bf(e,i,!0),r[i]=o)}return r}function Sf(e,t,r){if(!t)return r?Ef(e,"style"):t;let n,i,a=e.style;if("string"==typeof t)return a.cssText=t;for(i in"string"==typeof r&&(a.cssText=r=void 0),r||(r={}),t||(t={}),r)null==t[i]&&a.removeProperty(i),delete r[i];for(i in t)n=t[i],n!==r[i]&&(a.setProperty(i,n),r[i]=n);return r}function Tf(e,t={},r,n){let i={};return n||Pn((()=>i.children=Wf(e,t.children,i.children))),Pn((()=>t.ref&&t.ref(e))),Pn((()=>Rf(e,t,r,!0,i,!0))),i}function Nf(e,t){let r=e[t];return Object.defineProperty(e,t,{get:()=>r(),enumerable:!0}),e}function Cf(e,t){!ta.context&&(e.innerHTML=t)}function Lf(e,t,r){return Un((()=>e(t,r)))}function Pf(e,t,r,n){if(void 0!==r&&!n&&(n=[]),"function"!=typeof t)return Wf(e,t,n,r);Pn((n=>Wf(e,t(),n,r)),n)}function Rf(e,t,r,n,i={},a=!1){t||(t={});for(let n in i)if(!(n in t)){if("children"===n)continue;i[n]=qf(e,n,null,i[n],r,a)}for(let o in t){if("children"===o){n||Wf(e,t.children);continue}let s=t[o];i[o]=qf(e,o,s,i[o],r,a)}}function zf(e){let t,r;if(!ta.context||!(t=ta.registry.get(r=Hf()))){if(ta.context&&console.warn("Unable to find DOM nodes for hydration key:",r),!e)throw new Error("Unrecoverable Hydration Mismatch. No template for key: "+r);return e.cloneNode(!0)}return ta.completed&&ta.completed.add(t),ta.registry.delete(r),t}function If(e,t){for(;e&&e.localName!==t;)e=e.nextSibling;return e}function Df(e){let t=e,r=0,n=[];if(ta.context)for(;t;){if(8===t.nodeType){let e=t.nodeValue;if("#"===e)r++;else if("/"===e){if(0===r)return[t,n];r--}}n.push(t),t=t.nextSibling}return[t,n]}function jf(){ta.events&&!ta.events.queued&&(queueMicrotask((()=>{let{completed:e,events:t}=ta;for(t.queued=!1;t.length;){let[r,n]=t[0];if(!e.has(r))return;Uf(n),t.shift()}})),ta.events.queued=!0)}function Bf(e,t,r){let n=t.trim().split(/\s+/);for(let t=0,i=n.length;t<i;t++)e.classList.toggle(n[t],r)}function qf(e,t,r,n,i,a){let o,s,l;if("style"===t)return Sf(e,r,n);if("classList"===t)return kf(e,r,n);if(r===n)return n;if("ref"===t)a||r(e);else if("on:"===t.slice(0,3)){let i=t.slice(3);n&&e.removeEventListener(i,n),r&&e.addEventListener(i,r)}else if("oncapture:"===t.slice(0,10)){let i=t.slice(10);n&&e.removeEventListener(i,n,!0),r&&e.addEventListener(i,r,!0)}else if("on"===t.slice(0,2)){let i=t.slice(2).toLowerCase(),a=vh.has(i);if(!a&&n){let t=Array.isArray(n)?n[0]:n;e.removeEventListener(i,t)}(a||r)&&(Of(e,i,r,a),a&&wf([i]))}else if((l=hh.has(t))||!i&&(mh[t]||(s=fh.has(t)))||(o=e.nodeName.includes("-")))"class"===t||"className"===t?xf(e,r):!o||s||l?e[mh[t]||t]=r:e[function(e){return e.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=r;else{let n=i&&t.indexOf(":")>-1&&bh[t.split(":")[0]];n?Mf(e,n,t,r):Ef(e,gh[t]||t,r)}return r}function Uf(e){let t=`$$${e.type}`,r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>r||document}),ta.registry&&!ta.done&&(ta.done=_$HY.done=!0);r;){let n=r[t];if(n&&!r.disabled){let i=r[`${t}Data`];if(void 0!==i?n.call(r,i,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Wf(e,t,r,n,i){if(ta.context){!r&&(r=[...e.childNodes]);let t=[];for(let e=0;e<r.length;e++){let n=r[e];8===n.nodeType&&"!"===n.data?n.remove():t.push(n)}r=t}for(;"function"==typeof r;)r=r();if(t===r)return r;let a=typeof t,o=void 0!==n;if(e=o&&r[0]&&r[0].parentNode||e,"string"===a||"number"===a){if(ta.context)return r;if("number"===a&&(t=t.toString()),o){let i=r[0];i&&3===i.nodeType?i.data=t:i=document.createTextNode(t),r=Gf(e,r,n,i)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===a){if(ta.context)return r;r=Gf(e,r,n)}else{if("function"===a)return Pn((()=>{let i=t();for(;"function"==typeof i;)i=i();r=Wf(e,i,r,n)})),()=>r;if(Array.isArray(t)){let a=[],s=r&&Array.isArray(r);if($f(a,t,r,i))return Pn((()=>r=Wf(e,a,r,n,!0))),()=>r;if(ta.context){if(!a.length)return r;for(let e=0;e<a.length;e++)if(a[e].parentNode)return r=a}if(0===a.length){if(r=Gf(e,r,n),o)return r}else s?0===r.length?Ff(e,a,n):function(e,t,r){let n=r.length,i=t.length,a=n,o=0,s=0,l=t[i-1].nextSibling,_=null;for(;o<i||s<a;)if(t[o]!==r[s]){for(;t[i-1]===r[a-1];)i--,a--;if(i===o){let t=a<n?s?r[s-1].nextSibling:r[a-s]:l;for(;s<a;)e.insertBefore(r[s++],t)}else if(a===s)for(;o<i;)(!_||!_.has(t[o]))&&t[o].remove(),o++;else if(t[o]===r[a-1]&&r[s]===t[i-1]){let n=t[--i].nextSibling;e.insertBefore(r[s++],t[o++].nextSibling),e.insertBefore(r[--a],n),t[i]=r[a]}else{if(!_){_=new Map;let e=s;for(;e<a;)_.set(r[e],e++)}let n=_.get(t[o]);if(null!=n)if(s<n&&n<a){let l,u=o,c=1;for(;++u<i&&u<a&&null!=(l=_.get(t[u]))&&l===n+c;)c++;if(c>n-s){let i=t[o];for(;s<n;)e.insertBefore(r[s++],i)}else e.replaceChild(r[s++],t[o++])}else o++;else t[o++].remove()}}else o++,s++}(e,r,a):(r&&Gf(e),Ff(e,a));r=a}else if(t instanceof Node){if(ta.context&&t.parentNode)return r=o?[t]:t;if(Array.isArray(r)){if(o)return r=Gf(e,r,n,t);Gf(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}else console.warn("Unrecognized value. Skipped inserting",t)}return r}function $f(e,t,r,n){let i=!1;for(let a=0,o=t.length;a<o;a++){let o=t[a],s=r&&r[a];if(o instanceof Node)e.push(o);else if(null!=o&&!0!==o&&!1!==o)if(Array.isArray(o))i=$f(e,o,s)||i;else if("function"==typeof o)if(n){for(;"function"==typeof o;)o=o();i=$f(e,Array.isArray(o)?o:[o],Array.isArray(s)?s:[s])||i}else e.push(o),i=!0;else{let t=String(o);s&&3===s.nodeType?(s.data=t,e.push(s)):e.push(document.createTextNode(t))}}return i}function Ff(e,t,r=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function Gf(e,t,r,n){if(void 0===r)return e.textContent="";let i=n||document.createTextNode("");if(t.length){let n=!1;for(let a=t.length-1;a>=0;a--){let o=t[a];if(i!==o){let t=o.parentNode===e;n||a?t&&o.remove():t?e.replaceChild(i,o):e.insertBefore(i,r)}else n=!0}}else e.insertBefore(i,r);return[i]}function Xf(e,t){let r=e.querySelectorAll("*[data-hk]");for(let e=0;e<r.length;e++){let n=r[e],i=n.getAttribute("data-hk");(!t||i.startsWith(t))&&!ta.registry.has(i)&&ta.registry.set(i,n)}}function Hf(){let e=ta.context;return`${e.id}${e.count++}`}function Vf(e){return ta.context?void 0:e.children}function Yf(e){return e.children}function Kf(){}function Jf(e){let t=new Error(`${e.name} is not supported in the browser, returning undefined`);console.error(t)}function Zf(e,t){Jf(Zf)}function Qf(e,t){Jf(Qf)}function eh(e,t){Jf(eh)}function th(e,...t){}function rh(e,t,r,n){}function nh(e){}function ih(e){}function ah(e,t){}function oh(){}function sh(e){}function lh(e){}function _h(e,t,r){}function uh(e,t=!1){return t?document.createElementNS(xh,e):document.createElement(e)}function ch(e){let{useShadow:t}=e,r=document.createTextNode(""),n=In(function(){if(ta.context){let[t,r]=Cn(!1);return $n((()=>r(!0))),()=>t()&&e.children}return()=>e.children}());return Pn((()=>{let i=e.mount||document.body;if(i instanceof HTMLHeadElement){let[e,t]=Cn(!1),r=()=>t(!0);Nn((t=>Pf(i,(()=>e()?t():n()),null))),Fn((()=>{ta.context?queueMicrotask(r):r()}))}else{let a=uh(e.isSVG?"g":"div",e.isSVG),o=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get:()=>r.parentNode,configurable:!0}),Pf(o,n),i.appendChild(a),e.ref&&e.ref(a),Fn((()=>i.removeChild(a)))}})),r}function dh(e){let[t,r]=Ci(e,["component"]),n=In((()=>t.component));return In((()=>{let e=n();switch(typeof e){case"function":return Object.assign(e,{[aa]:!0}),Un((()=>e(r)));case"string":let t=yh.has(e),n=ta.context?zf():uh(e,t);return Tf(n,r,t),n}}))}c(vf,{Aliases:()=>gh,Assets:()=>Kf,ChildProperties:()=>hh,DOMElements:()=>wh,DelegatedEvents:()=>vh,Dynamic:()=>dh,ErrorBoundary:()=>qi,For:()=>Ri,Hydration:()=>Yf,HydrationScript:()=>Kf,Index:()=>zi,Match:()=>ji,NoHydration:()=>Vf,Portal:()=>ch,PropAliases:()=>mh,Properties:()=>fh,SVGElements:()=>yh,SVGNamespace:()=>bh,Show:()=>Ii,Suspense:()=>Wi,SuspenseList:()=>Ui,Switch:()=>Di,addEventListener:()=>Of,assign:()=>Rf,classList:()=>kf,className:()=>xf,clearDelegatedEvents:()=>Af,createComponent:()=>ki,delegateEvents:()=>wf,dynamicProperty:()=>Nf,effect:()=>Pn,escape:()=>lh,generateHydrationScript:()=>Kf,getAssets:()=>Kf,getHydrationKey:()=>Hf,getNextElement:()=>zf,getNextMarker:()=>Df,getNextMatch:()=>If,getOwner:()=>Hn,hydrate:()=>Oh,innerHTML:()=>Cf,insert:()=>Pf,isDev:()=>Mh,isServer:()=>Eh,memo:()=>In,mergeProps:()=>Ni,render:()=>yf,renderToStream:()=>eh,renderToString:()=>Zf,renderToStringAsync:()=>Qf,resolveSSRNode:()=>sh,runHydrationEvents:()=>jf,setAttribute:()=>Ef,setAttributeNS:()=>Mf,spread:()=>Tf,ssr:()=>th,ssrAttribute:()=>ah,ssrClassList:()=>nh,ssrElement:()=>rh,ssrHydrationKey:()=>oh,ssrSpread:()=>_h,ssrStyle:()=>ih,style:()=>Sf,template:()=>bf,untrack:()=>Un,use:()=>Lf,useAssets:()=>Kf});var ph,fh,hh,gh,mh,vh,yh,bh,wh,Ah,Eh,Mh,xh,Oh,kh=_((()=>{f(),Ca(),Ca(),ph=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],fh=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ph]),hh=new Set(["innerHTML","textContent","innerText","children"]),gh=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),mh=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),vh=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),yh=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),bh={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},wh=new Set(["html","base","head","link","meta","style","title","body","address","article","aside","footer","header","main","nav","section","body","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","embed","iframe","object","param","picture","portal","source","svg","math","canvas","noscript","script","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","menu","summary","details","slot","template","acronym","applet","basefont","bgsound","big","blink","center","content","dir","font","frame","frameset","hgroup","image","keygen","marquee","menuitem","nobr","noembed","noframes","plaintext","rb","rtc","shadow","spacer","strike","tt","xmp","a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","portal","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp","input"]),Ah="_$DX_DELEGATE",Eh=!1,Mh=!1,xh="http://www.w3.org/2000/svg",Oh=(...e)=>(Oi(),function(e,t,r={}){ta.completed=globalThis._$HY.completed,ta.events=globalThis._$HY.events,ta.load=globalThis._$HY.load,ta.gather=e=>Xf(t,e),ta.registry=new Map,ta.context={id:r.renderId||"",count:0},Xf(t,r.renderId);let n=yf(e,t,[...t.childNodes],r);return ta.context=null,n}(...e))})),Sh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DummyCounter=void 0,Ue();var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(ot());function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var n=class e{constructor(e){this._map=void 0,this._total=void 0,"number"!=typeof e&&e?this._map={...e}:this._total=null!=e?e:0}static onClient(r){return t.on_client()?new e(r):new i}withTotal(){return null!=this._total||(this._total=0),this}get total(){var e;return null!=(e=this._total)?e:0}get(e){var t,r,n;return void 0===e?null!=(t=this._total)?t:0:null!=(r=null==(n=this._map)?void 0:n[e])?r:0}add(e,t){let[r,n]="number"==typeof e?[void 0,null!=e?e:1]:[e,null!=t?t:1];var i;("number"==typeof this._total&&(this._total+=n),typeof r<"u")&&(null!=this._map||(this._map={}),this._map[r]=(null!=(i=this._map[r])?i:0)+n)}toJSON(){return void 0!==this._total&&void 0!==this._map?{total:this.total,...this._map}:void 0!==this._total?this._total:void 0!==this._map?{...this._map}:0}};e.default=n;var i=class extends n{get(){return 0}add(){}};e.DummyCounter=i})),Th=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.element_counts=e.counts=e.LifecycleEvent=e.DrawReason=e.DrawPhase=void 0,e.get_current_phase=function(){return a.draw_phase},e.measure_initial_draw=function(e,t){let{deferred_drawing_enabled:n=!1}=e;a.draw_phase=i.InitialDraw,a.draw_reason=r.VisibleOnPageLoad;try{t()}finally{a.draw_phase=i.PostInitialDraw,a.draw_reason=r.Unknown}if(n){let e=o.elements.initially_drawn;return{deferred_drawing_enabled:!0,elements_initially_drawn:e.total,elements_initially_deferred:o.elements.initially_deferred.total,elements_drawn_because_visible:e.get(r.VisibleOnPageLoad),elements_drawn_because_undeferrable:e.get(r.CantDefer),elements_drawn_because_size:e.get(r.NeedsChildrenSize)}}return{deferred_drawing_enabled:!1}},e.record_defer=function(e){a.draw_phase===i.InitialDraw&&o.elements.initially_deferred.add(e)},e.record_lifecycle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o.lifecycle.add(e,t);let{draw_phase:r,draw_reason:s}=a;e===n.Drawn&&(r===i.InitialDraw?o.elements.initially_drawn.add(s,t):o.elements.eventually_drawn.add(s,t))},e.with_draw_reason=function(e,t){let r=a.draw_reason;try{return a.draw_reason=e,t()}finally{a.draw_reason=r}};var t=function(e){return e&&e.__esModule?e:{default:e}}(Sh());var r=function(e){return e.Unknown="Unknown",e.DeferFlagOff="DeferFlagOff",e.VisibleOnPageLoad="VisibleOnPageLoad",e.BecameVisible="BecameVisible",e.CantDefer="CantDefer",e.NeedsChildrenSize="NeedsChildrenSize",e.SizeNeeded="SizeNeeded",e}({});e.DrawReason=r;var n=function(e){return e.Constructed="Constructed",e.Registered="Registered",e.Drawn="Drawn",e}({});e.LifecycleEvent=n;var i=function(e){return e.NotStarted="NotStarted",e.InitialDraw="InitialDraw",e.PostInitialDraw="PostInitialDraw",e}({});e.DrawPhase=i;var a={draw_phase:i.NotStarted,draw_reason:r.VisibleOnPageLoad},o={lifecycle:t.default.onClient(),elements:{initially_drawn:t.default.onClient().withTotal(),initially_deferred:t.default.onClient(),eventually_drawn:t.default.onClient().withTotal()}};e.counts=o;var s={element_instances:t.default.onClient().withTotal()};e.element_counts=s,typeof window<"u"&&(window.element_performance_counts=o)})),Nh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.observe=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"border-box";typeof ResizeObserver<"u"&&(e._b_resize_fn=n,null!=t||(t=new ResizeObserver(r)),t.observe(e,{box:i}))},e.unobserve=function(e){var r;null==(r=t)||r.unobserve(e),delete e._b_resize_fn},Ue();var t=null;function r(e){for(let n of e){var t,r;null==(t=(r=n.target)._b_resize_fn)||t.call(r,n)}}})),Ch=u(((e,t)=>{f();var r=Zr();t.exports=function(){return r.Date.now()}})),Lh=u(((e,t)=>{f();var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}})),Ph=u(((e,t)=>{f();var r=Lh(),n=/^\s+/;t.exports=function(e){return e&&e.slice(0,r(e)+1).replace(n,"")}})),Rh=u(((e,t)=>{f();var r=Ph(),n=Ko(),i=sn(),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var _=o.test(e);return _||s.test(e)?l(e.slice(2),_?2:8):a.test(e)?NaN:+e}})),zh=u(((e,t)=>{f();var r=Ko(),n=Ch(),i=Rh(),a=Math.max,o=Math.min;t.exports=function(e,t,s){var l,_,u,c,d,p,f=0,h=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=l,n=_;return l=_=void 0,f=t,c=e.apply(n,r)}function y(e){return f=e,d=setTimeout(w,t),h?v(e):c}function b(e){var r=e-p;return void 0===p||r>=t||r<0||g&&e-f>=u}function w(){var e=n();if(b(e))return A(e);d=setTimeout(w,function(e){var r=t-(e-p);return g?o(r,u-(e-f)):r}(e))}function A(e){return d=void 0,m&&l?v(e):(l=_=void 0,c)}function E(){var e=n(),r=b(e);if(l=arguments,_=this,p=e,r){if(void 0===d)return y(p);if(g)return clearTimeout(d),d=setTimeout(w,t),v(p)}return void 0===d&&(d=setTimeout(w,t)),c}return t=i(t)||0,r(s)&&(h=!!s.leading,u=(g="maxWait"in s)?a(i(s.maxWait)||0,t):u,m="trailing"in s?!!s.trailing:m),E.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=_=d=void 0},E.flush=function(){return void 0===d?c:A(n())},E}})),Ih=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkNonDeferrable=u,e.mustRegisterId=function(e){return l.has(e)},e.watchDraw=function(e,r){!function e(n,i){let a=function(e){if(e._is_visible||e.is_visible(!0))return(0,t.FakeKey)();let r=(0,t.MakeKey)(void 0,`${e.element_id()} turned visible`);return e._is_visible_cbs.push((()=>{r.turn()})),r}(n),o=(0,t.MakeKeyList)([i,a]);function s(e){if(!n.element.draws_own_children()){let t=function(){n.children.forEach((t=>{t.element.added_to_container()&&e(t)}))};null==n.child_container&&n.children.length>0?n.wait_for_first_draw(t):t()}}if(o.is_turned())r.onDraw(n),s((r=>{e(r,(0,t.FakeKey)())}));else{let i=function(){n.element.ignores_child_sizes()?(0,t.WaitFor)(o,(()=>{s((r=>{e(r,(0,t.FakeKey)())}))})):s((t=>{e(t,o)}))};r.onSizeDraw(n),(0,t.WaitFor)(o,(()=>r.onDraw(n))),n.element.no_size_when_hidden()?(0,t.WaitFor)(a,i):i()}}(e,(0,t.FakeKey)())},Ue();var t=Dr(),r=function(e){return e&&e.__esModule?e:{default:e}}(Po()),n=Zt(),i=xl();var a=new Set(["Alert","AutocompleteDropdown","Button","Checkbox","CustomDefinition","DateInput","Dropdown","FileInput","FloatingGroup","GoogleMaps","Group","GroupFocus","GroupWithFocus","Icon","Image","Input","Link","MultiLineInput","Page","PictureInput","Popup","PoweredByBubble","RadioButtons","RepeatingGroup","Shape","SliderInput","TableElement","TableMainAxis","TableCrossAxis","TableCell","Text","VideoComponent"]),o=new Set,s=new Set,l=new Set;function _(e){let t=!1,c=e[i.S.elements];if(null!=c)for(let e of Object.values(c))if(null!=(null==e?void 0:e[i.S.id])){let r=_(e);t||(t=r)}return!(!t&&function(e){let t=e[i.S.type];if(a.has(t)||(0,n.is_UUID)(t))return!0;if("CustomElement"===t){var _;let t=null==(_=e[i.S.properties])?void 0:_[i.S.custom_id];if(null==t)return!1;let n=r.default.custom_definition(t);if(null==n)return!1;if(!s.has(t)){if(o.has(t))return!1;o.add(t),u(n),s.add(t)}return!l.has(t)}var c;return"HTML"===t&&!0===(null==(c=e[i.S.properties])?void 0:c.defer_drawing)}(e))&&(l.add(e[i.S.id]),!0)}function u(e){let t=e.json._raw();null!=(null==t?void 0:t[i.S.id])&&_(t),(!e.is_responsive_v1()||e.events().some((e=>!e.deferrable())))&&l.add(e.id())}})),Dh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TestContext=void 0;var t=(0,(Ca(),p(xn)).createContext)();e.TestContext=t;var r=t;e.default=r})),jh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.createAutorun=function(e){l((()=>{let r=t.autorun(e);return()=>r.destroy()}))},e.createWatcher=function(e,r){let[i,a]=(0,n.createSignal)(null==r?void 0:r.fallback);return l((function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];let o=t.Watcher((()=>e(...n)));return o.on_value(a),()=>o.destroy()}),null==r?void 0:r.inputs),i},e.onAfterMount=l,Ue();var t=s(qa()),r=s(ot()),n=(Ca(),p(xn)),i=function(e){return e&&e.__esModule?e:{default:e}}(Dh()),a=it();function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function l(e,t){(0,n.createEffect)((()=>{var o;let s,l=!1,_=null!=(o=null==t?void 0:t.map((e=>e())))?o:[];if(r.running_test()){let t=(0,n.useContext)(i.default);if(null==t)throw new a.UnexpectedError("Invalid test state while running solid test");t.afterMounts.push((()=>{s=e(..._)}))}else Promise.resolve().then((()=>{l||(s=e(..._))}));(0,n.onCleanup)((()=>{var e;null==(e=s)||e(),l=!0}))}))}})),Bh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FIRST_DIVIDER=e.EditorContext=void 0;var t=(Ca(),p(xn)),r=Symbol("FIRST");e.FIRST_DIVIDER=r;var n=(0,t.createContext)();e.EditorContext=n;var i=n;e.default=i})),qh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){let o=e.instance;if(o.edit_mode()){let e=o.element.E.edit_fallback_component;if(null!=e){let n=Object.create(o.element);n.should_add_extra_wrapper=()=>!1;let i=e.buildComponent(n,void 0);return(0,r.onMount)((()=>{o.is_drawn||(o.mark_skeleton_ready(),o.initialize_canvas())})),(0,t.createComponent)(i,{instance:o})}}let s=o.element.added_to_container();if(null==o.canvas){let e=o.edit_mode()?"inner-element":`bubble-element ${o.element.type()}`,t=o.get_html();o.canvas=$(t),o.canvas.addClass(e),o.edit_mode()&&o.canvas.attr("id",o.element_id().replace(/[^a-zA-Z0-9]/g,"_")),o.canvas[0].bubble_data={bubble_instance:o},o._observe_canvas()}if((0,a.onAfterMount)((()=>{let e=o.canvas;!s&&!o.thumbnail_mode()&&o.position_canvas(e),o.has_skeleton||o.create_child_skeletons();let t=[];return!o.edit_mode()&&s&&t.push(o.autorun((()=>{e.css(n.default.element_reset),e.css(o.container.element_css(o))})),o.autorun((()=>{e.css("z-index",o.element.get_zindex())})),o.autorun((()=>{o.get_static_property("collapse_when_hidden")?o.autorun((()=>{o.container.should_collapse(o)?e.css("display","none"):e.css("display","")})).set_run_immediately(!0):e.css("display","")}))),o.edit_mode()&&!o._is_visible_me&&o._hide_me(),o.mark_skeleton_ready(),o.is_drawn||o.initialize_canvas(),o.get_children_drawn_key().turn(),()=>{t.forEach((e=>{e.destroy()}))}})),o.edit_mode()){let e=(0,r.createMemo)((()=>({...o.container.element_css(o),"z-index":o.element.get_zindex(),display:o.get_static_property("collapse_when_hidden")&&o.container.should_collapse(o)?"none":""}))),n=(0,r.useContext)(i.EditorContext).wrapper;return(0,t.createComponent)(n,{instance:o,get style(){return e()},get children(){return o.canvas[0]}})}return s?o.canvas[0]:document.createTextNode("")},Ft();var t=(kh(),p(vf)),r=(Ca(),p(xn)),n=function(e){return e&&e.__esModule?e:{default:e}}(df()),i=Bh(),a=jh()})),Uh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.RenderElement=function e(s){var l;let _=s.instance;if(!_.is_solid_initialized)return void n.warn(`Attempting to render an element which doesn't have solid initialized. ${_.toUniqueString()}`);(null!=_.element.solid_component||0===_.children.length)&&(0,i.onAfterMount)((()=>_.mark_skeleton_ready()));let u=null!=(l=_.element.solid_component)?l:a.default,c=()=>_.child_container?(0,t.createComponent)(u,(0,t.mergeProps)(s,{get children(){return _.children.map((r=>(0,t.createComponent)(e,{instance:r})))}})):(0,t.createComponent)(u,s);if(_.thumbnail_mode()){let[e]=(0,r.createResource)((async()=>await(0,o.run_once)(30,(()=>{var e,t;return _.element.raw(),null==(e=(t=_.element.E).custom_definition)||e.call(t).raw(),!0}))));return _.element.E.use_legacy_in_thumbnail&&(c=()=>(0,t.createComponent)(a.default,s)),(0,t.createComponent)(r.Show,{get when(){return e()},get children(){return c()}})}return(0,r.untrack)((()=>_.draw_signal.get()))?c():(0,t.createComponent)(r.Show,{get when(){return _.draw_signal.get()},get children(){return c()}})},Ue();var t=(kh(),p(vf)),r=(Ca(),p(xn)),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(Kt()),i=jh(),a=function(e){return e&&e.__esModule?e:{default:e}}(qh()),o=qa();function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}})),Wh=u(((e,t)=>{"use strict";f(),R_(),Ue();var r,n,i,a=(kh(),p(vf)),o=(Ca(),p(xn)),s=D(Nl()),l=I(Kt()),_=I(cl()),u=D(Pl()),c=D(ff()),d=I(af()),h=D(Xh()),g=I(Th()),m=I(Nh()),v=D(zh()),y=D(Pp()),b=D(T_()),w=I(Ih()),A=D(qr()),E=D(Qp()),M=D(Vt()),x=D(Po()),O=D(fl()),k=nt(),S=qa(),T=$a(),N=it(),C=Dr(),L=I(Zt()),P=dt(),R=Uh();function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(z=function(e){return e?r:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=z(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function D(e){return e&&e.__esModule?e:{default:e}}var j=function(e){return e.RUN="run",e.EDIT="edit",e.THUMBNAIL="thumbnail",e.RESPONSIVE="responsive",e.REUSABLE_EDIT="reusable_edit",e}(j||{}),B=Object.values(j),q={NONE:0,CONSTRUCTED:1,REGISTERED:2,HAS_SKELETON:4,DRAWN:8,CHILDREN_REGISTERED:16,CHILDREN_DEFERRED:32,CHILDREN_DRAWN:64,SOLID_INITIALIZED:128,CHILDREN_BEING_REGISTERED:256},U={};var W=(r=u.default.cached({type:u.default.RUN_MODE}),(i=class e{constructor(e,t){if(this.element=void 0,this.mode=void 0,this.status=void 0,this.canvas=void 0,this._parent=void 0,this.container=void 0,this.child_container=void 0,this.__to_string=void 0,this._destroy_fns=[],this._watchers={},this._created_watchers={},this._msg_handlers={},this._states={},this._has_been_hidden=null,this._has_become_visible=void 0,this._is_visible=null,this._is_visible_cbs=[],this._first_draw_cbs=[],this._is_drawing=!1,this._is_visible_dependency=(0,T.Dependency)(),this.repeating_layout_type=void 0,this.repeating_group_layout=void 0,this.table_element_layout=void 0,this.activeTimeouts=void 0,this._setting_visible=!1,this._is_animating_me=!1,this._instance_opacity=void 0,this._is_animating=!1,this._is_animating_dependency=void 0,this.__is_visible_me=!1,this._is_visible_me_dependency=void 0,this.evaluating_visibility=!1,this._wait_for_visible_polls=0,this._destroy_started=void 0,this._id_namespace=void 0,this._our_children_registered=void 0,this._our_skeleton_ready=void 0,this._is_ready_key=void 0,this._our_children_drawn=void 0,this.__dimension_box_width=void 0,this.__dimension_box_height=void 0,this._sizing_setup=!1,this._p_context=void 0,this._children=void 0,this.draw_signal=void 0,this._old_width=void 0,this._transforms=void 0,!B.includes(t))throw new N.UnexpectedError("unrecognized: "+t);this.element=e,this.mode=t,this.status=q.CONSTRUCTED,t!==j.RUN&&(this._children=[]),g.record_lifecycle(g.LifecycleEvent.Constructed),this.__to_string="ElementInstance:"+this.element.type(),this._has_become_visible=(0,C.MakeKey)(void 0,"Become Visible Key"),this._is_visible_me=(0,S.autorun_top)((()=>this.element.is_visible_on_page_load())),this.state("current_width",(e=>(e.setup_sizing(),e.state("current_width")))),this.state("current_height",(e=>(e.setup_sizing(),e.state("current_height"))))}_set_immediate(e){setImmediate(e)}_update_visible(){let e=!0;if(this.container)if(this._is_visible_me){let t=this.parent();if(t&&(!t._is_visible||t._setting_visible)&&(this.element.added_to_container()||"GroupItem"===this.element.type())&&(e=!1),"TableCell"===this.element.type()){let t=this.find_instance_by_id_no_retry(this.get_static_property("cell_main_axis_id"));t&&(!t._is_visible||t._setting_visible)&&(e=!1)}}else e=!1;else e=!1;if(e!==this._is_visible){this._is_visible=e,this._setting_visible=!0;let n=this._is_visible_cbs;this._is_visible_cbs=[],(0,S.autorun_top)((()=>{for(let e of n)e()})),e&&this._has_become_visible.turn(),this._setting_visible=!1;for(let e of this.current_children)e._update_visible();if("TableMainAxis"===this.element.type()){var t,r;let e=null!=(t=null==(r=this.parent())?void 0:r.children.filter((e=>"TableCrossAxis"===e.element.type())))?t:[];for(let t of e)for(let e of t.children.flatMap((e=>"TableCell"===e.element.type()?[e]:e.children)))e.get_static_property("cell_main_axis_id")===this.element_id()&&e._update_visible()}this._is_visible_dependency.invalidate()}}set_animating(e){this._is_animating_me!==e&&(this._is_animating_me=e,this._update_animating())}_update_animating(){var e;let t=this._is_animating_me||(null==(e=this.parent())?void 0:e._is_animating);if(this._is_animating!==t){var r;this._is_animating=!!t;for(let e of this.current_children)e._update_animating();null==(r=this._is_animating_dependency)||r.invalidate()}}is_animating(e){e||(null!=this._is_animating_dependency||(this._is_animating_dependency=(0,T.Dependency)()),this._is_animating_dependency.register());return this._is_animating}set _is_visible_me(e){var t;this.__is_visible_me=e,null==(t=this._is_visible_me_dependency)||t.invalidate()}get _is_visible_me(){return this.__is_visible_me}is_visible_me(){return null!=this._is_visible_me_dependency||(this._is_visible_me_dependency=(0,T.Dependency)()),this._is_visible_me_dependency.register(),this._is_visible_me}is_visible(e){if(this.evaluating_visibility){let e=this.element.get_name(!0);throw new N.OwnerError(`Recursion when evaluating visibility on element "${e}"`)}return this._update_visible(),e||this._is_visible_dependency.register(),!!this._is_visible}wait_for_visible_lite(e,t){if(!this.is_destroyed()){if(this.thumbnail_mode()&&!t)return void e();if(null==this.canvas)return void this.wait_for_first_draw((()=>this.wait_for_visible_lite(e,t)));this.is_visible(!0)?e():this._is_visible_cbs.push(e)}}notify_width(e){var t,r;this._dimension_box("width",e),null==(t=(r=this.element.E).notify_width)||t.call(r,this,e)}wait_for_visible(e){if(this.is_destroyed())return;if(null==this.canvas)return void this.wait_for_first_draw((()=>this.wait_for_visible(e)));let t=0;if(this.is_visible(!0)){if(this.is_destroyed())return;if(this.canvas.is(":visible"))e();else{let r=new MutationObserver(((r,n)=>{if(this.canvas.is(":visible"))return n.disconnect(),void e();this._wait_for_visible_polls+=1,t+=1,this._wait_for_visible_polls%100==0&&Math.random()<.01&&l.info("poll from wait_for_visible increment of 100",{polls:t,all_polls:this._wait_for_visible_polls,element_name:this.element.get_name(!0),element_type:this.element.type()}),t>=50&&t%50==0&&Math.random()<.05&&l.info("polls from one wait_for_visible call over 50 increment of 50",{polls:t,all_polls:this._wait_for_visible_polls,element_name:this.element.get_name(!0),element_type:this.element.type()})}));r.observe(this.canvas[0],{attributes:!0,childList:!0,attributeFilter:["style"]});let n=this.parent();for(;n&&"Page"!==n.element.type();){let e=n.canvas[0];r.observe(e,{attributes:!0,childList:!0,attributeFilter:["style"]}),n=n.parent()}this.on_destroy((()=>{r.disconnect()}))}}else this.wait_for_visible_lite(this.wait_for_visible.bind(this,e),!0)}ensure_visible(){let e=(0,C.MakeKey)(void 0,"element visible lite key");this.wait_for_visible_lite((()=>e.turn()),!0),(0,C.ensure_ready)(e);let t=(0,C.MakeKey)(void 0,"element visible key"),r=()=>{var e;null!=(e=this.canvas)&&e.is(":visible")&&(this.clearInterval(n),t.turn())},n=this.setInterval(r,150);r(),(0,C.ensure_ready)(t)}setTimeout(e,t){var r;let n=setTimeout((()=>{var t;null==(t=this.activeTimeouts)||t.delete(n),e()}),t);return this.activeTimeouts=null!=(r=this.activeTimeouts)?r:new Set,this.activeTimeouts.add(n),n}clearTimeout(e){var t;null==(t=this.activeTimeouts)||t.delete(e),clearTimeout(e)}setInterval(e,t){var r;let n=setInterval((()=>{var t;null==(t=this.activeTimeouts)||t.delete(n),e()}),t);return this.activeTimeouts=null!=(r=this.activeTimeouts)?r:new Set,this.activeTimeouts.add(n),n}clearInterval(e){var t;null==(t=this.activeTimeouts)||t.delete(e),clearInterval(e)}destroy(){var e,t;if(!this._destroy_started){this._destroy_started=!0,null!=(e=this.canvas)&&e[0].bubble_data&&delete this.canvas[0].bubble_data;for(let e of null!=(r=this.activeTimeouts)?r:[]){var r;clearTimeout(e)}for(let e of this.current_children)e.destroy();for(let e of this._destroy_fns)try{e()}catch(e){l.error("Error running destroy function",{error:(0,N.ensure_bubble_error)(e),element_id:this.element_id()})}this._destroy_fns=[],null==(t=this.canvas)||t.trigger("destroy.dot"),this.canvas="destroyed",this._msg_handlers=void 0,this._watchers=void 0,this.children=void 0,this._is_visible_cbs=[]}}is_destroyed(){return"destroyed"===this.canvas}destroy_started(){return!!this._destroy_started}on_destroy(e){this.is_destroyed()?e():this._destroy_fns.push(e)}get_canvas(){return this.canvas}get_outer_canvas(){var e;return this.edit_mode()?null==(e=this.canvas)?void 0:e.parent():this.canvas}get_children_canvas(){var e,t;return null==(e=(t=this.element.E).get_children_canvas)?void 0:e.call(t,this)}total_descendants(){return this.children.reduce(((e,t)=>e+t.total_descendants()),this.children.length)}toString(){return this.__to_string}element_id(){return this.element.id()}parent(){var e,t;return null!=(e=this._parent)?e:null==(t=this.container)?void 0:t.get_owner()}split_namespace(){this._id_namespace={},this._id_namespace[this.element_id()]=this}mark_children_registered(){var e;this.status|=q.CHILDREN_REGISTERED,null==(e=this._our_children_registered)||e.turn()}mark_skeleton_ready(){var e,t;(this.status|=q.HAS_SKELETON,null==(e=this._our_skeleton_ready)||e.turn(),this.element.can_defer_drawing())&&(null==(t=this._is_ready_key)||t.turn())}mark_solid_initialized(){var e;(this.status|=q.SOLID_INITIALIZED,this.element.can_defer_drawing())&&(null==(e=this._is_ready_key)||e.turn())}mark_drawn(){var e;this.is_drawn||(this.status|=q.DRAWN,g.record_lifecycle(g.LifecycleEvent.Drawn),g.element_counts.element_instances.add(this.element.type(),1),null==(e=this._is_ready_key)||e.turn(),this.run_draw_cbs())}get_skeleton_ready_key(){return this.has_skeleton?(0,C.FakeKey)():(null!=this._our_skeleton_ready||(this._our_skeleton_ready=(0,C.MakeKey)(void 0,`_our_skeleton_ready_${this.toUniqueString()}`)),this._our_skeleton_ready)}get_children_drawn_key(){return null!=this._our_children_drawn||(this._our_children_drawn=(0,C.MakeKey)(void 0,`_our_children_drawn_${this.toUniqueString()}`)),this._our_children_drawn}get_children_registered_key(){return this.children_are_registered?(0,C.FakeKey)():(null!=this._our_children_registered||(this._our_children_registered=(0,C.MakeKey)(void 0,"_our_children_registered")),this._our_children_registered)}get_is_ready_key(){return this.is_ready?(0,C.FakeKey)():(null!=this._is_ready_key||(this._is_ready_key=(0,C.MakeKey)(void 0,"_self_ready")),this._is_ready_key)}get_namespace(){var e,t;return null!=(e=this._id_namespace)?e:null==(t=this.parent())?void 0:t.get_namespace()}add_to_namespace(e,t){null!=t||(t=e.element_id());let r=this.get_namespace();null!=r&&(r[t]=e)}child_namespace_prefix(){let e=this.parent();return e?this._id_namespace?this.toUniqueString()+":":e.child_namespace_prefix():""}toUniqueString(){var e,t;return(null!=(e=null==(t=this.parent())?void 0:t.child_namespace_prefix())?e:"")+this.element_id()}dehydrate(){var e,t;return null==(e=y.default.dehydrate_context)||null==(t=e.instance)||t.call(e,this),O.default.dehydrate_prefix(_.ELEMENT_INSTANCE_DEHYDRATE)+this.toUniqueString()}try_register(e,t){var r;let n=this.find_instance_by_id_no_retry(e.id());if(null==n){let t=e.parent();null!=t&&(n=this.try_register(t,e.id()))}var i,a,o;return null==(r=n)||r.register_children(),null!=t&&null!=(i=null==(a=n)||null==(o=a.get_namespace())?void 0:o[t])?i:null}find_instance_by_id(e){if(!e||!this.get_namespace())return null;let t=this.find_instance_by_id_no_retry(e);if(t){if(t.is_ready)return t;(0,C.ensure_ready)(t.get_is_ready_key())}let r=e.includes("_group_item_")?x.default.element(e.split("_group_item_")[0]):x.default.element(e).parent();null!=r&&x.default.has_feature_enabled("defer_element_instances")&&queueMicrotask(this.try_register.bind(this,r));let n=[];for(;r;){r.draws_own_children()&&n.push(r.id());let e=this.find_instance_by_id_no_retry(r.id());e&&(0,C.ensure_ready)(e.get_children_registered_key(),!1),r=r.parent()}if(n.length>0){let e=this.parent();for(;null!=(null==(i=e)?void 0:i.parent());){var i;let t=e.parent().element;t.draws_own_children()&&n.includes(t.id())&&(0,C.ensure_ready)(e.get_children_registered_key()),e=e.parent()}}return"TableMainAxis"===(null==t?void 0:t.element.type())?t:null}find_instance_by_id_no_retry(e){let t=this;do{let r=t.get_namespace();if(null!=r&&r[e])return r[e];t=t.parent()}while(t);return null}get_visible_instances(){let e={},t=this.get_namespace();s.default.object_entries(t).forEach((t=>{let[r,n]=t;e[r]=n}));let r=this.parent();for(let t of null!=(n=null==r?void 0:r.get_visible_instances())?n:[]){var n,i;null!=e[i=t.element_id()]||(e[i]=t)}return Object.values(e)}get_static_property(e,t){return this.element.get_styleable_static_property(e,t)}get_styleable_static_property(e,t){return this.element.get_styleable_static_property(e,t)}_dimension_box(e,t){var r;let n=`__dimension_box_${e}`,i=null!=(r=this[n])?r:this[n]=(0,S.Box)(null!=t?t:this.element[`get_${e}`]());if(null==t)return i();i(t)}_observe_canvas(){this._sizing_setup&&(m.observe(this.canvas[0],(0,v.default)((e=>{e.borderBoxSize&&e.borderBoxSize.length>0?(this.state("current_width",e.borderBoxSize[0].inlineSize),this.state("current_height",e.borderBoxSize[0].blockSize)):(this.state("current_width",e.target.offsetWidth),this.state("current_height",e.target.offsetHeight))}),50,{leading:!0,trailing:!0,maxWait:100})),this.on_destroy((()=>m.unobserve(this.canvas[0]))))}setup_sizing(){this._sizing_setup||(null!=this.canvas&&document.contains(this.canvas[0])?(this.state("current_width",this.canvas.outerWidth()),this.state("current_height",this.canvas.outerHeight())):(this.state("current_width",0),this.state("current_height",0)),this._sizing_setup=!0,this.canvas&&this._observe_canvas())}current_width(){return this.state("current_width")}current_height(){return this.state("current_height")}get_injected_context(e,t){var r;let n=null!=(r=this.prop_eval_context())?r:{element:this,datasources:{}};return{...n,datasources:{...n.datasources,injected_value:()=>e,injected_value_btype:()=>t}}}prop_eval_context(e){return this._p_context||(this._p_context={element:this,datasources:b.default.get_basic_datasources(this.element.root()),random_seed:Math.random()}),e&&(this._p_context.random_generator=new L.Random(this._p_context.random_seed)),this._p_context}on_run_eval_error(e,t){l.log((0,N.ensure_bubble_error)(t).extend({element_instance:(0,k.to_loggable)(this),prop_name:e}))}autorun(e,t){let r=(0,S.autorun)((()=>this._run_if_not_destroying(e)),t);return this.on_destroy((()=>r.destroy())),r}_run_if_not_destroying(e){if(!this._destroy_started)return e()}message(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.supports_message(e)||l.error("Element does not support message name",{element_type:this.element.type(),name:e}),(0,S.autorun_top)((()=>{var t;let n=null!=(t=this._msg_handlers[e])?t:[];for(let e of n)e(...r)}))}supports_message(e){var t,r,n;return this.element.get_messages().includes(e)||(null!=(t=null==(r=(n=this.element.E).get_private_messages)?void 0:r.call(n,this.element))?t:[]).includes(e)}get_messages(){return this.element.get_messages()}on_message(e,t){var r,n;(null!=(n=(r=this._msg_handlers)[e])?n:r[e]=[]).push(t)}state(e,t,r){var n,i;let a=null!=(i=(n=this._states)[e])?i:n[e]=(0,S.Box)(void 0);if(void 0===t){let e=a();return"function"!=typeof e||r?e:e(this)}t===d.STATE_NOT_READY?a(void 0,!0):a(t)}responsive_mode(){return this.mode===j.RESPONSIVE}thumbnail_mode(){return this.mode===j.THUMBNAIL||this.mode===j.REUSABLE_EDIT}reusable_edit_mode(){return this.mode===j.REUSABLE_EDIT}edit_mode(){return this.mode===j.EDIT}run_mode(){return this.mode===j.RUN}is_secure(){var e,t;return!(null==(e=(t=this.element.E).is_secure)||!e.call(t,this))}is_self_nested_custom(){let e=this.element.get_static_property("custom_id");if(!e)return!1;let t=this.parent();for(;t;){if(t.element.id()===e||t.element.get_static_property("custom_id")===e)return!0;t=t.parent()}return!1}get is_registered(){return!!(this.status&q.REGISTERED)}get has_skeleton(){return!!(this.status&q.HAS_SKELETON)}get is_drawn(){return!!(this.status&q.DRAWN)}get is_solid_initialized(){return!!(this.status&q.SOLID_INITIALIZED)}get is_ready(){return this.element.can_defer_drawing()?this.has_skeleton||this.is_solid_initialized:this.is_drawn}get children_are_registered(){return!!(this.status&q.CHILDREN_REGISTERED)}get children_being_registered(){return!!(this.status&q.CHILDREN_BEING_REGISTERED)}get children_are_drawn(){return!!(this.status&q.CHILDREN_DRAWN)}register(e){this.register_self(e),this.register_children_deep()}register_self(e){var t,r;if(!this.is_registered){var n;if(this._parent=e,[j.RUN,j.EDIT,j.REUSABLE_EDIT].includes(this.mode))null==(n=this.parent())||n.add_to_namespace(this);null==(t=(r=this.element.E).register)||t.call(r,this),this.status|=q.REGISTERED,g.record_lifecycle(g.LifecycleEvent.Registered)}}register_children_deep(){(!this.run_mode()||!x.default.has_feature_enabled("defer_element_instances")||w.mustRegisterId(this.element_id()))&&(this.register_children(),this.children.forEach((e=>e.register_children_deep())))}register_children(){this.children_are_registered||this.children_being_registered||(this.status|=q.CHILDREN_BEING_REGISTERED,this.element.E.register_children?(this._children=[],this.element.E.register_children(this),this.status|=q.CHILDREN_REGISTERED):this._default_register_children(this.element.elements()))}_default_register_children(t){this._children=[];for(let r of t)if(r.exists()&&(!this.thumbnail_mode()||r.is_visible_on_page_load())){let t=new e(r,this.mode);this.children.push(t),t.register_self(this)}this.mark_children_registered()}get children(){return this._children||(0,S.autorun_top)((()=>this.register_children())),this._children}set children(e){this._children=e}get current_children(){var e;return null!=(e=this._children)?e:[]}set_containers(e){if(!this.is_solid_initialized){this.container=e,this.mark_solid_initialized(),this._update_visible();let[r,n]=(0,o.createSignal)(!1);var t;if(this.draw_signal={get:r,set:n},this.element.solid_component)if(this.element.can_have_children()&&(!this.element.draws_own_children()||this.thumbnail_mode()&&null!=(t=this._children)&&t.length)){let e=this.container.create_child(this);this.child_container=e,(0,C.WaitFor)(this.get_children_registered_key(),(()=>{for(let t of this.children)t.set_containers(e);this.children.sort(e.layout().sort_fn)}))}else this.children=[]}}create_skeleton(e){this.has_skeleton?l.warn("Attempting to create skeleton for an element that already has one! "+this.toUniqueString()):(this.container=e,this.canvas=this.container.render(this.get_html()),this.canvas.addClass(this.element.type()),this._is_visible_me||this._hide_me(),this._observe_canvas(),M.default.run_mode_ids&&this.run_mode()&&this.canvas.attr("id",function(e){if(null==U[e])return U[e]=0,e;{let t=e+"_"+String(U[e]);return U[e]++,t}}(this.element_id())),"function"!=typeof this.element.E.position_canvas||this.thumbnail_mode()?this.container.add(this):this.position_canvas(),this.create_child_skeletons(),this.mark_skeleton_ready())}create_child_skeletons(){var e;if(this.element.E.create_child_skeletons)this.element.E.create_child_skeletons(this);else{if(null!=(e=A.default.or_throw().element)&&e.new_rendering){let e=this.element.E.custom_definition;if(null!=e&&e().get_responsive_version()>0){let e=this.container.create_child(this,this.get_children_canvas());this.child_container=e;for(let t of this.children)t.set_containers(e);return this.children.sort(e.layout().sort_fn),void(0,a.render)((()=>this.children.map((e=>(0,a.createComponent)(R.RenderElement,{instance:e})))),e.container_canvas[0])}}if(this.element.can_have_children()){let e,n=this.get_children_canvas(),i=this.container.create_child(this,n);if(this.child_container=i,this.element.is_responsive_v1()){let t=c.default.LAYOUT_PROPERTIES[this.element.container_layout()];e=this.children.sort(t.sort_fn)}else{var t,r;null==(t=(r=this.element.E).initialize_container_width)||t.call(r,this,i),e=this.children}for(let t of e)t.create_skeleton(i);i.initialize()}}}wait_for_first_draw(e){this.is_drawn?e():this._first_draw_cbs.push(e)}with_canvas(e){this.ensure_drawn(),this.wait_for_first_draw((()=>{e(this.canvas)}))}start_draw_tree(){w.watchDraw(this,{onDraw:e=>{let t=g.get_current_phase()===g.DrawPhase.InitialDraw?g.DrawReason.VisibleOnPageLoad:g.DrawReason.BecameVisible;e.do_draw(t)},onSizeDraw:e=>{e.do_size_only_draw()}}),this.handle_individual_draw()}handle_individual_draw(){this.run_mode()?(!this.element.can_defer_drawing()||this.is_solid_initialized&&null==this.element.solid_component&&this.children.length>0)&&this.do_draw(g.DrawReason.CantDefer):this.do_draw(g.DrawReason.DeferFlagOff),this.start_child_drawing()}do_size_only_draw(){if(this.is_drawn)return;let e;e=this.element.E.attempt_size_only_draw?!this.element.E.attempt_size_only_draw(this):!this.element.no_size_when_hidden(),e&&this.do_draw(g.DrawReason.SizeNeeded)}run_draw_cbs(){let e=this._first_draw_cbs;this._first_draw_cbs=[];for(let t of e)t()}setup_canvas_hooks(){this.canvas[0].bubble_data={bubble_instance:this};let e=A.default.or_throw().workflow.debugger;e&&((0,P.is_on_mobile_or_tablet)()||(this.canvas.on("mouseenter.debugger",(()=>e.element_hovered(this))),this.on_destroy((()=>this.canvas.off("mouseenter.debugger")))),this.canvas.on("click.debugger",(t=>{e.element_clicked(this,this.get_partial())&&t.stopPropagation()})),this.on_destroy((()=>this.canvas.off("click.debugger"))))}initialize_canvas(){var e;null==(e=this.element.root())||e.get_responsive_version(),this.initialize(),this.setup_canvas_hooks(),this.mark_drawn()}do_draw(e){this.is_drawn||this._is_drawing||(g.with_draw_reason(e,(()=>{var t,r;(this._is_drawing=!0,L.count("draw children element created: "+this.element.type()),this.is_solid_initialized)?(null==(t=this.draw_signal)||t.set(!0),null==(r=this.parent())||r.do_draw(e)):this.initialize_canvas()})),this._is_drawing=!1)}start_child_drawing(){var e,t,r;if(null!=(e=A.default.or_throw().styles_editor)&&null!=(t=e.element_styles_editor())&&null!=(r=t.owner)&&r.is_active())return;if(this.element.draws_own_children()&&this.element.E.draw_children)return this.element.E.draw_children(this),void(this.status|=q.CHILDREN_DRAWN);if(this.children_are_drawn)return;let n=()=>{for(let e of this.children)e.element.added_to_container()?e.handle_individual_draw():e.start_draw_tree()};this.child_container?(0,C.WaitFor)(this.get_children_registered_key(),n):this.children.length>0&&(0,C.WaitFor)(this.get_skeleton_ready_key(),n),this.status|=q.CHILDREN_DRAWN,this.get_children_drawn_key().turn()}ensure_drawn(){if(this.is_drawn)return;let e=()=>{this.do_draw(g.DrawReason.Unknown),this.start_child_drawing()};this.is_solid_initialized?(0,o.batch)(e):e()}get_partial(){return E.default.make_partial_expression_evaluator(this.prop_eval_context())}set_height(e,t){this.destroy_started()||(this._dimension_box("height",e),this.container.set_height(this,e,t))}position_canvas(e){var t,r;null==(t=(r=this.element.E).position_canvas)||t.call(r,null!=e?e:this.canvas,this)}attach_to_body(){var e,t,r;return null!=(e=null==(t=(r=this.element.E).attach_to_body)?void 0:t.call(r,this))?e:!this.element.added_to_container()}on_resize(e){var t;if(null!=(t=this.element.root())&&t.use_responsive_algorithm())if(this.run_mode()){let t="resize."+this.element.type()+"-"+this.toUniqueString();$(window).on(t,(()=>{$(window).width()!==this._old_width&&(this._old_width=$(window).width(),e(this._old_width))})),this.on_destroy((()=>$(window).off(t)))}else this.responsive_mode()&&(this.container.on("resize_width",e),this.on_destroy((()=>this.container.removeListener("resize_width",e))))}initialize(){if(this.is_drawn)throw new N.UnexpectedError("can only call initialize once");(0,S.autorun_top)((()=>{this.element.E.initialize(this)}))}get_html(){return this.element.E.get_html(this)}workflow_show(e,t,r){this.element.E.workflow_show?this.element.E.workflow_show(this,e,t,r):this.do_show(e,t,r)}workflow_hide(e,t,r){this.element.E.workflow_hide?this.element.E.workflow_hide(this,e,t,r):this.do_hide(e,t,r)}rendering_using_solid(){return this.is_solid_initialized&&null!=this.element.solid_component&&!(this.edit_mode()&&this.element.E.use_legacy_in_editor)&&!(this.thumbnail_mode()&&this.element.E.use_legacy_in_thumbnail)}_display_me(){if(this.element.is_responsive_v1()){var e;if(this.rendering_using_solid())return;null==(e=this.canvas)||e.css("visibility","")}else{var t;null==(t=this.canvas)||t.css("display","")}}_hide_me(){var e;this.rendering_using_solid()||null==(e=this.canvas)||e.css(this.get_hidden_css())}get_hidden_css(){return this.element.is_responsive_v1()?{visibility:"hidden",display:null}:{display:"none"}}do_show(e,t,r){this.with_canvas((n=>{if(!1===this._has_been_hidden&&!r)return;let i=null==this._has_been_hidden;this._has_been_hidden=!1;let{do_show:a}=this.element.E;if(a)return a(this,e,t,r,i);var o;this._is_visible_me=!0,null==(o=n.velocity)||o.call(n,"stop",!0),r?h.default.perform_animate_in(this,e,t):(this._display_me(),this._update_visible())}))}do_hide(e,t,r){if(!0===this._has_been_hidden&&!r)return;let n=null==this._has_been_hidden;this._has_been_hidden=!0;let i=this.element.E.do_hide;if(i)i(this,e,t,r,n);else if(r)this.with_canvas((r=>{var n;null==(n=r.velocity)||n.call(r,"stop",!0),h.default.perform_animate_out(this,e,t)}));else{var a,o;null==(a=this.canvas)||null==(o=a.velocity)||o.call(a,"stop",!0),this._hide_me(),this._is_visible_me=!1,this._update_visible()}}register_workflows(e){for(let t of e){let e=t.register(this);null!=e&&this.on_destroy(e)}}can_register_workflows(){var e,t,r,n;return null!=(e=null==(t=(r=this.element.E).can_register_workflows)?void 0:t.call(r,this))?e:null==(n=this.parent())?void 0:n.can_register_workflows()}get_transition_styling(){var e;let t=this.element.E,r=null!=(e=this.element.field_names())?e:{};return Object.keys(r).map((e=>{var r;if(null!=(r=t.transition_properties)&&r[e]){let r=this.element.transition(e);var n;if(null!=r&&r.exists())return`${null==(n=t.transition_properties)?void 0:n[r.prop_name()]} ${r.duration()}ms ${r.fn()}`}return""})).filter((e=>""!==e)).join(", ")}get_transition_css(e){let t=this.get_transition_styling();if(t){var r;let n=this.get_canvas(),i=n.prop("outerHTML"),a=null!=(r=e[i])?r:e[i]={};null!=a.target||(a.target=n),a.css_prop?a.css_prop+=", "+t:a.css_prop=t}}show_borders(){var e,t;null==(e=(t=this.element.E).show_borders)||e.call(t,this)}hide_borders(){var e,t;null==(e=(t=this.element.E).hide_borders)||e.call(t,this)}}).modes=j,i.ALL_MODES=B,i.lifecycle_statuses=q,i.rehydrate=function(e,t){var r;let n=t.split(":"),i=null==(r=A.default.or_throw().element)?void 0:r.get_page();for(let e of n){var a;i=null==(a=i)?void 0:a.find_instance_by_id(e)}return i},function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((n=i).prototype,"is_self_nested_custom",[r],Object.getOwnPropertyDescriptor(n.prototype,"is_self_nested_custom"),n.prototype),n);t.exports=W})),$h=u(((e,t)=>{"use strict";f(),Ue(),Ze();var r=o(Wh()),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(af()),i=o(Fr());function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e){return e&&e.__esModule?e:{default:e}}var s=class e extends r.default{constructor(e){super(e,r.default.modes.RUN),this.cached_server_props={},this.dynamic_catcher=!1,this._server_states=void 0}state(e,t,r){if(null!=this._server_states||(this._server_states={}),void 0!==t)return void(this._server_states[e]=t);this.dynamic_catcher=!0;let i=this._server_states[e];if(i===n.STATE_NOT_READY&&i!==t)throw Error();return"function"!=typeof i||r?i:i()}compute_properties(t){let r=this.element.E;if(r.solid_component){if(this.container=t,this._update_visible(),this.mark_solid_initialized(),this.children=[],this.element.can_have_children())if(r.create_server_children)r.create_server_children(this);else{let t=this.container.create_child(this);i.default.incremental_for_each(this.element.elements(),(t=>{t.exists()&&this.children.push(new e(t))})),this.child_container=t}return r.solid_component.computeProperties(this)}return null}find_instance_by_id(e){if(null==e)return null;let t=this.get_namespace();if(null==t)return null;if(null!=t[e])return t[e];let r=this.parent();return(null==r?void 0:r.find_instance_by_id(e))||null}is_visible(){return this.dynamic_catcher=!0,this.element.is_visible_on_page_load()}is_visible_me(){return this.dynamic_catcher=!0,this.element.is_visible_on_page_load()}is_animating(){return this.dynamic_catcher=!0,!1}};t.exports=s})),Fh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.eval_property_with_states=function(e,t,r){let n=r.element,i=n.element.states().filter((e=>!e.property(t).is_empty()&&M(n,e)));if(i.length){let e=i[i.length-1];return a.default.eval_property(e,t,r)}return a.default.eval_property(e,t,r)},e.evaluate_property=E,e.get_property_watcher=function(e,t){if(!A(e,t,(()=>w(e,t))))throw new o.UnexpectedError("get_property_watcher called recursively");return e._watchers[t]},e.is_state_on=M,e.on_property_change=function(e,t,r){let n,a=t=>{if(e.element.exists()&&!e.is_destroyed())try{r(t)}catch(e){let r=e instanceof o.NotReadyError&&e.not_ready_key;if(!r)throw e;l.WaitFor(r,(()=>a(t)))}};if("string"==typeof t){if(e.run_mode()){var s;if(n=e.element.get_precomputed(),void 0===n[t])n[t]=null!=(s=e.get_static_property(t,!0))?s:null;if(n[t]!==i.NOT_STATIC_PROP)return void a(n[t])}if(!A(e,t,(()=>w(e,t))))throw new o.UnexpectedError("on_property_change called recursively");return void e._watchers[t].on_value(a)}let u={},c={};if(e.run_mode()){n=e.element.get_precomputed();let r=!1,s=t;for(let t of s){var d;if(void 0===n[t])n[t]=null!=(d=e.get_static_property(t,!0))?d:null;if(n[t]!==i.NOT_STATIC_PROP)u[t]=n[t];else{if(r=!0,!A(e,t,(()=>w(e,t))))throw new o.UnexpectedError("on_property_change called recursively");c[t]=e._watchers[t]}}if(!r)return void a(u)}else{let r=t;for(let t of r){if(!A(e,t,(()=>w(e,t))))throw new o.UnexpectedError("on_property_change called recursively");c[t]=e._watchers[t]}}let p=_.Watcher((()=>{let e={};return Object.entries(c).forEach((t=>{let[r,n]=t;e[r]=n.get()})),Object.entries(u).forEach((t=>{let[r,n]=t;e[r]=n})),e}));p.on_value(a),e.on_destroy((()=>p.destroy()))},e.pre_cache=function(e,t){for(let r of t)E(e,r,!0)},Ue();var t=b(qr()),r=y(Kt()),n=xl(),i=y(af()),a=b(x_()),o=y(it()),s=y(Lr()),l=y(Dr()),_=y(qa()),u=b(M_()),c=y(ot()),d=y(sf()),p=y(gf()),h=b(cf()),g=(y(mf()),b($h()),b(Nt())),m=of();function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function b(e){return e&&e.__esModule?e:{default:e}}function w(e,r){let a=function(e,r){if(t.default.or_throw().is_edit_mode())return e=>d.edit_eval(r,e);{var a;let t;if(null!=e._property_watcher_fns||(e._property_watcher_fns={}),!c.on_server()&&(t=e._property_watcher_fns[r]))return t;let _,u=e.is_styleable_property(r)?e.get_style_if_exists():null,d=e=>e.property_names().includes(r),f=(null!=(a=null==u?void 0:u.states())?a:[]).filter(d),g=h.default.get_mapped_property(e.element_version(!1),e.element_version(!0),r);if(g&&(d=e=>e.property_names().includes(g)),f.push(...e.states().filter(d)),!u||(0,m.allow_overrides_check)(e,r)&&null!=e.definition_or_self.property(r).raw()){var o;let t=e.property(r).json._raw();var s,l;if("Empty"===(null==(o=t)?void 0:o[n.S.type])&&(t=null),_=null==t||"object"!=typeof t?null!=(s=null!=(l=t)?l:e.get_default(r))?s:null:i.NOT_STATIC_PROP,_!==i.NOT_STATIC_PROP&&0===f.length)return _}else if(0===f.length)return u.get_static_property(r);return e._property_watcher_fns[r]=t=>p.run_eval(r,u,f,_,t,e),e._property_watcher_fns[r]}}(e.element,r);if("function"!=typeof a)return _.FakeWatcher(a);let o,s=a;return o="is_visible"===r?_.Watcher((()=>{e.evaluating_visibility=!0;try{return s(e)}finally{e.evaluating_visibility=!1}})):_.Watcher((()=>s(e))),t.default.or_throw().is_edit_mode()||o.on_error((t=>e.on_run_eval_error(r,t))),e.on_destroy((()=>o.destroy())),o}function A(e,t,r){return!!e._watchers[t]||!e._created_watchers[t]&&(e._created_watchers[t]=!0,e._watchers[t]=r(),!0)}function E(e,t,n){var a;if(null==e||e.is_destroyed())return null;if(["height","width"].includes(t)){var _,c;if(0!==(null==(_=e.element.root())?void 0:_.get_responsive_version())&&e.element.uses_css_responsive())return e.state(`current_${t}`);if(!e.edit_mode()&&null!=(c=e.element.root())&&c.use_responsive_algorithm())return e._dimension_box(t)}if(e.run_mode()){let r=e.element.get_precomputed();var d;if(void 0===r[t])r[t]=null!=(d=e.get_static_property(t,!0))?d:null;if(r[t]!==i.NOT_STATIC_PROP)return r[t]}if(!A(e,t,(()=>w(e,t)))){let r=e.element.get_name(!0);throw new o.OwnerError(`Recursion when evaluating property ${t} on element "${r}"`)}if(n)return;let[p,f,h]=e._watchers[t].get_current(!0);return h?void 0:(!u.default.CurrentAutoRun&&!u.default.CurrentNotReadyCatcher&&!(null!=(a=s.Fiber)&&a.current)&&e.run_mode()&&r.error("Calling evaluate_property outside of an autorun or watcher",{name:t}),p?f:void l.throw_not_ready(f))}function M(e,t){let r=`state:${t.toUniqueString()}`;if(!A(e,r,(()=>_.Watcher((()=>a.default.evaluate_state_condition(t,e.prop_eval_context())))))){let t=e.element.get_name(!0);throw new o.OwnerError(`Recursion when evaluating a condition on element "${t}"`)}let[n,i]=e._watchers[r].get_current();return n&&i}g.default.safe_register("./lang/evaluation/element_eval",e)})),Gh=u((e=>{"use strict";f();var t=Lo();e.resize_container_width=function(e,r){function n(){var n,i;return null!=(n=e.element.root())&&n.use_responsive_algorithm()?null!=(i=t.real_inner_width(e.get_canvas()))?i:r:e.element.get_width()}let i=n();var a;i&&(null==(a=e.child_container)||a.resize_width(i));e._set_immediate((()=>{t.wait_for_updates((()=>{let t=n();var r;t&&Math.abs(t-i)>1&&(null==(r=e.child_container)||r.resize_width(t))}))}))}})),Xh=u((e=>{"use strict";f(),Ue(),Ft();var t=Lo(),r=Qt(),n=ot(),i=qr(),a=xl(),o=Il(),s=Dl(),l=rf(),_=Kt(),u=p_(),{S:c}=a,d=Fh(),p=Gh(),h=e;h._use_issue_checker=()=>{var e,t;return null==(e=null==(t=i().visual_edit)?void 0:t.issue_checker_on)||e};var g=[];function m(e){return o.create(o.STATE,e)}h.create_layout_resizing_keylist=function(e){let r=t.MakeKeyList();g.push(r),t.wait_for_updates((()=>{t.WaitFor(r,(()=>{t.array_remove(g,r),e()}))}))},h.add_layout_resizing_key=function(){let e=t.MakeKey(30,"layout_resizing_key");return g.forEach((t=>{t.add_key(e)})),e},h.make_opacity_transition=function(e,n){var i;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=e.get_static_property("opacity",!0);if(null==(null==(i=e.element)?void 0:i.field("opacity"))&&null==o||(a=null==a||""===a?o/100:parseFloat(a),1===a))return n.animation;let s,l="custom_"+a+"_"+n.animation,u=!1;if(n.animation in $.Velocity.RegisterEffect.packagedEffects)s=r.json_deep_copy($.Velocity.RegisterEffect.packagedEffects[n.animation]);else{if(!(n.animation in t.custom_transitions))return _.warn("Could not find animation",{name:n.animation}),n.animation;s=r.json_deep_copy(t.custom_transitions[n.animation])}for(let e of s.calls)"opacity"in e[0]&&("number"==typeof e[0].opacity?(e[0].opacity*=a,u=!0):e[0].opacity.forEach(((t,r)=>{"number"==typeof t&&(e[0].opacity[r]*=a,u=!0)})));return u&&window.$.Velocity.RegisterEffect(l,s),u?l:n.animation},h.perform_animate_in=function(e,r,i){var a,o;let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=e.get_canvas();s||(s=!e.element.E.uses_css_responsive),null!=e._transforms||(e._transforms={}),null!=(a=e._transforms).initial_transform||(a.initial_transform=l[0].style.transform);let _="Dropdown"===e.element.type();null!=(o=e._transforms).initial_opacity||(o.initial_opacity=l[0].style.opacity),e._is_visible_me=!0,e._update_visible(),e._display_me(),e.state("opacity_override",0),l[0].style.opacity=0,h.create_layout_resizing_keylist((()=>{!0!==e._has_been_hidden&&t.run_once(30,(()=>{let a;if(!s)if(e._is_animating)a=e._instance_opacity;else{var o;e._instance_opacity=a,a=(null!=(o=d.evaluate_property(e,"opacity"))?o:100)/100}e.set_animating(!0);let u=l.data("velocity");u&&(u.transformCache={});let c=h.make_opacity_transition(e,r,a);t.velocity(l,c,{...i,complete_cb(){var t;e.set_animating(!1),l[0].style.transform=e._transforms.initial_transform,_&&(l[0].style.opacity=e._transforms.initial_opacity),e._transforms=void 0,e.state("opacity_override",null),!n.running_test()&&((null==(t=e.element.root())?void 0:t.get_responsive_version())<1||!e.element.E.uses_css_responsive)&&p.resize_container_width(e)},display:""})}))}))},h.perform_animate_out=function(e,r,n){var i,a,o;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=e.get_canvas();null==(i=l.velocity)||i.call(l,"stop",!0),null!=e._transforms||(e._transforms={}),null!=(a=e._transforms).initial_opacity||(a.initial_opacity=l[0].style.opacity),null!=(o=e._transforms).initial_transform||(o.initial_transform=l[0].style.transform);let _=l.data("velocity");_&&(_.transformCache={});let u,c={...e.get_hidden_css(),...n,complete_cb:()=>{e.set_animating(!1),l[0].style.transform=e._transforms.initial_transform,l[0].style.opacity=e._transforms.initial_opacity,e._transforms=void 0,e._is_visible_me=!1,e._update_visible(),e.state("opacity_override",null),null==s||s()}};e._is_animating?u=e._instance_opacity:(u=l[0].style.opacity,e._instance_opacity=u,e.state("opacity_override",u)),e.set_animating(!0);let d=h.make_opacity_transition(e,r,u);t.velocity(l,d,c)},h.get_states_from_raw_json=e=>e.child("states").children().filter((e=>e.exists()));var v=/ /g;h.get_short_display=function(e){var t,r;let n=i().load_plugin(i().plugin_prefixes.element+e,!0);return null!=(t=null==n||null==(r=n.display)?void 0:r.replace(v,""))?t:u.get_plugin_and_type(e)[1]},h.find_elements=function(e,t){if(!e)return[];t=o.make_filter(t);let r=o.raw_children(e,c.elements),n=[];for(let e of r)t(e)&&n.push(e),n.push(...h.find_elements(e,t));return n},h.element_find_expressions=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||r[e._raw.id])return[];r[e._raw.id]=!0,t=o.make_filter(t);let n=o.raw_properties(e,(e=>o.new_element(e))),i=n.filter(t),a=n.flatMap((e=>s.expression_find_expressions(e,t))),_=o.raw_children(e,c.states).flatMap((e=>h.state_find_expressions(e,t))),u=o.raw_children(e,c.workflows).flatMap((e=>l.event_find_expressions(e,t))),d=h.find_elements(e).flatMap((e=>h.element_find_expressions(e,t,r)));return[...i,...a,..._,...u,...d]},h.state_find_expressions=function(e,t){if(!e)return[];t=o.make_filter(t);let r=[];function n(e){return t(e)&&r.push(e),r.push(...s.expression_find_expressions(e,t))}let i=o.raw_child(e,c.condition,e);i&&(o.set_owner(i,e,m),n(i));for(let t of o.raw_properties(e,m))n(t);return r}})),Hh=u((e=>{"use strict";f(),Ue();var t=Jt(),r=Qt(),n=Fl(),i=e,a={};i.register_migration=e=>{var t;null!=a[t=e.plugin_name]||(a[t]=[]),a[e.plugin_name].push(e)},i.register_migration({plugin_name:"Action:TriggerCustomEvent",original_path:"properties.workflow_thing",new_path:"properties.arguments.0.arg_value",additional_info:()=>({param_id:t.LEGACY_PARAM_ID})}),i.register_migration({plugin_name:"Action:ScheduleCustom",original_path:"properties.workflow_thing",new_path:"properties.arguments.0.arg_value",additional_info:()=>({param_id:t.LEGACY_PARAM_ID})}),i.register_migration({plugin_name:"Action:TriggerCustomEventFromReusable",original_path:"properties.workflow_thing",new_path:"properties.arguments.0.arg_value",additional_info:()=>({param_id:t.LEGACY_PARAM_ID})}),i.register_migration({plugin_name:"Event:CustomEvent",original_path:"properties.custom_event_data_type",new_path:"properties.parameters.0.btype_id",additional_info:e=>{let r=n.get(e),i=r.is_missing()?"Thing":r.display();return{param_id:t.LEGACY_PARAM_ID,param_name:"Workflow's "+i}}}),i.get_raw_migration=e=>{var t;return null!=(t=a[e])?t:[]},i.get_migration_fn=e=>{let t=a[e];return t?e=>{let n=!1;for(let i of t){let t=e.child_by_path(i.original_path).raw();if(null!=t){n=!0;let a=i.new_path.split("."),o=a[a.length-1],s=i.new_path.substring(0,i.new_path.length-o.length-1);e.child_by_path(s).set(r.extend({[o]:t},i.additional_info(t))),e.child_by_path(i.original_path).set(null)}}return n}:()=>!1}})),Vh=u(((e,t)=>{"use strict";var r,n;f(),Ue();var i=Lo(),a=Il(),o=Pl(),s=qr(),l=Xh(),_=cl(),u=xl(),c=Hh(),d=nf(),p=rf(),{S:h}=u;var g=(r=o.cached({type:o.RUN_MODE}),function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((n=class extends d{constructor(e){var t;super(e=e.to_id());let r=this.type();if(i.is_edit_mode()&&c.get_migration_fn(s().plugin_prefixes.event+r)(this.json),r&&(this.E=s().load_plugin(s().plugin_prefixes.event+r,!0)),null!=this.E||(this.E=function(e){return{_fields:()=>[],field_names:{},display:()=>"[missing: "+e+"]",register(){}}}(r)),this.E.fields&&!this.E.field_names)throw new i.UnexpectedError("missing field_names for "+r);this._field_names=null!=(t=this.E.field_names)?t:{},"object"==typeof this._field_names&&(this._field_names.condition={prop_type:_.EVAL_TYPE.skip}),i.is_edit_mode()&&(this._field_names=i.extend(this._field_names,{event_color:{default:"grey",only_edit_mode:!0},wf_folder:{only_edit_mode:!0}})),l._use_issue_checker()&&this.app().can_run_issue_checker()&&e.register_indexer("issues_list",(()=>{if(s().visual_edit.allow_issue_indexer_runs()){let e=a.new_workflow_item(this.json),t=e.id();if(!t)return;let r=s().apptests.check_issues(e);return[["issues_list",t],i.json_stringify(r)]}}))}find_expressions(e){return a.from_raw_array(this.json,a.new_expression,p.event_find_expressions(a.to_raw(this),e))}is_action(){return!1}is_api_event(){return!1}next(){let e=this.json.child("actions").child(0);return e.exists()?a.new_workflow_item(e):null}all_next(e){let t=this.json.child("actions").children().map((e=>a.new_workflow_item(e)));return a.filter_array(e,t)}get_next_json(){return this.json.child("actions").child(this.json.children().length)}actions(e){return this.all_next(e)}event(){return this}context_element(){var e;return null!=(e=this.my_element())?e:this.owner()}owner(){var e;let t=null==(e=this.json.parent())?void 0:e.parent();if(t)return a.new_element(t)}register(e){return this.E.register(this,e)}deferrable(){var e;return null!=(e=this.E.deferrable)&&e}field_names(){return this._field_names}condition(){return a.new_expression(this.json._child(h.properties)._child(h.condition),this)}}).prototype,"condition",[r],Object.getOwnPropertyDescriptor(n.prototype,"condition"),n.prototype),n);t.exports=g})),Yh=u(((e,t)=>{"use strict";f(),Ue();y_();var r=Vh();t.exports=class extends r{}})),Kh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.PUBLIC_ONLY=e.PRIVATE_ONLY=e.IGNORE_FIELD=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/apiconnectorbase",e);e.IGNORE_FIELD="_ignore";e.PUBLIC_ONLY="public_only";e.PRIVATE_ONLY="private_only"})),Jh=u((e=>{"use strict";f(),Ue();var t=fl(),r=Kl(),n=Po(),i=Lr(),a=qr(),o=e;function s(e,r){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+1===0&&i.optional_pause(),"_id"===e?"function"==typeof(null==r?void 0:r._id)?r._id():Array.isArray(r)?r.map(((t,r)=>s(e,t,r))):r:t.dehydrate_tree(r)}function l(e){return null!=e||(e=[]),"function"==typeof e.all&&(e=e.all()),e.filter((e=>null!=e))}function _(e){return o[e.constraint_type](e.key,e.value,e.opts)}o.and=function(e,t,r){return!!Array.isArray(r)&&{t:"A",a:r.map((e=>_(e)))}},o.and.no_field_required=!0,o.or=function(e,t,r){return!!Array.isArray(r)&&{t:"O",a:r.map((e=>_(e)))}},o.or.no_field_required=!0,o.equals=function(e,t){return null==t?{t:"C",c:e,n:"is_empty"}:{t:"C",c:e,n:"equals",v:s(e,t)}},o.equals_both=(e,t)=>({t:"F",n:"equals_both",a:{col1:e,col2:t}}),o.not_equals=function(e,t){return null==t?{t:"C",c:e,n:"is_not_empty"}:{t:"C",c:e,n:"not_equals",v:s(e,t)}},o["not true"]=e=>o.not_equals(e,!0),o["not equal"]=o.not_equals,o.not_equals_both=(e,t)=>({t:"F",n:"not_equals_both",a:{col1:e,col2:t}}),o.is_empty=e=>({t:"C",c:e,n:"is_empty"}),o.is_not_empty=e=>({t:"C",c:e,n:"is_not_empty"}),o.empty=o.is_empty,o["not empty"]=o.is_not_empty,o.is_true=e=>({t:"C",c:e,n:"equals",v:!0}),o.is_false=e=>({t:"C",c:e,n:"equals",v:!1}),o.contains=function(e,t){return null!=t&&{t:"C",c:e,n:"contains",v:s(e,t)}},o.contains_both=(e,t)=>({t:"F",n:"contains_both",a:{col1:e,col2:t}}),o.in=function(e,t){return 0!==(t=l(t)).length&&{t:"C",c:e,n:"in",v:s(e,t)}},o.not_contains=function(e,t){return null==t?null:{t:"C",c:e,n:"not_contains",v:s(e,t)}},o["not contains"]=o.not_contains,o.not_contains_both=(e,t)=>({t:"F",n:"not_contains_both",a:{col1:e,col2:t}}),o.not_in=function(e,t){return 0===(t=l(t)).length?null:{t:"C",c:e,n:"not_in",v:s(e,t)}},o["not in"]=o.not_in,o["greater than"]=function(e,t){return null==t?null:{t:"C",c:e,n:"greater_than",v:t}},o.gte=function(e,t){return null==t?null:{t:"C",c:e,n:"gte",v:t}},o["less than"]=function(e,t){return null==t?null:{t:"C",c:e,n:"less_than",v:t}},o.lte=function(e,t){return null==t?null:{t:"C",c:e,n:"lte",v:t}},o["text contains string"]=function(e,t){return null==t?null:{t:"C",c:e,n:"contains_string",v:t}},o["not text contains string"]=function(e,t){return null==t?null:{t:"C",c:e,n:"not_contains_string",v:t}},o["text contains"]=function(e,t){return null==t?null:{t:"C",c:e,n:"contains",v:{language:c(),query:t}}},o["not text contains"]=function(e,t){return null==t?null:{t:"C",c:e,n:"not_contains",v:{language:c(),query:t}}},o.contains_all_fields=function(e,t,r){let n;return null==t?null:(n=null!=r&&r.no_language?"simple":c(),{t:"C",c:"_all",n:"contains",v:{language:n,query:t}})},o.contains_all_fields.no_field_required=!0,o.prefix_search=function(e,t,r){let n;return null==t?null:(n=null!=r&&r.no_language?"simple":c(),{t:"C",c:e,n:"prefix",v:{language:n,query:t}})},o.match_phrase_prefix=o.prefix_search;var u={miles:1609.344,kms:1e3,km:1e3};function c(){let e=a().app_language();return d[e]?d[e]:p.includes(e)?e:"simple"}o.geographic_search=function(e,t){if(null==t)return null;let{range:n,unit:i,origin_address:a}=null!=t?t:{};if(null==a||!r.ensure_valid_location(a))return null;let o=a.lng,{lat:s}=a;return{t:"C",c:e,n:"within",v:{lon:o,lat:s,meters:u[null!=i?i:"miles"]*(null!=n?n:1)}}},o.email_prefix_search=function(e,t){if(null==t||"string"!=typeof t)return!1;let r={t:"O",a:[]};r.a.push(o.prefix_search("authentication.email.email",t.toLowerCase()));for(let e of n.get_oauth_providers())r.a.push(o.prefix_search("authentication."+e+".email",t.toLowerCase()));return r},o.email_prefix_search.no_field_required=!0,o.email_equals=function(e,t){if(null==t||"string"!=typeof t)return!1;let r={t:"O",a:[]};r.a.push(o.equals("authentication.email.email",t.toLowerCase()));for(let e of n.get_oauth_providers())r.a.push(o.equals("authentication."+e+".email",t.toLowerCase()));return r},o.email_equals.no_field_required=!0,o.email_contains_string=function(e,t){if(null==t||"string"!=typeof t)return!1;return{t:"O",a:["authentication.email.email",...n.get_oauth_providers().map((e=>`authentication.${e}.email`))].map((e=>o["text contains string"](e,t.toLowerCase())))}},o.email_contains_string.no_field_required=!0;var d={da_dk:"danish",nl_nl:"dutch",en_us:"english",fi_fi:"finnish",fr_fr:"french",de_de:"german",hu_hu:"hungarian",it_it:"italian",no_no:"norwegian",pt_br:"portuguese",ro_ro:"romanian",ru_ru:"russian",es_es:"spanish",sv_se:"swedish",tr_tr:"turkish"},p=Object.values(d),h=["range_contains","range_greater_than","range_less_than"];["range_contains","range_contained_by","range_overlaps","range_greater_than","range_less_than"].forEach((e=>{var t;o[t=e]=function(e,r){return null!=r&&{t:"C",c:e,n:t,v:r}},h.includes(t)&&(o[t+"_point"]=o[t])}))})),Zh=u((e=>{"use strict";f();var t=jl(),r=Fl(),n=xr(),i=Lr(),a=qr(),o=e;o.build_is_not_contained_by_list=e=>({description:" is not in ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:n.list_type(e),fn:(t,n)=>{let i=r.get(e);return t=i.cast(t),!o.process_list_arg(e,n).contains(t,i)}}),o.process_list_arg=(e,t)=>{var r;return null!=(r=o.cast_to_list(e,t))?r:o.array_to_static_list(e,[])},o.cast_to_list=(e,n)=>t.registry.is(n,t.LIST_WRAPPER)?r.get(n.get_item_btype_id()).matches(e)?n:o.list_get_bubble_null():Array.isArray(n)?o.array_to_static_list(e,n):o.list_get_bubble_null(),o.array_to_static_list=(e,t)=>{let n=r.get(e),o=t.map(((e,t)=>(t%10==9&&i.optional_pause(),n.cast(e)))).filter((e=>null!=e));return a().db_instance().static_list(e,o)},o.list_get_bubble_null=()=>null})),Qh=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_RAW_STRUCT_ID_ENDING=void 0;e.EMPTY_RAW_STRUCT_ID_ENDING="__bubble_originally_empty"})),eg=u(((e,t)=>{f();var r=nu(),n=Qs();t.exports=function(e,t){var i=-1,a=n(e)?Array(e.length):[];return r(e,(function(e,r,n){a[++i]=t(e,r,n)})),a}})),tg=u(((e,t)=>{f();var r=en(),n=Ou(),i=eg(),a=tn();t.exports=function(e,t){return(a(e)?r:i)(e,n(t,3))}})),rg=u(((e,t)=>{f(),t.exports=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i}})),ng=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Nl(),i=Po(),a=Fl(),o=t.exports;function s(e,t,r){return{exists:()=>!0,name:()=>e,field:e=>o.create_fake_field(e,t[e]),fields:()=>n.object_entries(t).filter((e=>{let[t,r]=e;return"object"!=typeof r||r.display})).map((e=>{let[t,r]=e;return o.create_fake_field(t,r)})),no_rename:!0,display:()=>e,privacy_roles:()=>n.object_entries(r).map((e=>{let[t,r]=e;return l(t,r)})),privacy_role(e){if(null!=r&&r[e])return l(e,r[e])}}}function l(e,t){return{get_permissions:()=>t.permissions,condition:()=>({json:()=>({raw:t.condition}),get_eval_value:()=>a.get("sys.bool")})}}o.create_fake_field=function(e,t){let r,n,i;return"object"==typeof t?(i=t.value,r=t.deleted,n=t.display):(i=t,r=!1,n=e),{name:()=>e,raw:()=>!0,value:()=>i,exists:()=>!0,display:()=>n,deleted:()=>r}};var _={run_id:{value:"sys.uid"},charge_user_id:{value:"sys.uid"},status:{value:"sys.uid"}},u=s("Order",r.extend({},_,{amount:{value:"number",display:"Amount"},amount_received:{value:"number",display:"Amount Received (including coupons)"},app_fee:{value:"number",display:"Application Fee"},currency:{value:"sys.uid",display:"Currency"},StripeChargeID:{value:"sys.uid",display:"Charge Id"},captured:{value:"boolean",display:"Captured"},payment_intent_id:{value:"text",display:"Payment intent id"},description:{value:"text",display:"Order description"},charged_user_email:{value:"sys.uid",display:"Email of charged user"},product_name:{value:"text",display:"Product name"},image:{value:"text",display:"Product image"},statement_descriptor:{value:"text",display:"Statement descriptor"},charge_user_action_id:{value:"sys.uid"},charged_user_id:{value:"sys.uid"},charged_user:{value:"sys.uid"},payee_user:{value:"sys.uid"},authorize_only:{value:"boolean"},allow_promotion_codes:{value:"boolean"}})),c=s("SubscriptionOrder",r.extend({},_,{plan_id:{value:"sys.uid",display:"Plan id"},done:{value:"boolean",display:"Subscription was successful"},coupon_id:{value:"sys.uid",display:"Coupon id"},quantity:{value:"number",display:"Quantity"},trial_end:{value:"date",display:"Trial End"},tax_percent:{value:"number",display:"Tax percent"},user_id:{value:"sys.uid"},subscribe_id:{value:"sys.uid"},stringified_properties:{value:"sys.uid"}})),d={used:"boolean",user_id:"custom",token_text:"text",email:"text"},p={everyone:{permissions:{}},no_one:{condition:!1,permissions:{}}},h=s("password_reset",d,p),g=s("magic_link",{used:"boolean",user_id:"custom",email:"text",validity_ms:"number",spage_thing:"text",fpage_thing:"text",succ_page_name:"text",fail_page_name:"text",s_additional_parameters:"text",f_additional_parameters:"text",success_page:"text",failure_page:"text"},p),m=s("confirmation email entry",d,p);o.SPECIAL_TYPES=[u,c,h,m,g],o.SPECIAL_ALL={"Modified Date":"date","Created Date":"date","Created By":"custom",Slug:"text",recurring_scheduling:"json"};var v={StripeCustomerID:"custom",stripeauthtoken:"not_indexed",email:"custom",user_signed_up:"boolean"},y={max_number_of_app:"long"};o.get_special_fields=function(e,t){let r=[o.SPECIAL_ALL];return t&&r.push(t),"user"===e.name()&&(r.push(v),"meta"===i.app().plugin_special()&&r.push(y)),r.flatMap((e=>n.object_entries(e).map((e=>{let[t,r]=e;return o.create_fake_field(t,r)}))))}})),ig=u((e=>{"use strict";f(),e.MISSING_PLUGIN="could not find plugin"})),ag=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Zl(),n=Fl(),i=Nt(),a=ig(),o=Nl(),s=qr(),l=Po(),_=Tt(),u=e;i.safe_register("./core/core_actions/utilities/generic_actions_utilities",u),u.make_pre_process_properties=e=>{let{prop_name:t,thing_btype_id:r}=e;return function(e){let i=n.get(r,{miss_okay:!0}).custom_type();null!=e[t]||(e[t]={});for(let r of Object.values(e[t])){var a,o,s;if(void 0===r)continue;let e;if(i){let t=i.field(r.key).value();e=n.get(t)}var l,_,u,c;if(null!=r.action&&!(null!=(a=e)&&null!=(o=(s=a).inner)&&o.call(s))&&(r.action=null),["add_list","remove_list","set_list"].includes(null==r?void 0:r.action))r.value=(null!=(l=null==(_=r.value)||null==(u=(c=_).all)?void 0:u.call(c))?l:[]).map((e=>{var t,r;return null!=(t=null==e||null==(r=e.all)?void 0:r.call(e))?t:e}))}return e}},u.pre_process_properties=e=>{let{properties:t,prop_name:r,thing_btype_id:n}=e;return u.make_pre_process_properties({prop_name:r,thing_btype_id:n})(t)},u.apply_default_fields=(e,t,r)=>{var i;if("string"!=typeof t)return r;let o;try{o=n.get(t).custom_type()}catch(e){if(-1===String(null==e?void 0:e.message).indexOf(a.MISSING_PLUGIN))throw e;return r}null!=r[e]||(r[e]={});let s=Object.values(r[e]).filter((e=>null==e?void 0:e.key)).map((e=>null==e?void 0:e.key)),l=Object.values(r[e]).length,_=null!=(i=o.default()||o.get_default_fields())?i:{};for(let t of _)!t.deleted&&!s.includes(t.name)&&null!=t.default_val&&(r[e][l]={key:t.name,value:t.default_val},l++);return r},u.change_field_names=function(e){return{changes:{prop_type:e}}},u.get_page=function(e){let t=l.page(e);return null!=t||(t=l.get_page_by_name(e)),t},u.get_velocity_animation_duration=function(e){var r,n,i,a,o;let s=null==(r=$.Velocity)?void 0:r.RegisterEffect.packagedEffects,l=t.custom_transitions;return null!=(n=null!=(i=null==(a=s[e])?void 0:a.defaultDuration)?i:null==(o=l[e])?void 0:o.defaultDuration)?n:300},u.get_data_to_refresh_for_change_action=function(e){let{to_change:t,to_change_value_id:n,changes:i}=e;if(null==t&&s().bubble_version()>=9)return{};let a={};for(let e of o.object_values(i))if(e.key){let i=r.Message({prev:t,message:e.key,prior_btype_id:n});e.action?a[i]=null:a[i]=e.value}return a[r.Message({prev:t,message:"Modified Date",prior_btype_id:n})]=null,a},u.prepare_raw_thing_to_copy=function(e){return e?(delete e["Created By"],delete e["Created Date"],delete e["Modified Date"],delete e.Slug,e):null},u.sub_node_key_to_value=function(e,t){var r;return e&&t?null==(r=e.get_message(t))?void 0:r.ret_btype():null},u.APIEvent_param_prefix="_wf_param_",u.get_run_mode_api_event_name=function(e){if(e&&!s().is_edit_mode()){let t=s().derived("APIWFByName",!0).content();for(let r in t)if(t[r]===e)return r}},u.get_resume_url=function(e,t,r){let n=_.parse(document.location.href,!0);delete n.search;let i=s().workflow.make_resume_key(e,t,r);return i&&(n.query.resume=i),_.format(n)}})),og=u(((e,t)=>{"use strict";f(),Ue();var r=Nt(),n=it(),i=Kt(),a=Nl(),o=od(),s=Fl(),l=Ul(),_=Kl(),u=tg(),c=rg(),d=Po(),p=qr(),h=ng(),g=ag(),m=t.exports;function v(e,t,r){if(e.sort_field!==l.DYNAMIC_SORTING_FIELD)return e.sort_field;if(!e.dynamic_sort_field)return null;let i=s.get(t);if(i.is_missing())return null;let a=e.dynamic_sort_field.toLowerCase(),o=[];if(r){let e=i.custom_type();for(let t of e.fields())o.push({display:t.display(),name:t.name(),value:t.value()});o.push({display:"Created Date",name:"Created Date",value:"date"}),o.push({display:"Modified Date",name:"Modified Date",value:"date"})}else{let e=i.get_messages();for(let t of e)null==(null==t?void 0:t.arg_btype())&&o.push({display:t.description(void 0,!0),name:t.name(),value:t.ret_btype_id()});"created date"===a&&(a="creation date")}let _=m._get_sortable_btypes(r);for(let t of o)if(t.display.toLowerCase()===a){if(!_.includes(t.value))throw new n.OwnerError("The dynamic sort field "+e.dynamic_sort_field+" on the type "+i.display()+" cannot be used for sorting");return t.name}throw new n.OwnerError("Dynamic sort field not recognized",{display:"The dynamic sort field "+e.dynamic_sort_field+" is not recognized as a field on the type "+i.display()})}r.safe_register("./core/core_datasources/utilities/core_ds_db_ops_utilities",m),m._get_sortable_btypes=function(e){let t=["boolean","text","number","date","dateinterval","file","image"];return e&&t.push("geographic_address"),t},m.is_field_okay=function(e,t){let r=s.get(t);if(e===l.RANDOM_SORTING)return!0;let n=r.option_set();if(null!=n&&n.exists())return!("display"!==e&&!n.attribute(e).exists());let a=r.custom_type();return!!([l.ALL_DB_FIELDS,l.UNIQUE_ID].includes(e)||null!=a&&a.exists()&&("email"===e&&"user"===a.id()||a.field(e).exists()||h.get_special_fields(a).map((e=>e.name())).includes(e))||t.startsWith("api")&&r.plugin.get_message_names().includes(e)||r.is_aggregate())||(i.warn("bad field name in search",{field_name:e,value_id:t}),!1)},m.get_sorts_list=function(e,t){let r=[],n=s.get(e.type_to_find),i=n.custom_type(),o=s.get("boolean");if(n.is_missing())return[{sort_field:v(e,e.type_to_find,t),descending:o.cast(e.descending)}];function u(r){let n=v(r,e.type_to_find,t),a=o.cast(r.descending);return null!=i&&i.exists()&&"geographic_address"===i.field(n).value()?n=_.ensure_valid_location(r.geo_reference)?{location_field:n,geo_reference:r.geo_reference}:null:n&&!m.is_field_okay(n,e.type_to_find)?(n=null,a=null):(n===l.RANDOM_SORTING||[null,void 0].includes(n))&&(a=null),{sort_field:n,descending:a}}if(r.push(u(e)),e.sort_field===l.RANDOM_SORTING)return r;for(let t of a.object_values(e.additional_sort_fields))r.push(u(t));return r},m.resolve_constraints=(e,t)=>c(u(null!=e?e:{},(e=>n.error_append_args({entry:e},(()=>{if(e){if(e.key===l.ADVANCED_SEARCH_CONSTRAINT)return e;if(e.key===l.UNIQUE_ID)null!=e.constraint_type||(e.constraint_type="equals");return e.constraint_type?o.get(e.constraint_type).resolve_constraint({entry:e,null_not_dropped:t}):void 0}}))))),m.convert_api_call_to_db_object=function(e,t){let r=s.get(t.value_id);if(!r.plugin.convert_to_bubble_instance)throw new n.UnexpectedError("value "+r.id()+" missing convert_to_bubble_instance",{value_id:r.id(),appname:d.appname(),result:e});if(t.is_list){let n=a.array_from(null!=e?e:[]).map((e=>r.plugin.convert_to_bubble_instance(e)));return p().db_instance().static_list(t.value_id,n)}return r.plugin.convert_to_bubble_instance(e)},m.get_key_value=function(e,t){let r,n,i=t?s.get(t):null;if("email"===e&&"user"===t)r="email";else if([l.ALL_DB_FIELDS,l.ADVANCED_SEARCH_CONSTRAINT,l.UNIQUE_ID,"StripeCustomerID"].includes(e))r=e;else{var a;r=g.sub_node_key_to_value(i,e),n=null!=(a=r)&&a.is_list()?r.inner():r}return{key_value_delisted:n,key_value:r}},m.constraints_without_values=o.all().filter((e=>e.takes_no_value())).map((e=>e.name))})),sg=u(((e,t)=>{"use strict";f();var r=it(),n=og();t.exports=function(e){return function(t,i,a,o,s){if(i)throw new r.UnexpectedError("external.js make_call_fn - This line should be unreachable");if(!t)return this.ret_btype_null();if(e.is_authenticated()){let r=e.execute(t,a,null,o,s);return n.convert_api_call_to_db_object(r,e)}}}})),lg=u(((e,t)=>{"use strict";f(),Ue();var r=tr(),n=Lr(),i=Qt(),a=Sr(),o=Fr(),s=Fl(),l=y_(),_=Jh(),u=Zh(),c=qr(),{EMPTY_RAW_STRUCT_ID_ENDING:d}=Qh(),p=sg();t.exports=class{_fields(){var e,t;return"function"==typeof this.fields?null!=(e=this.fields())?e:{}:null!=(t=this.fields)?t:{}}is_missing(){return!1}flatten_raw(e){if(!e)return{};let t={};for(let[n,l]of Object.entries(this._fields())){let _;if(o.optional_pause_tick(20),l.extract)_=l.extract(e);else if(l.no_key)_=e;else{var r;let t=null!=(r=l.path)?r:[n];_=i.extract_from_object(e,t)}var a;if(l.post_call_processing&&(_=l.post_call_processing(_,e)),l.cast_on_fetch&&null!=_)_=s.get(null!=(a=l.ret_value)?a:"text").cast(_);null!=_&&(t[n]=_)}return n.optional_pause("finished flatten raw"),t}get_bubble_null(){return null}export_to_string(){return"(Data from an API)"}debugging_display(){return"(Data from an API)"}get_message_names(e){null!=e||(e={});let t=Object.keys(this._fields());return e.exclude_special_messages||t.push(...Object.keys(this.get_special_messages())),r.unique(t)}get_message(e){let t=this._fields()[e],r={};if(t||(r=this.get_special_messages(),t=r[e],null!=t))return t.call?function(e){let[t,r]=e.call.split("."),n=l.get_plugin(t).get_call(r),i=(null!=e.caption||a.toTitleCase(r),{ret_btype:n.get_value_id(),fn:p(n)});return n.field_names&&(i.field_names=n.field_names),i.section="Data Fields",i}(t):r[e]?t:this.get_basic_message(e,t)}get_basic_message(e,t){var r,n,i;return{description:"'s "+(null!=(r=t.caption)?r:a.toTitleCase(e)),ret_btype:null!=(n=null!=(i=t.ret_btype)?i:t.ret_value)?n:"text",fields:t.fields,field_names:t.field_names,spot_data:t.spot_data,section:"Data Fields",description_for_sliding_palette:t.description_for_sliding_palette}}get_special_messages(){return this.no_special_messages?{}:{bubble_is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",fn(e,t){var r;let n=c().bubble_version()>=24&&(null==e||null==(r=e.data)?void 0:r._id.endsWith(d));return null==e||""===e||n},build_pg_constraint:_.is_empty},bubble_is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",fn(e,t){var r;let n=c().bubble_version()>=24&&(null==e||null==(r=e.data)?void 0:r._id.endsWith(d));return null!=e&&""!==e&&!n},build_pg_constraint:_.is_not_empty},is_not_contained_by_list:u.build_is_not_contained_by_list(this.full_name)}}}})),_g=u(((e,t)=>{"use strict";f(),Ue();var r=To(),n=Cd(),i=Fl(),a=D_(),o=B_(),s=t_(),l=lg(),_=qr(),{EMPTY_RAW_STRUCT_ID_ENDING:u}=Qh();t.exports=class e extends l{constructor(e,t,r){super(),null!=r||(r={}),this.human=e,this.fields=t,this.fields||(this.fields={},this.no_extract=!0),Object.assign(this,{storable:!0,bindable:!0,is_lookup:!0},r)}display(){return this.human}editable(){return!1}short_id(){return this.name}debugging_display(e){return`(Data with ID "${null==e?void 0:e._id()}" from an API)`}equals(e,t){return(null==e?void 0:e._id())===(null==t?void 0:t._id())}get_sample(){return new n.SampleObject(this.full_name)}cast(e){return e instanceof s?e:"object"==typeof e&&null!=e?new a(e,null,this.full_name):null}get_basic_message(){return Object.assign(super.get_basic_message(...arguments),{is_lookup:!0})}extract(e){if(this.no_extract||"string"==typeof e)return e;let t=this.flatten_raw(e);return t._id||(t._id=r.incremental_digest(t),_().bubble_version()>=24&&!e&&(t._id+=u)),t}convert_to_bubble_instance(t){if(Array.isArray(t)){let e=i.get(this.full_name);if(e.plugin.convert_to_bubble_instance){let r=t.map((t=>e.plugin.convert_to_bubble_instance(t)));return new o(r,void 0,this.full_name)}return new o(t,void 0,this.full_name)}if(null!=t&&"object"==typeof t){let o={};for(let[a,l]of Object.entries(this._fields())){let _=i.get(l.ret_value);if(_.is_list()){let r=_.inner();r.plugin instanceof e?o[a]=r.plugin.convert_to_bubble_instance(t[a]):o[a]=_.cast(t[a])}else{var r,n,s;o[a]=null!=(r=null==(n=(s=_.plugin).convert_to_bubble_instance)?void 0:n.call(s,t[a]))?r:t[a]}}return o._id=t._id,new a(o,void 0,this.full_name)}return this.cast(t)}get_JS_object(e){if(null==e)return null;null!=e.raw&&(e=e.raw());let t={};for(let r of this.get_message_names({exclude_special_messages:!0})){let n=this.get_message(r);t[r]=i.get(n.ret_btype).get_JS_object(e[r])}return t}JS_to_bubble(e){let t={};for(let r of this.get_message_names({exclude_special_messages:!0})){let n=this.get_message(r);t[r]=i.get(n.ret_btype).JS_to_bubble(e[r])}return new a(t,void 0,this.full_name)}}})),ug=u(((e,t)=>{"use strict";f(),Ue(),Ft();var r=Lo(),n=Kt(),i=Lr(),a=Fr(),o=Fl(),s=xr(),l=_g(),_=D_(),u=B_(),c=Kh();t.exports=class e extends l{constructor(e,t,n,i){null!=n||(n={}),super(e,Object.assign(t,{body_raw_text:{extract:e=>r.incremental_json_stringify(e.body),caption:"raw body text",ret_value:"text"}}),n),this.key_prefix=i}get_message_names(){var e;return Object.entries(null!=(e=this._fields())?e:{}).filter((e=>{let[t,r]=e;return r.ret_value!==c.IGNORE_FIELD})).map((e=>{let[t]=e;return t}))}flatten_raw(e){if(!e)return{};let t={},n=this._fields();for(let i in n){let d,p=n[i];if(a.optional_pause_tick(20,`flatten raw call field key (${i})`),p.extract)d=p.extract(e);else if(p.no_key)d=e;else{var l;let t=null!=(l=p.path)?l:[i.replace(this.key_prefix,"")];d=r.extract_from_object(e,t)}if(p.post_call_processing&&(d=p.post_call_processing(d,e)),null!=d&&"function"!=typeof d){if(p.ret_value){let e=o.get(p.ret_value);if(s.is_list(p.ret_value)&&Array.isArray(d)){let t=e.inner();if(t.is_missing())throw new r.OwnerError("Issue with call",{display:"Issue with the call "+this.human+". Please initialize it again"});d=d.map((e=>{var r,n,i;return null!=(r=null==(n=(i=t.plugin).extract)?void 0:n.call(i,e))?r:e}))}else{var _,u,c;if(e.is_missing())throw new r.OwnerError("Issue with call",{display:"Issue with the call "+this.human+". Please initialize it again"});d=null!=(_=null==(u=(c=e.plugin).extract)?void 0:u.call(c,d))?_:d}}t[i]=d}}return i.optional_pause("finished flatten raw"),t}convert_to_bubble_instance(t){let r,i;if(Array.isArray(t)){if(r=[],i=o.get(this.full_name),i.plugin.convert_to_bubble_instance){for(let e of t)r.push(i.plugin.convert_to_bubble_instance(e));return new u(r,void 0,this.full_name)}return new u(t,void 0,this.full_name)}if(null!=t&&"object"==typeof t){r={};let u=this._fields();for(let _ in u){let d=u[_];if(i=o.get(d.ret_value),s.is_list(d.ret_value)&&Array.isArray(t[_])){let n=i.inner();n.plugin instanceof e?r[_]=n.plugin.convert_to_bubble_instance(t[_]):r[_]=i.cast(t[_])}else{var a,l,c;i.is_missing()&&n.owner_error("Missing API connector response type data",{display:`Cannot properly interpret response from API call ${this.human}, please reinitialize the call`}),r[_]=null!=(a=null==(l=(c=i.plugin).convert_to_bubble_instance)?void 0:l.call(c,t[_]))?a:t[_]}}return r._id=t._id,new _(r,void 0,this.full_name)}return t}export_to_string(){return"(data from API connector)"}}})),cg=u((e=>{"use strict";f();var t=Fl(),r=Kh(),n=ug();e.get_btypes_from_call=function(e,i,a,o){for(let e in i.calls){let s=i.calls[e];for(let e in s.types){let i=s.types[e];for(let e in i.fields){let n=i.fields[e];if([null,void 0,r.IGNORE_FIELD].includes(n.ret_value))delete i.fields[e];else{let e;"date_unix"===n.ret_value&&(e=!0,n.ret_value="date"),n.post_call_processing=function(r){let i;return"geographic_address"===n.ret_value?(i=t.get(n.ret_value),i.plugin.cast(r)):"date"===n.ret_value?(e?"number"==typeof r&&(r*=1e3):"number"==typeof r&&String(r).length<10&&(r*=1e3),i=t.get(n.ret_value),i.plugin.cast(r)):r}}}a[e]=new n(i.caption,i.fields,{storable:!0},o)}}}})),dg=u(((e,t)=>{"use strict";var r,n;f(),Ue();var i=Lo(),a=Il(),o=Pl(),s=(Po(),cg()),l=xr(),_=Vh(),u=(r=o.cached({type:o.AUTORUN}),function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((n=class extends _{owner(){return a.create(a.API_WORKFLOWS,this.json.parent())}is_api_event(){return!0}get_custom_parameters(){if("APIEvent"!==this.type())return super.get_custom_parameters();let e="get"===this.get_static_property("trigger_option")&&this.get_static_property("expose");if("auto"!==this.get_static_property("parameter_def")||e){var t,r;let n=this.property("parameters");return(null!=(t=null==(r=n.entries)?void 0:r.call(n))?t:[]).map(((t,r)=>{var n,i;return{param_id:null!=(n=t.get_static_property("key"))?n:`[Missing key: ${r}]`,name:null!=(i=t.get_static_property("key"))?i:`[Missing key: ${r}]`,optional:t.get_static_property("optional"),btype_id:t.get_static_property("is_list")?l.list_type(t.get_static_property("value")):t.get_static_property("value"),in_url:e||t.get_static_property("in_url")}}))}{var n;let{is_list:e}=i.json_parse(null!=(n=this.get_static_property("data_type"))?n:"{}"),t="api_wf_data."+this.id();return[{param_id:"_wf_request_data",name:"_wf_request_data",btype_id:e?l.list_type(t):t}]}}is_exposed(){return this.get_static_property("expose")}creates_session(){return this.actions("SignUp").length>0||this.actions("LogIn").length>0}return_data_actions(){return this.actions("APIReturnData")}wf_name(e){var t,r;return e?null==(t=this.get_static_property("wf_name"))?void 0:t.trim():null==(r=this.get_static_property("wf_name"))?void 0:r.toLowerCase().trim()}get_value(){let e={};if("auto"===this.get_static_property("parameter_def")){var t;let r={calls:{}},{types:n}=i.json_parse(null!=(t=this.get_static_property("data_type"))?t:"{}");r.calls[this.id()]={types:n},s.get_btypes_from_call("api_event",r,e,"_wf_");for(let t in e){let r=e[t];r.name=t,r.full_name="api_wf_data."+t}}return e}}).prototype,"get_value",[r],Object.getOwnPropertyDescriptor(n.prototype,"get_value"),n.prototype),n);t.exports=u})),pg=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Il(),i=Fl(),a=Po(),o=qr(),s=(y_(),Hh()),l=Br(),_=nf(),u=rf();t.exports=class extends _{constructor(e){var t;super(e=e.to_id());let n=this.type();if(r.is_edit_mode()&&s.get_migration_fn(o().plugin_prefixes.action+n)(this.json),n&&(this.A=o().load_plugin(o().plugin_prefixes.action+n,!0)),null!=this.A||(this.A=function(e){return{field_names:{},fields:()=>[],display:()=>"[missing: "+e+"]"}}(n)),!this.A.field_names)throw new r.UnexpectedError("Missing field names for "+n);this._field_names=null!=(t=this.A.field_names)?t:{},"object"==typeof this._field_names&&(this._field_names.condition={})}is_action(){return!0}check_use_visible(){return this.A.check_use_visible}is_mergeable(){return this.A.is_mergeable}can_server_side_redirect(){var e,t;return null==(e=(t=this.A).can_redirect)?void 0:e.call(t,this)}server_side_redirect(e){return this.A.server_side_redirect(this,e)}find_expressions(e){return n.from_raw_array(this.json,n.new_expression,u.find_my_expressions(n.to_raw(this),e))}safe_to_send(){return!this.A.do_not_send_result_to_client}safe_to_log(){return!this.A.do_not_log_result}return_value(){var e,t,r;let n=null!=(e=null==(t=(r=this.A).return_value)?void 0:t.call(r,this))?e:"null";return i.get(n)}_custom_event_actions_requires(e,t){if(!["TriggerCustomEvent","TriggerCustomEventFromReusable"].includes(this.type()))return!1;let r=a.event(this.get_static_property("custom_event"));return!(!r||!r.exists()||t[r.id()])&&(t[r.id()]=!0,r.actions().some((r=>r["requires_"+e](t))))}requires_server(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"function"==typeof this.A.requires_server?this.A.requires_server():!!this.A.server_method||this._custom_event_actions_requires("server",e)}requires_cookies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!this.A.requires_cookies||this._custom_event_actions_requires("cookies",e)}server_method(){return this.A.server_method}terminate_server_workflow(){var e;return null!=(e=this.A.terminate_server_workflow)?e:null!=this.A.server_method_resume}server_method_resume(){return this.A.server_method_resume}display(e){let t=this.get_name();return t&&"string"==typeof t?t:this.A.display(this,e)}use_injected_datasource(e){return this.A.use_injected_datasource?this.A.use_injected_datasource(this,e):[!1,!0]}get_injected_value(e){var t,r;return null==(t=(r=this.A).get_injected_value)?void 0:t.call(r,this,e)}get_injected_display(e){var t,r;return null==(t=(r=this.A).get_injected_display)?void 0:t.call(r,this,e)}next(){var e;let t=parseInt(this.json.name()),r=null==(e=this.json.parent())?void 0:e.child(t+1);return null!=r&&r.exists()?n.new_workflow_item(r):null}all_next(e){let t=parseInt(this.json.name());if(!this.json.parent())return[];let r=this.json.parent().children().slice(t+1).map((e=>n.new_workflow_item(e)));return n.filter_array(e,r)}get_next_json(){var e;let t=parseInt(this.json.name());return null==(e=this.json.parent())?void 0:e.child(t+1)}previous(){var e;let t=parseInt(this.json.name());if(0===t)return this.event();let r=null==(e=this.json.parent())?void 0:e.child(t-1);return null!=r&&r.exists()?n.new_workflow_item(r):null}event(){var e;return n.new_workflow_item(null==(e=this.json.parent())?void 0:e.parent())}context_element(){var e;return null==(e=this.event())?void 0:e.context_element()}field_names(){return this._field_names}get_data_to_refresh(e,t){if(this.A.data_to_refresh&&e.condition)return this.A.data_to_refresh(this,e,t.element)}preprocess_properties(e,t){return this.A.preprocess_properties?l.traceSpan("preprocess action properties",{"workflow.action.id":this.id(),"workflow.action.type":this.type()},(()=>this.A.preprocess_properties(e,this,t))):e}can_fall_back_to_server(){return this.A.fall_back_to_server}does_fall_back_to_server(){return this.A.fall_back_to_server&&this.requires_server()}needs_clientside_properties(){return this.A.run||this.A.data_to_refresh}run(e,t,r){this.A.run?t.callback(((t,n)=>{if(t)this.does_fall_back_to_server()?e.get_server_outcome(this,r):r(t);else try{return e.page_context_id<o().workflow.page_context_id?r():n.condition||this.A.handle_condition_internally?this.A.run(this,n,e,r):r()}catch(e){return r(e)}})):r()}resume(e,t){if(!this.A.resume)return t();try{return this.A.resume(this,e,t)}catch(e){return t(e)}}delete(e){if(!this.exists())return;let t=this.json.raw();o().changes.create_change("RemoveAction",{parent_id:this.previous().id(),id:this.id(),data:t,intent_details:{user_interaction:"Direct Action Delete",user_action:null==e?void 0:e.user_action,parent_user_action:null==e?void 0:e.parent_user_action,parent_id:null==e?void 0:e.parent_id}}).execute()}}})),fg=u((e=>{"use strict";f();var t=Il(),r=qr(),n=Po(),i=nf(),a=Vh(),o=Yh(),s=dg(),l=pg(),_=rf(),u=e;t.add(t.WORKFLOW_OBJECT,i),t.add(t.GENERIC_EVENT,a),t.add(t.EVENT,o),t.add(t.API_EVENT_OBJECT,s),t.add(t.ACTION,l),t.add_generic("workflow_item",(function(e){var t,r;return e?"workflows"===(null==(t=e.parent())?void 0:t.name())?new o(e):"api"===(null==(r=e.parent())?void 0:r.name())?new s(e):new l(e):null})),u.event_find_expressions=_.event_find_expressions,u.get_api_event=function(e){let t=r().derived("APIWFByName",!0).content()[e];if(null!=t||(t=r().derived("APIWFByName").content()[e]),t){var i;let e=n.event(t);if(null!=(i=e.is_api_event)&&i.call(e))return e}return null}})),hg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.toggle_state_edit_mode=e.seen_default_names=e.seen_custom_names=e.is_state_on_edit_mode=void 0;qa();e.seen_custom_names={};e.seen_default_names={}})),gg=u(((e,t)=>{"use strict";var r,n,i;function a(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}f(),Ue();Lo(),qr();var o=Il(),s=Pl(),l=xl(),_=Xh(),{S:u}=l,c=(r=s.cached({type:s.RUN_MODE}),n=s.cached({type:s.RUN_MODE}),a((i=class extends o.AppNode{property(e){return o.new_expression(this.json._gchild(u.properties,l.shrink(e)),this)}get_injected_value(){var e,t;return null==(e=(t=this.context_element().E).get_injected_value)?void 0:e.call(t,this.context_element())}get_injected_display(){var e,t;return null==(e=(t=this.context_element().E).get_injected_display)?void 0:e.call(t)}properties(){return this.json._child(u.properties).child_names().map((e=>this.property(e)))}find_expressions(e){return o.from_raw_array(this.json,o.new_expression,_.state_find_expressions(o.to_raw(this),e))}rel_path(){return"states."+this.json.name()}get_static_property(e){return this.property(e).get_static()}context_element(){return o.new_element(this.json.parent().parent())}root(){return this.context_element().root()}no_margins(){return this.context_element().no_margins()}get_containing_element(){return this.context_element().get_containing_element()}added_to_container(){return this.context_element().added_to_container()}force_fixed(){return this.context_element().force_fixed()}not_resizable(){return this.context_element().not_resizable()}uses_css_responsive(){return this.context_element().uses_css_responsive()}has_fixed_aspect_ratio(){return this.context_element().has_fixed_aspect_ratio()}is_fixed_dimension(e){return this.context_element().is_fixed_dimension(e)}can_be_variable_width(){return this.context_element().can_be_variable_width()}not_max_adjustable(){return this.context_element().not_max_adjustable()}type(){return this.context_element().type()}get_style_if_exists(){return this.context_element().get_style_if_exists()}element_version(e){return this.context_element().element_version(e)}get_type_display(){return this.context_element().get_type_display()}property_names(){return this.json._child(u.properties).children().map((e=>e.name()))}condition(){return o.new_expression(this.json._child(u.condition),this)}}).prototype,"property_names",[r],Object.getOwnPropertyDescriptor(i.prototype,"property_names"),i.prototype),a(i.prototype,"condition",[n],Object.getOwnPropertyDescriptor(i.prototype,"condition"),i.prototype),i);t.exports=c})),mg=u(((e,t)=>{"use strict";f();var r,n=Lo(),i=Kt(),a=qr(),o=Il();t.exports=((r=class extends o.HasProperties{constructor(e,t){super(e),this.owner=t,this.owner||i.error("transition created without owner")}context_element(){var e;return null!=(e=this.owner)?e:o.new_element(this.json.parent().parent())}prop_name(){return this.json.name()}prop_name_display(){var e;let t=this.context_element().fields(!0).find((e=>e.name===this.prop_name()));return t||console.log("could not find property "+this.prop_name()+" on node "+this.context_element()),null!=(e=t.long_caption)?e:t.caption}duration_node(){return this.json.child("duration")}duration(){return this.duration_node().get()}fn_node(){return this.json.child("fn")}fn(){return this.fn_node().get()}find_in_editor(e,t,r){n.run_once(30,(()=>this.context_element()),((i,o)=>{o.find_in_editor_raw((()=>{var r;(null==(r=o.root())?void 0:r.get_responsive_version())>0?a().property_editor.current_tab("appearance"):a().property_editor.current_tab("transitions"),n.wait_for_updates((()=>{e?null==t||t($(`#${this.prop_name()}.transition.section`)):null==t||t()}))}),r)}))}}).transition_fns=["ease","ease-in","ease-out","ease-in-out","linear","step-start","step-end"],r.default_transition={duration:200,fn:"ease"},r)})),vg=u((e=>{"use strict";f();var t=e,r={};t.register_style_property=e=>{r[e]=!0},t.get_style_properties=()=>r,t.is_style_property=e=>!0===r[e]})),yg=u((e=>{"use strict";f(),Ue();var t=sf(),r=e;r.get_default_sizing=e=>{let{width:t,height:r,can_fit_height:n}=e;return{single_width:!0,min_width_css:`${t}px`,horiz_alignment:"flex-start",min_height_css:`${r}px`,fit_height:n,single_height:!n}},r.on_container_layout_change_from_fixed=function(e){let t;t=e.is_root()?r.get_default_root_sizing({width:e.get_width(),height:e.get_height()}):r.get_default_sizing({width:e.get_width(),height:e.get_height(),can_fit_height:e.can_fit_height()});for(let r in t){let n=t[r];e.set_property(r,n)}},r.get_default_root_sizing=e=>{let{width:t,height:r}=e;return{default_width:t,min_width_px:0,min_height_px:r}},r.calculate_flexbox=function(e){let t,r,n,i,a,o,s,{container_height:l,container_width:_,element_data:u,layout_type:c,only_order:d}=e,p={};function f(e){delete e.cross_base,delete e.cross_size,delete e.cross_end,delete e.main_base,delete e.main_size,delete e.main_end,d&&(delete e.margin_left,delete e.margin_right,delete e.margin_top,delete e.margin_bottom)}if("row"===c)a="margin_left",i="margin_right",n="margin_top",r="margin_bottom",t=!0,o=l,s=_;else{if("column"!==c)return p;n="margin_left",r="margin_right",a="margin_top",i="margin_bottom",t=!1,s=l,o=_}let h=[];for(let e in u){let t=u[e],{ih:r,it:n,il:i,iw:a}=t;h.push(e),p[e]="row"===c?{cross_size:r,cross_base:n,cross_end:n+r,main_base:i,main_size:a,main_end:i+a}:{main_size:i,main_base:n,main_end:n+r,cross_base:i,cross_size:a,cross_end:i+a}}if(0===h.length)return p;h.sort(((e,t)=>p[e].cross_base-p[t].cross_base));let g=[],m=null;for(let e of h)null==m||t&&p[e].cross_base>m.end?(m={elements:[e],base:p[e].cross_base,end:p[e].cross_end},g.push(m)):(m.elements.push(e),m.end=Math.max(m.end,p[e].cross_end));let v=0,y=0,b=1;for(let e=0;e<g.length;e++){let t=g[e];t.elements.sort(((e,t)=>p[e].main_base-p[t].main_base));for(let l=0;l<t.elements.length;l++){let _=t.elements[l],u=p[_];u[n]=u.cross_base-v,u[a]=u.main_base-y,l===t.elements.length-1?u[i]=s-u.main_end:u[i]=0,e===g.length-1?u[r]=o-u.cross_end:u[r]=0,y=u.main_end,u.order=b,b+=1,f(u)}v=t.end}return p},r.calculate_nonant=function(e){let{left:t,top:r,width:n,height:i,margins:a,container_width:o,container_height:s}=e;function l(e){let{dist_start:t,dist_end:r}=e;return t<r/2?"a":r<t/2?"c":"b"}return l({dist_start:t-a.left,dist_end:o-(t+n+a.right)})+l({dist_start:r-a.top,dist_end:s-(r+i+a.bottom)})},r.calculate_instance_nonant=function(e,n){let i=e.to_canvas(n),a=i.offset(),o=e.container_corner(),s={};for(let e of["top","left","right","bottom"])s[e]=t.edit_eval(`margin_${e}`,n);return r.calculate_nonant({left:a.left-o.left,top:a.top-o.top,width:i.outerWidth(),height:i.outerHeight(),margins:s,container_width:e.container_canvas.innerWidth(),container_height:e.container_canvas.innerHeight()})},r.calculate_nonants=function(e){let t={};for(let n in e.instances){let i=e.instances[n];i.element.added_to_container()&&(t[n]={nonant_alignment:r.calculate_instance_nonant(e,i)})}return t},r.calculate_fixed_positions=function(e){let t=e.container_corner(),r={};for(let n in e.instances){let i=e.instances[n];if(i.element.added_to_container()){let a=e.to_canvas(i),o=a.offset();r[n]={top:o.top-t.top,left:o.left-t.left,width:parseInt(a.outerWidth()),height:parseInt(a.outerHeight())}}}return r}})),bg=u(((e,t)=>{"use strict";function r(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return window.meta_analytics?window.meta_analytics[e](...n):t}}f(),Object.defineProperty(e,"__esModule",{value:!0}),e.track_with_marketing_metadata=e.track_for_alternate_user=e.track_count=e.track=e.retrieve_utm_from_header=e.reset=e.page=e.package_utm_data=e.manage_utm_data=e.init_segment=e.format_campaign_data=void 0,Ue(),function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./client/analytics",t.exports);var n=r("retrieve_utm_from_header",[]);e.retrieve_utm_from_header=n;var i=r("format_campaign_data",{});e.format_campaign_data=i;var a=r("package_utm_data","");e.package_utm_data=a;var o=r("manage_utm_data",void 0);e.manage_utm_data=o;var s=r("init_segment",void 0);e.init_segment=s;var l=r("reset",void 0);e.reset=l;var _=r("track_with_marketing_metadata",void 0);e.track_with_marketing_metadata=_;var u=r("track",void 0);e.track=u;var c=r("page",void 0);e.page=c;var d=r("track_count",void 0);e.track_count=d;var p=r("track_for_alternate_user",void 0);e.track_for_alternate_user=p})),wg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CLASS=e.CSS_FLAG=e.AT_ROOT=void 0;e.AT_ROOT="@at-root";e.ROOT_CLASS="b-root";e.CSS_FLAG="--stylesheet-active"})),Ag=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.fixValue=a,e.toCamelCase=n,e.toClass=r,e.toClassDef=function(e,n,i){let o="";function s(e,t){o+=`  ${e}: ${a(e,t)};\n`}function l(e,t){o+=`${e} {\n`;for(let e in t){let r=t[e];if(null!=r&&""!==r)if(Array.isArray(r))for(let t=r.length-1;t>=0;t--){let n=r[t];null!=n&&""!==n&&s(e,n)}else s(e,r)}o+="}\n"}let _=r(e);if(l(`.${t.ROOT_CLASS} .bubble-element.${_}`,n),i)for(let e in i){let r;r=e.startsWith(t.AT_ROOT)?e.replace(t.AT_ROOT,`.${t.ROOT_CLASS}`):`.${t.ROOT_CLASS} .${_}${e}`,l(r,i[e])}return o},e.toDashes=function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))},Ft();var t=wg();function r(e){return e.replace(/^[\d]|[A-Z]/g,"a$&")}function n(e){return e.replace(/-./g,(e=>e[1].toUpperCase()))}var i=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(e,t){return"number"!=typeof t||i.test(n(e))?t:`${t}px`}})),Eg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.Style=e.Property=void 0,Ue();var t=(Ca(),p(xn)),r=s(qa()),n=s(Ag()),i=s(pn()),a=Kt();function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var l=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fn=void 0,this.fallback=void 0,this.alwaysDynamic=void 0,this.mayContainDynamic=void 0,this.noWaitVisible=void 0,this.fn=e,this.fallback=t.fallback,this.alwaysDynamic=t.alwaysDynamic,this.mayContainDynamic=t.mayContainDynamic,this.noWaitVisible=t.noWaitVisible}computeCache(e){e.dynamic_catcher=!1;try{let t=this.fn(e),r=!e.dynamic_catcher&&!this.alwaysDynamic;return this.mayContainDynamic&&!r?{value:void 0,isStatic:!1}:{value:t,isStatic:!e.dynamic_catcher&&!this.alwaysDynamic}}catch(e){return(0,a.propagated_error)("Error computing property",e),{value:void 0,isStatic:!1}}}createClientWatcher(e,n,i){let[a,o]=(0,t.createSignal)(null!=n?n:this.fallback);return(0,t.createEffect)((()=>{if(!this.noWaitVisible&&!i.turnedVisible)return;let n=r.Watcher((()=>{var t;return null!=(t=this.fn(e))?t:this.fallback}));n.on_value(o),(0,t.onCleanup)((()=>n.destroy()))})),a}computeStaticClient(e){return null!=e?e:this.fallback}};e.Property=l;e.Style=class extends l{constructor(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,{fallback:{},alwaysDynamic:r.alwaysDynamic,noWaitVisible:r.noWaitVisible}),this.selector=void 0,this.notInStylesheet=void 0,this.outerPositioning=void 0,this.fn=e,this.selector=r.selector,this.notInStylesheet=r.notInStylesheet,this.outerPositioning=null!=(t=r.outerPositioning)&&t}createClientWatcher(e,t,r){let a=super.createClientWatcher(e,t,r);return()=>{let e=function(e){let t={};for(let r in e){let a=e[r];Array.isArray(a)?t[r]=i.apply_css_fallbacks(n.toDashes(r),a.map((e=>n.fixValue(r,e)))):t[r]=n.fixValue(r,a)}return t}(a()),r=e;if(this.notInStylesheet)for(let n in t){let t=e[n];(null==t||""===t)&&(r[n]=void 0)}else for(let n in t){let i=e[n];if(null==i||""===i)r[n]="unset";else{let e=t[n];Array.isArray(e)?e.includes(i)&&(r[n]=void 0):e===i&&(r[n]=void 0)}}return e}}computeStaticClient(){return{}}}})),Mg=u((e=>{"use strict";function t(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}function r(e){let r=e[0].style,n={};for(let e in r)n[t(e)]=r[e];return n}f(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertStyle=t,e.withMockCanvas=function(e){let t=function(){let e={};return Object.assign([{style:{},className:""}],{css(e,t){"object"==typeof e?Object.assign(this[0].style,e):this[0].style[e]=t},data(t,r){return arguments.length>1&&(e[t]=r),e[t]},width:()=>0,find(){return this},addClass(e){this[0].className+=" "+e},removeClass(e){this[0].className=this[0].className.replace(e.trim(),"")},attr(){}})}();return e(t),{style:r(t),className:t[0].className.trim()}},Ft()})),xg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.OPTION_SET_CREATED=e.OPTION_SET_ATTRIBUTE_CREATED=e.MASONRY_GRID_SETTING_CLICKED=e.HTML_UPLOAD_EVENT=e.HELP_OPENED=e.HELP_ITEM_CLICKED=e.GB_X_OUT_CLICKED=e.GB_START_EDIT_WORKFLOW_ON_SIGNUP_POPUP_CLICKED=e.GB_START_EDIT_WF_ON_SIGNUP_HEADER_CLICKED=e.GB_SIGN_USER_UP_CLICKED=e.GB_SIGNUP_ON_POPUP_CLICKED=e.GB_SIGNUP_ON_HEADER_CLICKED=e.GB_SHOW_ELEMENT_CLICKED=e.GB_SET_TO_COLUMN_CLICKED=e.GB_PREVIEW_CLICKED=e.GB_POPUP_SIGNUP_DRAGGED=e.GB_KEEP_AS_IS_COLUMN_CLICKED=e.GB_HEADER_COMPONENT_DRAGGED=e.GB_FINISH_ON_CONGRATS_CLICKED=e.GB_ENTRY_NO_THANKS_CLICKED=e.GB_ENTRY_GET_STARTED_CLICKED=e.GB_ELEMENT_POPUP_SIGNUP_LOGIN_SELECTED=e.GB_DONE_CLICKED=e.GB_DATA_FIELDS_ON_SIGNUP_COMPLETED=e.GB_CONTINUE_ON_WORKFLOW_TAB_INTRO_CLICKED=e.GB_CONTINUE_ON_INDEX_PE_CLICKED=e.GB_CONTINUE_ON_ALMOST_THERE_CLICKED=e.GB_CONTINUE_NAME_FIELD_CREATED_CLICKED=e.GB_CONTINUE_HIDE_ELEMENT_ACTION_CLICKED=e.GB_CONTINUE_FINAL_ACTIONS_WF_CLICKED=e.GB_ADD_ACTION_FOR_SIGN_USER_UP_CLICKED=e.GB_ADD_ACTION_FOR_SHOW_ELEMENT_CLICKED=e.FREE_TRIAL_CREATED_FROM_CLIENT=e.FREE_TRIAL_CANCELED=e.FIRST_WORKFLOW_ACTION_CREATED=e.FIRST_TIME_REPEATING_GROUP_DATA_SET=e.FIRST_SUBSCRIPTION=e.FIRST_STYLES_UPDATED=e.FIRST_PREVIEW_VIEWED=e.FIRST_PLUGIN_ADDED=e.FIRST_PAGE_ADDED=e.FIRST_DYNAMIC_EXPRESSION_CREATED=e.FIRST_DEPLOY_TO_LIVE=e.FIRST_DATA_TYPE_CREATED=e.ELEMENT_TEMPLATE_USED=e.ELEMENT_STYLE_EDITED=e.EDITOR_VISIT=e.DYNAMIC_EXPRESSION_EDITED_V1=e.DYNAMIC_EXPRESSION_EDITED=e.DWD_WORKFLOW_VIDEO_POPUP_SEEN=e.DWD_WORKFLOW_VIDEO_PLAYED=e.DWD_VISUAL_INDICATOR_SETTING_TOGGLED=e.DWD_DESIGN_VIDEO_POPUP_SEEN=e.DWD_DESIGN_VIDEO_PLAYED=e.DWD_DATA_VIDEO_POPUP_SEEN=e.DWD_DATA_VIDEO_PLAYED=e.DETACH_REUSABLE_CLICKED=e.DEPLOY_TO_LIVE_CLICKED=e.DEPLOY_FAILURE_MODAL_SEEN=e.DAILY_EDITOR_VISIT=e.CREATE_VARIABLE_CLICKED=e.COMPONENT_LIBRARY_ONBOARDING_VIEWED=e.COMPONENT_LIBRARY_MENU_CLICKED=e.COMPONENT_CREATED=e.COLOR_PICKER_VALUE_SET=e.CHECKOUT_OPENED=e.CHECKOUT_COMPLETED=e.CHECKLIST_TASK_STEP_COMPLETED=e.CHECKLIST_TASK_COMPLETED=e.CHECKLIST_TASK_CLICKED=e.CHECKLIST_TASK_ABANDONED=e.CHECKLIST_OPENED=e.CHECKLIST_CLOSED=e.CAPACITY_USAGE_ANALYTICS_CLOSED=e.APP_PLAN_CONFIRM_CLICKED=e.APP_ASSIST_PLUGIN_NEXT_CLICKED=e.APP_ASSIST_PLUGIN_EDITED=e.APP_ASSIST_PLUGIN_CLICKED=e.APP_ASSIST_FONT_NEXT_CLICKED=e.APP_ASSIST_FONT_EDITED=e.APP_ASSIST_FAVICON_EDITED=e.APP_ASSIST_COMPLETED_CLICKED=e.APP_ASSIST_COMPLETED=e.APP_ASSIST_COLOR_NEXT_CLICKED=e.APP_ASSIST_COLOR_EDITED=e.APP_ASSIST_CLOSE_CLICKED=e.APP_ASSIST_BROWSER_NEXT_CLICKED=e.APP_ASSIST_BROWSER_EDITED=e.APP_ASSIST_BACK_CLICKED=e.API_CONNECTOR_INITIALIZE_CALL_SUCCESS=e.API_CONNECTOR_INITIALIZE_CALL_FAILURE=e.API_CONNECTOR_INITIALIZE_CALL_CLICKED=e.API_CONNECTOR_ADD_CALL_CLICKED=e.AI_CHAT_RATING=e.AI_CHAT_PROMPT_SENT=e.AI_CHAT_COMPLETION_RECEIVED=e.ACTUALLY_BUILDING_20=e.ACTUALLY_BUILDING_2=e.ACTUALLY_BUILDING_10=e.ACTUALLY_BUILDING=void 0,e.YOUTUBE_VIDEO_RATE_CHANGED=e.YOUTUBE_VIDEO_QUALITY_CHANGED=e.YOUTUBE_VIDEO_PLAYING=e.YOUTUBE_VIDEO_PAUSED=e.YOUTUBE_VIDEO_ENDED=e.YOUTUBE_VIDEO_CUED=e.YOUTUBE_VIDEO_BUFFER=e.WORKLOAD_SPIKE_NOTIFICATION_EMAIL_TRIGGERED=e.WORKLOAD_SPIKE_NOTIFICATION_CLICKED_IN_EDITOR=e.WORKLOAD_PIE_CHART_CLICKED=e.WORKLOAD_BAR_CHART_CLICKED=e.VIEWED_APP_SETTINGS=e.VIEWED_APP_PRICING=e.VERIFY_SENDGRID_CLICKED=e.VC_UPGRADE_CTA=e.VC_UPDATE_TO_REDESIGN=e.VC_SIDEPANEL_MORE_ACTIONS_MENU_USED=e.VC_SIDEPANEL_MORE_ACTIONS_MENU_OPENED=e.VC_SIDEPANEL_INTERACTION=e.VC_SIDEPANEL_ENGAGEMENT=e.VC_SAVEPOINT_CREATED=e.VC_COPY_LIVE=e.VC_BRANCH_REVERTED=e.VC_BRANCH_NAVIGATED=e.VC_BRANCH_MERGE_COMPLETED=e.VC_BRANCH_MERGE_CANCELED=e.VC_BRANCH_MERGED=e.VC_BRANCH_DEPLOYED=e.VC_BRANCH_DELETED=e.VC_BRANCH_CREATED=e.USER_SUBSCRIBED_TO_PLAN=e.USER_APP_TRANSFER_RECEIVED=e.USER_APP_TRANSFERRED=e.UPGRADE_PLUGIN_CLICKED=e.TRIAL_BUTTON_CLICKED=e.TOOLBAR_ELEMENTS=e.TOOLBAR_CLICKED=e.STYLE_VALUE_RESET=e.STYLE_VALUE_OVERRIDDEN=e.STYLES_VARIABLE_EDITED=e.STYLES_VARIABLE_DELETED=e.STYLES_VARIABLE_CREATED=e.STYLES_VARIABLES_TAB_CLICKED=e.SERVER_CAPACITY_USAGE_FILTER_SET=e.SERVER_CAPACITY_USAGE_DETAILS_PIE_CHART_CLICKED=e.REUSABLE_PROPERTY_CREATED=e.REUSABLE_ENGAGEMENT=e.REUSABLE_CREATED=e.REDIRECTED_TO_STRIPE_CHECKOUT=e.PREVIEW_VIEWED=e.POINT_IN_PERCENTAGE_OF_DESIGNATED_TIME_CLICKED=e.POINT_IN_AVERAGE_CPU_USAGE_CLICKED=e.PLUGIN_UNINSTALLED=e.PLUGIN_INSTALLED=e.PLUGIN_EDITOR_SUBMIT_SUCCESS=e.PLUGIN_EDITOR_SUBMIT_NEW_VERSION=e.PLUGIN_EDITOR_SUBMIT_FAILURE=e.PAYWALL_MODAL_PLAN_UPGRADE_CLICKED=e.PAYWALL_MODAL_PLAN_DOWNGRADE_CLICKED=e.PAYWALL_MODAL_PLAN_CHOSEN=e.PAYWALL_MODAL_OPENED=e.PAGE_STATE_TOGGLED=e.OPTION_SET_GUIDED_SETUP_SKIP_CLICKED=e.OPTION_SET_GUIDED_SETUP_CREATION_SOURCE=e.OPTION_SET_GUIDED_SETUP_CLICKED=e.OPTION_SET_EDITOR_CREATION_SOURCE=void 0;e.ACTUALLY_BUILDING="actually building";e.ACTUALLY_BUILDING_2="actually building 2";e.ACTUALLY_BUILDING_10="actually building 10";e.ACTUALLY_BUILDING_20="actually building 20";e.DEPLOY_TO_LIVE_CLICKED="Deploy To Live Button Clicked";e.DEPLOY_FAILURE_MODAL_SEEN=" Deploy Failure Modal Seen";e.EDITOR_VISIT="editor visit";e.DAILY_EDITOR_VISIT="daily editor visit";e.HELP_ITEM_CLICKED="Help Item Clicked";e.HELP_OPENED="Help Opened";e.PREVIEW_VIEWED="Preview Viewed";e.TOOLBAR_CLICKED="Toolbar Clicked";e.PAGE_STATE_TOGGLED="Page State Toggled";e.UPGRADE_PLUGIN_CLICKED="Plugin editor - Upgrade plugin clicked";e.TOOLBAR_ELEMENTS={cursor:"Cursor Icon",undo:"Undo Button",redo:"Redo Button",grid_dropdown:"Grid Settings Menu",arrange_menu:"Arrange Menu",version_dropdown:"Version Menu",logo:"Bubble Logo",releases:"Releases Icon",edit:"Edit Menu",user_menu:"User Icon",project_menu:"Project Menu",login:"Login Button",search:"Search Icon",element_picker:"Element/Workflow Picker",selected_element:"Selected Element",selected_workflow:"Selected Workflow",feedback:"Feedback Icon"};e.TRIAL_BUTTON_CLICKED="Trial button clicked";e.VERIFY_SENDGRID_CLICKED="Verify SendGrid button clicked";e.COMPONENT_LIBRARY_ONBOARDING_VIEWED="Component Onboarding Hoverable Viewed";e.ELEMENT_TEMPLATE_USED="Element template added to editor canvas";e.DETACH_REUSABLE_CLICKED="Detach reusable clicked";e.MASONRY_GRID_SETTING_CLICKED="Masonry Grid Setting Clicked";e.FIRST_SUBSCRIPTION="FirstSubscription (client)";e.FREE_TRIAL_CREATED_FROM_CLIENT="Free Trial created (client)";e.APP_ASSIST_BROWSER_NEXT_CLICKED="App Assist - Browser Next Clicked";e.APP_ASSIST_FONT_NEXT_CLICKED="App Assist - Font Next Clicked";e.APP_ASSIST_COLOR_NEXT_CLICKED="App Assist - Color Next Clicked";e.APP_ASSIST_PLUGIN_NEXT_CLICKED="App Assist - Plugin Next Clicked";e.APP_ASSIST_BACK_CLICKED="App Assist - Back Clicked";e.APP_ASSIST_BROWSER_EDITED="App Assist - Browser Edited";e.APP_ASSIST_FAVICON_EDITED="App Assist - Favicon Edited";e.APP_ASSIST_FONT_EDITED="App Assist - Font Edited";e.APP_ASSIST_COLOR_EDITED="App Assist - Color Edited";e.APP_ASSIST_PLUGIN_EDITED="App Assist - Plugin Edited";e.APP_ASSIST_PLUGIN_CLICKED="App Assist - Plugin Clicked";e.APP_ASSIST_COMPLETED_CLICKED="App Assist - Completed Clicked";e.APP_ASSIST_CLOSE_CLICKED="App Assist - Close Assistant Clicked";e.APP_ASSIST_COMPLETED="completed new app assistant";e.API_CONNECTOR_INITIALIZE_CALL_CLICKED="API Connector - Initialize Call clicked";e.API_CONNECTOR_INITIALIZE_CALL_SUCCESS="API Connector - Initialize Call success";e.API_CONNECTOR_INITIALIZE_CALL_FAILURE="API Connector - Initialize Call failure";e.API_CONNECTOR_ADD_CALL_CLICKED="API Connector - Add Call clicked";e.OPTION_SET_CREATED="Option Set Created";e.OPTION_SET_ATTRIBUTE_CREATED="Option Set Attribute Created";e.OPTION_SET_GUIDED_SETUP_CLICKED="Option Set Guided Setup Clicked";e.OPTION_SET_GUIDED_SETUP_SKIP_CLICKED="Option Set Guided Setup Skip Clicked";e.OPTION_SET_EDITOR_CREATION_SOURCE="editor";e.OPTION_SET_GUIDED_SETUP_CREATION_SOURCE="guided setup";e.PAYWALL_MODAL_OPENED="Paywall Modal Opened";e.PAYWALL_MODAL_PLAN_CHOSEN="Paywall Modal Plan Chosen";e.PAYWALL_MODAL_PLAN_UPGRADE_CLICKED="Paywall Modal Plan Upgrade Clicked";e.PAYWALL_MODAL_PLAN_DOWNGRADE_CLICKED="Paywall Modal Plan Downgrade Clicked";e.PLUGIN_EDITOR_SUBMIT_NEW_VERSION="Plugin editor - Submit a New Version";e.PLUGIN_EDITOR_SUBMIT_SUCCESS="Plugin editor - Submit New Version Succeeded";e.PLUGIN_EDITOR_SUBMIT_FAILURE="Plugin editor - Submit New Version Failed";e.SERVER_CAPACITY_USAGE_FILTER_SET="Server capacity usage filter set (start or end)";e.POINT_IN_PERCENTAGE_OF_DESIGNATED_TIME_CLICKED="Point in percentage of designated time clicked";e.POINT_IN_AVERAGE_CPU_USAGE_CLICKED="Point in Average CPU usage clicked";e.CAPACITY_USAGE_ANALYTICS_CLOSED="Capacity Usage Analytics - Closed";e.SERVER_CAPACITY_USAGE_DETAILS_PIE_CHART_CLICKED="Server capacity usage details - pie chart clicked";e.WORKLOAD_PIE_CHART_CLICKED="Workload Pie Chart clicked";e.WORKLOAD_BAR_CHART_CLICKED="Workload Bar chart clicked";e.WORKLOAD_SPIKE_NOTIFICATION_EMAIL_TRIGGERED="Workload Spike notification email triggered";e.WORKLOAD_SPIKE_NOTIFICATION_CLICKED_IN_EDITOR="Workload Spike notification clicked in editor";e.APP_PLAN_CONFIRM_CLICKED="App Plan Confirm Clicked";e.CHECKOUT_OPENED="Stripe Checkout Opened";e.CHECKOUT_COMPLETED="Stripe Checkout Completed";e.REDIRECTED_TO_STRIPE_CHECKOUT="Directed to Stripe Checkout";e.FREE_TRIAL_CANCELED="Trial Canceled";e.USER_SUBSCRIBED_TO_PLAN="User subscribed to plan";e.COMPONENT_CREATED="Component Added to Page";e.COMPONENT_LIBRARY_MENU_CLICKED="Component Library Menu Clicked";e.STYLES_VARIABLES_TAB_CLICKED="Styles Variables Tab Clicked";e.STYLES_VARIABLE_EDITED="Styles Variable Edited";e.CREATE_VARIABLE_CLICKED="Create Variable Clicked";e.STYLES_VARIABLE_CREATED="Styles Variable Created";e.STYLES_VARIABLE_DELETED="Styles Variable Deleted";e.COLOR_PICKER_VALUE_SET="Color Picker Value Set";e.ELEMENT_STYLE_EDITED="Element Style Edited";e.STYLE_VALUE_OVERRIDDEN="Element Style Value Overridden";e.STYLE_VALUE_RESET="Element Style Value Reset";e.DYNAMIC_EXPRESSION_EDITED="Dynamic expression edited";e.DYNAMIC_EXPRESSION_EDITED_V1="Dynamic expression edited (V1)";e.PLUGIN_INSTALLED="Plugin Installed";e.PLUGIN_UNINSTALLED="Plugin Uninstalled";e.VC_SIDEPANEL_INTERACTION="Version control side panel used";e.VC_SIDEPANEL_MORE_ACTIONS_MENU_OPENED="Version control more actions menu clicked";e.VC_SIDEPANEL_MORE_ACTIONS_MENU_USED="Version control more actions menu engagement";e.VC_SIDEPANEL_ENGAGEMENT="Version control side panel engagement";e.VC_BRANCH_CREATED="Version control branch created";e.VC_BRANCH_DELETED="Version control branch deleted";e.VC_BRANCH_MERGED="Version control merge started";e.VC_BRANCH_MERGE_CANCELED="Version control merge canceled";e.VC_BRANCH_MERGE_COMPLETED="Version control merge completed";e.VC_BRANCH_NAVIGATED="Version control branch navigated";e.VC_BRANCH_DEPLOYED="Version control branch deployed to Live";e.VC_BRANCH_REVERTED="Version control branch reverted";e.VC_UPGRADE_CTA="Version control upgrade cta clicked";e.VC_SAVEPOINT_CREATED="Version control custom savepoint created";e.VC_COPY_LIVE="Version control reset to Live";e.VC_UPDATE_TO_REDESIGN="Version control update to redesign";e.USER_APP_TRANSFERRED="User Transferred An App";e.USER_APP_TRANSFER_RECEIVED="User Received an App";e.YOUTUBE_VIDEO_ENDED="Youtube video ended";e.YOUTUBE_VIDEO_PLAYING="Youtube video playing";e.YOUTUBE_VIDEO_BUFFER="Youtube video buffering";e.YOUTUBE_VIDEO_CUED="Youtube video cued";e.YOUTUBE_VIDEO_PAUSED="Youtube video paused";e.YOUTUBE_VIDEO_RATE_CHANGED="Youtube video playback rate changed";e.YOUTUBE_VIDEO_QUALITY_CHANGED="Youtube video playback quality changed";e.FIRST_DATA_TYPE_CREATED="First Data Type Created";e.FIRST_DEPLOY_TO_LIVE="First Deploy To Live";e.FIRST_DYNAMIC_EXPRESSION_CREATED="First Dynamic Expression Created";e.FIRST_PAGE_ADDED="First Page Added";e.FIRST_PREVIEW_VIEWED="First Preview Viewed";e.FIRST_STYLES_UPDATED="First Styles Updated";e.FIRST_WORKFLOW_ACTION_CREATED="First Workflow Action Created";e.FIRST_PLUGIN_ADDED="First Plugin Added";e.FIRST_TIME_REPEATING_GROUP_DATA_SET="First Time Repeating Group Data Set";e.CHECKLIST_OPENED="Checklist Opened";e.CHECKLIST_CLOSED="Checklist Closed";e.CHECKLIST_TASK_CLICKED="Checklist Task Clicked";e.CHECKLIST_TASK_STEP_COMPLETED="Checklist Task Step Completed";e.CHECKLIST_TASK_COMPLETED="Checklist Task Completed";e.CHECKLIST_TASK_ABANDONED="Checklist Task Abandoned";e.GB_ENTRY_GET_STARTED_CLICKED="GB - Entry Get Started Clicked";e.GB_ENTRY_NO_THANKS_CLICKED="GB - Entry No Thanks Clicked";e.GB_SET_TO_COLUMN_CLICKED="GB - Set to Column Clicked";e.GB_KEEP_AS_IS_COLUMN_CLICKED="GB - Keep as Column Clicked";e.GB_CONTINUE_ON_INDEX_PE_CLICKED="GB - Continue on Index PE Clicked";e.GB_HEADER_COMPONENT_DRAGGED="GB - Header Component Dragged";e.GB_POPUP_SIGNUP_DRAGGED="GB - Popup Sign Up Dragged";e.GB_SIGNUP_ON_POPUP_CLICKED="GB - Sign Up on Popup Clicked";e.GB_START_EDIT_WORKFLOW_ON_SIGNUP_POPUP_CLICKED="GB - Start/Edit Workflow on Sign Up Popup Clicked";e.GB_CONTINUE_ON_WORKFLOW_TAB_INTRO_CLICKED="GB - Continue on Workflow Tab Intro Clicked";e.GB_ADD_ACTION_FOR_SIGN_USER_UP_CLICKED="GB - Add an Action for Sign the User Up Clicked";e.GB_SIGN_USER_UP_CLICKED='GB - "Sign the User Up" Clicked';e.GB_CONTINUE_NAME_FIELD_CREATED_CLICKED="GB - Continue Name Field Created Clicked";e.GB_DATA_FIELDS_ON_SIGNUP_COMPLETED="GB - Data Fields on Sign Up Completed";e.GB_CONTINUE_HIDE_ELEMENT_ACTION_CLICKED="GB - Continue Hide an Element Action Clicked";e.GB_CONTINUE_ON_ALMOST_THERE_CLICKED="GB - Continue on Almost There Clicked";e.GB_SIGNUP_ON_HEADER_CLICKED="GB - Sign Up on Header Clicked";e.GB_START_EDIT_WF_ON_SIGNUP_HEADER_CLICKED="GB - Start/Edit Workflow on Sign Up Header Clicked";e.GB_ADD_ACTION_FOR_SHOW_ELEMENT_CLICKED="GB - Add an Action for Show an Element Clicked";e.GB_SHOW_ELEMENT_CLICKED="GB - Show an Element Clicked";e.GB_ELEMENT_POPUP_SIGNUP_LOGIN_SELECTED="GB - Element Popup Sign Up/Log In Selected";e.GB_CONTINUE_FINAL_ACTIONS_WF_CLICKED="GB - Continue Final Actions Workflow Clicked";e.GB_DONE_CLICKED="GB - Done Clicked";e.GB_PREVIEW_CLICKED="GB - Preview Clicked";e.GB_FINISH_ON_CONGRATS_CLICKED="GB - Finish on Congrats Clicked";e.GB_X_OUT_CLICKED="GB - X Out Clicked";e.DWD_DESIGN_VIDEO_POPUP_SEEN="DWD Design video popup seen";e.DWD_DESIGN_VIDEO_PLAYED="DWD Design video played";e.DWD_WORKFLOW_VIDEO_POPUP_SEEN="DWD Workflow video popup seen";e.DWD_WORKFLOW_VIDEO_PLAYED="DWD Workflow video played";e.DWD_DATA_VIDEO_POPUP_SEEN="DWD Data video popup seen";e.DWD_DATA_VIDEO_PLAYED="DWD Data video played";e.DWD_VISUAL_INDICATOR_SETTING_TOGGLED="DWD Visual Indicator Setting Toggled";e.HTML_UPLOAD_EVENT="HTML file upload";e.REUSABLE_PROPERTY_CREATED="Reusable element property added";e.REUSABLE_CREATED="Reusable element added to page";e.REUSABLE_ENGAGEMENT="Reusable element engagement";e.AI_CHAT_PROMPT_SENT="AI Chat Prompt Sent";e.AI_CHAT_COMPLETION_RECEIVED="AI Chat Completion Received";e.AI_CHAT_RATING="AI Chat Rating";e.VIEWED_APP_SETTINGS="Viewed App Settings";e.VIEWED_APP_PRICING="Viewed App Pricing"})),Og=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.add_user_font_token=function(e,i){var l;let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",u=t.default.uid(),c=null!=(l=t.default.get_public_setting("font_tokens_user"))?l:(0,s.json_deep_copy)(n.DEFAULT_USER_TOKENS);c[_][u]={font_family:r.DEFAULT_FAMILY,name:e,description:i,order:Object.keys(c[_]).length,deleted:!1},a.track(o.STYLES_VARIABLE_CREATED,{app:t.default.appname(),token:u,variant:_,name:e,description:i,type:"Font"}),t.default.set_setting(!0,"font_tokens_user",c),t.default.commit()},e.default_font_tokens_to_property=function(){var e;let n=null!=(e=t.default.get_public_setting("font_tokens"))?e:r.DEFAULT_TOKENS,i={};for(let e in n)i["--font_"+e]=JSON.stringify(n[e].replace(r.CUSTOM_FONT_FLAG,""));return i},e.delete_user_font_token=function(e,r){var i;let l=null!=(i=t.default.get_public_setting("font_tokens_user"))?i:(0,s.json_deep_copy)(n.DEFAULT_USER_TOKENS),_=l[e][r].order;for(let t in l[e])l[e][t].order>_&&(l[e][t].order-=1);a.track(o.STYLES_VARIABLE_DELETED,{app:t.default.appname(),token:r,variant:e,name:l[e][r].name,description:l[e][r].description,type:"Font"}),l[e][r].deleted=!0,l[e][r].name+=n.DELETED_USER_TOKEN_STRING,t.default.set_setting(!0,"font_tokens_user",l),t.default.commit()},e.font_token_to_font=function(e){var i,a,o;let l=null==(i=e.match(r.FONT_TOKEN_NAME_AND_WEIGHT))?void 0:i[1];if(!l)return e;let _=null!=(a=t.default.get_public_setting("font_tokens"))?a:r.DEFAULT_TOKENS,u=null!=(o=t.default.get_public_setting("font_tokens_user"))?o:(0,s.json_deep_copy)(n.DEFAULT_USER_TOKENS),c=l.split("_").reverse();return 2===c.length?u[c[0]][c[1]].font_family:_[l]},e.is_user_font_token=function(e){var n,i;let a=null==(n=e.match(r.FONT_TOKEN_NAME_AND_WEIGHT))?void 0:n[1];return!!a&&!(null!=(i=t.default.get_public_setting("font_tokens"))?i:r.DEFAULT_TOKENS)[a]},e.load_font_tokens_default=function(){var e;let n=null!=(e=t.default.get_public_setting("font_tokens"))?e:r.DEFAULT_TOKENS;for(let e in n)r.ALL_WEIGHTS.forEach((t=>{(0,i.load_font)((0,i.to_font_face)(n[e],t))}))},e.load_font_tokens_user=function(){var e;let a=null!=(e=t.default.get_public_setting("font_tokens_user"))?e:(0,s.json_deep_copy)(n.DEFAULT_USER_TOKENS);for(let e in a)for(let t in a[e])r.ALL_WEIGHTS.forEach((r=>{(0,i.load_font)((0,i.to_font_face)(a[e][t].font_family,r))}))},e.user_font_tokens_to_property=function(){var e;let i=null!=(e=t.default.get_public_setting("font_tokens_user"))?e:(0,s.json_deep_copy)(n.DEFAULT_USER_TOKENS),a={};for(let e in i)for(let t in i[e])i[e][t].font_family&&(a["--font_"+t+"_"+e]=JSON.stringify(i[e][t].font_family.replace(r.CUSTOM_FONT_FLAG,"")));return a},Ft();var t=function(e){return e&&e.__esModule?e:{default:e}}(Po()),r=lf(),n=_f(),i=uf(),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(bg()),o=xg(),s=Qt();function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}})),kg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.VAR_IDENTIFIER=e.TOKEN_NAME=e.SORTED_DEFAULT_TOKENS=e.RGB_VAR_IDENTIFIER=e.RGB_TOKEN_ALPHA=e.RGBA_TOKEN=e.MISSING_USER_COLOR_TOKEN_TEXT=e.MAX_USER_COLORS=e.DEFAULT_USER_COLOR_TOKEN_RGBA=e.DEFAULT_TOKEN_NAMES_DESCRIPTIONS=e.DEFAULT_COLOR_TOKENS=e.COLOR_VARIANTS=e.CAPTURE_ALPHA=void 0;e.DEFAULT_COLOR_TOKENS={primary:{default:"rgba(2, 5, 211, 1)"},primary_contrast:{default:"rgba(255, 255, 255, 1)"},text:{default:"rgba(9, 23, 71, 1)"},surface:{default:"rgba(255, 255, 255, 1)"},background:{default:"rgba(255, 255, 255, 0)"},destructive:{default:"rgba(255, 0, 0, 1)"},success:{default:"rgba(23, 219, 78, 1)"},alert:{default:"rgba(250, 181, 21, 1)"}};e.DEFAULT_USER_COLOR_TOKEN_RGBA="rgba(0,0,0,1)";e.MISSING_USER_COLOR_TOKEN_TEXT="Custom color (MISSING)";e.RGBA_TOKEN=/var\(--color_[^)]*\)/g;e.RGB_TOKEN_ALPHA=/rgba\(var\(--color_[^)]*\),[^)]*\)/g;e.TOKEN_NAME=/var\(--color_([^)]*)\)/;e.CAPTURE_ALPHA=/rgba\((?<base>.*), ?(?<opacity>[0-9.]+)\)/;e.MAX_USER_COLORS=24;e.VAR_IDENTIFIER="var(";e.RGB_VAR_IDENTIFIER="_rgb";e.COLOR_VARIANTS=["default"];e.SORTED_DEFAULT_TOKENS=["primary","primary_contrast","text","surface","background","destructive","success","alert"];e.DEFAULT_TOKEN_NAMES_DESCRIPTIONS={primary:{name:"Primary",description:"Color for any primary buttons, actions, or hover treatment for clickable elements."},primary_contrast:{name:"Primary contrast",description:"Color of text and icons in a primary button."},text:{name:"Text",description:"Color of static text and icons."},surface:{name:"Surface",description:"Background color for containers."},background:{name:"Background",description:"Background color for pages and page sections."},destructive:{name:"Destructive",description:"Indicates major errors, deleting, and negative values."},success:{name:"Success",description:"Indicates a successful action the user has taken, or positive numerical values."},alert:{name:"Alert",description:"Caution color that notifies a user there is an action to take."}}})),Sg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.add_user_color_token=function(e,n){var i;let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",u=null!=(i=a.default.get_public_setting("color_tokens_user"))?i:(0,l.json_deep_copy)(r.DEFAULT_USER_TOKENS),c=a.default.uid();u[_][c]={rgba:t.DEFAULT_USER_COLOR_TOKEN_RGBA,name:e,description:n,order:Object.keys(u[_]).length,deleted:!1},o.track(s.STYLES_VARIABLE_CREATED,{app:a.default.appname(),token:c,variant:_,name:e,description:n,type:"Color"}),a.default.set_setting(!0,"color_tokens_user",u),a.default.commit()},e.color_property_to_rgba=function(e){var n,i,o,s,_;let u=c(e);if(null==u)return e;let d=null==(n=e.match(t.CAPTURE_ALPHA))||null==(i=n.groups)?void 0:i.opacity,f=null!=(o=a.default.get_public_setting("color_tokens"))?o:t.DEFAULT_COLOR_TOKENS;var h;if(null!=(s=f[u.token_set])&&s[u.variant])return p(null==(h=f[u.token_set])?void 0:h[u.variant],d);return p((null!=(_=a.default.get_public_setting("color_tokens_user"))?_:(0,l.json_deep_copy)(r.DEFAULT_USER_TOKENS))[u.variant][u.token_set].rgba,d)},e.default_color_tokens_to_property=function(){var e;let r=null!=(e=a.default.get_public_setting("color_tokens"))?e:t.DEFAULT_COLOR_TOKENS,i={};for(let e in r)for(let a of t.COLOR_VARIANTS){var o;i[`--color_${e}_${a}`]=r[e][a];let t=null==(o=(0,n.rgba_to_array)(r[e][a]))?void 0:o.slice(0,-1).toString();i[`--color_${e}_${a}_rgb`]=null!=t?t:""}return i},e.delete_user_color_token=function(e,t){var n;let i=null!=(n=a.default.get_public_setting("color_tokens_user"))?n:(0,l.json_deep_copy)(r.DEFAULT_USER_TOKENS),_=i[e][t].order;for(let t in i[e])i[e][t].order>_&&(i[e][t].order-=1);o.track(s.STYLES_VARIABLE_DELETED,{app:a.default.appname(),token:t,variant:e,name:i[e][t].name,description:i[e][t].description,type:"Color"}),i[e][t].deleted=!0,i[e][t].name+=r.DELETED_USER_TOKEN_STRING,a.default.set_setting(!0,"color_tokens_user",i),a.default.commit()},e.is_user_color_token=d,e.token_variant_to_properties=function(e,n){var i,o;let s=null!=(i=a.default.get_public_setting("color_tokens"))?i:t.DEFAULT_COLOR_TOKENS,_=null!=(o=a.default.get_public_setting("color_tokens_user"))?o:(0,l.json_deep_copy)(r.DEFAULT_USER_TOKENS);if(d(e)){var u;let r=null!=(u=_[n][e])?u:{name:t.MISSING_USER_COLOR_TOKEN_TEXT,description:t.MISSING_USER_COLOR_TOKEN_TEXT,rgba:t.DEFAULT_USER_COLOR_TOKEN_RGBA,deleted:!1};return{name:r.name,description:r.description,rgba:r.rgba,deleted:r.deleted}}return{name:t.DEFAULT_TOKEN_NAMES_DESCRIPTIONS[e].name,description:t.DEFAULT_TOKEN_NAMES_DESCRIPTIONS[e].description,rgba:s[e][n],deleted:!1}},e.user_color_tokens_to_property=function(){var e;let t=null!=(e=a.default.get_public_setting("color_tokens_user"))?e:(0,l.json_deep_copy)(r.DEFAULT_USER_TOKENS),i={};for(let e in t)for(let r in t[e]){var o;if(!t[e][r].rgba)continue;i[`--color_${r}_${e}`]=t[e][r].rgba;let a=null==(o=(0,n.rgba_to_array)(t[e][r].rgba))?void 0:o.slice(0,-1).toString();i[`--color_${r}_${e}_rgb`]=null!=a?a:""}return i},e.variable_to_token_variant=c,Ft(),Ue();var t=kg(),r=_f(),n=vn(),i=u(Nt()),a=u(Po()),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(bg()),s=xg(),l=Qt();function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(null!=e&&e.includes(t.VAR_IDENTIFIER)){var r;let n=null==(r=e.match(t.TOKEN_NAME))?void 0:r[1];if(!n)return null;let i=t.COLOR_VARIANTS.find((e=>!!n.includes(e)));return i?{variant:i,token_set:n.replace(`_${i}`,"").replace(t.RGB_VAR_IDENTIFIER,"")}:null}return null}function d(e){return!t.SORTED_DEFAULT_TOKENS.includes(e)}function p(e,r){if(null==r)return e;let n=null==e?void 0:e.match(t.CAPTURE_ALPHA);return null!=n?`rgba(${n.groups.base},${r})`:`rgba(${e},${r})`}i.default.safe_register("./lang/color_tokens",e)})),Tg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.basicStyling=m,e.clickabilityStyles=g,e.placedStyling=function(e){return[...m(e),...v(e.can_have_children()&&e.should_add_extra_wrapper())]},e.positioningStyle=v,e.propertyApplicationStyles=d,e.tokenStyling=function(){return new n.Style((()=>({...(0,a.default_font_tokens_to_property)(),...(0,a.user_font_tokens_to_property)(),...(0,o.default_color_tokens_to_property)(),...(0,o.user_color_tokens_to_property)()})),{noWaitVisible:!0,selector:s.AT_ROOT})},e.transitionStyles=h,e.visibilityStyles=void 0,Ue();var t=Mg(),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(Kt()),n=Eg(),i=Fh(),a=Og(),o=Sg(),s=wg(),l=function(e){return e&&e.__esModule?e:{default:e}}(qr()),_=(kh(),p(vf));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c=[new n.Style((e=>e.is_visible_me()||e.is_animating()&&e._is_animating_me?{}:{visibility:"hidden"}),{alwaysDynamic:!0,noWaitVisible:!0})];function d(e){return e.get_property_applications().filter((e=>!e.no_solid_support)).map((e=>function(e){return new n.Style((r=>(0,t.withMockCanvas)((t=>{if(e.apply_once)e.apply_directly({},t);else{let n;n=r.element.E.additional_uses_properties?e.uses_properties.concat(r.element.E.additional_uses_properties):e.uses_properties;let a={};for(let e of n)a[e]=(0,i.evaluate_property)(r,e);a._first_time=!0,e.apply_directly(a,t,r)}})).style),{selector:null!=e.sel_fn?` ${String(e.sel_fn)}`:void 0})}(e)))}function h(e){let t={};if(l.default.or_throw().is_edit_mode())return[];for(let n of e.get_property_applications())n.sel_fn&&("function"==typeof n.sel_fn?r.error("Property applications no longer support functions as selectors",{class_name:n.class_name}):t[n.sel_fn]=!0);let i=e=>t=>{let r=[];for(let n of t.element.get_property_applications())(e&&n.sel_fn===e||!e&&!n.sel_fn)&&r.push(n.get_transition_styling(t.element));e||r.push(t.get_transition_styling());let n=r.filter((e=>!!e)).join(", ");return{"-webkit-transition":n,"-moz-transition":n,"-o-transition":n,"-ms-transition":n,transition:n}};return[new n.Style(i(void 0),{noWaitVisible:!0}),...Object.keys(t).map((e=>new n.Style(i(e),{selector:e,noWaitVisible:!0})))]}function g(e){return!l.default.or_throw().is_edit_mode()&&e.E.change_cursor_style_if_clickable&&e.get_related_workflows("ButtonClicked").length?[new n.Style((e=>({cursor:(0,i.evaluate_property)(e,"button_disabled")?"default":"pointer"})))]:[]}function m(e){return[...c,...d(e),...h(e),...g(e)]}function v(e){return[new n.Style((r=>{let n=r.container.element_css(r),i={};for(let e in n)i[(0,t.convertStyle)(e)]=n[e];var a,o;if(e&&(r.run_mode()&&!r.state("flickered")&&(_.isServer||"Safari"===(null==(a=window)||null==(o=a.BrowserDetect)?void 0:o.browser))))return queueMicrotask((()=>r.state("flickered",!0))),{...i,height:"0px"};return i}),{noWaitVisible:!0,outerPositioning:!0,alwaysDynamic:e}),new n.Style((e=>{var t;return{"z-index":null!=(t=e.element.get_zindex())?t:void 0}}),{noWaitVisible:!0,outerPositioning:!0}),new n.Style((e=>e.get_static_property("collapse_when_hidden")&&e.container.should_collapse(e)?{display:"none"}:{}),{alwaysDynamic:!0,noWaitVisible:!0,notInStylesheet:!0,outerPositioning:!0})]}e.visibilityStyles=c})),Ng=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.createAxisReorderingOverlay=e.TableContext=e.PSEUDO_TABLE_ELEMENTS=e.NUM_DEFAULT_ROWS_EDITOR=e.NUM_DEFAULT_COLUMNS=e.MAIN_AXIS_ZINDEX=e.DIVIDER_ZINDEX=e.DEFAULT_REPEATING_ROW_HEIGHT=e.DEFAULT_HEADER_ROW_HEIGHT=e.DEFAULT_COLUMN_WIDTH=e.CROSS_AXIS_ZINDEX=e.CELL_ZINDEX=void 0,e.crossAxisStyling=function(e){let t=()=>{var t,r;return u((null!=(t=null==(r=e.repeating_instance)?void 0:r.element)?t:e).parent())?"width":"height"};return[...(0,a.basicStyling)(e),new i.Style((e=>({"flex-direction":"height"===t()?"row":"column","box-sizing":"content-box"}))),new i.Style((e=>{var r;let n=null!=(r=(0,o.evaluate_property)(e,`min_${t()}_css`))?r:"0px";if((0,o.evaluate_property)(e,`single_${t()}`))return{"z-index":1,[t()]:n,"flex-grow":0,"flex-shrink":0};let i=(0,o.evaluate_property)(e,`max_${t()}_css`),a=s[`is_fitting_${t()}`](e);return{"z-index":1,[`min-${t()}`]:n,[`max-${t()}`]:null!=i?i:"",[t()]:a?"max-content":n,"flex-grow":a?0:1,"flex-shrink":0}}),{outerPositioning:!0}),new i.Style((e=>e.is_visible_me()?{}:{display:"none"}),{alwaysDynamic:!0,noWaitVisible:!0,notInStylesheet:!0,outerPositioning:!0})]},e.deleteCells=void 0,e.getAxes=d,e.getAxisNames=function(e){return"horizontal"===e?{main:"row",cross:"column"}:{main:"column",cross:"row"}},e.getLetterIndex=void 0,e.getRelativeIndex=function(e){let t=e.type();return c(d(e.parent(),t)).findIndex((t=>t.id()===e.id()))},e.updateIndicesOnDelete=e.updateIndicesOnCreate=e.isTableDirectionHorizontal=void 0,Ue();var t=(Ca(),p(xn)),r=function(e){return e&&e.__esModule?e:{default:e}}(Po()),n=pf(),i=Eg(),a=Tg(),o=Fh(),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(hf());function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}e.NUM_DEFAULT_COLUMNS=3;e.NUM_DEFAULT_ROWS_EDITOR=3;e.DEFAULT_REPEATING_ROW_HEIGHT=77;e.DEFAULT_HEADER_ROW_HEIGHT=43;e.DEFAULT_COLUMN_WIDTH=158;e.CELL_ZINDEX=2;e.CROSS_AXIS_ZINDEX=1;e.MAIN_AXIS_ZINDEX=0;e.DIVIDER_ZINDEX=1e5;e.PSEUDO_TABLE_ELEMENTS=["TableMainAxis","TableCrossAxis","TableCell"];var _=(0,t.createContext)();e.TableContext=_;var u=e=>"horizontal"===(null==e?void 0:e.get_static_property("table_direction"));e.isTableDirectionHorizontal=u;e.getLetterIndex=e=>String.fromCharCode("A".charCodeAt(0)+e);var c=e=>e.sort(((e,t)=>e.get_static_property("axis_index")-t.get_static_property("axis_index")||(0,n.compare)(e.id(),t.id())));function d(e,t){var r;return null!=(r=null==e?void 0:e.elements().filter((e=>e.type()===t)))?r:[]}e.updateIndicesOnCreate=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",i=r.default.element(e),a=c(d(i.parent(),t)),o=a.indexOf(i)+("before"===n?0:1);for(let e=0;e<a.length;e++)a[e].set_property("axis_index",e+(e>=o?1:0));return o};e.updateIndicesOnDelete=(e,t)=>{let n=r.default.element(e),i=c(d(n.parent(),t)),a=0;for(let t=0;t<i.length;t++){let r=i[t];r.id()!==e?r.set_property("axis_index",t-a):a=1}};e.deleteCells=(e,t)=>{let r=d(e,"TableCrossAxis");for(let e of r)for(let r of e.elements())if(r.get_static_property("cell_main_axis_id")===t){r.delete({user_action:"Delete TableCell"}),r.commit_merge();break}};e.createAxisReorderingOverlay=()=>{let e=document.createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.cursor="move",e}})),Cg=u((e=>{"use strict";f();var t=bg(),r=qr(),n=Po(),{PSEUDO_TABLE_ELEMENTS:i,deleteCells:a}=Ng(),o=e;function s(){var e,t,n,i;return(null==(e=window)||!e.is_maison)&&((null==(t=r().visual_edit)?void 0:t.responsive_version())>0&&(null==(n=r().visual_edit)?void 0:n.is_active())&&"responsive"===(null==(i=r().visual_edit)?void 0:i.responsive_mode_box()))}o.delete_element_property=e=>({name:"delete_element",button_caption:"Table"===e.type()?"Delete table":"Delete",editor:"Button",optional:!0,condition:()=>!s()&&!e.get_static_property("cross_axis_repeat"),click_cb(){if("TableMainAxis"===e.type()){let t=e.id(),r=e.parent();e.delete({user_action:"Delete Element Button"}),e.commit(),a(r,t)}else e.delete({user_action:"Delete Element Button"}),e.commit(),r().visual_edit.select_to_edit(null);t.track("PE Delete Element clicked",{app:n.appname()})},pretty:{section:"ElementMetaActions",no_caption:!0,width:"Table"===e.type()?"":"small"}}),o.select_parent_property=e=>({name:"select_parent",caption:"Select parent/child",editor:"Dropdown",no_write_child:!0,optional:!0,set:r().sets.get_set("ParentElements")(e),on_change(e){r().visual_edit.select_to_edit(e),t.track("PE Parent selected",{app:n.appname()})},pretty:{section:"ElementMetaActions"}}),o.reveal_in_tree_property=e=>({name:"reveal_in_tree",button_caption:"Reveal in the Elements tree",editor:"Button",optional:!0,click_cb(){r().visual_edit.reveal_in_element_tree(e),t.track("PE Reveal in Elements Tree clicked",{app:n.appname()})},pretty:{section:"ElementMetaActions",no_caption:!0}}),o.lock_in_editor_property=e=>{var i;return{name:"lock_in_editor",caption:"Lock this element (not draggable in editor)",editor:"Checkbox",optional:!0,default:null==(i=r().edit_canvas)?void 0:i.locked_elements[e.id()],condition:()=>!s(),on_change(i){var a,o;null==(a=(o=r().visual_edit.current_editor_canvas).lockElement)||a.call(o,e.id(),i),t.track("PE Lock in Editor clicked",{app:n.appname()})},pretty:{section:"ElementMetaActions"}}},o.replace_element_property=e=>({name:"switch_element",button_caption:"Replace",editor:"Button",optional:!0,condition:()=>!s()&&!function(e){return i.includes(e.type())||"Table"===e.type()}(e),click_cb(){window.ReplaceTypePanel(e),t.track("PE Replace Element clicked",{app:n.appname()})},pretty:{section:"ElementMetaActions",no_caption:!0,width:"small"}})})),Lg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0;var t=function(e){return e.ShortText="ShortText",e.LongText="LongText",e.Basic="Basic",e.NoEditor="NoEditor",e.CheckBox="Checkbox",e.StaticText="StaticText",e.StaticDate="StaticDate",e.StaticMultiLineText="StaticMultiLineText",e.StaticNumber="StaticNumber",e.CSSDimension="CSSDimension",e.Color="Color",e.Image="Image",e.IconPicker="IconPicker",e.DynamicImage="DynamicImage",e.DynamicFile="DynamicFile",e.Dropdown="Dropdown",e.Label="Label",e.Button="Button",e.CropButton="Crop_Button",e.GeographicSearch="GeographicSearch",e.CheckboxList="CheckboxList",e.StaticList="StaticList",e.ObjectList="ObjectList",e.FlyoutObjectList="FlyoutObjectList",e.DropdownButton="Dropdown_Button",e}({});e.EditorType=t})),Pg=u(((e,t)=>{"use strict";f();Cg();var{EditorType:r}=Lg(),{PLUGIN_TAB:n}=tf();t.exports={get_html:()=>"<div>missing element</div>",field_names:{},is_visible_on_page_load:()=>!0,initialize(){},property_applications:[],add_an_invisible_div_on_the_top:!1}})),Rg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.for_mode=void 0})),zg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.getPropertyCache=function(e){var t;return null==(t=window._bubble_watcher_cache)?void 0:t[e]}})),Ig=u((e=>{"use strict";f(),Ue()})),Dg=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.POPUP_ZINDEX=e.MAX_POPUP_ZINDEX=e.FLOATING_GROUP_ZINDEX_OFFSET=e.CLICKABLE_ELEMENT=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/runmode",e);e.CLICKABLE_ELEMENT="clickable-element";e.POPUP_ZINDEX=2002;e.MAX_POPUP_ZINDEX=2102;e.FLOATING_GROUP_ZINDEX_OFFSET=500})),jg=u((e=>{"use strict";f(),Ue();var t=Dg(),r=Fh(),n=Wh(),i=Nl(),a=e;function o(e,t){let i,a=t=>{let i;var a,o,s,l;return e instanceof n?(i=null==(a=(o=e.element).get_style_if_exists)?void 0:a.call(o),i?i.get_static_property(t):r.evaluate_property(e,t)):(i=null==(s=e.get_style_if_exists)?void 0:s.call(e),i?i.get_static_property(t):null==(l=e.get_static_property)?void 0:l.call(e,t,!0))};if(e.get_static_property("four_border_style")){let e=0;for(let r of t)i=a("border_style"+r),[void 0,"none"].includes(i)||(e+=a("border_width"+r));return e}return i=a("border_style"),[void 0,"none"].includes(i)?0:2*a("border_width")}a.apply_css_style=function(e,t){for(let r of i.array_from(null!=e?e:[]))for(let e in t){let n=t[e];r.style[e]=n}},a.patch_user_agent_styles=function(e){if(a.apply_css_style(e,{padding:"0px","text-align":"center",background:"none",border:"none"}),!e.hasClass(t.CLICKABLE_ELEMENT))return a.apply_css_style(e,{cursor:"inherit"})},a.calculate_border_height=e=>o(e,["_top","_bottom"]),a.calculate_border_width=e=>o(e,["_left","_right"])})),Bg=u(((e,t)=>{"use strict";f(),Ue();var r=Nl();t.exports=class{constructor(e,t,r){var n;this.sel_fn=e,this.to_remove=null!=t?t:[],this.to_not_apply=null!=r?r:[],this.uses_properties=(null!=(n=this._uses_properties)?n:[]).filter((e=>!this.to_remove.includes(e)))}get_target(e){return this.sel_fn&&(e="string"==typeof this.sel_fn?e.find(this.sel_fn):this.sel_fn(e)),e}apply(e,t,n){for(let t of this.to_remove)delete e[t];for(let t of this.to_not_apply)delete e[t];if(this.sel_fn)for(let i of r.array_from(this.get_target(t)))this._apply(e,$(i),n);else this._apply(e,t,n)}apply_directly(e,t,r){for(let t of this.to_remove)delete e[t];for(let t of this.to_not_apply)delete e[t];this._apply(e,t,r)}get_transition_css(e,t,r){let n="";for(let t of this.uses_properties){var i;if(null!=(i=this.transition_properties)&&i[t]){let r=this._transition_property_to_css_string(e,t);r&&(n+=r+", ")}}if(n){var a,o,s;let e,i=this.get_target(t);e="string"==typeof this.sel_fn?this.sel_fn:i.prop("outerHTML"),null!=r[a=e]||(r[a]={}),null!=(o=r[e]).target||(o.target=i),r[e].css_prop=(null!=(s=r[e].css_prop)?s:"")+n}}_transition_property_to_css_string(e,t){let r="",n=e.transition(t);if(!this._transition_should_be_applied(e,t))return r;if(null!=n&&n.exists())if(Array.isArray(this.transition_properties[n.prop_name()]))r+=this.transition_properties[n.prop_name()].map((e=>this._combine_transformation_info_into_css(e,n))).join(", ");else{let e=this.transition_properties[n.prop_name()];r+=this._combine_transformation_info_into_css(e,n)}return r}_transition_should_be_applied(e,t){var r;return null==(null==(r=this.transition_conditions)?void 0:r[t])||this.transition_conditions[t](e)}_combine_transformation_info_into_css(e,t){return`${e} ${t.duration()}ms ${t.fn()}`}get_transition_styling(e){let t=[];for(let n of this.uses_properties){var r;if(null!=(r=this.transition_properties)&&r[n]){let r=this._transition_property_to_css_string(e,n);r&&t.push(r)}}return t.join(", ")}get_properties(e){let t=this._get_properties().filter((e=>!this.to_remove.includes(e.name)));if(e){for(let e of t){var r;let t=null==(r=this.field_names[e.name])?void 0:r.default;t&&(e.default=t)}for(let r of t)null!=e[r.name]&&(r.default=e[r.name])}return t}}})),qg=u(((e,t)=>{"use strict";f();var r,n=Bg(),i=jg();t.exports=((r=class extends n{_apply(e,t){e&&i.apply_css_style(t,{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","user-select":"none"})}}).prototype.apply_once=!0,r)})),Ug=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(e,t){}}).prototype.field_names={width:{default:100,no_states:!0},height:{default:100,no_states:!0},left:{no_states:!0},top:{no_states:!0}},r.prototype.not_in_style=!0,r.prototype.apply_once=!0,r.prototype.class_name="Dimensions",r)})),Wg=u(((e,t)=>{"use strict";f();var r,n=Bg(),i=jg();t.exports=((r=class extends n{_apply(e,t,r){let n=e.opacity/100;null!=r.state("opacity_override")&&(n=r.state("opacity_override")),i.apply_css_style(t,{opacity:n})}}).prototype._uses_properties=["opacity"],r.prototype.transition_properties={opacity:"opacity"},r.prototype.field_names={opacity:{default:100}},r.prototype.class_name="Opacity",r)})),$g=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(){}}).prototype.field_names={min_width:{default:20,no_states:!0},fixed_width:{no_states:!0,default:!1},use_max_width:{no_states:!0,default:!1},max_width:{default:100,optional:!0,no_states:!0},collapse_margin:{default:0,optional:!0,no_states:!0},responsive_alignment:{default:"center",no_states:!0}},r.prototype.not_in_style=!0,r.prototype.apply_once=!0,r.prototype.class_name="MinWidth",r)})),Fg=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(){}}).prototype.field_names={default_width:{no_states:!0,default:1200},min_width_px:{no_states:!0,default:0},max_width_px:{no_states:!0,default:null},min_height_px:{no_states:!0,default:0},max_height_px:{no_states:!0,default:null}},r.prototype.not_in_style=!0,r.prototype.apply_once=!0,r.prototype.class_name="RootSizing",r)})),Gg=u(((e,t)=>{"use strict";f(),Ue();var r,n=Bg(),i=Lo();function a(e,t,r){return function(e,t){var r;return"relative"===(null==e||null==(r=e.parent())?void 0:r.get_static_property("container_layout"))&&!e.get_static_property(`single_${t}`)&&!e.get_static_property(`fit_${t}`)}(e,r)?[t,r]:t}t.exports=((r=class extends n{constructor(e,t,r){null!=r||(r=[]),super(t,r),this.element=e,this.transition_properties=function(e){return{get margin_top(){var t;return null!=e&&null!=(t=e.E)&&t.uses_inset_instead_of_margin?"top":a(e,"margin-top","height")},get margin_right(){var t;return null!=e&&null!=(t=e.E)&&t.uses_inset_instead_of_margin?"right":a(e,"margin-right","width")},get margin_bottom(){var t;return null!=e&&null!=(t=e.E)&&t.uses_inset_instead_of_margin?"bottom":a(e,"margin-bottom","height")},get margin_left(){var t;return null!=e&&null!=(t=e.E)&&t.uses_inset_instead_of_margin?"left":a(e,"margin-left","width")},min_width_css:"min-width",max_width_css:"max-width",width_css:["min-width","max-width"],min_height_css:"min-height",max_height_css:"max-height",height_css:["min-height","max-height"]}}(this.element)}_apply(){}}).prototype._uses_properties=["margin_top","margin_right","margin_bottom","margin_left","min_width_css","max_width_css","min_height_css","max_height_css","width_css","height_css"],r.prototype.transition_conditions={min_width_css:e=>!e.get_static_property("single_width"),max_width_css:e=>!e.get_static_property("single_width"),width_css:e=>e.get_static_property("single_width"),min_height_css:e=>!e.get_static_property("single_height"),max_height_css:e=>!e.get_static_property("single_height"),height_css:e=>e.get_static_property("single_height")},r.prototype.field_names=i.extend(function(){let e={};for(let t of["left","right","top","bottom"])e[`margin_${t}`]={default:0};return e}(),{parent_container_type_label:{no_states:!0,only_edit_mode:!0},margin_label:{no_states:!0,only_edit_mode:!0},padding_label:{no_states:!0,only_edit_mode:!0},nonant_alignment:{no_states:!1,default:"aa",no_plugin:!0},vert_alignment:{no_states:!1,default:"flex-start",no_plugin:!0},horiz_alignment:{no_states:!1,default:"flex-start",no_plugin:!0},flex_move_first:{no_states:!0,only_edit_mode:!0},flex_move_prev:{no_states:!0,only_edit_mode:!0},flex_move_next:{no_states:!0,only_edit_mode:!0},flex_move_last:{no_states:!0,only_edit_mode:!0},single_width:{no_states:!0,default:!1,no_plugin:!0},fit_width:{no_states:!0,default:!1},forced_fit_width_label:{no_states:!0,only_edit_mode:!0},min_width_css:{no_states:!1,default:"0px"},max_width_css:{no_states:!1,default:null,allow_empty_condition:!0},width_css:{no_states:!0,no_plugin:!0},single_height:{no_states:!0,default:!1,no_plugin:!0},fit_height:{no_states:!0,default:!1},forced_fit_height_label:{no_states:!0,only_edit_mode:!0},min_height_css:{no_states:!1,default:"0px"},max_height_css:{no_states:!1,default:null,allow_empty_condition:!0},height_css:{no_states:!0,no_plugin:!0},use_aspect_ratio:{no_states:!0,default:!1,no_plugin:!0},aspect_ratio_width:{no_states:!0,default:1,no_plugin:!0},aspect_ratio_height:{no_states:!0,default:1,no_plugin:!0},aspect_ratio_warning:{no_states:!0,only_edit_mode:!0},width_preview:{no_states:!0,only_edit_mode:!0},height_preview:{no_states:!0,only_edit_mode:!0},collapse_when_hidden:{no_states:!0,default:!1},order:{default:0,no_states:!0,no_plugin:!0}}),r.prototype.not_in_style=!0,r.prototype.apply_once=!0,r.prototype.class_name="ResponsiveElement",r)})),Xg=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{constructor(e,t,r){null!=r||(r=[]),super(t,r),this.element=e}_apply(){}}).prototype.field_names={container_layout:{no_states:!0,default:"fixed"},container_horiz_alignment:{no_states:!1,default:"flex-start"},container_vert_alignment:{no_states:!1,default:"flex-start"},use_gap:{no_states:!0,default:!1},row_gap:{no_states:!1,default:0},column_gap:{no_states:!1,default:0}},r.prototype.not_in_style=!0,r.prototype.apply_once=!0,r.prototype.class_name="ResponsiveContainer",r)})),Hg=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(){}}).prototype.field_names={width:{default:960,no_states:!0},height:{default:600,no_states:!0}},r.prototype.not_in_style=!0,r.prototype.apply_once=!0,r.prototype.class_name="ShortDimensions",r)})),Vg=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(){}}).prototype.field_names={left:{no_states:!0},top:{no_states:!0}},r.prototype.not_in_style=!0,r.prototype.apply_once=!0,r.prototype.class_name="PositionOnly",r)})),Yg=u(((e,t)=>{"use strict";f();var r,n=Bg(),i=jg();t.exports=((r=class extends n{_apply(e,t){var r;let n=null!=(r=e.rotation_angle)?r:0;if(0===n&&e._first_time)return;let a="rotate("+n+"deg)";i.apply_css_style(t,{"-ms-transform":a,"-webkit-transform":a,transform:a})}}).prototype.not_in_style=!0,r.prototype.field_names={rotation_angle:{default:0}},r.prototype._uses_properties=["rotation_angle"],r.prototype.class_name="Rotation",r)})),Kg=u((e=>{"use strict";f(),Ue();var t=Lo();function r(e){let t=e.data("__outline_stack");return t||(t=[],e.data("__outline_stack",t)),t}function n(e,n){let i,a=r(e),o=a.filter((e=>e.key===n));for(i of o)t.array_remove(a,i)}function i(e){!function(e,t){var r;null!=(r=!(null!=t&&t.box_shadow_properties))&&r?e.css({"-webkit-box-shadow":"none","-moz-box-shadow":"none","box-shadow":"none"}):function(e,t){null!=t.inset||(t.inset="");let r=`${t.horizontal}px ${t.vertical}px ${t.blur}px ${t.spread}px ${t.color} ${t.inset}`;e.css({"-webkit-box-shadow":r,"-moz-box-shadow":r,"box-shadow":r})}(e,t.box_shadow_properties)}(e,function(e){let t=null,n=-2;for(let i of r(e))i.priority>n&&(n=i.priority,t=i);return t}(e))}e.add_outline=function(e,t,a,o,s,l,_,u){let c;e?(c=void 0===s?o:{horizontal:o,vertical:s,blur:l,spread:_,color:u},n(e,t),function(e,t){r(e).push(t)}(e,{key:t,priority:a,box_shadow_properties:c}),i(e)):console.log("called add_outline without a div")},e.remove_outline=function(e,t){e&&(n(e,t),i(e))},e.get_default_shadow=function(e){if(!e)throw new t.UnexpectedError("called get_default_shadow without a div");for(let t of r(e))if("default"===t.key)return t.box_shadow_properties}})),Jg=u(((e,t)=>{"use strict";f();var r,n=Lo(),i=Kg(),a=Bg();t.exports=((r=class extends a{_apply(e,t){if(e&&"none"!==e.boxshadow_style){var r,a,o,s,l,_,u,c,d,p,f;(e=n.extend({},e)).blur=null!=(r=null!=(a=e.boxshadow_blur)?a:e.blur)?r:0,e.horizontal=null!=(o=null!=(s=e.boxshadow_horizontal)?s:e.horizontal)?o:0,e.vertical=null!=(l=null!=(_=e.boxshadow_vertical)?_:e.vertical)?l:0,e.spread=null!=(u=null!=(c=e.boxshadow_spread)?c:e.spread)?u:0,e.color=null!=(d=null!=(p=e.boxshadow_color)?p:e.color)?d:0;let h="inset"===e.boxshadow_style?"inset":"";e.inset=void 0!==e.boxshadow_style?h:null!=(f=e.inset)?f:"",i.add_outline(t,"default",5,e)}else"none"===e.boxshadow_style&&!e._first_time&&i.remove_outline(t,"default")}}).prototype.transition_properties={boxshadow_style:"box-shadow"},r.prototype._uses_properties=["boxshadow_style","boxshadow_horizontal","boxshadow_vertical","boxshadow_blur","boxshadow_color","boxshadow_spread"],r.prototype.field_names={boxshadow_style:{default:"none"},boxshadow_horizontal:{default:2},boxshadow_vertical:{default:2},boxshadow_blur:{default:4},boxshadow_color:{default:"#AAAAAA"},boxshadow_spread:{default:0}},r.prototype.class_name="BoxShadow",r)})),Zg=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{constructor(e){var t,r,n;super(null==e?void 0:e.selector),this.minimum_element_version=null!=(t=null==e?void 0:e.minimum_element_version)?t:0,this.no_vertical_if_legacy_center=null!=(r=null==e?void 0:e.no_vertical_if_legacy_center)&&r,this.allow_legacy=null!=(n=null==e?void 0:e.allow_legacy)&&n}_apply(e,t,r){var n;if((!((null==r||null==(n=r.element.root())?void 0:n.get_responsive_version())<1)||"CustomElement"===(null==r?void 0:r.element.type())&&r.element.E.custom_definition().get_responsive_version()>0||this.allow_legacy)&&e){var i;if((null==r?void 0:r.element.element_version(!0))<this.minimum_element_version)return;if("fixed"===e.container_layout)return void(t[0].style.padding="0px");null!=e.padding_top||(e.padding_top=0),null!=e.padding_right||(e.padding_right=0),null!=e.padding_bottom||(e.padding_bottom=0),null!=e.padding_left||(e.padding_left=0),this.no_vertical_if_legacy_center&&(null==r||null==(i=r.element.root())?void 0:i.get_responsive_version())<1&&e.vertical_centering?(t[0].style["padding-left"]=e.padding_left+"px",t[0].style["padding-right"]=e.padding_right+"px"):0===e.padding_top&&0===e.padding_right&&0===e.padding_bottom&&0===e.padding_left&&e._first_time||(t[0].style.padding=`${e.padding_top}px ${e.padding_right}px ${e.padding_bottom}px ${e.padding_left}px`)}}}).prototype._uses_properties=["padding_top","padding_right","padding_bottom","padding_left","vertical_centering","container_layout"],r.prototype.transition_properties={padding_top:"padding-top",padding_right:"padding-right",padding_bottom:"padding-bottom",padding_left:"padding-left"},r.prototype.field_names={padding_top:{default:0,allow_overrides:!0},padding_right:{default:0,allow_overrides:!0},padding_bottom:{default:0,allow_overrides:!0},padding_left:{default:0,allow_overrides:!0},vertical_centering:{default:!1}},r.prototype.class_name="PaddingFields",r.prototype.style_allows_overrides=!0,r)})),Qg=u(((e,t)=>{"use strict";f();var r,n=qr(),i=uf(),a=Bg(),o=jg(),s=lf(),{FONT_FAMILY_VERSION:l}=af(),_=["normal","bold","lighter","bolder","initial","inherit","unset","100","200","300","400","500","600","700","800","900"];t.exports=((r=class extends a{_apply(e,t,r){if(e){let a;a=r&&r.element.element_version(!0)>=l?i.to_font_face(e.font_family,e.font_weight):e.font_face,n().is_edit_mode()&&i.load_font(a);let s=i.get_quoted_face_and_variant(a);o.apply_css_style(t,{"font-family":s.font_family,"font-size":e.font_size+"px"});let u=null;e.bold?u="bold":s.variant&&_.includes(s.variant)?u=s.variant:e._first_time&&(!s.variant||!_.includes(s.variant))||(u="normal"),u&&(t[0].style["font-weight"]=u);let c=null;e.underline?c="underline":!e.underline&&!e._first_time&&(c="none"),c&&(t[0].style["text-decoration"]=c);let d=null;e.italic?d="italic":!e.italic&&!e._first_time&&(d="normal"),d&&(t[0].style["font-style"]=d),t[0].style.color=e.font_color,"left"===e.font_alignment&&e._first_time&&"PictureInput"!==r.element.type()||(t[0].style["text-align"]=e.font_alignment)}}}).prototype._uses_properties=["font_face","font_family","font_weight","font_size","bold","underline","italic","font_color","font_alignment"],r.prototype.transition_properties={font_size:"font-size",font_color:"color"},r.prototype.field_names={font_face:{default:s.DEFAULT_FONT},font_family:{default:s.DEFAULT_CSS_TOKEN},font_weight:{default:s.DEFAULT_WEIGHT},font_size:{default:14},bold:{},italic:{},underline:{},font_alignment:{default:"left"},font_color:{default:"#252525"}},r.prototype.class_name="Font",r)})),em=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(e,t){if(e){if(e.textshadow){let r=`${e.textshadow_horizontal}px ${e.textshadow_vertical}px ${e.textshadow_blur}px ${e.textshadow_color}`;t[0].style.textShadow=r}!e.textshadow&&!e._first_time&&(t[0].style.textShadow="none")}}}).prototype._uses_properties=["textshadow","textshadow_horizontal","textshadow_vertical","textshadow_blur","textshadow_color"],r.prototype.transition_properties={textshadow:"text-shadow"},r.prototype.field_names={textshadow:{},textshadow_horizontal:{default:1},textshadow_vertical:{default:1},textshadow_blur:{default:0},textshadow_color:{default:"#Ffffff"}},r.prototype.class_name="FontShadow",r)})),tm=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(e,t){e&&(0===e.letter_spacing&&e._first_time||(t[0].style["letter-spacing"]=e.letter_spacing+"px"),0===e.word_spacing&&e._first_time||(t[0].style["word-spacing"]=e.word_spacing+"px"),t[0].style["line-height"]=e.line_height)}}).prototype._uses_properties=["letter_spacing","word_spacing","line_height"],r.prototype.transition_properties={letter_spacing:"letter-spacing",word_spacing:"word-spacing",line_height:"line-height"},r.prototype.field_names={word_spacing:{default:0},line_height:{default:1},letter_spacing:{default:0}},r.prototype.class_name="FontSpacing",r)})),rm=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.STYLE_PROPS=e.BORDER_TO_CORNER_MAPPING=void 0;e.BORDER_TO_CORNER_MAPPING={top:"top-left",left:"bottom-left",right:"top-right",bottom:"bottom-right"};e.STYLE_PROPS=["Opacity","Font","PlaceholderColor","CenterVertically","BackdropBackground","Stripes","Background","ButtonBackground","Border","Padding","InputPadding","FontShadow","Boxshadow"]})),nm=u(((e,t)=>{"use strict";f(),Ue();var r,n,i=Lo(),a=Bg(),o=jg(),s=rm(),l={four_border_style:{default:!(null==(r=window)||!r.is_maison)&&"connected",no_states:!0}},_={};for(let e of["","_top","_right","_bottom","_left"])l["border_style"+e]={default:"none"},l["border_roundness"+e]={default:0},l["border_width"+e]={default:1},l["border_color"+e]={default:"#6B6B6B"};for(let e of["","top","right","bottom","left"])if(""===e)_.border_roundness="border-radius",_.border_width="border-width",_.border_color="border-color";else{let t=s.BORDER_TO_CORNER_MAPPING[e],r="_"+e;_["border_roundness"+r]="border-"+t+"-radius",_["border_width"+r]="border-"+e+"-width",_["border_color"+r]="border-"+e+"-color"}t.exports=((n=class extends a{constructor(e,t,r){null!=t||(t=[]),super(e,t),this.data=r}_apply(e,t){var r;if(e)if(null!=(r=this.data)&&r.only_main_border||!e.four_border_style){let r={};("none"!==e.border_style||!e._first_time)&&(r["border-style"]=e.border_style,r["border-width"]=e.border_width+"px",r["border-color"]=i.RGBA_to_RGB(e.border_color),r["border-color"]=e.border_color),r["border-radius"]=e.border_roundness+"px",r["-moz-border-radius"]=e.border_roundness+"px",o.apply_css_style(t,r)}else for(let r of["top","right","bottom","left"]){let n={};("none"!==e["border_style_"+r]||!e._first_time)&&(n["border-"+r+"-style"]=e["border_style_"+r],n["border-"+r+"-width"]=e["border_width_"+r]+"px",n["border-"+r+"-color"]=i.RGBA_to_RGB(e["border_color_"+r]),n["border-"+r+"-color"]=e["border_color_"+r]),n["border-"+s.BORDER_TO_CORNER_MAPPING[r]+"-radius"]=e["border_roundness_"+r]+"px",o.apply_css_style(t,n)}}}).prototype._uses_properties=Object.keys(l),n.prototype.transition_properties=_,n.prototype.field_names=l,n.prototype.class_name="Border",n)})),im=u(((e,t)=>{"use strict";f();var r,{PADDING_VERSION:n}=af(),i=Bg();t.exports=((r=class extends i{_apply(e,t,r){if(e){var i;let o=r.element.element_version(!0)<n||r.element.context_element().E_object().is_plugin;if((null==(i=r.element.root())?void 0:i.get_responsive_version())>0){if(e.vertical_centering?t.addClass("bubble-r-vertical-center"):t.removeClass("bubble-r-vertical-center"),o){var a;let r=null!=(a=e.padding_vertical)?a:0;0===r&&e._first_time||t.css({"padding-top":r,"padding-bottom":r})}}else{let r;if(e.vertical_centering)r=(e.height-e.font_size)/2-2;else{if(!o)return;r=e.padding_vertical}null!=r||(r=0),0===r&&e._first_time||(t[0].style["padding-top"]=r+"px ",e.stretch_to_fit&&(t[0].style["padding-bottom"]=r+"px "))}if(o)null!=e.padding_horizontal||(e.padding_horizontal=0),0===e.padding_horizontal&&e._first_time||(t[0].style["padding-left"]=e.padding_horizontal+"px ",t[0].style["padding-right"]=e.padding_horizontal+"px ")}}}).prototype._uses_properties=["vertical_centering","padding_vertical","padding_horizontal","font_size","height","stretch_to_fit"],r.prototype.transition_properties={padding_vertical:"padding-top",padding_horizontal:"padding-left"},r.prototype.field_names={padding_vertical:{default:0},padding_horizontal:{default:0},vertical_centering:{default:!1}},r.prototype.class_name="PaddingText",r)})),am=u(((e,t)=>{"use strict";f();var r,n=Bg(),{PADDING_VERSION:i}=af();t.exports=((r=class extends n{_apply(e,t,r){e&&(r.element.element_version(!0)<i||r.element.context_element().E.is_plugin)&&(null!=e.padding_vertical||(e.padding_vertical=0),null!=e.padding_horizontal||(e.padding_horizontal=0),0===e.padding_vertical&&0===e.padding_horizontal&&e._first_time||(t[0].style.padding=e.padding_vertical+"px "+e.padding_horizontal+"px"))}}).prototype._uses_properties=["padding_vertical","padding_horizontal"],r.prototype.transition_properties={padding_vertical:"padding-top",padding_horizontal:"padding-left"},r.prototype.field_names={padding_vertical:{default:0},padding_horizontal:{default:0}},r.prototype.class_name="Padding",r)})),om=u(((e,t)=>{"use strict";f();var r,n=Bg(),{PADDING_VERSION:i}=af();t.exports=((r=class extends n{_apply(e,t,r){e&&(r.element.element_version(!0)<i||r.element.context_element().E.is_plugin)&&(null!=e.padding_horizontal||(e.padding_horizontal=0),t[0].style.padding="0px "+e.padding_horizontal+"px")}}).prototype._uses_properties=["padding_horizontal"],r.prototype.transition_properties={padding_horizontal:"padding"},r.prototype.field_names={padding_horizontal:{default:4}},r.prototype.class_name="InputPadding",r)})),sm=u(((e,t)=>{"use strict";f(),Ue();var r,n=Bg(),i=Lo(),{PLACEHOLDER_COLOR_VERSION:a}=af(),o={},s=new WeakMap;t.exports=((r=class extends n{_apply(e,t,r){if(e)if(r&&r.element.element_version(!0)>=a){let r=s.get(t[0]);if(r){let e=o[r];t.removeClass(e.class_name),e.count--,e.count<=0&&(e.style_tag.remove(),delete o[r])}if(!(e.placeholder_color in o)){let t="a"+i.LUID(),r=document.createElement("style");r.textContent=`\n.${t}.${t}::-webkit-input-placeholder {\n  color: ${e.placeholder_color};\n}\n.${t}.${t}::-moz-placeholder {\n  color:    ${e.placeholder_color};\n  opacity:  1;\n}\n.${t}.${t}:-ms-input-placeholder {\n  color: ${e.placeholder_color} !important;\n}\n.${t}.${t}:-moz-placeholder {\n  color: ${e.placeholder_color};\n  opacity:  1;\n}`,document.head.appendChild(r),o[e.placeholder_color]={class_name:t,style_tag:r,count:0}}t.addClass(o[e.placeholder_color].class_name),o[e.placeholder_color].count++,s.set(t[0],e.placeholder_color)}else t.removeClass(["grey","black","white","blue","green","red"].join(" ")),"grey"!==e.placeholder_color&&["grey","black","white","blue","green","red"].includes(e.placeholder_color)&&t.addClass(e.placeholder_color)}}).prototype._uses_properties=["placeholder_color"],r.prototype.transition_properties={},r.prototype.no_solid_support=!0,r.prototype.field_names={placeholder_color:{default:"rgba(181, 181, 181, 1)"}},r.prototype.class_name="PlaceholderColor",r)})),lm=u(((e,t)=>{"use strict";f();var r,n=Bg();t.exports=((r=class extends n{_apply(e,t,r){e&&r.run_mode()&&t.attr("title",e.title_attribute)}}).prototype._uses_properties=["title_attribute"],r.prototype.transition_properties={},r.prototype.not_in_style=!0,r.prototype.field_names={title_attribute:{optional:!0}},r.prototype.no_solid_support=!0,r.prototype.class_name="ToolTip",r)})),_m=u(((e,t)=>{"use strict";f();var r,n=Vt(),i=Po(),a=Bg();t.exports=((r=class extends a{_apply(e,t,r){e&&r.run_mode()&&i.has_advanced_feature_enabled("expose_id_option")&&(null!=e.unique_id||!["",null,void 0].includes(t[0].id))&&(null==e.unique_id?n.run_mode_ids||t.removeAttr("id"):t[0].id=e.unique_id)}}).prototype._uses_properties=["unique_id"],r.prototype.transition_properties={},r.prototype.not_in_style=!0,r.prototype.field_names={title_attribute:{optional:!0,no_states:!0}},r.prototype.class_name="UniqueID",r)})),um=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.CDN_URL_SUFFIX=void 0,e.get_file_cdn_url=o,e.is_file_cdn_url=function(e){let{user_file_url:r,user_file_cdn:n}=t;return null!=r&&e.includes(r)||null!=n&&e.includes(n)||e.includes("."+s)},e.replace_s3_with_cdn_url=function(e,r){return t.user_file_url?e.replace(t.user_file_url,o(r)):e},Ft();var t=a(Vt()),r=at(),n=a(To());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function o(e){return"meta"===e?`${r.META_APPNAME_FOR_OWN_CDN}.${s}`:`${n.digest(null!=e?e:"")}.${s}`}var s="cdn.bubble.io/";e.CDN_URL_SUFFIX=s})),cm=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Kt(),n=um(),i=qr(),a=Vt(),o=St(),s=e;function l(e,r){return 0===e.indexOf("//")?e=i().location.parsed_url().protocol+e:0!==e.indexOf("https://")&&0!==e.indexOf("http://")&&(e=i().location.parsed_url().protocol+"//"+e),a.always_proxy_user_files?i().location.parsed_url().host+"/user/iop/"+t.fixedEncodeURIComponent(e)+"?"+o.stringify(r):a.image_optimization_service+"/"+t.fixedEncodeURIComponent(e)+"?"+o.stringify(r)}function _(e){e*=1.1;let t=Math.floor(Math.log2(e)),r=1.5*Math.pow(2,t);return e>=r?Math.pow(2,t+1):r}s.ignore_imgix_fn=function(e,t,r){return!r&&!(a.image_optimization_service&&-1===e.indexOf("ignore_imgix")&&!t&&-1===e.indexOf(".svg")&&(n.is_file_cdn_url(e)||a.always_proxy_user_files))},s.get_reduced_file_url=function(e,n,i,a){let s;if(n){let e=_(n);s=e/n,n=e}else s=null;function u(t){var o;return isNaN(t)||null==t?(null!=(o=Number.isNaN)&&o.call(Number,t)&&r.warn("Picture with NaN dimensions",{src:e,width:n,height:i,options:a}),null):t.toString()}i&&(i=s?Math.round(s*i):_(i));let c={w:u(n),h:u(i),auto:"compress"};a&&t.extend(c,a);let d=e.split("?")[1];return d&&(d=o.parse(d),t.extend(c,d)),null!=c.fit||(c.fit="max"),l(e.split("?")[0],c)},s.get_image_json_data=function(e,r){let n={fm:"json"},a=e.split("?")[1];if(a){let e=o.parse(a);switch(e.fm="json",t.extend(n,e),e.fit){case"crop":case"facearea":case"clamp":case"min":case"scale":if(null!=e.w&&null!=e.h){let t={width:e.w,height:e.h};r(t)}else r(null);return}if(e.ar)return void r(null)}e=i().location.parsed_url().protocol+"//"+l(e.split("?")[0],n);let s=$.ajax(e);return s.done(((e,t,n)=>{let i,a;[6,8].includes(e.Orientation)?(a=e.PixelHeight,i=e.PixelWidth):(a=e.PixelWidth,i=e.PixelHeight),r(a&&i?{width:a,height:i}:null)})),s.fail(((e,t,n)=>r(null)))},s.add_processing_options=function(e,r){if(null==(null==e?void 0:e.split))return"";let n={},i=e.split("?")[1];var a;(i&&t.extend(n,o.parse(i)),r.auto_enhance&&(n.auto="enhance"),r.red_eye&&(r.auto?n.auto+=",redeye":n.auto="redeye"),r.extract_face)?(n.fit="facearea",n.facepad=null!=(a=r.facepad)?a:1):r.crop_to_fit&&(n.fit="crop");for(let e of["blur","sepia"])r[e]&&(n[e]=r[e+"_level"]);return r.pixel&&(n.px=r.pixel_level),r.mono&&(n.mono=t.rgb_to_hex(r.mono_level).code.split("#")[1]),r.mask&&(n.mask="ellipse"),null!=r.q&&(n.q=r.q),r.fm&&(n.fm=r.fm),e.split("?")[0]+"?"+o.stringify(n)}})),dm=u((e=>{"use strict";f();var t=Vt(),r=Lo(),n=cm(),i={};e.get_image_real_dimensions=function(e,a){if(!e)return void a({});if(i[e])return void a(i[e]);function o(){let t=r.img(void 0,$("body"),e);t.hide(),t.on("load",(()=>{let r={width:t.width(),height:t.height()};t.remove(),i[e]=r,a(r)})),t.on("error",(()=>{t.remove(),a({})}))}let s=r.fixedEncodeURIComponent(t.user_file_url),l=-1!==e.indexOf(t.user_file_url)||-1!==e.indexOf(s),_=t.image_optimization_service&&-1!==e.indexOf(t.image_optimization_service);l&&_?n.get_image_json_data(e,(t=>{t?(i[e]=t,a(t)):o()})):o()}})),pm=u((e=>{"use strict";f(),Ft();var t=Lo(),r=dm(),n=Fh(),i=Vt(),a=cm(),o=qr(),s=Po(),l=Nt(),_=um(),u=e;l.safe_register("./core/core_elements/shared/image_utils",u),u.reset_img_settings=e=>e.css({margin:"0px",width:"100%",height:"100%","object-fit":""}),u.rescale_image=function(e){let{src:i,img:a,element_height:o,element_width:s,cb:l,instance:_,ref_version:c}=e;0===i.indexOf("data:image/")&&l(a),({element_height:o,element_width:s}=null!=_?{element_height:n.evaluate_property(_,"height"),element_width:n.evaluate_property(_,"width")}:{element_height:o,element_width:s}),i=u.optimize_image(i,s,o),r.get_image_real_dimensions(i,(e=>{if(null!=e.height){if(null==_||t.autorun_top((()=>_.state("src_version")))===c){if(u.reset_img_settings(a),e.height/e.width>o/s){let t=e.width/e.height*o;a.css({"margin-left":(s-t)/2+"px",width:t+"px"})}else{let t=e.height/e.width*s;a.css({"margin-top":(o-t)/2+"px",height:t+"px"})}null==l||l(a)}}else null==l||l(a)}))},u.keep_proportions=function(e,t,r){let n;return r||e.get_static_property("keep_proportion_resize")?(n=t/e.element.get_width()*e.element.get_height(),e.set_height(n)):n=e.element.get_height(),n},u.optimize_image=function(e,t,r,n,l,u){var p;if("string"!=typeof e)return;if(/^data:image\//.test(e)||/^blob:/.test(e)||(e=_.replace_s3_with_cdn_url(e,s.appname()),/\.(mov|mp4|mkv|avi|flv|webm)$/i.test(e)))return e;0===t&&(t=void 0),0===r&&(r=void 0);let f,h=0===e.indexOf("https://");if(0===e.indexOf("http://")&&(e=e.split("http://").slice(1).join("http://")),0===e.indexOf("https://")&&(e=e.split("https://").slice(1).join("https://")),0===e.indexOf("//")&&(e=e.replace("//","")),i.image_optimization_service&&-1!==e.indexOf(i.image_optimization_service)||-1!==e.indexOf("/user/iop/")||null!=(p=n)&&p.force||!a.ignore_imgix_fn(e)){if(!o().is_edit_mode()){var g;let e=function(e){return null==e?1:e>c?e<8?d*Math.floor(e/d):8:c}(null==(g=window)?void 0:g.devicePixelRatio);if(null!=e)null!=n||(n={}),n.dpr=e}e=a.get_reduced_file_url(e,t,r,n)}else i.user_file_cdn&&(e=e.replace(i.user_file_cdn,_.get_file_cdn_url(s.appname())));return f=h?"https:":o().location.parsed_url().protocol,e=f+"//"+e},u.download_image=function(e,r,n){if(u.downloaded_images[e])return null==n?void 0:n(e);{let i=t.img(void 0,void 0,e);return i.on("load",(()=>{var t;return u.downloaded_images[e]=!0,null==n||n(e),i.remove(),null==(t=o().workflow.debugger)?void 0:t.get_request_size(e,"image")})),i.on("error",(()=>{var t;if(i.remove(),n)return n(u.transparent_image()),null==(t=o().workflow.debugger)?void 0:t.report_error({type:"warning",instance:r,error:{message:`The image could not be loaded: ${e} .`}})}))}};var c=.5,d=.25;u.transparent_image=()=>"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",u.downloaded_images={}})),fm=u(((e,t)=>{"use strict";f(),Ue(),Ft();var r,n=Lo(),i=Bg(),a=kg();t.exports=((r=class extends i{_apply(e,t){if(e){let o,s,l=[null,void 0,"linear"].includes(e.style),_="rgba(0,0,0,1)",u=e.from,c=e.to,d=e.mid;if(l)if("custom"===e.direction){var r;o=(null!=(r=e.angle)?r:45)+"deg"}else{var i;if(o=null!=(i=e.direction)?i:"top","top"===o||"bottom"===o){if(s=0,"bottom"===o){let e=u;u=c,c=e,o="top"}}else if(("left"===o||"right"===o)&&(s=1,"right"===o)){let e=u;u=c,c=e,o="left"}}let p,f,h=n.RGBA_to_ARGB(u),g=n.RGBA_to_ARGB(c);if(p=d?`${u} 0%, ${d} 50%, ${c} 100%`:`${u} 0%, ${c} 100%`,l)f=`linear-gradient(${o}, ${p})`;else null!=e.shape||(e.shape="ellipse"),null!=e.pos||(e.pos="farthest-corner"),null!=e.xpos||(e.xpos=10),null!=e.ypos||(e.ypos=10),f=`radial-gradient(${e.shape} ${e.pos} at ${e.xpos}% ${e.ypos}%, ${p})`;t[0].style.background=u;for(let e of["-moz-","-webkit-","-o-","-ms-",""]){if(f.includes("var")){let t=f.replace(a.RGB_TOKEN_ALPHA,_);if(t=t.replace(a.RGBA_TOKEN,_),!CSS.supports("background",e+t))continue}t[0].style.background=e+f}t.css("filter",`progid:DXImageTransform.Microsoft.gradient( startColorstr='${h}', endColorstr='${g}',GradientType=${s})`)}}_get_properties(){return[]}}).prototype.class_name="SimpleGradient",r)})),hm=u(((e,t)=>{"use strict";f();var r,n=Lo(),i=Bg(),a=jg(),o=pm(),s=Po(),l=fm(),_=Fh();function u(e,t,r,n){e.data("_last_downloaded_image",t),o.download_image(t,r,(()=>{t===e.data("_last_downloaded_image")&&(n["background-image"]=`url("${t}")`,a.apply_css_style(e,n))}))}t.exports=((r=class extends i{_apply(e,t,r){if(e){let d={};if(!e._first_time&&(s.get_public_setting("bubble_version")<16||"Dropdown"!==(null==r?void 0:r.element.type())||"image"===e.background_style)&&(d.background="none"),"bgcolor"===e.background_style)d["background-color"]=n.RGBA_to_RGB(e.bgcolor),d["background-color"]=e.bgcolor;else if("none"!==e.background_style||e._first_time){if("gradient"===e.background_style)return a.apply_css_style(t,d),void(new l)._apply({style:e.background_gradient_style,direction:e.background_gradient_direction,angle:e.background_gradient_custom_angle,from:e.background_gradient_from,to:e.background_gradient_to,mid:e.background_gradient_mid,shape:e.background_radial_gradient_shape,pos:e.background_radial_gradient_size,xpos:e.background_radial_gradient_xpos,ypos:e.background_radial_gradient_ypos},t);if("image"===e.background_style&&(e.backdrop_image_paralax||(d["background-color"]=e.background_color_if_empty_image),e.background_image)){var i,c;let a=e.repeat_background_vertical&&e.repeat_background_horizontal?"repeat":e.repeat_background_vertical?"repeat-y":e.repeat_background_horizontal?"repeat-x":"no-repeat";d["background-repeat"]=a,e.center_background?e.is_backdrop?d["background-position"]="center top":d["background-position"]="center":d["background-position"]="",e.background_size_cover||null!=r&&null!=(i=r.element.root())&&i.use_responsive_algorithm()&&e.crop_responsive?(d["background-size"]="cover",d["-webkit-background-size"]="cover",d["-moz-background-size"]="cover",d["-o-background-size"]="cover"):d["background-size"]="";let s=null==r?void 0:r.element.property("background_image"),l=s&&(!s.is_empty()&&s.is_static()||s.is_empty());if(e.background_size_cover){if((!r||null!=r&&r.run_mode()||l)&&!e.backdrop_image_paralax)return void u(t,o.optimize_image(e.background_image,t.width()),r,d)}else if(e.crop_responsive&&null!=r&&null!=(c=r.element.root())&&c.use_responsive_algorithm()){if(r.run_mode()){let e=null,n=null;return void r.autorun((()=>{let i=_.evaluate_property(r,"width"),a=_.evaluate_property(r,"height"),s=_.evaluate_property(r,"background_image"),l=r.responsive_mode()&&i===r.element.get_width();function c(){u(t,o.optimize_image(s,i,a,{fit:"crop"}),r,d)}n=o.optimize_image(s,i,a),s===e&&!o.downloaded_images[n]||l?r.setTimeout((()=>{n===o.optimize_image(s,i,a)&&c()}),300):(0!==i||n===s)&&(e=s,c())}))}if(l)return void u(t,e.background_image,r,d)}else if(!e.backdrop_image_paralax)return void u(t,o.optimize_image(e.background_image),r,d);if(e.backdrop_image_paralax){if(n.is_on_mobile_or_tablet())return void u(t,o.optimize_image(e.background_image),r,d);{d["background-image"]="none";let r=o.optimize_image(e.background_image,t.width());t.parallax({imageSrc:r,speed:e.backdrop_paralax_speed}),$(".parallax-slider").attr({src:r})}}}}else d["background-color"]="transparent";a.apply_css_style(t,d)}}}).prototype._uses_properties=["background_style","bgcolor","background_gradient_direction","background_gradient_custom_angle","background_gradient_from","background_gradient_to","background_gradient_mid","background_image","repeat_background_vertical","center_background","repeat_background_horizontal","background_size_cover","background_color_if_empty_image","crop_responsive","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos"],r.prototype.transition_properties={background_style:"background"},r.prototype.no_solid_support=!0,r.prototype.field_names={background_style:{default:"none"},bgcolor:{default:"#FFFFFF"},background_gradient_direction:{default:"top"},background_gradient_custom_angle:{default:45},background_gradient_from:{default:"#FFFFFF"},background_gradient_to:{default:"#AAAAAA"},background_gradient_mid:{optional:!0},background_gradient_style:{default:"linear"},background_radial_gradient_shape:{default:"ellipse"},background_radial_gradient_size:{default:"farthest-corner"},background_radial_gradient_xpos:{default:10},background_radial_gradient_ypos:{default:10},background_image:{},center_background:{},background_size_cover:{},repeat_background_vertical:{},repeat_background_horizontal:{},background_color_if_empty_image:{default:"rgba(255, 255, 255, 0.0)"},crop_responsive:{no_states:!0,default:!0,prop_not_in_style:!0}},r.prototype.class_name="Background",r)})),gm=u((e=>{"use strict";f(),Ue();var t,r=Nt(),n=vg(),i=jg(),a=e;a.NoSelect=qg(),a.Dimensions=Ug(),a.Opacity=Wg(),a.MinWidth=$g(),a.RootSizing=Fg(),a.ResponsiveElement=Gg(),a.ResponsiveContainer=Xg(),a.ShortDimensions=Hg(),a.PositionOnly=Vg(),a.Rotation=Yg(),a.BoxShadow=Jg(),a.PaddingFields=Zg(),a.Font=Qg(),a.FontShadow=em(),a.FontSpacing=tm(),a.Border=nm(),a.PaddingText=im(),a.Padding=am(),a.InputPadding=om(),a.PlaceholderColor=sm(),a.ToolTip=lm(),a.UniqueID=_m(),a.Background=hm(),a.SimpleGradient=fm(),a.apply_css_style=i.apply_css_style,a.calculate_border_height=i.calculate_border_height,a.calculate_border_width=i.calculate_border_width,a.patch_user_agent_styles=i.patch_user_agent_styles;for(let e of Object.values(a))if(null!=(null==(t=e.prototype)?void 0:t.field_names)&&!e.prototype.not_in_style)for(let[t,r]of Object.entries(e.prototype.field_names))r.prop_not_in_style||n.register_style_property(t);r.safe_register("./core/property_applications",a)})),mm=u((e=>{"use strict";f();Lo(),Kt(),gg()})),vm=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ON_ELEMENT_LIST=e.ON_ELEMENT=e.GROUP_TYPES=e.CUSTOM_PROP_IDENTIFIER=void 0;e.GROUP_TYPES={Group:"Group",Popup:"Popup",FloatingGroup:"Floating Group"};var t="param_";e.CUSTOM_PROP_IDENTIFIER=t;var r={includes:e=>n.includes(e)||e.startsWith(t)};e.ON_ELEMENT=r;var n=["lock_in_editor","is_visible","top","left","zindex","data_source","custom_id","greyout_color","greyout_blur","responsive_alignment","prevent_user_from_closing_through_esc","collapse_margin","fixed_width","min_width","use_max_width","max_width","responsive_show","responsive_show_width","width","height","floating_reference","floating_reference_horizontal","unique_id","floating_reference_horizontal_resp","float_zindex","parallax","nonant_alignment","vert_alignment","horiz_alignment","order","collapse_when_hidden","collapse_animation","animation_type","single_width","min_width_css","max_width_css","fit_width","single_height","min_height_css","max_height_css","fit_height","margin_left","margin_right","margin_top","margin_bottom","overflow_scroll"];e.ON_ELEMENT_LIST=n})),ym=u(((e,t)=>{"use strict";f(),Ue(),Ft();var r,n,i,a,o,s,l,_=F(Lo()),u=W(Nl()),c=F(Kt()),d=W(vg()),p=W(Pl()),h=W(Il()),g=(W(ef()),W(Xp())),m=(W(yg()),W(ff())),v=F(af()),y=W(Xh()),b=F(hg()),w=W(Pg()),A=F(Rg()),E=W(gg()),M=W(mg()),x=F(zg()),O=W(cf()),k=W(qr()),S=W(Fl()),T=(F(tf()),F(xl())),N=W(Po()),C=W(Ig()),L=W(gm()),P=W(mm()),R=W(Cl()),z=W(El()),I=W(Ml()),D=F(xr()),j=Al(),B=vm(),q=nt(),U=of();function W(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return($=function(e){return e?r:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=$(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function G(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var X,H={},V={};var Y=(r=p.default.cached({type:p.default.AUTORUN}),n=p.default.cached({type:p.default.RUN_MODE,parameters:1}),i=p.default.cached({type:p.default.RUN_MODE}),a=p.default.cached({type:p.default.ALL_MODES}),o=p.default.cached({type:p.default.RUN_MODE}),s=p.default.cached({type:p.default.RUN_MODE,parameters:1}),G((l=class extends h.default.HasID{make_new(){return z.default.new_element(...arguments)}constructor(e,t){var r,n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(super(e=e.to_id()),this.E=void 0,this.fake=void 0,this._type=void 0,this.json=void 0,this.definition_or_self=void 0,this.style_override_properties=void 0,this.num_style_overrides=void 0,this._property_watcher_fns=void 0,this.is_missing=void 0,this.__solid_component=void 0,this._get_responsive_data_watcher=void 0,this._precomputed=void 0,this.json=e,this.fake=t,this._type=null!=(r=null!=(n=i._type)?n:e.child("type").get())?r:j.MISSING_TYPE,this.style_override_properties=new Set,this.num_style_overrides=_.Box(0),this.definition_or_self=this,"CustomElement"===this._type){let e=k.default.or_throw().load_custom(this);this.E=e,this.definition_or_self=e.custom_definition();let t=this.property.bind(this),r=this.get_default.bind(this),n=this.get_static_property.bind(this);if(this.property=e.property_transformer(this,t),this.get_static_property=e.get_static_property_transformer(this,n),this.get_default=e.default_transformer(this,r),this.get_style_if_exists=e.get_style_if_exists_transformer(),this.get_responsive_data=()=>{var e;let t=null!=(e=this.property("custom_id").get_static())?e:"";return this.app().custom_definition(t).get_responsive_data()},this.get_visible_workflows=function(){return e.get_visible_workflows(this)},this.get_related_workflows=e.get_related_workflows(this),!k.default.or_throw().is_edit_mode()){var a,o;let t=[...null!=(a=null==(o=e.custom_states)?void 0:o.call(e))?a:R.default.enhance_array([]),...y.default.get_states_from_raw_json(this.json).map((e=>new E.default(e)))];this.states=()=>t}}else if(this._type){var s;this.E=null!=(s=k.default.or_throw().load_plugin(`${k.default.or_throw().plugin_prefixes.element}${this._type}`,!0))?s:w.default}else this.E=w.default;this.is_missing=this.E===w.default}get solid_component(){return null==this.__solid_component&&this.build_solid_component(),this.__solid_component}build_solid_component(){var e;return this.__solid_component=null==(e=this.E.solid_component)?void 0:e.buildComponent(this,x.getPropertyCache(this.ssr_key())),this.__solid_component}display(e){return this.get_name(e)}E_object(){return this.E}get_name(e){var t,r;if(null!=(t=(r=this.E).generate_name)&&t.call(r,this))return this.E.generate_name(this);let n=this.json.child("name").get();if(n)return b.seen_custom_names[n]=!0,n;{var i;!e&&null!=k.default.or_throw().workflow.debugger&&(e=!0);let t=null!=(i=this.gen_name(e))?i:this.default_name();return b.seen_default_names[t]=!0,t}}name_for_datasource(){var e,t,r;return null!=(e=null==(t=(r=this.E).name_for_datasource)?void 0:t.call(r,this))?e:this.get_name()}get_responsive_data(){if(!this.exists())return{};if(_.is_edit_mode())return this._get_responsive_data_watcher=_.Watcher((()=>{let e;return e=this.root().use_responsive_algorithm()?C.default.calculate_lines(this):C.default.build_push_tree(this),P.default.simplify_data(e)})),this._get_responsive_data_watcher.get();let e=k.default.or_throw().derived("Responsive",this.root().json._path(),this.root().use_responsive_algorithm());return e.set_app(this.app()),e.content()[this.id()]}default_name(){return this.json.child("default_name").get()}gen_name(e){if(!k.default.or_throw().is_edit_mode()&&!e)return;let t=["text","placeholder","label","icon","group_type"];if(function(e,t){let r={};for(let o=0;o<t.length;o++){let s=t[o],l=e.property(s),_=R.default.make_filter("GetElement"),u=R.default.make_filter("ThisElement"),d=[...l.find_expressions(_),...l.find_expressions(u)];k.default.or_throw().is_edit_mode()?r[e.json._id]=!0:r[e.json.id()]=!0;for(let e=0;e<d.length;e++){var n,i,a;let t=d[e],o=null==(n=t.raw())?void 0:n.properties;if(null!=o){if(r[null!=(i=o.element_id)?i:""])return!0;r[null!=(a=o.element_id)?a:""]=!0}else c.debug("missing entry properties object",{raw:(0,q.to_loggable)(t.raw()),path:t.path()})}}return!1}(this,t))return this.default_name();let r=this.toUniqueString();if(V[r])return this.default_name();V[r]=!0,null!=H[r]||(H[r]=_.Watcher((()=>{let e=e=>{let t=y.default.get_short_display(this.type());if("CustomElement"===t){var r;let e=this.get_static_property("custom_id"),t=null==(r=N.default.custom_definition(e))?void 0:r.name();if(t)return t}return t+" "+e};for(let n of t)if("group_type"===n){let t=this.get_static_property(n);if(t){var r;let n=null==(r=S.default.get(t))?void 0:r.display();if(n)return e(n)}}else{let t=this.property(n);if(!t.is_empty()){return e(t.get_tree_display().slice(0,20))}}}))),delete V[r];let[n,i]=H[r].get_current();return n?i:void 0}get_type_display(){var e,t,r;return null!=(e=null==(t=(r=this.E).get_type_display)?void 0:t.call(r,this))?e:y.default.get_short_display(this.type())}is_equal_to(e){return!(!super.is_equal_to(e)||this._type!==e._type)&&("CustomElement"!==this._type||(null==(t=this.E)?void 0:t.base_name)===(null==(r=e.E)?void 0:r.base_name));var t,r}toUniqueString(){return super.toUniqueString()+this._type}type(){return this._type}is_input(){var e,t;return null!=(e=null==(t=this.E)?void 0:t.is_input)&&e}is_root(){var e,t;return(null==(e=this.is_page)?void 0:e.call(this))||(null==(t=this.is_custom_definition)?void 0:t.call(this))}is_page(){return!1}is_custom_definition(){return!1}id(){return this.json.id()}ssr_key(){return this.id()}get_styleable_static_property(e,t){if(this.is_styleable_property(e)){let t=this.get_style_if_exists();if(t){if((0,U.allow_overrides_check)(this,e)){let r=this.definition_or_self.property(e).raw();return null==r?t.get_static_property(e):r}return t.get_static_property(e)}}return this.get_static_property(e,t)}get_precomputed(){if(this._precomputed)return this._precomputed;{let e=this.json._raw_child(T.S.properties);if("CustomElement"===this.type()){for(let t in e)B.ON_ELEMENT.includes(T.expand(t))||delete e[t];let t=this.E.custom_definition().json._child(T.S.properties)._raw();for(let r in t)!B.ON_ELEMENT.includes(T.expand(r))&&!["height","width"].includes(T.expand(r))&&(e[r]=t[r])}let t=this.get_style_if_exists(),r=t?function(){if(!X){X={};let e=d.default.get_style_properties();for(let t in e){let r=e[t];X[T.shrink(t)]=r}}return X}():{},n={};for(let i in e){if(t&&(r[i]||this.is_styleable_property(i))&&!(0,U.allow_overrides_check)(this,i))continue;let a=e[i];g.default.is_static(a)?n[i]=g.default.get_static(a):n[i]=v.NOT_STATIC_PROP}let i={};Object.entries(n).forEach((e=>{let[t,r]=e;i[T.expand(t)]=r})),t&&u.default.object_entries(t.get_precomputed()).forEach((e=>{let[t,r]=e;this.is_styleable_property(t)&&(null!=i[t]||(i[t]=r))}));let a=this.element_version(!1),o=this.element_version(!0);for(let e of this.states())for(let t of e.property_names()){i[t]=v.NOT_STATIC_PROP;for(let e of O.default.get_unmapped_properties(a,o,t))i[e]=v.NOT_STATIC_PROP}return this._precomputed=i,this._precomputed}}default_states(){var e;return null!=(e=this.E.default_states)?e:[]}added_to_container(){return"function"==typeof this.E.added_to_container?this.E.added_to_container(this):null==this.E.position_canvas}container_layout(){var e;return null!=(e=this.E.standard_container_layout)?e:this.get_static_property("container_layout")}should_add_extra_wrapper(){if(this.container_layout()!==m.default.FIXED_LAYOUT){for(let i of this.definition_or_self.elements()){var e,t;let a=null!=(e=i.get_static_property("min_height_css",!0))?e:"",o=null!=(t=i.get_static_property("max_height_css",!0))?t:"";if(a.includes("%")||o.includes("%"))return!0;for(let e of i.states()){var r,n;let t=null!=(r=e.get_static_property("min_height_css"))?r:"",i=null!=(n=e.get_static_property("max_height_css"))?n:"";if(-1!==t.indexOf("%")||-1!==i.indexOf("%"))return!0}}if(["FloatingGroup","GroupFocus","Popup"].includes(this.type())&&this.definition_or_self.elements().find((e=>"RepeatingGroup"===e.type()&&!e.get_static_property("fit_height")))||"column"===this.container_layout()&&!this.never_fits_height()&&this.definition_or_self.elements().find((e=>"relative"===e.container_layout()&&!e.get_static_property("single_height")&&!e.fit_height())))return!0}return!1}container_locked(){let e=this.container_layout();return null!=e&&"fixed"!==e}get_new_event_json(){return this.json.child("workflows").child(_.LUID())}events(e){return this.json.smart_cache("events_"+String(e),(t=>{let r=t.child("workflows").children().map((e=>z.default.new_workflow_item(e)));return R.default.filter_array(e,r)}))}find_events(e){return this.events(e)}find_actions(e){return this.events().flatMap((t=>t.all_next(e)))}find_customs(){let e,t=this.app(),r=new Set,n=[this],i=[];for(;null!=(e=n.pop());)e.find_elements("CustomElement").forEach((e=>{let a=e.get_static_property("custom_id"),o=t.custom_definition(a);null!=o&&!r.has(a)&&(r.add(a),n.push(o),i.push(o))}));return i}find_actions_custom(e){return[...this.find_actions(e),...this.find_customs().flatMap((t=>t.find_actions(e)))]}elements(e){if(!this.can_have_children())return R.default.enhance_array([]);let t=this.json.child("elements").children().filter((e=>e.child("id").exists())).map((e=>z.default.create_generic("element",e))),r=R.default.enhance_array(t);return R.default.filter_array(e,r)}find_elements(e){let t=_.autorun_return((()=>y.default.find_elements(R.default.to_raw(this),e)));return R.default.from_raw_array(this.json,z.default.new_element,t)}find_elements_custom(e){let t=R.default.make_filter(e),r=[...this.elements().filter((e=>t(e))),...this.elements().flatMap((e=>e.find_elements_custom(t))),...this.find_customs().flatMap((e=>e.find_elements(t)))];return R.default.enhance_array(r)}find_expressions(e){let t=_.autorun_return((()=>y.default.element_find_expressions(R.default.to_raw(this),e)));return R.default.from_raw_array(this.json,z.default.new_expression,t)}parent(){var e;if(this.fake)return null;let t=null==(e=this.json.parent())?void 0:e.parent();return t?z.default.new_element(t):null}parents(e){let t=[],r=this;for(;r=r.parent();)t.push(r);return R.default.filter_array(e,t)}context_element(){return this}root(){var e;return null==(e=this.parent())?void 0:e.root()}get_width(){return this.get_static_property("width")}get_height(){return this.get_static_property("height")}get_left(){return this.get_static_property("left")}get_top(){return this.get_static_property("top")}get_zindex(){return this.get_static_property("zindex")}can_be_variable_width(){return null!=this.E.must_be_fixed_size?!this.E.must_be_fixed_size(this):null!=this.E.get_min_width}fixed_width(){return!this.can_be_variable_width()||this.get_static_property("fixed_width")}min_width_adjustable_legacy(){return this.can_be_variable_width()&&!this.get_static_property("fixed_width")&&this.E.get_min_width(this)<this.get_width()}max_width_adjustable_legacy(){return this.min_width_adjustable_legacy()&&!this.E.not_max_adjustable_legacy&&!this.not_max_adjustable()}not_max_adjustable(){return"function"==typeof this.E.not_max_adjustable?this.E.not_max_adjustable(this):null!=(e=this.E.not_max_adjustable)&&e;var e}default_min_width(){var e,t;return(null!=(e=null==(t=this.root())?void 0:t.get_width())?e:0)>600?Math.round(.2*this.get_width()):this.get_width()}get_min_width(){if(null==this.E.get_min_width||this.get_static_property("fixed_width"))return this.get_width();let e=this.get_static_property("min_width"),t=(null!=e?e:0)/100*this.get_width(),r=this.E.get_min_width(this);return Math.max(t,r)}get_max_width(){if(null==this.E.get_min_width||this.get_static_property("fixed_width"))return this.get_width();if(!this.get_static_property("use_max_width"))return null;let e=this.get_static_property("max_width");return(null!=e?e:100)/100*this.get_width()}responsive_show(){return this.get_static_property("responsive_show")}responsive_show_width(){return this.get_static_property("responsive_show_width")}is_fixed_dimension(e){return this.get_static_property(`single_${e}`)}force_fixed(){return!this.E.no_fixed_sizing&&"fixed"===this.container_layout()}root_min_width(){return this.force_fixed()?this.get_width():this.get_static_property("min_width_px")}root_max_width(){return this.force_fixed()?this.get_width():this.not_max_adjustable()?null:this.get_static_property("max_width_px")}root_min_height(){return this.force_fixed()?this.get_height():this.get_static_property("min_height_px")}root_max_height(){return this.force_fixed()?this.get_height():this.not_max_adjustable()?null:this.get_static_property("max_height_px")}can_fit_width(){return"function"==typeof this.E.can_fit_width?this.E.can_fit_width(this):null!=(e=this.E.can_fit_width)&&e;var e}can_fit_height(){return"function"==typeof this.E.can_fit_height?this.E.can_fit_height(this):null!=(e=this.E.can_fit_height)&&e;var e}fit_width(){return!(!this.E.uses_css_responsive||!this.can_fit_width()||this.force_fixed()||this.get_static_property("single_width"))&&this.get_static_property("fit_width")}fit_height(){return!this.E.uses_css_responsive||!(!this.can_fit_height()||this.force_fixed()||this.get_static_property("single_height"))&&this.get_static_property("fit_height")}never_fits_width(){var e;if(!this.can_fit_width()||this.force_fixed())return!0;let t=null==(e=this.parent())?void 0:e.container_layout();if(t===m.default.DIMENSION_TO_CROSS_AXIS.width){if(!this.get_static_property("fit_width"))return!0;let e=this.get_static_property("horiz_alignment",!0),t=this.states().some((e=>"stretch"!==e.get_static_property("horiz_alignment")));return"stretch"===e&&!t}return t===m.default.FIXED_LAYOUT||!this.get_static_property("fit_width")}never_fits_height(){var e;if(!this.can_fit_height()||this.force_fixed())return!0;let t=null==(e=this.parent())?void 0:e.container_layout();if(t===m.default.DIMENSION_TO_CROSS_AXIS.height){if(this.get_static_property("single_height"))return!0;let e=this.get_static_property("vert_alignment",!0),t=this.states().some((e=>"stretch"!==e.get_static_property("vert_alignment")));return"stretch"===e&&!t}return t===m.default.FIXED_LAYOUT||!this.get_static_property("fit_height")}can_fix_aspect_ratio(){var e,t,r;return null!=(e=null==(t=(r=this.E).can_fix_aspect_ratio)?void 0:t.call(r,this))&&e}has_fixed_aspect_ratio(){var e;return this.can_fix_aspect_ratio()&&"fixed"!==(null==(e=this.parent())?void 0:e.container_layout())&&this.get_static_property("use_aspect_ratio")}uses_css_responsive(){var e;return null!=(e=this.E.uses_css_responsive)&&e}get_containing_element(){return this.parent()}no_margins(){var e,t,r;return null!=(e=null==(t=(r=this.E).no_margins)?void 0:t.call(r,this))&&e}state_by_name(e){return new E.default(this.json.child("states").child(e))}get_messages(){var e,t,r;return null!=(e=null==(t=(r=this.E).get_messages)?void 0:t.call(r,this))?e:[]}add_specific_messages(e){var t,r;null==(t=(r=this.E).add_specific_messages)||t.call(r,e,this)}get_states(){var e,t,r;return null!=(e=null==(t=(r=this.E).get_states)?void 0:t.call(r,this))?e:[]}get_state_value(e){var t,r,n;return S.default.get(null!=(t=null==(r=(n=this.E).get_state_value)?void 0:r.call(n,this,e))?t:"null")}_fields(e){return this.E.fields(this,e)}field(e){var t;return null==(t=this.fields)?void 0:t.call(this).find((t=>t.name===e))}field_names(){return this.E.field_names}is_styleable_property(e){return this.get_styleable_properties()[e]}get_property_applications(){var e;let t=null!=(e=this.E.property_applications)?e:[];return"function"==typeof t&&(t=t(this)),"CustomDefinition"===this._type?t:[...t,new L.default.UniqueID]}get_value_id(){var e,t,r;return null!=(e=null==(t=(r=this.E).get_value_id)?void 0:t.call(r,this))?e:"element."+this.id()}get_visible_workflows(){return R.default.filter_array((e=>!e.json._raw_gchild(T.S.properties,"workflow_disabled")),this.parents().flatMap((e=>e.events())))}get_related_workflows(e){let t=this.id(),r=this.get_visible_workflows().filter((r=>r.element_id()===t&&r.type()===e));return R.default.enhance_array(r)}can_have_children(){var e,t,r;return null!=(e=null==(t=(r=this.E).can_have_children)?void 0:t.call(r,this))&&e}tell_editcanvas(){return!0}is_visible_on_page_load(){return this.E.is_visible_on_page_load(this)}modal(){var e,t,r;return null!=(e=null==(t=(r=this.E).modal)?void 0:t.call(r,this))&&e}not_draggable(){var e,t,r;return null!=(e=null==(t=(r=this.E).not_draggable)?void 0:t.call(r,this))&&e}not_resizable(){var e,t,r;return null!=(e=null==(t=(r=this.E).not_resizable)?void 0:t.call(r,this))&&e}goes_on_document(){var e,t,r;return null!=(e=null==(t=(r=this.E).goes_on_document)?void 0:t.call(r,this))&&e}draws_own_children(){var e,t,r;return null!=(e=null==(t=(r=this.E).draws_own_children)?void 0:t.call(r,this))&&e}can_reference(){var e,t,r;return null==(e=null==(t=(r=this.E).can_reference)?void 0:t.call(r,this))||e}get_style_node(){return z.default.new_expression(this.json.child("style"),this)}get_style_id(){var e;return null!=(e=this.json.child("style").get())?e:void 0}get_style(){return this.app().style(this.get_style_id())}property_supports_states(){var e;return null==(e=this.E.property_supports_states)||e}property_supports_transitions(){var e;return null==(e=this.E.property_supports_transitions)||e}hide_property_editor_tabs(){var e;return null!=(e=this.E.hide_property_editor_tabs)&&e}primary_field(){var e,t;return null==(e=(t=this.E).primary_field)?void 0:e.call(t,this)}mandatory_sections(){var e,t,r;return null!=(e=null==(t=(r=this.E).mandatory_sections)?void 0:t.call(r,this))?e:null}can_copy_style(){var e;return null==(e=this.E.can_copy_style)||e}property_sections(e){var t;return null!=(t=A.for_mode[e])?t:A.for_mode.all}exclusively_responsive_sections(){return[{name:"Responsive",show_title:!1},{name:"Margins",show_title:!1},{name:"PaddingFields",show_title:!1},{name:"ResponsiveContainer",show_title:!1}]}element_custom_states(){return this.E.element_custom_states?this.E.element_custom_states():this.json.child("custom_states").children().map((e=>z.default.create(I.default.CUSTOM_STATE,e)))}element_custom_state(e){if(!e)return null;if(this.E.element_custom_state)return this.E.element_custom_state(e);{let t=D.custom_type_name(e),r=this.json.child("custom_states").child(t);return z.default.create(I.default.CUSTOM_STATE,r)}}transitions(){let e=this.json.child("transitions").children().map((e=>new M.default(e,this)));return R.default.enhance_array(e)}transition(e){if(this.E.transition)return this.E.transition(e);let t=this.json.child("transitions").child(e);if(t.exists())return new M.default(t,this);let r=this.get_style_if_exists();return r?r.transition(e):void 0}add_transition(e){k.default.or_throw().changes.create_change("AddTransition",{element_id:this.id(),prop_name:e,data:M.default.default_transition}).execute(),this.commit()}find_events_using_this_element(){var e,t;let r=this.id();return(null!=(e=null==(t=k.default.or_throw().visual_edit.root_node())?void 0:t.events())?e:[]).filter((e=>e.element_id()===r||e.find_my_expressions("GetElement.element_id="+r).length))}find_actions_using_this_element(){var e,t;let r=this.id();return(null!=(e=null==(t=k.default.or_throw().visual_edit.root_node())?void 0:t.events())?e:[]).flatMap((e=>e.actions()||[])).filter((e=>e.element_id()===r||e.find_my_expressions("GetElement.element_id="+r).length))}find_elements_using_this_element(){var e,t,r;let n=this.id();return(null!=(e=null==(t=k.default.or_throw().visual_edit.root_node())||null==(r=t.find_elements)?void 0:r.call(t))?e:[]).filter((e=>e.id()!==n&&e.find_expressions("GetElement.element_id="+n).length))}states(){let e=y.default.get_states_from_raw_json(this.json).map((e=>new E.default(e)));return R.default.enhance_array(e)}get_styleable_properties(){var e;let t=d.default.get_style_properties(),r=null!=(e=this.E.styleable_properties)?e:{};return _.extend({},t,r)}get_style_if_exists(){let e=this.json._child(T.S.style).get();if(null==e)return null;let t=this.app().style(String(e));return t.exists()?t:null}has_overridden_style(){let e=["top","bottom","left","right"].filter((e=>null!=this.property(`padding_${e}`).raw())).length>0,t=!1;return this.get_style_if_exists()&&this.element_version()>=v.VERSION_STYLE_OVERRIDES&&(this.num_style_overrides()>0||e)&&(t=!0),t}can_defer_drawing(){return"function"==typeof this.E.can_defer_drawing&&this.E.can_defer_drawing(this)}no_size_when_hidden(){var e;let t=this.get_static_property("collapse_when_hidden"),r=!this.added_to_container(),n=this.is_responsive_v1()&&(null==(e=this.parent())?void 0:e.container_layout())===m.default.FIXED_LAYOUT;return t||r||n}ignores_child_sizes(){return this.is_responsive_v1()&&this.uses_css_responsive()&&this.never_fits_width()&&this.never_fits_height()}element_version(e){var t,r,n,i,a,o;return e&&null!=this.get_style_if_exists()?N.default.get_public_setting("style_version"):"Responsive"===(null==(t=(0,k.default)())||null==(r=t.derived_name)?void 0:r.call(t))||"ResponsiveDependencies"===(null==(n=(0,k.default)())||null==(i=n.derived_name)?void 0:i.call(n))?v.VERSION_STYLE_OVERRIDES-1:null!=(a=null==(o=this.root())?void 0:o.get_static_property("element_version"))?a:v.LATEST_ELEMENT_VERSION}is_responsive_v1(){var e,t;return(null!=(e=null==(t=this.root())?void 0:t.get_responsive_version())?e:1)>0}}).prototype,"should_add_extra_wrapper",[r],Object.getOwnPropertyDescriptor(l.prototype,"should_add_extra_wrapper"),l.prototype),G(l.prototype,"get_related_workflows",[n],Object.getOwnPropertyDescriptor(l.prototype,"get_related_workflows"),l.prototype),G(l.prototype,"states",[i],Object.getOwnPropertyDescriptor(l.prototype,"states"),l.prototype),G(l.prototype,"get_styleable_properties",[a],Object.getOwnPropertyDescriptor(l.prototype,"get_styleable_properties"),l.prototype),G(l.prototype,"get_style_if_exists",[o],Object.getOwnPropertyDescriptor(l.prototype,"get_style_if_exists"),l.prototype),G(l.prototype,"element_version",[s],Object.getOwnPropertyDescriptor(l.prototype,"element_version"),l.prototype),l);t.exports=Y})),bm=u(((e,t)=>{"use strict";f();var r=Lo(),n=qr(),i=(Kt(),y_());m_();var a=Il(),o=Xh(),s=ym(),l=/\./g;t.exports=class extends s{constructor(e,t,r){super(e,t,r),this.maybe_register_issue_indexers(),this.setup_autofixer()}maybe_register_issue_indexers(){!this.fake&&o._use_issue_checker()&&this.is_top_level()&&this.app().can_run_issue_checker()&&!this.issue_checker_registered&&(this.issue_checker_registered=!0,this.json.register_indexer("issues_list",(()=>{if(n().visual_edit.allow_issue_indexer_runs()){let e=a.new_element(this.json),t=e.id();if(!t)return;let i=n().apptests.check_issues(e);return[["issues_list",t],r.json_stringify(i)]}})))}setup_autofixer(){r.is_edit_mode()&&!this.fake&&null!=this.E.autofix_issues&&queueMicrotask((()=>{let e=!1,t=null;t=r.autotop((()=>{var r,i;if(null==this.root())return e=!0,void(null==(i=t)||i.destroy());this.root().id()===(null==(r=n().visual_edit.get_root())?void 0:r.id())&&this.E.autofix_issues(this)})),e&&t.destroy()}))}can_animate(){return this.E.can_animate?this.E.can_animate(this):!(this.E.do_show||this.E.workflow_show)}is_top_level(){var e;let t=this.json.path();return 3===(null==t||null==(e=t.match(l))?void 0:e.length)}check_for_errors(e,t,r){var n,a;if(!0===(null==(n=(a=this.E).check_for_errors)?void 0:n.call(a,this,e,t)))return;let o=super.check_for_errors(e),s=i.get_app_plugins().filter(Boolean).map((e=>e.name));if(this.E.is_plugin&&!s.includes(this.E.service)){e(`${this.display()} - You're using this element but haven't installed the plugin ${i.get_plugin(this.E.service).display()}`)}let l=this.events().concat(this.states(),o.children);if(!r){let e=this.elements();e.maybe_register_issue_indexers(),l=l.concat(e)}return{children:l}}}})),wm=u(((e,t)=>{"use strict";var r,n,i;function a(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}f(),Ue();Lo();var o=Nl(),s=qr(),l=Kt(),_=Pl(),u=Xp(),c=Il(),d=(ef(),xl()),p=af(),h=Xh(),g=(hg(),Rg()),m=Pg(),v=(mg(),zh(),Po()),{S:y}=(tf(),d),b=(r=_.cached({type:_.RUN_MODE}),n=_.cached({type:_.RUN_MODE}),a((i=class extends c.HasProperties{constructor(){super(...arguments)}is_style(){return!0}root(){return null}is_responsive_v1(){return!0}get_type_display(){return h.get_short_display(this.type())}name(){return this.json.name()}id(){return this.name()}type(){return this.json.child("type").get()}property_supports_states(){return!0}property_supports_transitions(){return!0}mandatory_sections(){return[]}get_styleable_static_property(e){return this.get_static_property(e)}get_element_from_style(){return this.json.exists()?((!this.json.child("id").get()||!this.json.to_id().child("type").get())&&(l.warn("legacy situation, no id or type on style",{path:this.json.path(),value:this.json.raw()}),this.json.child("id").set(this.name(),{name:"LegacyStyleChange"}),s().changes.set_id_cache({json:this.json,data:this.json.raw()})),c.new_element(this.json,!0)):null}E_object(){var e;return this.type()&&null!=(e=s().load_plugin(s().plugin_prefixes.element+this.type(),!0))?e:m}get_width(){return this.get_default("width")}get_height(){return this.get_default("height")}get_default(e){var t,r;return null==(t=this.field_names())||null==(r=t[e])?void 0:r.default}context_element(){return this}force_fixed(){return!1}get_value_id(){return"style."+this.type()}get_style_id(){return null}get_style_if_exists(){return null}element_version(e){return v.get_public_setting("style_version")}state_by_name(e){return c.create(c.STYLE_STATE,this.json.child("states").child(e))}transitions(){return c.enhance_array(this.json.child("transitions").children().map((e=>c.create(c.TRANSITION,e,this))))}transition(e){return c.create(c.TRANSITION,this.json.child("transitions").child(e),this)}_fields(e){return this.E_object().fields(this,e)}use_responsive_algorithm(){return v.get_public_setting("no_legacy_responsive")}get_property_applications(){let e=this.E_object();return"function"==typeof e.property_applications?e.property_applications(this):e.property_applications}property_sections(e){var t;return null!=(t=g.for_mode[e])?t:g.for_mode.all}get_precomputed(){if(!this._precomputed){let e=this.json._raw_child(y.properties),t={};o.object_entries(e).forEach((e=>{let[r,n]=e,i=d.expand(r);t[i]=u.get_static(n)}));for(let e of this.states())for(let r of e.property_names())t[r]=p.NOT_STATIC_PROP;this._precomputed=t}return this._precomputed}field_names(){return this.E_object()?this.E_object().field_names:null}states(){return c.enhance_array(h.get_states_from_raw_json(this.json).map((e=>c.create(c.STYLE_STATE,e))))}}).prototype,"field_names",[r],Object.getOwnPropertyDescriptor(i.prototype,"field_names"),i.prototype),a(i.prototype,"states",[n],Object.getOwnPropertyDescriptor(i.prototype,"states"),i.prototype),i);t.exports=b})),Am=u(((e,t)=>{"use strict";f();qr(),Xh();var r=gg(),n=wm();t.exports=class extends r{context_element(){return new n(this.json.parent().parent())}toUniqueString(){return new r(this.json).toUniqueString()}}})),Em=u(((e,t)=>{"use strict";f();var r=Il(),n=xr(),i=["text","number","date","boolean","file","image","geographic_address"];t.exports=class extends r.AppNode{display(){return this.json.child("display").get()}value(){return this.json.child("value").get()}default_val(){return this.can_have_default()?this.json.child("default_val").raw():null}can_have_default(){if(null==this.name()||this.is_list())return!1;let e=this.value();return i.includes(e)||n.is_option_set(e)}is_list(){return n.is_list(this.value())}exists(){return null!=this.json.child("value").get()}id(){return this.name()}}})),Mm=u(((e,t)=>{"use strict";f();Lo(),qr();var r=Il(),n=($l(),xr()),i=Em();t.exports=class extends i{name(){return n.custom_type(this.json.name())}make_static(){return this.json.child("make_static").get()}parent(){return r.create(r.ELEMENT,this.json.parent().parent())}default_val(){return this.is_list()?[]:super.default_val()}}})),xm=u(((e,t)=>{"use strict";f(),Ue();Lo();var r=ot(),n=(Il(),qr()),i=(ef(),Xh(),ym()),a=(Kt(),Po());tf();t.exports=class extends i{constructor(e,t){super(e,!1,t)}use_responsive_algorithm(){return a.get_public_setting("no_legacy_responsive")||this.get_responsive_version()>0||this.get_static_property("new_responsive")}get_responsive_version(e){var t,i;return(!r.on_server()||n().force_responsive_version||e)&&null!=(t=null!=(i=this.get_static_property("responsive_version"))?i:a.get_public_setting("base_responsive_version"))?t:0}default_width(){return this.get_static_property("default_width")}run_indexers(e){return this.json.run_indexers(e)}parent(){return null}root(){return this}is_api(){return!1}name(){return this.json.child("name").get()}}})),Om=u(((e,t)=>{"use strict";f(),Ue();var r=qr(),n=xl(),i=p_(),a=xm(),o=(Ol(),Wr()),{has_adv_timezone_overridden:s}=A_();t.exports=class extends a{constructor(e){super(e,{_type:"Page"})}get_plugin_element_headers(){let e=this.json.path(),t=n.shrink(e.split(".")[0])+"."+e.split(".")[1];return r().derived("PagePluginHeaders",t).content()}load_plugin_element_headers(){let e=[];for(let o of this.get_element_types()){var t,n,a;let[s,l]=i.get_plugin_and_type(o),_=/_current/.test(s),u=null==(t=r().load_plugin(r().plugin_prefixes.element+o,!0,_))||null==(n=(a=t).element_html_header)?void 0:n.call(a);![null,void 0,""].includes(u)&&!e.includes(u)&&e.push(`\x3c!-- ${l} --\x3e\n`+u+"\n")}return e}is_custom_definition(){return!1}is_page(){return!0}is_api(){return!1}is_editor(){return this.json.child("is_editor").get()}is_plugin_editor(){return this.json.child("is_plugin_editor").get()}required_js_files(){return this.E.required_js_files(this)}required_css_files(){return this.E.required_css_files(this)}get_page_timezone(){let e=s()?"_overridden":"";switch(this.get_static_property(`tz_type${e}`)){case"static":return this.get_static_property(`tz_static${e}`);default:return o.tz.guess()}}}})),km=u(((e,t)=>{"use strict";f(),Ue();var r=function(e){return e&&e.__esModule?e:{default:e}}(xm());var n=class extends r.default{constructor(e){super(e,{_type:"CustomDefinition"})}is_custom_definition(){return!0}is_page(){return!1}is_api(){return!1}get_default_value(e){var t,r,n;return null==this||null==(t=(r=this.property("parameters")).entries)||null==(n=t.call(r).find((t=>t.get_static_property("param_id")===e.split("_")[1])))?void 0:n.property("default_value").raw()}element_type(){return this.get_static_property("element_type")}};t.exports=n})),Sm=u((e=>{"use strict";f();var t=e,r=Il(),n=Xh(),i=hg(),a=Wh(),o=$h(),s=gg(),l=mg(),_=ym(),u=bm(),c=wm(),d=Am(),p=Mm(),h=xm(),g=Om(),m=km(),v=af(),y=Id();function b(e,t){let r=e.child("type").get();return"Page"===r?new g(e):"CustomDefinition"===r?new m(e):new u(e,t)}fg(),Qp(),r.add(r.STATE,s),r.add(r.TRANSITION,l),r.add(r.GENERIC_ELEMENT,_),r.add(r.ELEMENT,u),r.add(r.STYLE,c),r.add(r.STYLE_STATE,d),r.add(r.CUSTOM_STATE,p),r.add(r.ROOT,h),r.add(r.PAGE,g),r.add(r.CUSTOM_DEFINITION,m),r.add_generic("element",((e,t)=>e.smart_cache("element",b,t))),t.ElementInstance=function(e,t){return new a(e,t)},t.ServerElementInstance=e=>new o(e),t.STATE_NOT_READY=v.STATE_NOT_READY,t.NOT_STATIC=v.NOT_STATIC_PROP,t.seen_custom_names=i.seen_custom_names,t.seen_default_names=i.seen_default_names,t.create_layout_resizing_keylist=n.create_layout_resizing_keylist,t.add_layout_resizing_key=n.add_layout_resizing_key,t.perform_animate_in=n.perform_animate_in,t.get_short_display=n.get_short_display;for(let e in a.modes){let r=a.modes[e];t[e]=r}t.transition_fns=l.transition_fns,y.ElementInstance=a})),Tm=u(((e,t)=>{"use strict";f(),t.exports=class{constructor(e){this.version_json=e}domain(){return this.version_json.child("primary_domain").get()}appname(){return this.version_json.child("_id").get()}}})),Nm=u(((e,t)=>{"use strict";f();var r=qr();t.exports=class{constructor(e){this._appname=e}appname(){return this._appname}domain(){return r().app_domain()}}})),Cm=u((e=>{"use strict";f(),Ue(),e.consolidate=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t.prefer_roots||(t.prefer_roots=!1),0===e.length)return e;let r=new Map,n=new Set;for(let t of e){let e=r;for(let r of t.split("."))e.has(r)||e.set(r,new Map),e=e.get(r);n.add(e)}let i=[];function a(e,r,o){let s=o.startsWith("api")?r+1:r;n.has(e)||2===s&&e.size>0&&t.prefer_roots||2===s&&e.size>4||s>2&&e.size>1?i.push(o):e.forEach(((e,t)=>a(e,r+1,""===o?t:o+"."+t)))}return a(r,0,""),i}})),Lm=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ZIGGEO=e.TWILIO=e.STRIPE=e.SENDGRID=e.SEGMENT=e.RECAPTCHA=e.PEXELS=e.MAILCHIMP=e.LEGACY_API_CONNECTOR=e.DOCUSIGN=e.DB_CONNECTOR=e.CLOSURE_COMPILER=e.BUBBLE_PLUGIN=e.BUBBLEBOT=e.BRAINTREE=e.BOX=e.BLOCKSPRING=e.API_CONNECTOR=e.ADD_TO_ANY=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/known_plugins",e);e.API_CONNECTOR="apiconnector2";e.BLOCKSPRING="Blockspring";e.BOX="box";e.BRAINTREE="braintree";e.BUBBLE_PLUGIN="bubble_plugin";e.BUBBLEBOT="bubblebot";e.CLOSURE_COMPILER="closurecompiler";e.DB_CONNECTOR="dbconnector";e.DOCUSIGN="docusign";e.LEGACY_API_CONNECTOR="apiconnector";e.MAILCHIMP="mailchimp";e.PEXELS="pexels";e.RECAPTCHA="recaptcha";e.SEGMENT="segment";e.SENDGRID="sendgrid";e.STRIPE="stripe";e.TWILIO="twilio";e.ZIGGEO="ziggeo";e.ADD_TO_ANY="addtoany"})),Pm=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.Plugin=void 0,Ue();var t=_(y_()),r=(_(m_()),l(p_())),n=_(Po()),i=l(Lo()),a=(l(Kt()),l(Lt())),o=(l(Lm()),l(pm()));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function _(e){return e&&e.__esModule?e:{default:e}}var u=e;u.is_hardcoded=e=>{let t=r.get_plugin_id(e);return!i.is_UUID(t)};var c=class{constructor(e,t){this.id=e,this.data=t}_raw(){return this.data?this.data:null}exists(){return null!=this.data}is_missing(){var e;return null==(null==(e=this._raw())?void 0:e.display)}deleted(){var e;return this.is_missing()||(null==(e=this._raw())?void 0:e.deleted)}display(){var e;return this.is_missing()?"Removed plugin ("+this.id+")":null==(e=this._raw())?void 0:e.display}description(){var e,t;let r=null!=(e=null==(t=this._raw())?void 0:t.description)?e:"";return this.deleted()&&(r+=" \n\nNote that the plugin author has removed this plugin from the marketplace. You can still use it in your application but it cannot be installed in new ones."),r}is_official(){var e,t,r,n;let i=null==(e=this._raw())?void 0:e.official,o=[a.NO_CREATOR_NAME,a.LEGACY_NO_CREATOR_NAME].includes(null!=(t=null==(r=this._raw())?void 0:r.creator_name)?t:""),s=null==(n=this._raw())?void 0:n.creator_id,l=!s||a.BUBBLE_TEAM_MEMBER_IDS.includes(s);return!!i||!o&&l}help(){var e,t;return null!=(e=null==(t=this._raw())?void 0:t.help)?e:""}icon(){var e;let t=null==(e=this._raw())?void 0:e.icon;if(t)return o.optimize_image(t+"?ignore_imgix")}has_version(){return!u.is_hardcoded(this.id)&&!this.is_testing()&&!this.is_missing()}versions(){var e;if(!this.has_version())return{};let t=(e=>"string"==typeof e?JSON.parse(e):[])(null==(e=this.data)?void 0:e.history),r={};for(let{version:e,description:n}of null==t?void 0:t.reverse())r[e]=`${e} - ${n}`;return r}latest_version(){var e;if(this.has_version())return null==(e=this._raw())?void 0:e.last_version}current_version(){return n.default.get_public_setting(`plugins.${this.id}`)}get_service(){var e;return null!=(e=t.default.get_plugin(this.id,this.current_version()))?e:d}is_paid(){let e=this.price(),t=this.one_time_price();return(!!e&&e>0||!!t&&t>0)&&this.license()===a.LICENSE_COMMERCIAL}};e.Plugin=c;var d={is_missing:()=>!0};u.Plugin=c})),Rm=u((e=>{"use strict";f(),Ue();var t=Nt(),r=(qr(),Lt(),Lm(),Nl(),Pm()),n=(m_(),Po(),e);t.safe_register("./lang/plugins",n),n.is_hardcoded=r.is_hardcoded})),zm=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.PUBLIC_ACTIVE_EXPERIMENTS=e.MAX_FILE_COMPOSER_SIZE=e.LEGACY_EXPERIMENTS=e.FEATURE_FLAGS_PATH=e.DEPRECATED_EXPERIMENTS=void 0;var t=50*Ct().MEBIBYTE;e.MAX_FILE_COMPOSER_SIZE=t;e.FEATURE_FLAGS_PATH="feature_flags.";var r={parens:{display:"Expression parentheses",description:"Automatically add parentheses to all dynamic expressions in the editor. Makes âCurrent Page Width +2 *3â display as â(Current Page Width + 2) * 3â. This feature lets you add to any part of a dynamic expression, and indicate where to apply a piece of a dynamic expression.",launch_date:1650973876351,modification_date:1650973876351,alters_app_json:!0,overridden_by:"composer_revamp"},reference_snippet:{display:"Show snippets of the reference on hover",description:"When hovering any feature in the editor, show the beginning of the manual entry.",launch_date:1650973876351,modification_date:1650973876351,alters_app_json:!1},defer_edit_mode:{display:"Edit-mode deferred element rendering",description:"This feature optimizes memory usage and performance of the editor by not drawing elements which are hidden. For large single-page apps with a lot of hidden groups, this should drastically speed up editor load and reduce memory usage.\n\nNote: This feature only affects new responsive pages.",launch_date:1685639139880,modification_date:1685639139880,alters_app_json:!1},defer_element_instances:{display:"Run-mode page-load optimization",description:"In run-mode, this optimization prevents us from allocating more memory than necessary for hidden elements. Although we already defer creation of DOM nodes, this prevents us from allocating internal state until it is requested.\n\nNote: This feature only affects new responsive pages, and for the apps on at least BV 21.",launch_date:1686676558984,modification_date:1686676558984,alters_app_json:!1},composer_revamp:{display:"New expression composer",description:"Intuitively edit in the middle, view implicit parentheses, debug errors, and use keyboard shortcuts in this new interaction model for the expression composer. \n\nNote: This feature overrides the experimental parentheses feature.",launch_date:1692117e6,modification_date:16923816e5,alters_app_json:!0}};e.PUBLIC_ACTIVE_EXPERIMENTS=r;e.LEGACY_EXPERIMENTS=["deferred_drawing","tz_info_in_date_input","react_upgrade","reorg_component_selection"];var n={timezone_improvements:{display:"Overriding timezones more broadly (deprecated)",description:"This feature set allows you to set an overriding timezone for any page, any backend workflow (API workflow, recurring event, and database trigger event), and when using the :rounding to operator.",launch_date:1657566861888,modification_date:1657566861888,alters_app_json:!1,has_been_previously_used:!1,deprecation_bv:20,test_app_exceptions:["test_app_elements"]},react_upgrade:{display:"New, more performant elements rendering (deprecated)",description:"This feature enables a new experimental rendering pipeline which more optimally renders any elements you have on the page. It does so by precomputing a lot of the properties on the server beforehand, and shipping a static CSS file to the client to avoid repeated work. \n\nNote: This feature only affects new responsive pages.",launch_date:1659456830513,modification_date:1659456830513,alters_app_json:!1,deprecation_bv:21}};e.DEPRECATED_EXPERIMENTS=n})),Im=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ORDERED_ADVANCED_FEATURES=e.ADVANCED_FEATURE_JSON_SETTINGS_PATH=e.ADVANCED_FEATURES=void 0;e.ADVANCED_FEATURE_JSON_SETTINGS_PATH="advanced_features";e.ORDERED_ADVANCED_FEATURES=["timezone_controls","expose_id_option"];e.ADVANCED_FEATURES={timezone_controls:{display:"Enable timezone override controls",enabled_by_default:!0,children_advanced_features:["timezone_controls_date_time_inputs","timezone_controls_page","timezone_controls_backend_workflows"]},timezone_controls_date_time_inputs:{display:"Date-time inputs (Date-Time Picker and Input)",enabled_by_default:!0,parent_advanced_feature:"timezone_controls"},timezone_controls_page:{display:"Page (at the individual page level)",enabled_by_default:!1,parent_advanced_feature:"timezone_controls",fallback:["experimental_feature","timezone_improvements"]},timezone_controls_backend_workflows:{display:"Backend workflows (API workflows, scheduled workflows, data triggers",enabled_by_default:!1,parent_advanced_feature:"timezone_controls",fallback:["experimental_feature","timezone_improvements"]},expose_id_option:{display:"Expose the option to add an ID attribute to HTML elements",enabled_by_default:!1,fallback:["raw_path","settings.client_safe.expose_id_option"]}}})),Dm=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.getPricingPlanKey=function(e){if(!r)return void n.warn("No function registered to getPricingPlanKey");return r(e)},e.isStateR=function(){return t?t():(n.warn("No function registered to isStateR"),!1)},e.registerIsStateRHook=function(e){t=e},e.registerPricingPlanKeyHook=function(e){r=e};var t,r,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(Kt());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}})),jm=u((e=>{"use strict";f(),Ue();Lo();var t=e;t.get_stripes=function(e){var t;let r;return r=null!=(t=e.get_style)&&t.call(e).exists()?e.get_style().property("stripes"):e.property("stripes"),r.is_empty()?[]:r.entries()},t.stripe_defaults={bgcolor:"#AAAAAA",background_style:"bgcolor",boxshadow_horizontal:0,border_style:"none",border_roundness:0,border_width:1,border_color:"#6B6B6B"}})),Bm=u(((e,t)=>{"use strict";var r,n;f(),Ue(),Ft();var i=Lo(),a=(Nl(),Il()),o=Pl(),s=xr(),_=Lt(),u=k_(),c=Pa(),d=pt(),p=Ra(),h=(bg(),Cm(),Yt()),g=qr(),m=zd(),v=Po(),y=m_(),b=y_(),{GROUP_TYPES:w}=(p_(),Rm(),vm()),{DEPRECATED_EXPERIMENTS:A,FEATURE_FLAGS_PATH:E}=(ef(),zm()),{ADVANCED_FEATURES:M,ADVANCED_FEATURE_JSON_SETTINGS_PATH:x}=Im(),O=ot(),k=Ld(),S=z_(),{SETTINGS_TAB:T,PLUGIN_TAB:N}=(xg(),Dm(),tf()),C=(jm(),Vt()),L=ng(),{LATEST_ELEMENT_VERSION:P}=af();i.on_server()&&(C=l("../../configuration"));var R=d.SECURABLE_PREFIX;t.exports=(r=o.cached({type:o.AUTORUN}),function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((n=class extends a.AppNode{constructor(e){if(super(e),this._styles_cache={},this._paid_plugin_install_checked=!1,O.is_edit_mode()){let e=Date.now();k.watch([S.AppPlanChangeTopic,this.appname()],(()=>e),(()=>{this.invalidate_app_plan()}))}}find_expressions(e){return[...this.pages().flatMap((t=>t.find_expressions(e))),...this.custom_definitions().flatMap((t=>t.find_expressions(e))),...this.api().find_expressions(e)]}application(){return this.json.application()}appname(){return this.application().appname()}app_version(){return this.json.app_version()}creation_date(){return this.json.child("creation_date").get()}exists(){var e;let t=this.json.child("settings").child("client_safe").child("bubble_version"),r=this.json.child("last_change");return null!=(null!=(e=t.get())?e:r.get())}domain(){return this.application().domain()}app_plan(e){var t;if(null!=e||(e=!1),!g().is_edit_mode())return g().app_plan();null!=this[t="_plan_invalidation_box_"+e]||(this[t]=i.Box(!1))}display(){var e;return null!=(e=this.domain())?e:this.appname()}use_shared_sendgrid_key(){return"meta"!==this.appname()&&(!g().app_plan().custom_domain||!v.get_public_setting("sendgrid_verified"))}get_sendgrid_key(){return this.use_shared_sendgrid_key()?C.shared_sendgrid_key:v.get_private_setting("sendgrid_key")}admin_email(){let e=this.admin_email_hostname(),t=this.appname();return t?e===C.PROD_DOMAINS.main&&"meta"!==t||this.use_shared_sendgrid_key()&&this.get_public_setting("use_sendgrid")?-1!==t.indexOf("_")?C.ADMIN_NO_REPLY:this.appname()+"-no-reply@bubbleapps.io":this.custom_domain_admin_email():C.ADMIN_NO_REPLY}custom_domain_admin_email(){var e;return(null!=(e=this.get_public_setting("admin_email"))?e:"admin").trim()+"@"+this.admin_email_hostname()}admin_email_hostname(){var e;if(this.get_public_setting("app_topdomain"))return this.get_public_setting("app_topdomain");let t=null!=(e=this.domain())?e:c.META_HOSTNAME,{top_domain:r}=i.get_domain_components(t);return p.is_host_aws(r)&&(t=c.META_HOSTNAME),r}find_oauth_providers(){return Object.entries(this.get_plugin_versions()).filter((e=>{let[t,r]=e;return r})).flatMap((e=>{let[t,r]=e,n=b.get_plugin(t,r);var i;return null!=n&&n.is_oauth_provider()&&null!=(i=n.get_oauth_providers_simple())?i:[]}))}get_oauth_providers(){var e;return null!=(e=g().derived("OAuthProviders").content())?e:[]}get_user_calls(){return i.is_plugin_edit_mode()?[]:g().derived("UserCalls").content()}find_user_calls(){return Object.entries(this.get_plugin_versions()).filter((e=>{let[t,r]=e;return r})).flatMap((e=>{var t;let[r,n]=e,i=b.get_plugin(r,n);return(null!=(t=null==i?void 0:i.get_user_calls())?t:[]).map((e=>r+_.PLUGIN_SEPARATOR+e))}))}_get_stripe_version(){return h.is_production()?m.get_db_version(this.app_version()):u.TEST_VERSION}stripe_client_id(){let e="stripe_client_id_"+this._get_stripe_version();return this.get_public_setting(e)}stripe_public_key(){let e="stripe_public_key_"+this._get_stripe_version();return this.get_public_setting(e)}get_public_setting_node(e){if(!e)throw new i.UnexpectedError("missing name");let t=e.split("."),r=this.json.child("settings").child("client_safe");for(let e of t)r=r.child(e);return a.new_expression(r,this)}get_public_setting(e){var t,r,n;let i=this.appname(),a=null==(t=C.public_app_settings_override)||null==(r=t[i])?void 0:r[e];return null!=a?a:null!=(n=this.get_public_setting_node(e).get_static())?n:this.settings_default(!0,e)}get_private_setting_node(e){if(!e)throw new i.UnexpectedError("missing name");let t=e.split("."),r=this.json.child("settings").child("secure");for(let e of t)r=r.child(e);return a.new_expression(r,this)}get_private_setting(e){var t,r,n;let i=this.appname(),a=null==(t=C.private_app_settings_override)||null==(r=t[i])?void 0:r[e];return null!=a?a:null!=(n=this.get_private_setting_node(e).get_static())?n:this.settings_default(!1,e)}settings_default(e,t){return e&&"admin_email"===t?"admin":e&&"app_language"===t?"en_us":null!=(r=y.defaults_for_plugins_settings[t])?r:null;var r}_id(){return this.appname()}id(){return this.appname()}is_template(){return this.json.child("is_template").get()}from_template(){return![null,void 0,""].includes(this.template_id())}template_id(){return this.json.child("template_id").get()}page(e){return e?a.create(a.PAGE,this.json.by_id(e)):null}custom_definition(e){return e?a.create(a.CUSTOM_DEFINITION,this.json.by_id(e)):null}custom_definitions(e){let t=this.json.child("element_definitions").children().map((e=>a.create(a.CUSTOM_DEFINITION,e)));return a.filter_array(e,t)}custom_type(e){if(!e)return null;if(s.is_custom_type(e))throw new i.UnexpectedError("This is a value id, not a custom type: "+e+".  Please do values.get(id).custom_type() instead.");if(e.startsWith(R)){let t=e.split(R);return this.securable_type(t[1],t[2])}return a.create(a.CUSTOM_TYPE,this.json.child("user_types").child(e))}securable_type(e,t){return a.create(a.SECURABLE_TYPE,e,t,this.json.child("user_types").child(R+e+R+t))}custom_types(e,t,r){this.json.child("user_types").pre_cache();let n=[...this.json.child("user_types").children().filter((e=>(e=>"user"!==e&&!e.startsWith(R))(e.name()))).map((e=>a.create(a.CUSTOM_TYPE,e))),a.create(a.CUSTOM_TYPE,this.json.child("user_types").child("user")),...t?L.SPECIAL_TYPES:[]];return r&&(n=n.filter((e=>!e.deleted()))),a.filter_array(e,n)}option_set(e){if(!e)return null;if(s.is_option_set(e))throw new i.UnexpectedError("This is a value id, not a custom option set: "+e+".");return a.create(a.OPTION_SET,this.json.child("option_sets").child(e))}option_sets(e,t){let r=this.json.child("option_sets").children().map((e=>a.create(a.OPTION_SET,e)));return t&&(r=r.filter((e=>!e.deleted()))),a.filter_array(e,r)}element(e){var t;if(!e)return null;let r=this.json.by_id(e);return r&&i.on_server()&&(r.child("type").ensure_loading(),r.child("id").ensure_loading(),r.child("properties").ensure_loading(),r.child("custom_states").ensure_loading()),"styles"===(null==(t=r.parent())?void 0:t.name())?a.new_element(r,!0):a.new_element(r)}workflow_item(e){return e?a.new_workflow_item(this.json.by_id(e)):null}event(e){return e?a.new_workflow_item(this.json.by_id(e)):null}action(e){return e?a.new_workflow_item(this.json.by_id(e)):null}by_id(e){var t,r,n;if(!e)return null;let i=this.json.by_id(e);if(!i.exists())return null;let a=null==(t=i.parent())?void 0:t.name(),o=["workflows","actions","api"].includes(a),s="actions"===(null==(r=i.parent())||null==(n=r.parent())?void 0:n.name());return o||s?this.workflow_item(e):this.element(e)}get_page_by_name(e){if(!e)return null;let t=g().derived("PageByName");t.set_app(this);let r=t.content();if(r[e]){let t=this.json.by_path(r[e]._path);return a.create(a.PAGE,t)}return null}get_custom_by_name(e){var t;let r=g().derived("CustomByName");r.set_app(this);let n=null==(t=r.content()[e])?void 0:t.id;return n?this.custom_definition(n):null}last_change(){var e;return null!=(e=this.json.child("last_change").get())?e:"no_last_change"}favicon(){let e=this.json.child("favicon").get();return["//s3.amazonaws.com/appforest_uf/f1438203816318x881656567333266200/favicon_rounded.png","//s3.amazonaws.com/appforest_uf/f1462750401796x354019699618220350/apple_touch_icon_precomposed.png"].includes(e)?"//meta.cdn.bubble.io/f1530294839424x143528842134401200/Icon-no-clearspace.png":e}plugin_special(){return this.json.child("plugin_special").get()}style(e){var t;let r=this.json.child("styles").child(e);return null!=(t=this._styles_cache)[e]||(t[e]=a.create(a.STYLE,r)),this._styles_cache[e]}get_style_default(e){var t;return null==(t=this.get_public_setting("default_styles"))?void 0:t[e]}get_plugin_versions(){var e;return null!=(e=this.get_public_setting("plugins"))?e:{}}get_plugin_version(e){return this.get_public_setting_node("plugins").json.child(e).get()}has_plugin(e){return!!this.get_plugin_version(e)}list_plugins(){return Object.keys(this.get_plugin_versions())}get_editor_link(e){let t=`${e?"https://local.bubble.is":g().location.get_base_for_meta()}/page?id=${v.appname()}&version=${v.app_version()}`,r=g().location.get_pieces().path[0];return r&&(t+=`&name=${r}`),t}with_feature_flag(e){let{feature_name:t,old_fn:r,new_fn:n}=e;return i.error_append(`with limited_rollout: ${t}`,(()=>this.has_feature_enabled(t)?n():r()))}has_feature_enabled(e){var t;return!(A[e]&&(null==(t=A[e].test_app_exceptions)||!t.includes(this.appname()))&&this.get_public_setting("bubble_version")>=A[e].deprecation_bv)&&!0===this.get_public_setting(`${E}${e}`)}has_fallback_path_enabled(e){var t,r;switch(e[0]){case"experimental_feature":return this.has_feature_enabled(e[1]);case"raw_path":return null!=(t=null==(r=this.json.by_path(e[1]))?void 0:r.raw())&&t;default:return!1}}has_advanced_feature_enabled(e){var t;let r=M[e];if(this.get_public_setting("bubble_version")<22)return!(null==r||!r.fallback)&&this.has_fallback_path_enabled(r.fallback);if(null!=r&&r.parent_advanced_feature){let e=r.parent_advanced_feature;if(!this.has_advanced_feature_enabled(e))return!1}let n=this.get_public_setting(`${x}.${e}`);return null!=n?n:null!=r&&r.fallback?this.has_fallback_path_enabled(r.fallback):null!=(t=null==r?void 0:r.enabled_by_default)&&t}set_advanced_feature_enabled(e,t){var r,n;let i=M[e];if(i){if(this.set_setting(!0,`${x}.${e}`,t),i.fallback)switch(i.fallback[0]){case"experimental_feature":null==(r=this.json.by_path(i.fallback[1]))||r.set(t);break;case"raw_path":null==(n=this.json.by_path(i.fallback[1]))||n.set(t)}this.commit()}}can_run_issue_checker(){return"live"!==this.app_version()||m.is_hardcode(this.appname(),this.app_version())}toString(){return this.app_version()}context_element(){return null}}).prototype,"get_user_calls",[r],Object.getOwnPropertyDescriptor(n.prototype,"get_user_calls"),n.prototype),n)})),qm=u(((e,t)=>{"use strict";f();var r=Lo(),n=Il();qr(),Po(),ef();t.exports=class extends n.AppNode{constructor(e){super(e)}id(){return"api"}type(){return"API"}get_name(){return"Backend workflows"}is_api(){return!0}is_page(){return!1}is_custom_definition(){return!1}root(){return this}get_new_event_json(){return this.json.child(r.LUID())}parent(){return null}events(e){let t=this.json.children().map((e=>n.new_workflow_item(e)));return n.filter_array(e,t)}find_events(e){return this.events(e)}find_actions(e){return this.events().flatMap((t=>{var r;return null!=(r=t.all_next(e))?r:[]}))}find_expressions(e){return this.events().flatMap((t=>{var r;return null!=(r=t.find_expressions(e))?r:[]}))}}})),Um=u(((e,t)=>{"use strict";f(),Ft(),Ue();Lo();var r=Il(),n=qr(),i=(Po(),Fl()),a=xr(),{DATA_TAB:o}=tf();t.exports=class extends r.AppNode{constructor(e){e.ensure_loading(),super(e)}name(){return this.json.name()}id(){return this.name()}to_value(){let e=this.name();return"user"===e?"user":a.custom_type(e)}deleted(){return this.json.child("deleted").get()}display(){return this.json.child("display").get()}exposed_api(){return this.json.child("exposed_api").get()}fields(){return this.json.child("fields").children().map((e=>r.create(r.CUSTOM_FIELD,e)))}field(e){return r.create(r.CUSTOM_FIELD,this.json.child("fields").child(e))}privacy_roles(){return this.json.child("privacy_role").children().map((e=>r.create(r.PRIVACY_ROLE,e)))}privacy_role(e){let t=this.json.child("privacy_role").child(e);return r.create(r.PRIVACY_ROLE,t)}default(){return n().derived("DefaultValues").content()[this.name()]}get_default_fields(e){return null!=e||(e=!1),this.json.child("fields").children().map((t=>{let n=r.create(r.CUSTOM_FIELD,t),o={};return o.name=n.name(),o.value=n.value(),o.display=n.display(),e||(null!=n.default_val()&&(a.is_option_set(n.value())?o.default_val=n.default_val():o.default_val=i.get(n.value()).cast(n.default_val())),o.deleted=n.deleted()),o}))}}})),Wm=u(((e,t)=>{"use strict";f(),Ue();var r=Nl(),n=Po(),i=y_(),a=Um(),o=ng(),s=xr();t.exports=class extends a{constructor(e,t,r){super(r),this.no_special_messages=!0,this.not_writeable=!0,this.plugin=e,this._name=t}name(){return this._name}to_value(){return s.custom_type(this.json.name())}my_data(){var e;return null==(e=i.get_plugin(this.plugin).securable)?void 0:e[this.name()]}display(){var e,t;return null!=(e=null==(t=this.my_data())?void 0:t.display)?e:"[missing: "+this.plugin+" "+this.name()+"]"}get_permissions_editors(){var e,t;return null!=(e=null==(t=this.my_data())?void 0:t.permissions_editors)?e:{}}starting_permissions(){var e,t;return null!=(e=null==(t=this.my_data())?void 0:t.starting_permissions)?e:{}}fields(){var e,t;return r.object_entries(null!=(e=null==(t=this.my_data())?void 0:t.fields)?e:{}).map((e=>{let[t,r]=e;return o.create_fake_field(t,r)}))}field(e){var t,r;let n=null!=(t=null==(r=this.my_data())?void 0:r.fields[e])?t:{display:"Missing: "+e,value:"null"};return o.create_fake_field(e,n)}permissions_node(e){return n.app().json.child_by_path(`user_types.${e}.privacy_role`)}}})),$m=u(((e,t)=>{"use strict";f();Lo(),qr();var r=Fl(),n=Il(),i=Em();t.exports=class extends i{deleted(){return this.json.child("deleted").get()}name(){return this.json.name()}parent(){return n.create(n.CUSTOM_TYPE,this.json.parent().parent())}is_custom(){return r.is_custom_type(this.value())}}})),Fm=u(((e,t)=>{"use strict";f();Lo();var r=Il();qr(),Po(),Fl(),xr();t.exports=class extends r.AppNode{display(){return"everyone"===this.name()?"everyone":this.json.child("display").get()}name(){return this.json.name()}id(){return this.name()}parent(){let e=this.json.parent().parent();return this.app().custom_type(e.name())}condition(){return r.new_expression(this.json.child("condition"),this)}}})),Gm=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_OPTIONS=void 0;e.ALL_OPTIONS="all values"})),Xm=u(((e,t)=>{"use strict";f(),Ue();Lo();var r=Il(),n=(qr(),Gm()),i=Al(),a=(Po(),xr()),{DATA_TAB:o}=tf();t.exports=class extends r.AppNode{name(){return this.json.name()}id(){return this.name()}to_value(){let e=this.name();return a.option_set_type(e)}deleted(){return this.json.child("deleted").get()}display(){return this.json.child("display").get()}attributes(){return this.json.child("attributes").children().map((e=>r.create(r.OPTION_ATTRIBUTE,e)))}attribute(e){let t=this.json.child("attributes").child(e);return r.create(r.OPTION_ATTRIBUTE,t)}values(){let e=this.json.child("values").children(),t=this.json.child("attributes").child("db_value").exists()?i.OPTION_VALUE_FORMATS.name_is_key:i.OPTION_VALUE_FORMATS.name_is_db_value_with_fallback;return e.map((e=>r.create(r.OPTION_VALUE,e,t)))}get_id_to_name_mapping(){let e=this.json.child("attributes").child("db_value").exists();return this.json.smart_cache("OptionSetValueMapping",(()=>{var t;let r=Object.entries(null!=(t=this.json.child("values").raw())?t:{});return Object.fromEntries(r.map((t=>{let[r,n]=t;return!e&&n.db_value?[n.db_value,r]:[r,r]})))}))}value(e){var t;let n=null!=(t=this.get_id_to_name_mapping()[e])?t:"null",a=this.json.child("attributes").child("db_value").exists()?i.OPTION_VALUE_FORMATS.name_is_key:i.OPTION_VALUE_FORMATS.name_is_db_value_with_fallback;return r.create(r.OPTION_VALUE,this.json.child("values").child(n),a)}reserved_attributes(){return["_id","_rev","type","display","deleted","sort_factor","db_value",...Object.values(i.LIST_OPERATOR_NAMES)]}reserved_values(){return["_id","_rev","type",n.ALL_OPTIONS,"null","undefined"]}}})),Hm=u(((e,t)=>{"use strict";f();Lo();var r=Il(),n=(qr(),Em());t.exports=class extends n{deleted(){return this.json.child("deleted").get()}name(){return this.json.name()}parent(){return r.create(r.OPTION_SET,this.json.parent().parent())}}})),Vm=u(((e,t)=>{"use strict";f(),Ue();Lo();var r=Il(),n=(qr(),Al());t.exports=class extends r.AppNode{constructor(e,t){super(e),this.format=t}deleted(){return this.json.child("deleted").get()}name(){return this.format===n.OPTION_VALUE_FORMATS.name_is_key?this.json.name():null!=(e=this.json.child("db_value").get())?e:this.json.name();var e}id(){return this.name()}display(){return this.json.child("display").get()}sort_factor(){return this.json.child("sort_factor").get()}parent(){return r.create(r.OPTION_SET,this.json.parent().parent())}attr(e){let t=this.json.child(e).raw();if(t&&"object"==typeof t&&Object.keys(t).every((e=>e.match(/^\d+$/)))){let e=[];return Object.entries(t).forEach((t=>{let[r,n]=t;e[parseInt(r)]=n})),e}return t}}})),Ym=u((()=>{"use strict";f()})),Km=u((e=>{"use strict";f(),Ue();var t=qr(),r=(Po(),Nl()),n=e;n.page_name_to_id=e=>{var r;return null==(r=t().derived("PageByName").content()[e])?void 0:r.id},n.page_id_to_name=function(e){let n=t().derived("PageByName").content(),i=r.object_keys(n).find((t=>n[t].id===e));return null!=i?i:null},n.custom_name_to_id=e=>{var r;return null==(r=t().derived("CustomByName").content()[e])?void 0:r.id},n.custom_id_to_name=function(e){let n=t().derived("CustomByName").content(),i=r.object_keys(n).find((t=>n[t].id===e));return null!=i?i:null}})),Jm=u((e=>{"use strict";f();var t=Il(),r=Tm(),n=Nm(),i=Bm(),a=qm(),o=Um(),s=Wm(),l=Em(),_=$m(),u=Fm(),c=Xm(),d=Hm(),p=Vm(),h=(Ym(),ng()),g=Km(),m=e;t.add(t.FAKE_APPLICATION,r),t.add(t.APPLICATION,n),t.add(t.APPLICATION_VERSION,i),t.add(t.API_WORKFLOWS,a),t.add(t.CUSTOM_TYPE,o),t.add(t.SECURABLE_TYPE,s),t.add(t.CUSTOM_FIELD_STATE,l),t.add(t.CUSTOM_FIELD,_),t.add(t.PRIVACY_ROLE,u),t.add(t.OPTION_SET,c),t.add(t.OPTION_ATTRIBUTE,d),t.add(t.OPTION_VALUE,p),m.get_special_fields=h.get_special_fields,m.SPECIAL_TYPES=h.SPECIAL_TYPES,m.show_privacy_warning=g.show_privacy_warning,m.page_name_to_id=g.page_name_to_id,m.page_id_to_name=g.page_id_to_name,m.custom_name_to_id=g.custom_name_to_id,m.custom_id_to_name=g.custom_id_to_name,m.get_sorted_list_of_pages=g.get_sorted_list_of_pages,m.get_sorted_list_of_custom_definitions=g.get_sorted_list_of_custom_definitions})),Zm=u(((e,t)=>{"use strict";f();var r=e;Nt().safe_register("./lang/lang",r);var n=Al();r.DETECT_FIELD_NAMES=n.DETECT_FIELD_NAMES;var i=Ml(),a=Il(),o=Up(),s=Pl(),l=Qp(),_=fg(),u=ef();Sm(),Jm(),Po().add_methods(a.get(i.APPLICATION_VERSION));var c={};Object.values(i).forEach((e=>{a.has(e)&&(c[e]=a.get(e))})),r.make_run_app=function(e,t,n){return new r.ApplicationVersion(new r.RuntimeJSON(e,null,null,null,t,n))};var d={...a,..._,...l,...o,...s,...c,RAW:u,EnhancedArray:a.get_EnhancedArray(),DETECT_FIELD_NAMES:n.DETECT_FIELD_NAMES};t.exports=Object.assign(r,d)})),Qm=u((e=>{"use strict";f(),Ue();var t=Lo(),r=qr(),n=Nt(),i=Qt(),a=Kt(),o=Vr(),s=Jt(),l=(Po(),w_()),_=E_(),u=Pp(),c=T_(),d=(Nl(),p_()),p=(Rp(),zp(),m_()),h=y_(),g=D_(),m=(jp(),Zm(),x_()),v=e;n.safe_register("./core/core_events",v),null!=v.plugin_general_events||(v.plugin_general_events={});var y=v.make_gen_event=function(e,t){v[e]=t,t.register=function(t,n){let i=()=>{let e={element:n};return r().workflow.run_workflows(e,[t]).callback((e=>v.handle_uncaught_error({original_error:e,caught_from:o.ERROR_SOURCES.GENERAL_WORKFLOW,cb(e){if(e)return console.log("Workflow failed:"),a.log(e)}})))};return r().workflow.on_event(e,i),()=>r().workflow.off_event(e,i)}},b=v.make_element_event=function(e,t,r,n){r||(v[e]=t),null!=t.field_names||(t.field_names={element_id:{}}),t.register=function(){},t.deferrable=!0};y("LoggedIn",{display:()=>"User is logged in",can_redirect:!0,server_side_redirect:()=>r().current_user().is_logged_in()}),y("LoggedOut",{display:()=>"User is logged out",can_redirect:!0,server_side_redirect:()=>!r().current_user().is_logged_in()}),y("PageLoaded",{display:()=>"Page is loaded",can_redirect:!0,server_side_redirect:()=>!0});var w=t.MakeSwitch(null,"conditiontrue is running");w.turn_on(),v.ConditionTrue={field_names:{run_when:{default:"just_once"}},condition_not_optional:!0,register(e,n){let i=e.get_static_property("run_when"),s=null;return t.WaitFor(n.get_is_ready_key(),(()=>{let l=new Date(t.timestamp());s=t.Watcher((()=>{t.ensure_ready(w),l||(l=new Date(t.timestamp()));let r={element:n,datasources:c.get_basic_datasources(n.element.root()),_current_date_time:l};return new u(r),[m.evaluate_event_condition(e,r),r]}));let _=!0;s.on_value((t=>{let[n,u]=t;l=null,n?_&&(w.turn_off(),r().workflow.run_workflows(u,[e]).callback((e=>v.handle_uncaught_error({original_error:e,caught_from:o.ERROR_SOURCES.GENERAL_WORKFLOW,cb:e=>(e&&a.log(e),w.turn_on())}))),_=!1,"every_time"!==i&&s.destroy()):_=!0}))})),()=>{var e;return null==(e=s)?void 0:e.destroy()}}};var A=[],E=0;v.OnPageError={display:e=>"An unhandled error occurs",fields:()=>[{name:"caught_error_origins",caption:"Catch ",editor:"Dropdown",set:r().sets.get_set("Object")(o.ERROR_CATCHER_TYPES)}],field_names:{caught_error_origins:{default:o.DEFAULT_CATCHER_TYPE}},register(e,t){let r=E;E++;let n=e.get_static_property("caught_error_origins");return A.push({id:r,workflow:e,element_instance:t,error_origin:n}),()=>{A=A.filter((e=>e.id!==r))}}},v.build_wf_error_object=function(e){let r=e.message;return r||(r=e instanceof t.errors.ExpectedError?"MISCELLANEOUS":"TEMPORARY_BUG"),{code:r,message:a.human_friendly(e)}},v.handle_uncaught_error=function(e){let{original_error:n,caught_from:i,cb:a}=e;if(null==n)return void a(null);if(0===A.length)return void a(n);let _=v.build_wf_error_object(n),u=[];for(let{workflow:e,element_instance:t,error_origin:n}of A){let a=null!=n?n:o.DEFAULT_CATCHER_TYPES,d=o.CAUGHT_ERROR_SOURCES[a];if(null!=i&&!d.includes(i))continue;let p={element:t,datasources:c.get_basic_datasources(t.element.root())},f={};f[s.LEGACY_PARAM_ID]=new g(_,null,"sys.error"),p.datasources.get_wf_param=l.generate_wf_param_datasource(f),u.push(r().workflow.run_workflows(p,[e],!0))}0===u.length&&a(n),t.promise_array(u).callback(((e,t)=>{if(e)a(e);else{for(let e of t)if(0!==e.length)return void a(null);a(n)}}))},v.DoInterval={display(e){var t;return"Do every "+(null!=(t=null==e?void 0:e.get_static_property("interval"))?t:"X")+" seconds"},field_names:{interval:{default:5}},fields:()=>[{name:"interval",caption:"Interval (seconds)",editor:"StaticNumber",optional:!1}],register(e,n){let i=e.get_static_property("interval"),a=!0;return function s(){a&&setTimeout((()=>{let i={element:n};r().workflow.run_workflows(i,[e]).callback((e=>v.handle_uncaught_error({original_error:e,caught_from:o.ERROR_SOURCES.GENERAL_WORKFLOW,cb(){}}))),t.WaitFor(r().workflow.everything_done_key(),s)}),1e3*i)}(),()=>{a=!1}}},b("ButtonClicked",{display:()=>" is clicked"}),b("InputChanged",{display:()=>"'s value is changed",element_name:"An input"}),b("PopupClosed",{display:()=>" is closed",element_name:"A popup "}),b("PopupOpened",{display:()=>" is opened",element_name:"A popup "}),b("MapMarkerClicked",{display:()=>"'s marker is clicked",element_name:"A map"}),b("OnError",{display:()=>" has an error running a workflow"}),v.CustomEvent={display:e=>(null==e?void 0:e.get_static_property("event_name"))||"Create a custom event...",field_names:{event_name:{},parameters:{}},register(){},deferrable:!0},v.APIEvent={display(e,t){var r;return(null==e||null==(r=e.wf_name)?void 0:r.call(e))||(t?"API Workflow":"New API workflow...")},field_names:t.extend({wf_name:{},expose:{default:!0},auth_unecessary:{default:!1},ignore_privacy_rules:{default:!1},trigger_option:{default:"post"},return_200_if_not_run:{default:!1},parameters:{},detect_request:{},include_headers:{},parameter_def:{default:"manual"},modify_types:{},response_type:{default:"json"},redirect_page_success:{},redirect_page_error:{}},_.custom_tz_field_names),register(){},deferrable:!0,check_for_errors(e,r){e.wf_name()?-1!==e.wf_name().indexOf(" ")&&e.get_static_property("expose")?r(this.display(e)+" - the API workflow name should not have any spaces, since it can be used via the Workflow API"):t.firebase_illegal(e.wf_name())&&r(this.display(e)+" - the API workflow should not contain illegal characters, since it can be used via the Workflow API"):r(this.display(e)+" - the API workflow name should not be empty");for(let{param_id:t}of e.get_custom_parameters())t&&t.trim()!==t&&r(this.display(e)+" - the parameter "+t.trim()+" has some spaces around it")}},v.RecurringEvent={display:(e,t)=>(null==e?void 0:e.get_static_property("event_name"))||(t?"Recurring event":"New recurring event..."),field_names:t.extend({event_name:{},custom_event_data_type:{},ignore_privacy_rules:{default:!1}},_.custom_tz_field_names),register(){},deferrable:!0},v.DatabaseTriggerEvent={display:(e,t)=>(null==e?void 0:e.get_static_property("event_name"))||(t?"Database trigger event":"New database trigger event..."),field_names:t.extend({event_name:{},data_trigger_type:{}},_.custom_tz_field_names),register(){},deferrable:!0},v.get_event_object=function(e){if(v[e])return v[e];{var t;let[r]=d.get_plugin_and_type(e);return null==(t=h.get_plugin(r))?void 0:t.get_event(e)}},p.on_plugin_registration(((e,t)=>{null!==t.plugin_general_events&&(null!=v.plugin_general_events||(v.plugin_general_events={}),i.extend(v.plugin_general_events,t.plugin_general_events))}))})),ev=u((e=>{"use strict";f(),Ft(),Ue();var t=Lo(),r=Kt(),n=Vr(),{ignoreError:i}=d_(),a=qr(),o=b_(),s=Po(),l=Tt(),_=Qm(),u={invalid:"Invalid login link.",user:"User attempting to login does not exist.",expired:"This link is expired or has already been used. Please request another.",robot:"Incompatible browser."};e.onload=function(e){var c;let d,p,f=l.parse(document.location.href,!0),{query:h}=f,g=t.json_deep_copy(h);if(null!=(c=h.state)&&c.replace){let e=/&#34;/g;h.state=h.state.replace(e,'"')}if(h.state=decodeURIComponent(h.state),h.oauth_provider)d=t.json_deep_copy(h),({run_id:p}=d),delete h.oauth_provider,delete h.run_id;else{if(!function(e){if(!e)return!1;try{return t.json_parse(e).oauth_provider}catch{return!1}}(h.state)){if(function(e){if(!e)return!1;try{return t.json_parse(e).magic_link_status}catch{return!1}}(h.state)){var m;d=t.json_parse(h.state),delete h.state,delete f.search,a().location.set_url_without_refresh({url:l.format(f)});let r=null!=(m=u[d.magic_link_status])?m:"Invalid login link.";return _.handle_uncaught_error({original_error:new t.OwnerError(r),caught_from:n.ERROR_SOURCES.ELEMENT_WORKFLOW,cb(e){e&&window.alert(r)}}),void(null==e||e())}return void(null==e||e())}var v;d=t.json_parse(h.state),null!=(v=d).code||(v.code=h.code),delete h.state}let y=o.get_oauth_authenticator(d.oauth_provider);if(null==y)return window.alert(a().get_text("CORE","OAUTH_ISSUE")),void(null==e||e());for(let e of null!=(b=y.get_property("additional_query_url_to_delete"))?b:[]){var b;delete h[e]}delete h.code,delete h.resume_key,delete f.search,delete f.hash,a().location.set_url_without_refresh({url:l.format(f)});let w=p||d.resume_key;if(!d.code&&!d.oauth_token){r.error("oauth login failed",{service_name:y.id(),original_query:g});let i=a().get_text("CORE","OAUTH_ISSUE")+y.id()+". "+a().get_text("CORE","TRY_AGAIN"),o=new t.OwnerError(i);return _.handle_uncaught_error({original_error:o,caught_from:n.ERROR_SOURCES.ELEMENT_WORKFLOW,cb(e){e&&window.alert(r.human_friendly(e))}}),void(null==e||e())}let A=y.get_data_for_login(d);a().workflow.resume(w,A).callback((o=>{if(o&&_.handle_uncaught_error({original_error:o,caught_from:n.ERROR_SOURCES.ELEMENT_WORKFLOW,cb(e){e&&window.alert(r.human_friendly(e))}}),null==e||e(),!o&&0===d.oauth_provider.indexOf("apiconnector")&&t.is_debug_mode()&&"live"!==s.app_version()&&!y.has_token_data()){let e={api_id:d.oauth_provider,current_user_id:a().current_user()._id(),appname:s.appname(),plugin:0===d.oauth_provider.indexOf("apiconnector2")?"apiconnector2":"apiconnector"};a().location.post("server://api/1.1/u/save_owner_oauth_token",e).callback(i((e=>{!0===e&&window.alert(`You have successfully initialized the OAuth2 connection for ${y.display()}. You can go back to the Editor and keep building!`)})))}}))}})),tv=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.can_use=u,e.fully_loaded=function(){i=Date.now(),a.end();let e=s.global_data_items_loaded;if(!u())return;let r,o,l,_,c=window.performance.timing.fetchStart,d=window.performance.timing.responseEnd-c,p=t-c,f=n-c,h=i-c,{pre_run_js:g,run_js_start:m,post_run_js:v,static_js_start:y,dynamic_js_start:b,pre_static_js:w,pre_dynamic_js:A}=window._bubble_page_load_data;for(let e of null!=(E=null==(M=(x=window.performance).getEntriesByType)?void 0:M.call(x,"resource"))?E:[]){var E,M,x;let t=e;if(t.name.includes("/package/run_js/")?(r=t,_=r.encodedBodySize):t.name.includes("/package/run_js_page/")&&(o=t),t.name.includes("/package/run_js/"))null!=l||(l=0),l+=t.encodedBodySize}let O=h,k=e=>Math.round(1e3*e/O)/10;function S(e,t,r){if("function"!=typeof performance.now||null==r)return;let n=t-window.performance.timing.fetchStart,i=Math.max(0,r.responseStart-n),a=Math.max(0,r.responseEnd-Math.max(n,r.responseStart));e.request=k(i),e.download=k(a)}S({total:k(m-g)},g,r);let T=b-A,N={total:k(y-w)},C={total:k(T)};S(N,v,o),S(C,v,o);let L={page_data:e,page_html:d,page_render_start:p,page_render:f,page_full:h};return null!=l&&(L.packager_size=l),null!=_&&(L.run_js_size=_),L},e.render_end=function(){a.endSpan(r),n=Date.now()},e.render_start=function(e){if(t=Date.now(),e){a.start(e);let t=o.SPANS.render;r=a.startSpan(t.name,t.type,t.sync)}},Ue();var t,r,n,i,a=_(Ia()),o=_(La()),s=_(Id());function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function u(){var e;return null!=(null==(e=window.performance)?void 0:e.timing)&&null!=window._bubble_page_load_data}})),rv=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=e.length,r=t%4;if(!r)return e;var n=t,i=4-r,a=t+i,o=Buffer.alloc(a);for(o.write(e);i--;)o.write("=",n++);return o.toString()}})),nv=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0});var t=rv();function r(e,t){return void 0===t&&(t="utf8"),Buffer.isBuffer(e)?i(e.toString("base64")):i(Buffer.from(e,t).toString("base64"))}function n(e){return e=e.toString(),t.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function i(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var a=r;a.encode=r,a.decode=function(e,t){return void 0===t&&(t="utf8"),Buffer.from(n(e),"base64").toString(t)},a.toBase64=n,a.fromBase64=i,a.toBuffer=function(e){return Buffer.from(n(e),"base64")},e.default=a})),iv=u(((e,t)=>{f(),t.exports=nv().default,t.exports.default=t.exports})),av=u(((e,t)=>{"use strict";f(),Ue();var r=qr(),n=ot(),i=Kt(),a=Dr(),o=$a(),s=Bl(),l=lg(),_=12e4,u={},c={},d=!1,p={},h={};function g(e,t){for(let r in t){let n=t[r],i=e[r];if(i&&n&&"function"==typeof i&&"function"==typeof n){if(!g(i,n))return!1}else if(i!==n)return!1}return!0}function m(e){var t,r;return null!=(r=(t=h)[e])?r:t[e]=a.MakeSwitch(null,"api data loaded for "+e)}function v(e,t,r,i){var a;if(r.partial){let n=b(e,t);if(n&&!n.partial&&!n.err&&g(n.data,r.data))return}let o=e+"_"+t;c[o]=i,u[o]=r,null==(a=p[o])||a.invalidate(),m(o),r.partial?h[o].turn_off():h[o].turn_on(),n.on_server()&&(d||(d=!0,setTimeout(y,_)))}function y(){d=!1;let e=Date.now(),t={},r={},n={},i={};for(let[s,l]of Object.entries(c))if(e<l)r[s]=l,t[s]=u[s],n[s]=p[s],i[s]=h[s];else{var a,o;null==(a=p[s])||a.invalidate(),null==(o=h[s])||o.turn_on()}u=t,c=r,p=n,h=i}function b(e,t){var r;let n=e+"_"+t,i=u[n];var a;if(null!=i&&Date.now()>c[n])return null==(a=h[n])||a.turn_off(),u[n]=null,null;if(null!=(r=p)[n]||(r[n]=o.Dependency()),p[n].register(),null!=i&&i.err)throw i.err;return i}t.exports=class extends l{constructor(e){let{human:t,uid_field:r,build_call_from_uid:n,data_container:i,fields:a,cache_time:o}=e;super(),this.storable=!0,this.bindable=!0,this.human=t,this.uid_field=r,this.build_call_from_uid=n,this.data_container=i,this.fields=a,this.cache_time=o,null!=this.cache_time||(this.cache_time=_),this._is_executing={}}convert_to_bubble_instance(e){function t(e){return null!=e?String(e):e}return Array.isArray(e)?r().db_instance().static_list(this.full_name,e.map((e=>t(null==e?void 0:e[this.uid_field])))):t(null==e?void 0:e[this.uid_field])}execute_my_call(e,t,r){if(this._is_executing[e])return;this._is_executing[e]=!0;let{name:n,prev:o,properties:l}=this.build_call_from_uid(e),_=null,u=setTimeout((()=>{i.warn("APIValue took too long too load",{uid:e,_returned:_,call_name:n,human:this.human})}),29e3);a.WaitFor(function(e,t){let r=e+"_"+t;return m(r),h[r]}(this.full_name,e),(()=>clearTimeout(u)));let c=s.get_current_eval_node();return this._service.get_call(n).execute_async(o,l,null,{current_eval_node:c,_raw:t},r).callback(((t,r)=>{if(this._is_executing[e]=!1,_={err:t,value:r},t)return v(this.full_name,e,{err:t},Date.now()+this.cache_time)})),null}lookup_fn(e){let t=this;return function(r,n,i,o,s){var l,_,u;if(!r)return this.ret_btype().cast(null);let c=null!=(l=null==(_=r._id)?void 0:_.call(r))?l:r;if(t.uid_field===e)return this.ret_btype().cast(c);let d=b(t.full_name,c);return!d||null==d.data[e]&&d.partial?(t.execute_my_call(c,o,s),function(e,t){b(e,t);let r=e+"_"+t;m(r),a.ensure_ready(h[r])}(t.full_name,c),d=b(t.full_name,c),this.ret_btype().cast(null==(u=d)?void 0:u.data[e])):this.ret_btype().cast(d.data[e])}}get_basic_message(e,t){var r;let n=null!=(r=t.fn)?r:this.lookup_fn(e);return{...super.get_basic_message(e,t),fn:n,is_lookup:!1}}display(){return this.human}editable(){return!1}service(){return this._service}short_id(){return this.name}export_to_string(e){return`(Data with ID "${e}" from an API)`}debugging_display(e){return`(Data with ID "${e}" from an API)`}equals(e,t){return String(e)===String(t)}get_sample(){return null}cast(e){return"number"==typeof e?String(e):e}extract(e){return this.flatten_raw(e)}notify(e,t){let r=null==e?void 0:e[this.uid_field];if(null!=r)if(t.invalidate)!function(e,t){var r,n;let i=e+"_"+t;u[i]=null,null==(r=p[i])||r.invalidate(),null==(n=h[i])||n.turn_off()}(this.full_name,r);else{let n;n=t.partial?{data:e,partial:!0}:{data:e},v(this.full_name,r,n,Date.now()+this.cache_time)}}notify_server_action(e,t){let r=e=>{if(["string","number"].includes(typeof e)){let t={};t[this.uid_field]=e;let r={invalidate:!0};return this.notify(t,r)}};if("function"==typeof(null==e?void 0:e.all))for(let t of e.all())r(t);else r(e)}get_JS_object(e){return e}JS_to_bubble(e){return e}}})),ov=u(((e,t)=>{"use strict";f();var r=it();t.exports=function(e,t){return new r.OwnerError("service unavailable",{display:"Sorry, "+e+" is temporarily unavailable",reason:t})}})),sv=u((e=>{"use strict";f();var t=Sr();e.is_retryable=function(e,r,n,i){if(n&&n(r,e))return!0;if(e){var a;if(t.string_contains(e.message,"Failed to establish a connection"))return!0;switch(null==(a=e.args)?void 0:a.code){case"ESOCKETTIMEDOUT":if(!i)return!0;break;case"ECONNRESET":case"ECONNREFUSED":case"ETIMEDOUT":case"EHOSTUNREACH":case"ENETUNREACH":case"EPROTO":return!0}if(t.string_contains(e.message,"socket hang up")||t.string_contains(e.message,"SSL3_GET_RECORD:decryption failed or bad record mac"))return!0}return!(!r||![429,502,503,504].includes(r.statusCode))}})),lv=u((e=>{"use strict";f();var t=Zt(),r=Dr(),n=w_(),i=T_(),a=Pp(),o=fl(),s=qr();e.serialize_context=function(e,l){let _;return(e={...e}).duplicated_from_context=e.object_id,e.object_id=t.UUID(),e.duplicated_at="context_serializer.serialize_context",e.frozen_state||(e.frozen_state=new a(e)),_=null!=l?e.frozen_state.freeze_node(l):r.Promise(),_.then((()=>{var t,r;return{client_state:e.frozen_state.get_client_state(),element_id:null==(t=e.element)?void 0:t.element_id(),uid_generator:e.uid_generator,random_seed:e.random_seed,current_date_time:i.get_page_data("Current Date/Time",e).getTime(),timezone_offset:(new Date).getTimezoneOffset(),timezone_string:s().current_timezone(),inputs_must_be_valid:e.inputs_must_be_valid,advanced_search:e.advanced_search,constraint_messsage:e.constraint_messsage,current_wf_params:n.dehydrate_wf_params(e,(e=>o.dehydrate_tree(e))),event_id:null==(r=e.event)?void 0:r.id()}}))}})),_v=u(((e,t)=>{"use strict";f(),Ue(),Mr(),pr();var r=St(),n=Lo(),i=Dr(),a=Lr(),o=Gr(),s=Qt(),l=ot(),_=Kt(),u=it(),c=fl(),d=M_(),p=Fr(),h=$a(),g=xr(),m=ov(),v=(Id(),qr()),y=Po(),b=Fl(),w=Bl(),A=sv(),E=lv(),M=(Vt(),{}),x={},O={},k={},S={},T={},N=Date.now();function C(e){var t;return!e.method||["get","delete"].includes(null==(t=e.method)?void 0:t.toLowerCase())}var L={data_type_for_ajax_call:!0,skip_property_security:!0};t.exports=class{constructor(e){this._execute_built_request=this._execute_built_request.bind(this),this._service=e}static invalidate_client_side_calls(e){null!=e||(e=[]);for(let n of e){var t,r;null==(t=M[n])||t.turn(),delete M[n],delete k[n],delete O[n],null==(r=x[n])||r.invalidate()}}service(){return this._service}display(){return this.human}get_value_id(){return this.is_list?g.list_type(this.value_id):this.value_id}get_value_bubble_null(){return b.get(this.get_value_id()).get_bubble_null()}get_authenticator(){return this.service().get_authenticator()}is_authenticated(){return this.get_authenticator().is_authenticated()}must_proxy(){var e;return null!=(e=this._must_proxy)?e:this.get_authenticator().must_proxy()}get_key(e,t,r){var n,i;return null!=(n=null==(i=this.override_key)?void 0:i[e])?n:this.service().get_key(e,t,r)}get_property(e,t){let r,n;if(this[e])n=this[e],r=this;else{let t=this.service();t[e]&&(n=t[e],r=t)}if(!n&&!L[e]){if(t)return null;throw new u.UnexpectedError("call "+this.human+" missing property "+e)}return"function"==typeof n&&(n=n.call(r)),n}execute(e,t,r,n,a){var o;let u=w.get_current_eval_node();null==u&&l.on_client()&&!l.is_edit_mode()&&"apiconnector2"===this.service_name&&_.warn("oddly missing current_eval_node in call.execute",{_raw:n});let p={current_eval_node:u,_raw:n},f=this._execute_async.bind(this,e,t,r,p,a);if((null==(o=d.CurrentNotReadyCatcher)?void 0:o.length)>0)return null;if(l.on_server())return f().block().ret;{var g,m;let n=s.json_stringify(c.dehydrate_tree({full_name:this.full_name,prev:e,properties:t,authentication:r}));if(null!=x[n]||(x[n]=h.Dependency()),x[n].register(),null==(g=(m=this.service()).notify_call_was_hashed)||g.call(m,n,t),!M[n]){M[n]=i.MakeKey(null,"Call.execute key for "+n);let t=f();M[n].name=t.toString.bind(t),t.callback(((t,a)=>{var o,l;if(t)return S[n]=t,void(null==(l=M[n])||l.turn());let{ret:_,properties:u}=a,d=s.json_stringify(c.dehydrate_tree({full_name:this.full_name,prev:e,properties:u,authentication:r}));(O[n]=_,k[d]=_,null==(o=M[n])||o.turn(),null!=M[d]||(M[d]=i.MakeKey(null,"Call.execute server_hash")),M[d].turn(),d!==n)&&(null!=T[n]||(T[n]=0),T[n]++,setTimeout((()=>{delete O[n],k[n]||delete M[n]}),1===T[n]?1:5e3*Math.pow(2,T[n])))}))}if(i.ensure_ready(M[n]),S[n])throw S[n];var v;return null!=(v=k[n])?v:O[n]}}execute_async(e,t,r,n,i){return this._execute_async(e,t,r,n,i).then((e=>{let{ret:t}=e;return t}))}_execute_async(e,t,r,n,i){if(!l.on_server()&&this.must_proxy())return this.proxy_request(e,t,r,n,i).then((e=>(this.notify_value(e.ret),e)));let o,s={prev:e,properties:t},_=this.build_request(e,t,r),c=this._execute_built_request({req:_,test_info:s,prev:e,properties:t,authentication:r});return o=this.service().handle_request_failures?this.service().handle_request_failures:n=>{if(n.statusCode)return n;if(this.service().not_production_critical&&A.is_retryable(n))return m(this.service().display(),n);{if(n.message===a.QUEUE_TIMEOUT)return n;let i=this.service();return new u.UnexpectedError("execute_async error",{err:n,prev:e,properties:t,authentication:r,service_display:i.display(),service_name:i.name})}},c.then((e=>({ret:e,properties:t})),o)}_execute_built_request(e){let{req:t,test_info:r,prev:s,properties:l,authentication:_}=e;if(t.dont_do_call){var c;if(this.service().get_action_calls().includes(this.name)&&!t.no_error||t.force_error_message)throw new u.UserError("MISSING_INFO",null!=(c=t.message)?c:v().get_text("CORE","MISSING_INFO")+this.human);return i.Promise(null)}return t.override_output?(this.notify_value(t.results),i.Promise(t.results)):n.Promise(t).block_promise(12e5).then((e=>(o.round_all(e),e))).then((e=>v().http_request(e).block_promise(12e5).then((t=>{var n;let i=null==(n=this.modify_and_retry)?void 0:n.call(this,e,t);if(i)return e=i,this._execute_built_request({req:e,test_info:r,prev:s,properties:l,authentication:_});let o=this.service().response_to_data(e,t,this.get_property("return_type",!0),this);a.optional_pause("response to data finished"),r.result_call=o;let u=this.extract_data(o,l,t,e);return a.optional_pause("extract data finished"),r.result_processed=u,this.notify_value(u),a.optional_pause("notify value finished"),u}))))}build_request(e,t,n){var a;let o=this.build(e,t);v().bubble_version()>=25&&!o.no_user_agent&&(null!=o.headers||(o.headers={}),"User-Agent"in o.headers||(o.headers["User-Agent"]="Bubble"));if(o.dont_do_call||o.override_output)return o;let s=this.get_property("data_type_for_ajax_call");s&&(o.dataType=s);let l=this.get_property("custom_retry_handler",!0);if(l&&(o.custom_retry_handler=l),"raw"===this.get_property("return_type",!0)&&(o.encoding=null),null!=o.method||(o.method="get"),o.method=o.method.toLowerCase(),o.url&&o.path)throw new u.UnexpectedError("call "+this.name+" @build() call returned an object with both a url and a path: do one or the other");var c;o.url||(o.url=this.get_property("base_url")+(null!=(c=o.path)?c:""),delete o.path);let d=this.get_authenticator();null==(a=d.add_shared_params_and_headers)||a.call(d,o);let p=i.Promise(d.add_authentication(o,n));return new URL(o.url).host.split(".").forEach((e=>_.info("External API Call Built",{display:e,method:o.method,url:o.url,headers:o.headers}))),p.block_promise().then((e=>(C(e)&&(e.url=function(e){return C(e)&&e.data?-1===e.url.indexOf("?")?e.url+"?"+r.stringify(e.data):e.url+"&"+r.stringify(e.data):e.url}(e),delete e.data),e)))}proxy_request(e,t,r,n,a){var o;let s,{_raw:d,current_eval_node:p}=null!=(o=n)?o:{};if(e=c.dehydrate_tree(e),t=c.dehydrate_tree(t),this.get_property("skip_property_security"))s=i.Promise({skip_property_security:!0});else if("function"==typeof this.generate_server_properties)s=i.Promise({skip_property_security:!0});else{if(null==d&&(null==a||!a.constraint_messsage))throw new u.UnexpectedError("Missing _raw in proxy_request",{current_eval_node:p});s=E.serialize_context(a,p)}return s.then((i=>{var a;return null!=i||(i={error_serializing_context:!0}),p=null==(a=p)?void 0:a.json._path(),n={_raw:d,current_eval_node:p,page_name:v().location.get_underlying_page()},v().location.post("server://apiservice/doapicallfromserver",{timezone_string:v().current_timezone(),service_name:this.service().name,version:this.service().version,call_name:this.name,prev:e,properties:t,authentication:r,call_location:n,serialized_context:i,page_load_time:N,app_last_change:l.is_edit_mode()||l.is_plugin_edit_mode()?"edit":y.last_change(),ret_properties:!0}).then((a=>{var o,s;return!1===(null==a||null==(o=a.ret)?void 0:o.__bubble_tz_string_in_body)&&_.info("doapicall request made attempting to pass in tz string and failed!",{appname:y.appname(),attempted_request:{timezone_string:v().current_timezone(),service_name:this.service().name,version:this.service().version,call_name:this.name,prev:e,properties:t,authentication:r,call_location:n,serialized_context:i,page_load_time:N,app_last_change:l.is_edit_mode()||l.is_plugin_edit_mode()?"edit":y.last_change(),ret_properties:!0}}),null==a||null==(s=a.ret)||delete s.__bubble_tz_string_in_body,a}))}))}extract_data(e,t,r,n){let i;a.optional_pause(),this.post_processing&&(e=this.post_processing(e,t,r,n)),i=this.data_container?s.extract_from_object(e,this.data_container):e,a.optional_pause();let o=b.get(this.value_id);a.optional_pause();let l=e=>{var t,r,n;return null!=(t=null==(r=(n=o.plugin).extract)?void 0:r.call(n,e))?t:e};return Array.isArray(i)?p.incremental_map(5,i,l):l(i)}notify_value(e){if(!e)return;let t=b.get(this.value_id);"function"==typeof t.plugin.notify&&(Array.isArray(e)?p.incremental_for_each(5,e,(e=>{t.plugin.notify(e,this)})):t.plugin.notify(e,this))}get_doc_link(){return this.doc_link}}})),uv=u((e=>{"use strict";f(),Ue();var t=e;Lo(),qr(),tf(),y_();Nt().safe_register("./services/client/editor_utils",t),t.enter_your_api_key_button_field_names={key_info:{no_states:!0}}})),cv=u((e=>{"use strict";f();var t=e;Nt().safe_register("./core/core_actions/utilities/core_actions_consts",t),t.csv_separators={comma:",",semicolon:";",tab:"tab",pipe:"|"},t.basic_actions=t.root_actions})),dv=u((e=>{"use strict";f();var t=Po(),r=bg(),n=qr(),i=e;i.visibility_property=e=>{var i;return[{name:"is_visible",caption:null!=(i=window)&&i.is_maison?"Visible on page load":"This element is visible on page load",long_caption:"This element is visible",editor:"Checkbox",on_change(i){!1===i&&n().visual_edit.turn_element_on(e.id(),!0),r.track("PE Visible on Page Load toggled",{app:t.appname(),new_value:i})},pretty:{section:"Position"}},{name:"information",label_text:"This element is not visible on page load, you can show it to edit it in the Element Tree.",click_cb:()=>$(".layers-box").find("h2").click(),editor:"Label",condition:e=>!e.get_static_property("is_visible",!0),pretty:{section:"Position"}}]},i.visibility_field_names={is_visible:{default:!0}}})),pv=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Nt(),n=Kt(),i=Qm(),a=w_(),o=Pp(),s=T_(),l=Dg(),_=Vr(),u=Jt(),c=qr(),d=D_(),p=jp(),h=Fh(),g=fl(),m=Po(),v=e;r.safe_register("./core/core_elements/core_elements_utilities/element_workflows",v),v.start_workflow_field_names={start_workflow:{no_states:!0},button_disabled:{}},v.run_element_workflow=function(e,r,f,g,m,y){if(!y&&(f&&t.did_event_pass_through(f,"."+l.CLICKABLE_ELEMENT)||e.state("force_pressed")))return;let b=null!=g?g:e.element.get_related_workflows(r);if(null==b||!b.length)return;let w=t.Promise(null,"button press evaluation");y||e.state("force_pressed",!0);let A=p.show_progress_line(w);return w.callback((E=t=>i.handle_uncaught_error({original_error:t,caught_from:_.ERROR_SOURCES.ELEMENT_WORKFLOW,cb:t=>(t&&window.alert(n.human_friendly(t)),y||e.state("force_pressed",!1),A())}),function(r){if(!r)return void E();let n=e.element.get_related_workflows("OnError");if(0===n.length)return void E(r);let l=i.build_wf_error_object(r),_={element:e,datasources:s.get_basic_datasources(e.element.root())},p={};p[u.LEGACY_PARAM_ID]=new d(l,null,"sys.error"),_.datasources.get_wf_param=a.generate_wf_param_datasource(p),null!=m&&t.extend(_.datasources,m),new o(_).freeze_workflows(n,(e=>{e?E(e):c().workflow.run_workflows(_,n,!0).callback(((e,t)=>{if(e)E(e);else{if(0!==t.length)return E();E(r)}}))}))})),t.run_once(5,(()=>!y&&h.evaluate_property(e,"button_disabled")),((r,n)=>{if(r)return void w.reject(r);if(n)return void w.resolve();y||e.get_canvas().removeClass("show-outline");let i={element:e,inputs_must_be_valid:!0,datasources:s.get_basic_datasources(e.element.root())};null!=m&&t.extend(i.datasources,m),new o(i).freeze_workflows(b,(r=>{if(!r)return t.run_once(30,(()=>v.find_invalid_inputs(e,b,i)),((e,r)=>{if(e)return void w.reject(e);let{validation_fail:n,min_top:a}=r;var o,s;return n?(w.resolve(!0),t.isScrolledIntoView(null==(o=a.instance)?void 0:o.get_canvas()).status?a.instance.message("set_focus"):t.velocity(null==(s=a.instance)?void 0:s.get_canvas(),"scroll",{duration:200,offset:-100,complete_cb:()=>a.instance.message("set_focus")})):w.resolve(c().workflow.run_workflows(i,b,!0))}));w.reject(r)}))})),w;var E},v.find_inputs_to_check=function(e,r,n,i){let a=[],o=[];for(let s of r){let r=function(e){var t,r;return"isnt_valid"===(null==(t=e.next())||null==(r=t.name)?void 0:r.call(t))},l=function(n,i){let a=m.event(n.get_static_property("custom_event"));if(null!=i||(i={}),i[a.id()])return;i[a.id()]=!0;let o=e.find_instance_by_id(n.element_id());if(null!=a&&a.exists()){for(let e of a.find_expressions("GetElement"))r(e)||_.push({instance_id:e.element_id(),parent_instance:o});for(let e of a.actions("TriggerCustomEvent").concat(a.actions("TriggerCustomEventFromReusable")))l(e,t.extend({},i))}};if(!i&&!c().workflow.should_workflow_run(n,s))continue;a.push(s);let _=[];for(let e of s.find_expressions("GetElement"))r(e)||_.push({instance_id:e.element_id()});for(let t of s.find_expressions("ThisElement"))r(t)||_.push({instance_id:e.element_id()});for(let e of s.actions("TriggerCustomEvent").concat(s.actions("TriggerCustomEventFromReusable")))l(e);for(let{instance_id:t,parent_instance:r}of _){let n=(null!=r?r:e).find_instance_by_id(t);n&&n.is_visible()&&o.push(n)}}let s={},l=[];for(let e of o)s[e.toUniqueString()]||(s[e.toUniqueString()]=!0,l.push(e));return{input_instances:l,to_run:a}},v.find_invalid_inputs=function(e,t,r){let n={top:0,left:0,instance:null},i=!1,{input_instances:a,to_run:o}=v.find_inputs_to_check(e,t,r);for(let e of a)if(e.get_messages().includes("display_validity")){var s,l;e.message("display_validity"),(e.state("display_invalid")||null!=(s=r.frozen_state.element_state[g.dehydrate_tree(e)])&&null!=(l=s.value_that_is_valid)&&l.not_valid)&&(i=!0,(n.top>e.element.get_top()||!n.instance)&&(n.left>=e.element.get_left()||!n.instance)&&(n.top=e.element.get_top(),n.left=e.element.get_left(),n.instance=e))}return{validation_fail:i,min_top:n,to_run:o}}})),fv=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.update_thing=e.update_modified_date=void 0;var t=s(Lo()),r=s(Lr()),n=s(Kt()),i=s(wl()),a=s(Fl());function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var l=e=>e.child("Modified Date").set(t.timestamp());e.update_modified_date=l;e.update_thing=function(e,o,s){var _,u;let c=t.Promise(null,`updating ${String(null==e||null==(_=e._id)?void 0:_.call(e))}`);if(!e)return console.log("trying to update something that does not exist.  this is likely an application error..."),c.resolve(void 0),c;if("function"!=typeof e.child)return console.log("trying to update something that doesn't look like a DB object.  This can legitimately happen in preview mode, if the to_change expression isn't valid."),c.resolve(void 0),c;let d={thing_id:null==e||null==(u=e._id)?void 0:u.call(e),new_values:o,expected_value_id:s,inner_value_check:{}};return c.resolve(t.run_once(30,(()=>e._type())).then((_=>{if(d.thing_type=_,null!=s&&s!==_)return null;let u=a.get(_).custom_type();return null!=u?(r.optional_pause(),t.run_once(30,(()=>{let e={},r=null!=o?o:{};for(let i in r){let o=r[i];if(null!=o&&o.key){if(!u.field(o.key).exists())continue;e[i]=t.extend({},o);let r=a.get(u.field(o.key).value()),s=r.inner();if(d.inner_value_check[o.key]=null!=s,null!=s||(s={cast:()=>null}),!o.action&&r.is_list()&&(o.action="set_list"),o.action)if(["add","remove"].includes(o.action))e[i].value=s.cast(o.value);else{var n;e[i].value=[];let r=null!=(n=o.value)?n:[];for(let n=0;n<r.length;n++){let a=r[n];e[i].value.push(s.cast(a)),t.optional_pause_tick()}}else e[i].value=r.cast(o.value)}}return d.new_values2=e,e})).then((a=>{i.action_update_thing.active()&&n.debug("update_thing processed values",d);let o=null!=a?a:{};for(let n in o){let i=o[n];if(i.action){let r=t=>e.child(i.key).push(t),n=t=>e.child(i.key).remove(t);if("add"===i.action)r(i.value);else if("remove"===i.action)n(i.value);else if("set_list"===i.action)e.child(i.key).set(i.value);else if("add_list"===i.action)for(let e=0;e<i.value.length;e++){r(i.value[e]),t.optional_pause_tick()}else if("remove_list"===i.action)for(let e=0;e<i.value.length;e++){n(i.value[e]),t.optional_pause_tick()}else{if("clear_list"!==i.action)throw new t.UnexpectedError(`unrecognized action: ${i.action}`);e.child(i.key).set([])}}else e.child(i.key).set(i.value);r.optional_pause()}return l(e),null}))):void 0}))),c}})),hv=u((e=>{"use strict";f(),Ue();var t=zh(),r=Lo(),n=fl(),i=ot(),a=Mp(),o=Kt(),s=cl(),l=Qm(),_=pv(),u=Po(),c=fv(),d=gm(),p=Vr(),h=qr(),g=Fl(),m=jp(),v=Fh(),y=Nt(),b=e;y.safe_register("./core/core_elements/shared/inputs",b),b.get_max_file_size_field_name={max_size:{default:50}},b.get_file_upload_condition_field_name={file_upload_condition:{}},b.type_content_format_mapping={text:["_all"],number:["int_number","float_number","currency","percentage"],geographic_address:["geographic_address"],date:["date","date_2"],file:["text"],image:["text"],number_range:[],dateinterval:[]},b.register_input_states=function(e,t,n){let i=!1;function a(){if(i)return o.owner_error("Circular reference evaluating the input's initial content",{element_instance:n,prop_name:"content"}),null;if(!e.get_starting_content)return null;try{return i=!0,e.get_starting_content(n)}finally{i=!1}}function l(){n.state("has_been_changed")||n.state("value",a)}if(n.autorun(l),n.run_mode()){let i=function(e){return!r.compare(e,n.state("value",void 0,!0))&&(void 0===e&&(e=null),n.state("has_been_changed",!0),n.state("value",e),!0)},a=function(e){!i(e)&&!o||(o=!1,n.get_canvas().blur(),n.state("is_focused",!1),b.run_auto_binding(n,e),_.run_element_workflow(n,"InputChanged"),h().element.emit("user_changed_input",{instance:n,val:e}))};t.includes("is_invalid")&&n.state("is_invalid",(()=>!e.content_validated(n.state("value"),n))),n.state("value_that_is_valid",(()=>{if(t.includes("is_invalid")&&n.state("is_invalid")){let e={};return e[s.NV_MARKER]=!0,e}return n.state("value")})),t.includes("display_invalid")&&n.state("display_invalid",(()=>n.state("is_invalid")&&(n.state("has_been_changed")||n.state("force_display_validity")))),n.on_message("display_validity",(()=>{n.state("force_display_validity",!0)}));let o=!1;n.on_message("user_change",(e=>{i(e)&&(o=!0)})),n.on_message("user_submit",(e=>{a(e)})),n.on_message("reset_input",(()=>{n.state("force_display_validity",!1),n.state("has_been_changed")&&(n.state("has_been_changed",!1),l())}))}},b.input_change_autorun=(e,t)=>e.autorun((()=>{e.state("has_been_changed")||t(e.state("value"))})),b.register_focus=function(e,t){t.focus((()=>e.state("is_focused",!0))),t.blur((()=>e.state("is_focused",!1)))},b.get_input_autobind_thing=function(e,t){var r,n,i,a,o,s;let l,_,u=null==(r=e.parent)?void 0:r.call(e);return null!=u&&u.get_static_property("group_type")?(_=u.get_static_property("group_type"),t||(l=e.parent().state("group_data"))):"GroupItem"===(null==u||null==(n=u.element)?void 0:n.type())?(_=u.parent().get_static_property("group_type"),t||(l=u.state("group_data"))):"TableCell"===(null==u||null==(i=u.element)?void 0:i.type())?(_=u.parent().parent().get_static_property("group_type"),t||(l=u.parent().state("group_data"))):null!=(a=(o=e.element).root)&&null!=(s=a.call(o))&&s.get_static_property("page_item_type")&&(_=e.element.root().get_static_property("page_item_type"),t||(l=h().pageparam.get())),{type:_,thing:l}},b.get_input_autobind_thing_field=function(e){var t;let{type:r,thing:n}=b.get_input_autobind_thing(e);if(null==r||null==n||null==(t=n.exists)||!t.call(n))return null;let i=e.get_static_property("bind_field");return i?g.get(r).get_message(i).evaluate(n):null},b.do_auto_binding=function(e,t,i,s,_,d){null!=d||(d={0:{key:s,value:_}}),c.update_thing(t,d);let f={appname:u.appname(),app_version:u.app_version(),temp_db:h().db_instance().cur_temp_db(),data:{type:i,items:[{id:t._id(),changes:n.dehydrate_tree(d)}]}},g=a.encode_data(f,h().appname()),y=h().location.post("server://elasticsearch/modify",g),b=m.show_progress_line(y);return h().workflow.all_server_completed.add_promise(y),y.callback(((n,i)=>{if(h().db_instance().ensure_object_updates(i),e.state("currently_binding",!1),b(),n&&(h().db_instance().flush(t._id()),l.handle_uncaught_error({original_error:n,caught_from:p.ERROR_SOURCES.ELEMENT,cb(e){e&&window.alert(o.human_friendly(e))}})),e.supports_message("reset_input")&&e.message("reset_input"),!n&&e.get_static_property("show_alert_on_sucess"))return r.run_once(30,(()=>{let t=e.find_instance_by_id(e.get_static_property("alert_element"));return{alert_instance:t,element_text:v.evaluate_property(e,"alert_message"),alert_text:v.evaluate_property(t,"text")}}),((e,t)=>{if(e)return void o.log(e);let{alert_instance:r,element_text:n,alert_text:i}=t;if(null!=r){let e={fade_in:500,hold:500,fade_out:500};[null,void 0,""].includes(n)?e.message=i:e.message=n,r.message("show_alert",e)}}))}))},b.run_auto_binding=function(e,t,n){if(!e.get_static_property("auto_binding"))return;let i=e.get_static_property("bind_field"),a=h().workflow.all_sent_to_server.make(30,"run_aut_bonding");return r.run_once(30,(()=>{let r,a=b.get_input_autobind_thing(e),{thing:o}=a;return null!=o&&(r=o.child(i).get()),{current_val:r,is_invalid:n?void 0:e.state("is_invalid"),thing_type:a,val:"function"==typeof t?t():t}}),((t,r)=>{if(a.turn(),t)return void o.log(t);if(!n){if(r.is_invalid)return;e.state("currently_binding",!0)}let{type:s,thing:l}=r.thing_type;if(null==l)return;let{val:_}=r,u=g.get(s).custom_type().field(i).value();if(!g.get(u).equals(r.current_val,_)&&s&&null!=l&&i){if(!n&&e.element.E.field_names.content_format){let t=e.get_static_property("content_format");if("_all"!==b.type_content_format_mapping[u][0]&&!b.type_content_format_mapping[u].includes(t))return}return b.do_auto_binding(e,l,s,i,_)}}))},b.get_disabled_field_name={disabled:{default:!1}},b.get_auto_binding_field_names={auto_binding:{default:!1,no_states:!0},information:{no_states:!0},bind_field:{no_states:!0},show_alert_on_sucess:{no_states:!0},alert_element:{no_states:!0,optional:!0},alert_message:{no_states:!0,optional:!0}},b.additional_field_names_for_text_inputs=r.extend({mandatory:{},limit_number_of_characters:{no_states:!0,default:!1},character_limit:{no_states:!0}},b.get_disabled_field_name,b.get_auto_binding_field_names),b.switch_disabled_or_not=e=>v.on_property_change(e,"disabled",(t=>e.get_canvas()[0].disabled=t)),b.set_character_limit_on_input=e=>v.on_property_change(e,["limit_number_of_characters","character_limit","content_format"],(t=>{let{limit_number_of_characters:r,character_limit:n,content_format:i}=t;return r&&n&&[null,void 0,"text","numerical_ref"].includes(i)?e.get_canvas().attr("maxlength",n):e.get_canvas().attr("maxlength","")})),b.assign_change_keyup_handlers=function(e,n){let a=e.get_canvas();r.on_phonegap()&&a.css("-webkit-user-select","text"),b.register_focus(e,e.canvas);let o=null,s=!1,l=()=>{let t;if(s=!0,o&&e.clearTimeout(o),"geographic_address"===e.get_static_property("content_format"))t=3e3;else{let e=a.val();t=[null,void 0,""].includes(e)||1===e.length?0:1500}return o=e.setTimeout((()=>{e.message("user_change",n()),o=null}),t),!0};a.on("input",l),a.on("paste",l);let _=e.get_static_property("content_format"),u=["int_number","float_number"].includes(_),c="";function d(){e.message("user_submit",n())}u&&a.on("keyup",(e=>{let t="Backspace"===e.key,r=a.get(0),n="-"===c[0];c=a.val();let i=0===r.selectionStart&&0===r.selectionEnd;if(t&&i&&n)return l()})),a.on("keydown",(e=>{let t=a.hasClass("MultiLineInput");13!==e.keyCode||t||a.blur()})),a.blur((()=>{s&&(s=!1,d()),p.flush(),null!=o&&(e.message("user_change",n()),e.clearTimeout(o),o=null)}));let p=t(d,50);return a.change((()=>{i.running_test()?d():p()}))},b.default_for_inputs={font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_width:1,border_color:"#BDBDBD",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#BDBDBD",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,padding_horizontal:4,padding_vertical:0},b.input_content_options={text:"Text",email:"Email",password:"Password",int_number:"Integer",float_number:"Decimal",geographic_address:"Address"},b.is_pw_valid=function(e){if("string"!=typeof e||0===e.length||e.length>1e4)return!1;if(!u.get_public_setting("have_pw_policy"))return!0;let t=u.get_public_setting("pw_length");"number"!=typeof t&&(t=null);let r=u.get_public_setting("pw_require_capital_letter"),n=u.get_public_setting("pw_require_number"),i=u.get_public_setting("pw_require_special_char");return!(t&&e.length<t||r&&!e.match(/[A-Z]/)||n&&!e.match(/\d/)||i&&!e.match(/[^a-zA-Z\d\s:]/))},b.assign_enter_handler_in_input=function(e,t){var n,i,a;let o=e.get_canvas(),s=null,l=null!=(n=null==(i=(a=e.element).get_visible_workflows)?void 0:i.call(a))?n:[],_=e.element_id();for(let t of l){var u;if(t.find_expressions(`GetElement.element_id=${_}`).length<1)continue;let r=e.find_instance_by_id(null==(u=t.element_id)?void 0:u.call(t));if(null!=r&&r.is_visible())if(null!=s||(s=r),r!==s){s=null;break}}if(o.off("keydown.click_the_button"),s)return o.on("keydown.click_the_button",(e=>{if(e.shiftKey)return;let n=r.meta(e);if(t&&!n)return;if(13===e.keyCode){let e=s.get_canvas();if(e.is(":visible"))return r.trigger_blur(o),e.click()}}))},b.reset_input_div=e=>d.apply_css_style(e,{border:"none","background-color":"transparent"})})),gv=u((e=>{"use strict";f(),Ue();var t=e,r=new Set,n=e=>{for(let e of r)"destroyed"!==e.canvas&&!e.canvas[0].matches(":hover")&&"TableMainAxis"!==e.element.type()&&(e.state("is_hovered",!1),r.delete(e));0===r.size&&window.removeEventListener("mousemove",n)};t.setup_hover=function(e){let t=null!=e.canvas[0].matches;e.canvas.mouseenter((()=>{e.state("is_hovered",!0),t&&(0===r.size&&window.addEventListener("mousemove",n),r.add(e))})),e.canvas.mouseleave((()=>{e.state("is_hovered",!1),r.delete(e)}));let i=t&&e.canvas[0].matches(":hover");return queueMicrotask((()=>e.state("is_hovered",i))),i}})),mv=u(((e,t)=>{"use strict";f(),Ue(),R_();var r=Lo(),n=gm(),i=pm(),a=T_(),o=Al(),s=Ql(),l=Bl(),_=jm(),u=Sg(),c=Og(),d=Fh();t.exports={property_applications:e=>e&&null!=e&&e.use_responsive_algorithm()?[]:[new n.Background],position_canvas(e,t){if(t.responsive_mode())return void t.container.add(t);let r=this.calculate_run_mode_width(t);n.apply_css_style(e,{width:r+"px",height:t.element.get_height()+"px"}),t.edit_mode()?$(".canvas").append(e):($("html, body").css("height","100%"),$(window.document.body).append(e),e[0].style["min-height"]="100%"),n.apply_css_style(e,{"margin-right":"auto","margin-left":"auto",position:"relative","z-index":2})},register(e){e.on_message("child_movement",(t=>{e.state("last_delta",t)}))},initialize(e){e.run_mode()&&e.register_workflows(e.element.events()),d.on_property_change(e,"title",(t=>{e.edit_mode()?$(".edit-date").text(t):e.run_mode()&&$(document).ready((()=>window.document.title=t))}));let t=document.documentElement;e.edit_mode()&&(e.autorun((()=>{c.load_font_tokens_default(),c.load_font_tokens_user()})),d.on_property_change(e,"preset_width",(t=>{null!=_.preset_page_widths[t].width&&(e.element.set_property("width",_.preset_page_widths[t].width),e.element.commit_merge())})),d.on_property_change(e,"width",(t=>{let r=e.get_static_property("preset_width");for(let n in _.preset_page_widths){if(t===_.preset_page_widths[n].width)return void(n!==r&&(e.element.set_property("preset_width",n),e.element.commit_merge()))}"custom"!==r&&(e.element.set_property("preset_width","custom"),e.element.commit_merge())}))),e.autorun((()=>{for(let[e,r]of Object.entries(c.default_font_tokens_to_property()))t.style.setProperty(e,r)})),e.autorun((()=>{for(let[e,r]of Object.entries(c.user_font_tokens_to_property()))t.style.setProperty(e,r)})),e.autorun((()=>{for(let[e,r]of Object.entries(u.default_color_tokens_to_property()))t.style.setProperty(e,r)})),e.autorun((()=>{for(let[e,r]of Object.entries(u.user_color_tokens_to_property()))t.style.setProperty(e,r)})),e.run_mode()&&(a.page_width($(window).width()),$(window).on("resize",(()=>a.page_width($(window).width()))),a.page_current_scroll_position($(window).scrollTop()),$(window).on("scroll wheel touchmove",(()=>a.page_current_scroll_position($(window).scrollTop()))));let p=["background_style","bgcolor","background_gradient_direction","background_gradient_from","background_gradient_mid","background_gradient_to","background_image","center_background","background_size_cover","repeat_background_vertical","repeat_background_horizontal","background_color_if_empty_image","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos","background_gradient_custom_angle"];function f(){let t,a,u;e.element.use_responsive_algorithm()?a=e.get_canvas():(a=r.div("stripe-container Backdrop",e.container.get_canvas()),e.run_mode()&&($(window).off("resize.backdrop-non-responsive"),$(window).on("resize.backdrop-non-responsive",(()=>a[0].style.width=Math.max($(".main-page").width(),$(window).width())+"px")))),e.thumbnail_mode()?a.css({"z-index":1,position:"absolute",top:0,width:e.element.get_width(),height:e.element.get_height(),overflow:"hidden"}):n.apply_css_style(a,{"z-index":1,position:e.get_static_property("fixed_width")?"relative":"absolute",top:"0px",width:e.get_static_property("fixed_width")?e.element.get_width():"100%",overflow:"hidden"}),r.is_debug_mode()?(t=300,$(".main-page").css("height",$(".main-page").height()+t)):t=0;let c=()=>{let t;e.thumbnail_mode()?t=e.element.get_height():(t=Math.max(a.parent().height(),$(".main-page").height()),0===t&&(t=e.element.get_height())),a[0].style.height=t+"px"};c(),window.fix_backdrop_height=c,e.edit_mode()&&e.autorun((()=>a.css("height",d.evaluate_property(e,"height")+20)));let f=null;if(d.pre_cache(e,p.map((e=>`backdrop_${e}`))),d.pre_cache(e,["backdrop_paralax_speed","backdrop_image_paralax"]),e.autorun((()=>{let t={is_backdrop:!0};for(let r of p)t[r]=d.evaluate_property(e,"backdrop_"+r);if(e.run_mode())for(let r of["backdrop_paralax_speed","backdrop_image_paralax"])t[r]=d.evaluate_property(e,r);if("video"===t.background_style)if(e.run_mode()&&!r.is_on_mobile_or_tablet()){f||(f=new $.BigVideo,f.init()),$("#big-video-wrap").css("background","black");let t=$("#big-video-wrap video");t.attr("muted","");let r=i.optimize_image(d.evaluate_property(e,"backdrop_video_source"),void 0,void 0,void 0,!0);f.show(r,{forceAutoplay:!0,doLoop:!0,ambient:!0}),e.autorun((()=>{d.evaluate_property(e,"backdrop_video_silence")?(t.attr("muted",""),f.getPlayer().muted(!0)):(f.getPlayer().volume(.8),t.removeAttr("muted"),f.getPlayer().muted(!1))}))}else{a.css("background","black");let t=d.evaluate_property(e,"backdrop_video_image_fallback");t&&a.css({"background-image":`url(${i.optimize_image(t,a.width())})`,"background-position":"center top"})}else(new n.Background)._apply(t,a)})),!e.element.use_responsive_algorithm()){let i=r.MakeKey(null,"stripe_drawn"),d=[];$(window).off("resize.withstripe",c),$(window).on("resize.withstripe",c),e.on_destroy((()=>$(window).off("resize.withstripe",c))),e.autorun((()=>{let t=0,u=0;function c(e){let t={},i=r.div("backdrop-stripe",a);return e.floating?t["z-index"]=5e3:t["z-index"]=f,f-=1,t.width="100%",t["box-sizing"]="border-box",t["-moz-box-sizing"]="border-box",t.height=e.stripe_height+"px",e.border_width>0&&(t["border-bottom"]=`${e.border_width}px ${e.border_style} ${e.border_color}`,t["border-radius"]=e.border_roundness+"px"),n.apply_css_style(i,t),(new n.Background)._apply(e,i),(new n.BoxShadow)._apply(e,i),i}let p=(t,r)=>{let n;r.floating&&!e.edit_mode()?(n="fixed",t.addClass("floating")):n="absolute",t.css("position",n)},f=5e3;a.find(".backdrop-stripe").remove();let h=function(e){let t=_.get_stripes(e.element);if(!t.length)return[];let r=[];for(let n of t)l.with_eval_node(n,(()=>r.push(s.evaluate_properties(n.json._raw(),e.prop_eval_context(),o.DETECT_FIELD_NAMES,[],n.json._path()))));return r}(e);if(0!==h.length){for(let e of h){let r=c(e);p(r,e),!0!==e.floating||e.floating&&"top"===e.floating_reference?(r.css("top",t+"px"),d.push({div:r,top:t,height:parseFloat(e.stripe_height)}),t+=parseFloat(e.stripe_height)):(r.css("bottom",u+"px"),d.push({}),u+=parseFloat(e.stripe_height))}return i.turn()}})),u=$(".main-page"),e.on_message("movement_in_stripe",((n,o)=>r.WaitFor(i,(()=>{let r=0;for(let e=0;e<d.length;e++){var i;let t,a=d[e];void 0!==a.top&&(e>=n&&(t=e===n?o-r:a.height_change,a.div.height(a.height+t),a.div.css("top",a.top+r+"px"),a.height_change=t),r+=null!=(i=a.height_change)?i:0)}let s=e.element.get_height()+r+t;a.css("height",s),u.css("height",s)}))))}e.autorun((()=>{let r=e.state("last_delta");if(null!=r){var n;let i=e.element.get_height()+r+t;a.css("height",i),null==(n=u)||n.css("height",i)}}))}e.edit_mode()?(d.pre_cache(e,p),e.autorun((()=>{e.container.get_canvas().find(".stripe-container.Backdrop").remove(),e.autorun((()=>{if(!e.is_destroyed()){let t={};for(let r of p)t[r]=d.evaluate_property(e,r);(new n.Background)._apply(t,e.get_canvas())}})),f()}))):e.thumbnail_mode()?e.autorun(f):f()},additional_data:{is_responsive_mode:e=>e.run_mode()&&e.element.use_responsive_algorithm(),calculate_run_mode_width(e){if(this.is_responsive_mode(e)&&!e.get_static_property("fixed_width")){let t=$(window).width();return Math.max(e.element.get_min_width(),t)}return e.element.get_width()},initialize_container_width(e,t){if(!this.is_responsive_mode(e))return;t.resize_width(this.calculate_run_mode_width(e)),setImmediate((()=>{t.resize_width(this.calculate_run_mode_width(e))}));let n=null;$(window).resize((()=>{let i=this.calculate_run_mode_width(e);if(i!==n){if(r.is_fullscreen())return;n=i,t.resize_width(i),e.get_canvas()[0].style.width=i+"px"}}))}}}})),vv=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Nt(),n=Sm(),i=Fh(),a=e;r.safe_register("./core/core_elements/core_elements_utilities/element_utils",a),a.reset_inputs_and_groups=function(e){for(let t of["reset_input","reset_group","clear_list"])for(let r of e.current_children)r.element.get_messages().includes(t)&&r.message(t)},a.register_tab_index_listener=function(e,t){e.autorun((()=>{let r=e.state("tab_index");null!=r&&t(r)}))},a.register_group_data=function(e,r){function o(){if(!r.state("datasource_changed_by_workflow_action")){let t;return t=e.default_group_data?e.default_group_data():()=>{var e;return null!=(e=i.evaluate_property(r,"data_source"))?e:null},r.state("group_data",t)}}r.state("group_data",n.STATE_NOT_READY),r.on_message("reset_group",(()=>(r.state("datasource_changed_by_workflow_action",!1),o(),a.reset_inputs_and_groups(r)))),r.on_message("set_group_data",(e=>(null!=e||(e=null),r.state("datasource_changed_by_workflow_action",!0),r.state("group_data",e),l()))),r.autorun(o);let s=null;function l(){let e=r.state("group_data");if(!t.compare(e,s))return s=e,a.reset_inputs_and_groups(r)}r.autorun(l)}})),yv=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.unwatchClip=function(e){var t;null==(t=r.get(e))||t.disconnect(),r.delete(e)},e.watchClip=function(e,i){if(typeof MutationObserver<"u"&&typeof IntersectionObserver<"u"){if(r.has(e))return;let a=new IntersectionObserver(((t,n)=>{t.some((e=>e.boundingClientRect.height>0&&e.intersectionRatio<1))&&(n.disconnect(),r.delete(e),i())}),{root:e,threshold:[0,1]});r.set(e,a),e.childNodes.forEach((e=>{e instanceof Element&&a.observe(e)})),null!=t||(t=new MutationObserver(n)),t.observe(e,{childList:!0})}else i()},Ue();var t,r=new WeakMap;function n(e){for(let t of e){let e=r.get(t.target);null!=e&&(t.removedNodes.forEach((t=>{t instanceof Element&&e.unobserve(t)})),t.addedNodes.forEach((t=>{t instanceof Element&&e.observe(t)})))}}})),bv=u((e=>{"use strict";f(),Ue(),Ft();var t,r=Kt(),n=Lo(),i=Po(),a=gm(),o=yv(),s=Fh(),l=hf(),_=kg(),{variable_to_token_variant:u}=Sg(),{DEFAULT_USER_TOKENS:c}=_f(),{json_deep_copy:d}=Qt(),p=e,h=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#/%=~_|$?!:,.']*\)|[-A-Z0-9+&@#/%=~_|$?!:,.'])*(?:\([-A-Z0-9+&@#/%=~_|$?!:,.']*\)|[-A-Z0-9+&@#/%=~_|$])/gim,g=/(?:[a-zA-Z0-9+._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gim;typeof ResizeObserver<"u"&&null!==ResizeObserver&&(t=new ResizeObserver((e=>{for(let t of e)$(t.target).trigger("update.dot")}))),p.apply_dotdotdot=function(e,i){let a=e.get_canvas();function l(){a.dotdotdot({wrap:i,callback:(t,i)=>{n.run_once(30,(()=>{var t,r;return e.edit_mode()&&0!==i.length&&(null==(t=e.canvas)||null==(r=t.text)?void 0:r.call(t))&&""===e.canvas.text().trim()&&""!==s.evaluate_property(e,"text")}),((t,i)=>{if(t)r.log(t);else if(i){let t=n.div("dots-placeholder",a);t.css({"line-height":0,"font-size":20,"text-align":e.get_static_property("font_alignment",!0)}),t.text("............")}}))}})}e.thumbnail_mode()?a.css("overflow","hidden"):(e.setTimeout((()=>{e.run_mode()?o.watchClip(a[0],(()=>{l()})):l()}),1),e.autorun((()=>{var t;for(let t of["font_size","font_family","font_weight","padding_vertical","line_height","word_spacing","letter_spacing","fit_width","fit_height","min_width_css","max_width_css","min_height_css","max_height_css","single_width","single_height"])s.evaluate_property(e,t);null==(t=a.trigger)||t.call(a,"update.dot")})),null!=t?t.observe(a[0]):a.css("overflow","hidden"))},p.remove_dotdotdot=function(e){var r,n,i;"destroyed"!==e.canvas&&(null==(r=(n=e.canvas).trigger)||r.call(n,"destroy.dot"),o.unwatchClip(e.canvas[0]),null==(i=t)||i.unobserve(e.canvas[0]))},p.could_clip=function(e){var t;if(null!=l.max_height_css(e))return!0;if("row"===(null==(t=e.element.parent())?void 0:t.container_layout())){if("stretch"!==s.evaluate_property(e,"vert_alignment"))return!1}else if(e.element.fit_height())return!1;return!0},p.apply_text=function(e,t,r){function o(t){return e.element.is_responsive_v1()&&(r.vertical_centering||e.run_mode()&&p.could_clip(e))?`<div>${t}</div>`:t}let s,l=i.get_public_setting("bubble_version")>=10,_=e.get_canvas(),u=e.get_static_property("recognize_links"),c=e.get_static_property("no_bbcode");if(s=e.run_mode()||!r.editor_preview_text||!r.text||e.element.property("text").is_static()?r.text:r.editor_preview_text,c)if(n.has_bbcode(s)){if(e.element.is_responsive_v1()&&p.could_clip(e)){var d;let e=n.div("");e.text(s),t.append(e),null==(d=t.trigger)||d.call(t,"update.dot")}else t.text(s);a.apply_css_style(_,{"white-space":"pre-wrap"})}else{let i;i=u?n.bbcode_to_html(p.replace_links_emails(e,r),l):n.bbcode_to_html(s,l),t.html(o(i))}else u&&(s=p.replace_links_emails(e,r)),t.html(o(n.bbcode_to_html(s,l)))},p.replace_links_emails=function(e,t){let{text:r,editor_preview_text:a,link_color:o,nofollow:s}=t;if(!e.run_mode()&&a&&r&&!e.element.property("text").is_static())return a;if("string"!=typeof r||!e.run_mode())return r;let l=["[url=","[url]","[video]","[youtube]"],p=["[/url]","[/img]","[/video]","[/youtube]"];function f(e,t,r,n,i){return i?r+t.length+n.length<=e.length&&e.substring(r+t.length,r+t.length+n.length)===n:r>=n.length&&e.substring(r-n.length,r)===n&&r+t.length<e.length&&"]"===e[r+t.length]}function m(e){if(null==o)return e;if(o.includes(_.VAR_IDENTIFIER)){var t;let e=null!=(t=i.get_public_setting("color_tokens"))?t:_.DEFAULT_COLOR_TOKENS,{token_set:n,variant:a}=u(o);var r;if(e[n])o=e[n][a];else o=(null!=(r=i.get_public_setting("color_tokens_user"))?r:d(c))[a][n].rgba}return`[color=${n.rgb_to_hex(o).code}]${e}[/color]`}let v=s?" nofollow=true":"",y=r.replace(h,((e,t)=>{let n;for(n of l)if(f(r,e,t,n))return e;for(n of p)if(f(r,e,t,n,!0))return e;return m(`[url=${/^http/.test(e)?e:`http://${e}`}${v}]${e}[/url]`)}));return y=y.replace(g,((e,t)=>{if(function(e,t,r){for(let t=0;t<l.length;t++){let n=l[t],i=p[t];if(e.substring(0,r).includes(n)&&e.substring(r).includes(i)){let t=e.substring(r),a=t.indexOf(n);if(a<0||a>0&&a>t.indexOf(i))return!0}}return!1}(y,0,t))return e;for(let r of["[url=https://mailto:","[url=mailto:","[url]"])if(f(y,e,t,r))return e;return f(y,e,t,"[/url]",!0)?e:m(`[email=${e}]${e}[/email]`)})),y}})),wv=u((e=>{"use strict";f(),Ue(),Mn();var t=gm(),r=vv(),n=Lo(),i=Sm(),a=uf(),o=Kt(),s=Fh(),l=hf(),{PADDING_VERSION:_}=af(),u=bv(),c=e;c.wait_for_img_tags_loaded=function(e,t){if(!(e instanceof $))return void t();let r=e.find("img").not((function(){return this.complete}));if(!r.length)return void t();let n=r.length;r.on("load",(()=>{n--,0===n&&t()}))},c.apply_dynamic_properties_text=function(e){let o=e.get_canvas(),d=e.get_static_property("shrink_if_less_high"),p=null,f=null,h=null;e.autorun((()=>{e.state("notify_width");let g=["text","font_size","padding_vertical","line_height","rotation_angle","link_color","nofollow"],m={};for(let t of g)m[t]=s.evaluate_property(e,t);if(m.notify_width=e.state("notify_width"),m.font_face=l.get_font_face(e),p=m,!e.is_animating())if(e.run_mode()||e.responsive_mode()){var v,y;if(null!=(v=e.element.root())&&v.use_responsive_algorithm()&&e.element.element_version(!0)<_)o[0].style["padding-bottom"]=(null!=(y=m.padding_vertical)?y:0)+"px";if(c.text_should_stretch_vertically(e)){let t=function(t){e.is_animating(!0)?t():e.is_visible(!0)?(f=JSON.stringify(p),u.apply_text(e,r,p),c.wait_for_img_tags_loaded(r,(()=>{let n=o.outerHeight()-o.height();if(null!=m.rotation_angle&&![0,180].includes(m.rotation_angle))return void t();let i=r.height(),a=e.element.get_height();d?(h=i+n,e.set_height(h)):(h=Math.max(a,i+n),e.set_height(h)),t()}))):t()};if(!e.is_visible())return void c.set_text_height_to_invisibility_state(e);if(JSON.stringify(m)===f)return void(h&&e.set_height(h));let r=o.find(".content");0===r.length&&(r=n.div("content",o));let s=n.div("content-for-img"),l=i.add_layout_resizing_key();n.wait_for_updates((()=>{let r;n.has_bbcode(p.text)&&!e.get_static_property("no_bbcode")&&p.text.indexOf("[/img]")>-1?(u.apply_text(e,s,p),r=s):r=null,c.wait_for_img_tags_loaded(r,(()=>{let{font_family:e}=a.get_quoted_face_and_variant(m.font_face),{font_size:r}=m;t((()=>{var n;null!=(n=e)&&n.includes("var(")&&(e=a.font_token_to_font(e).font_family),c.wait_for_font_loaded(`${r}px ${e}`,(e=>{e?l.turn():t((()=>l.turn()))}))}))}))}))}else e.is_visible()&&(t.apply_css_style(o,{"word-break":"break-word"}),u.apply_text(e,o,m))}else u.apply_text(e,o,m),r.do_add_an_invisible_div_on_the_top(e)}))},c.wait_for_font_loaded=function(e,t){if(null==e)return void t(!0);if(null==document.fonts)return void t(!0);if(document.fonts.check(e))return void t(!0);let r=document.fonts.load(e);if(null!=r.finally)r.finally((()=>t(!1)));else if(null!=r.then){var n,i;if(r.then((()=>t(!1))).catch((()=>t(!1))),Math.random()>.99)o.info("odd missing Promise.prototype.finally",{type:typeof r,this_then:r.then.toString(),finally:null==Promise||null==(n=Promise.prototype.finally)?void 0:n.toString(),then:null==Promise||null==(i=Promise.prototype.then)?void 0:i.toString()})}else{var a;o.info("document.font polyfill but not Promise",{type:typeof r,then:null==Promise||null==(a=Promise.prototype.then)?void 0:a.toString()}),t(!0)}},c.apply_dotdotdot=function(e,r){let i=e.get_canvas();if(!e.thumbnail_mode())return e.setTimeout((()=>i.dotdotdot({wrap:r,callback:(r,a)=>{n.run_once(30,(()=>{var t,r;return e.edit_mode()&&0!==a.length&&(null==(t=e.canvas)||null==(r=t.text)?void 0:r.call(t))&&""===e.canvas.text().trim()&&""!==s.evaluate_property(e,"text")}),((r,a)=>{if(r)o.log(r);else if(a){let r=n.div("dots-placeholder",i);t.apply_css_style(r,{"line-height":0,"font-size":"20px","text-align":e.get_static_property("font_alignment",!0)}),r.text("............")}}))}})),1),s.pre_cache(e,["width","height","font_size","padding_vertical","line_height","word_spacing","letter_spacing"]),e.autorun((()=>{var t;for(let t of["width","height","font_size","padding_vertical","line_height","word_spacing","letter_spacing"])s.evaluate_property(e,t);e.element.get_style_id(),null==(t=i.trigger)||t.call(i,"update.dot")}));i.css("overflow","hidden")},c.text_should_stretch_vertically=function(e){var t;let r=null==(t=e.element.root())?void 0:t.use_responsive_algorithm(),n=e.get_static_property("cut_off_content"),i=e.get_static_property("stretch_to_fit");return r&&!n||!r&&i},c.set_text_height_to_invisibility_state=function(e){e.get_static_property("shrink_if_less_high")?e.set_height(0):e.set_height(e.element.get_height())}})),Av=u(((e,t)=>{"use strict";f();var r=Po(),n=gm(),i=qr(),a=wv(),o=Fh();t.exports={property_applications:[new n.MinWidth],attempt_size_only_draw:e=>!((e.run_mode()||e.responsive_mode())&&i().bubble_version()>=4&&!e.is_visible()&&a.text_should_stretch_vertically(e))||(a.set_text_height_to_invisibility_state(e),!1),initialize(e){let t=e.get_canvas();this.attempt_size_only_draw(e),e.autorun((()=>{r.get_public_setting("bubble_version")>=10?n.apply_css_style(t,{"white-space":"pre-wrap"}):n.apply_css_style(t,{"white-space":""})})),e.wait_for_visible_lite((()=>{var r,n;let s;e.edit_mode()||e.responsive_mode()?(s="letter",e.responsive_mode()&&(t[0].style.overflow="hidden")):(s="words",t[0].style.overflow="visible");let l=e.get_static_property("stretch_to_fit"),_=e.get_static_property("cut_off_content");o.pre_cache(e,["text","font_size","padding_vertical","line_height","rotation_angle"]),i().bv().apply_dynamic_properties_text(e),(e.edit_mode()||e.thumbnail_mode()||null!=(r=e.element.root())&&r.use_responsive_algorithm()&&_||!(null!=(n=e.element.root())&&n.use_responsive_algorithm())&&!l)&&a.apply_dotdotdot(e,s),e.responsive_mode()&&(t[0].style["pointer-events"]="none")}))},additional_data:{notify_width(e,t){e.state("notify_width",t)}}}})),Ev=u(((e,t)=>{"use strict";f();var r=gm();t.exports={property_applications:[new r.MinWidth]}})),Mv=u((e=>{"use strict";f();var t=Fh(),r=gm(),n=e;Nt().safe_register("./core/core_elements/legacy/responsive_v0/shared/icons",n),n.calculate_font_size_for_fontawesome=function(e){e.autorun((()=>{var n;let i=t.evaluate_property(e,"height"),a=null!=(n=e.state("notify_width"))?n:t.evaluate_property(e,"width");e.get_canvas()[0].style["font-size"]=function(){let t=Math.min(i,a),n=Math.max(r.calculate_border_height(e),r.calculate_border_width(e));return 0!==n&&(t-=n+5),t}()+"px"}))}})),xv=u(((e,t)=>{"use strict";f();var r=gm(),n=Dg(),i=Mv(),a=Fh();t.exports={property_applications:[new r.MinWidth],initialize(e){e.wait_for_visible_lite((()=>{let t=e.get_canvas();r.patch_user_agent_styles(t),a.on_property_change(e,"icon",(e=>{let r;t.hasClass(n.CLICKABLE_ELEMENT)&&(r=!0),t.attr("class",""),t.addClass(e+" inner-element bubble-element"),r&&t.addClass(n.CLICKABLE_ELEMENT)})),a.on_property_change(e,"icon_color",(e=>{t[0].style.color=e})),a.on_property_change(e,"spin_icon",(e=>{e||(e=!1),t.toggleClass("fa-spin",e)})),i.calculate_font_size_for_fontawesome(e)}))},additional_data:{notify_width(e,t){e.state("notify_width",t)}}}})),Ov=u((e=>{"use strict";f(),Ue();var t=xl(),r=e;r.href_attributes=["mailto","tel","sms","skype"],r.forbidden_url_keys=["id","debug_mode","resume","record_debugging_session"],r.check_parameters=function(e,n){if(e.get_static_property("add_parameters")){let i=e.get_static_property("url_parameters");if(null!=i)for(let a of Object.values(i))r.forbidden_url_keys.includes(a[t.shrink("key")])&&n(e.display()+": The parameter "+a[t.shrink("key")]+" cannot be used.")}}})),kv=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.FORCE_INTERNAL_NAV_PARAM=e.EXPERIMENT_PARAM=void 0,e.add_internal_navigation_handlers=function(e){let t=e.getElementsByTagName("a");for(let e of t)e.addEventListener("click",p)},e.add_popstate_handler=function(){window.onpopstate=function(e){t.default.or_throw().pageparam.invalidate(),d()&&e.state&&(e.preventDefault(),m(e.state.path,e.state.query))}},e.in_experimental_control_group=v,e.internal_navigation_enabled=d,e.internal_navigation_handler=p,e.navigate_to_page=h,e.push_initial_browser_state=function(e){if(!d())return;let r=t.default.or_throw().location.get_pieces().path.join("/"),n=t.default.or_throw().location.get_pieces().query;window.history.pushState({path:r,query:n},"",t.default.or_throw().location.get_page_url(r,n))},e.unload_page=function(){try{t.default.or_throw().element.get_page().destroy(),t.default.or_throw().workflow.cancel_all_workflows()}catch(e){r.error("Error while unloading page",{error:(0,a.ensure_bubble_error)(e)})}document.body.innerHTML="",i.hide_banner()},e.update_url=c,Ue();var t=l(qr()),r=s(Kt()),n=l(zd()),i=s(Ro()),a=Lo();function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function l(e){return e&&e.__esModule?e:{default:e}}var _="__internalNav";e.FORCE_INTERNAL_NAV_PARAM=_;var u="navigate_internally";function c(e,r){let n=t.default.or_throw().location.get_page_url(e,r);window.history.pushState({path:e,query:r},"",n),t.default.or_throw().pageparam.invalidate()}function d(){return"true"===t.default.or_throw().location.get_query()[_]}function p(e){if(!d())return;let r=e.currentTarget,i="_self"!==r.target,a=0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey,o=!["http:","https:"].includes(r.protocol);if(i||a||o)return;let s=function(e){var r;let i=null==(r=(0,t.default)())?void 0:r.location.get_pieces(),a=new n.default.Location(e),o=a.get_pieces();if((null==i?void 0:i.appname)===o.appname&&(null==i?void 0:i.app_version)===o.app_version&&(null==i?void 0:i.domain)===o.domain){let e=a.get_page(),{path:t,query:r}=o;return{type:"page",page_name:e,path:t,query:r}}return{type:"external",url:e}}(r.href);if("external"!==s.type){if(!t.default.or_throw().workflow.prompt_to_leave_page())return void e.preventDefault();e.preventDefault(),h(s.path.join("/"),s.query)}}function h(e,t){if(d())if(v()){g(e,{...t,[u]:"false"})}else m(e,t);else g(e,t)}function g(e,r){t.default.or_throw().location.change_page(e,r)}function m(e,r){let i=t.default.or_throw().location.get_page_url(e,r),a=new n.default.Location(i).get_page();window.switch_page(a,(()=>c(e,r)))||g(e,r)}function v(){let e=!1;return Math.random()<0&&!window._bubble_page_load_data.navigated&&(e=!0),window._bubble_page_load_data.navigated=!0,e}e.EXPERIMENT_PARAM=u})),Sv=u(((e,t)=>{"use strict";f(),Ue(),Ft();var r=Lo(),n=gm(),i=Dg(),a=Jm(),o=Po(),s=i_(),l=Al(),_=Ql(),u=Bl(),c=qr(),d=St(),p=vv(),h=wv(),g=Ov(),m=Fh(),v=kv();t.exports={property_applications:[new n.MinWidth],additional_data:{notify_width(e,t){e.state("notify_width",t)}},initialize(e){let t=e.get_canvas();e.wait_for_visible_lite((()=>{t.addClass(i.CLICKABLE_ELEMENT),n.apply_css_style(t,{"white-space":"pre-wrap","text-decoration":"none"});let f=!1;m.pre_cache(e,["text","font_size","icon","show_icon","background_style","no_html"]),e.canvas[0].addEventListener("click",(e=>{v.internal_navigation_handler(e)})),e.autorun((()=>{let i={};for(let t of["text","font_size","icon","show_icon","background_style","no_html"])i[t]=m.evaluate_property(e,t);let{text:a,icon:o,show_icon:s,background_style:l,no_html:_}=i;if(e.state("notify_width"),"image"===l)t.text("");else if(s){var u;f=!1,null==(u=t.trigger)||u.call(t,"destroy"),t.empty();let e=r.div(o+" inner-element");n.apply_css_style(e,{"font-family":"FontAwesome","padding-left":"3px"}),t.append(e)}else{let i=function(e){_?e.html(r.bbcode_to_html(a).trim()):e.html(a)};e.get_static_property("wrap_when_squizzed")&&(e.run_mode()||e.responsive_mode())?(n.apply_css_style(t,{"word-break":"break-word"}),e.wait_for_visible_lite((()=>e.setTimeout((()=>{let n=t.find(".content");0===n.length&&(n=r.div("content",t)),i(n);let a=t.outerHeight()-t.height(),o=parseInt(n.css("height").replace("px","")),s=e.element.get_height();e.set_height(Math.max(s,o+a))}),1)))):(i(t),(e.run_mode()||e.thumbnail_mode())&&!f&&(f=!0,h.apply_dotdotdot(e,e.edit_mode()||e.responsive_mode()?"letter":"words"))),e.run_mode()||p.do_add_an_invisible_div_on_the_top(e)}"none"===l&&(new n.NoSelect)._apply(!0,t)})),e.run_mode()&&(m.on_property_change(e,"open_in_new_tab",(e=>{t[0].target=e?"_blank":"_self"})),m.on_property_change(e,"link_disabled",(t=>{e.state("link_disabled",t),t?(e.get_canvas()[0].style.cursor="not-allowed",e.get_canvas()[0].style["pointer-events"]="none"):(e.get_canvas()[0].style.cursor="pointer",e.get_canvas()[0].style["pointer-events"]="auto")})),m.on_property_change(e,"nofollow",(e=>{e&&(t[0].rel="nofollow")})),e.autorun((()=>{let n;if("pagelink"===m.evaluate_property(e,"linktype")){var i;let t=null!=(i=function(e){var t;let r=a.page_id_to_name(e);return null!=r||(r=null==(t=o.get_page_by_name(e))?void 0:t.name()),r}(m.evaluate_property(e,"page")))?i:"",p=m.evaluate_property(e,"data_to_send");if(p){let e=o.get_page_by_name(t);null!=e&&(p=s.get_data_to_send(p,e.get_static_property("readable_field")),p&&(t+="/"+p))}let f={};if(e.get_static_property("keep_current_page_params")&&r.extend(f,c().location.get_query()),r.is_debug_mode()&&(f.debug_mode=!0),m.evaluate_property(e,"add_parameters")){let t=e.element.property("url_parameters");u.with_eval_node(t,(()=>{let r=_.evaluate_properties(t.json._raw(),e.prop_eval_context(),l.DETECT_FIELD_NAMES,[],t.json._path());for(let{key:e,value:t}of Object.values(null!=r?r:{}))g.forbidden_url_keys.includes(e)||(f[e]=t)}))}"index"===t&&(t=""),n=c().location.get_server_base()+t,r.is_empty(f)||(n+="?"+d.stringify(f))}else{var p;n=m.evaluate_property(e,"url"),-1===(null==(p=n)?void 0:p.indexOf("//"))&&!g.href_attributes.includes(n.split(":")[0])&&"#"!==n[0]&&(n="//"+n)}t[0].href=n,r.on_phonegap()&&(t.on("touchend",(()=>window.open(n,"_blank","location=yes,enableViewportScale=yes"))),t.on("click",(e=>(e.preventDefault(),!1))))})))}))}}})),Tv=u(((e,t)=>{"use strict";f(),Ue();var r=gm(),n=vl(),i=dm(),a=Po(),o=Lo(),s=pm(),l=Fh();t.exports={property_applications:[new r.MinWidth],can_defer_drawing:()=>!0,register(e){e.state("src_version",0)},initialize(e){let t=e.get_canvas();t.addClass("bubble-legacy-image"),e.wait_for_visible_lite((()=>{let _,u=o.img(void 0,t);u[0].style.display="block",e.run_mode()||(_=o.div("display_text",t),u[0].style.float="left");let c=null,d=null;e.run_mode()&&l.on_property_change(e,"alt_tag",(e=>u[0].alt=null!=e?e:"")),l.pre_cache(e,["src","stretch_or_rescale","width","height","crop_data"]),e.autorun((()=>{let t,p={};for(let t of["src","stretch_or_rescale","width","height","crop_data"])p[t]=l.evaluate_property(e,t);let f=function(e){let t=e.property("src");if(!t.is_empty()&&t.is_static()&&""!==e.get_static_property("src",!0))return!0}(e.element);if(!e.run_mode()){var h;if(!f)return _.html(null!=(h=p.src)?h:""),r.apply_css_style(_,{display:"block",overflow:"hidden",width:"100%",color:"grey"}),void(u[0].style.display="none");_[0].style.display="none",u[0].style.display="block"}if(c=t=o.LUID(),p.src&&!o.is_empty(p.src)){let _=function(r,i,o,l){function _(n){c===t&&s.download_image(n,e,(e=>{c===t&&(d=r,u[0].src=e)}))}let p=s.optimize_image(r,i,o,l),f=r===d&&!s.downloaded_images[p];f&&n.is_test(a.appname())&&(f=!1),f?e.setTimeout(_.bind(null,p),300):_(p)};if(u[0].src||(u[0].src=s.transparent_image(),s.reset_img_settings(u)),f){var g;let t;if(t=null!=(g=e.element.root())&&g.use_responsive_algorithm()&&!e.get_static_property("keep_proportion_resize")?{fit:"crop"}:{},s.reset_img_settings(u),_(p.src,p.width,p.height,t),p.crop_data){let e=e=>`${Math.floor(100*e)}%`;r.apply_css_style(u,{width:e(p.crop_data.width_factor),height:e(p.crop_data.height_factor),"margin-left":e(p.crop_data.left_offset),"margin-top":p.crop_data.top_offset*p.height+"px"})}}else{let t=o.autorun_top((()=>e.state("src_version")));t+=1,e.state("src_version",t),"rescale"===p.stretch_or_rescale?s.rescale_image({src:p.src,img:u,instance:e,ref_version:t,cb(){_(p.src,l.evaluate_property(e,"width"),l.evaluate_property(e,"height"))}}):"adjust_height"===p.stretch_or_rescale?i.get_image_real_dimensions(p.src,(r=>{if(null==r.height)return void _(p.src,p.width,p.height);let n=o.autorun_top((()=>e.state("src_version")));if(t!==n)return;s.reset_img_settings(u);let i=r.height/r.width*p.width;_(p.src,p.width,i),e.set_height(i)})):"stretch"===p.stretch_or_rescale?(s.reset_img_settings(u),_(p.src,p.width,p.height)):"zoom"===p.stretch_or_rescale&&(s.reset_img_settings(u),r.apply_css_style(u,{"object-fit":"cover"}),_(p.src,p.width,p.height))}}else u[0].src=s.transparent_image(),d=null,s.reset_img_settings(u)})),e.autorun((()=>{if(l.evaluate_property(e,"four_border_style"))for(let t of["top","right","bottom","left"])u[0].style["border-radius-"+t]=l.evaluate_property(e,"border_roundness_"+t)+"px";else u[0].style["border-radius"]=l.evaluate_property(e,"border_roundness")+"px"}))}))},additional_data:{notify_width(e,t){s.keep_proportions(e,t)}}}})),Nv=u(((e,t)=>{"use strict";f();var r=gm(),n=pm();t.exports={property_applications:[new r.MinWidth],initialize(){},additional_data:{notify_width:(e,t)=>n.keep_proportions(e,t)}}})),Cv=u(((e,t)=>{"use strict";f();var r=Lo(),n=gm(),i=pm(),a=Fh();t.exports={property_applications:[new n.MinWidth],can_defer_drawing:()=>!0,register(e){e.on_message("show_alert",(t=>{e.is_drawn?e.message("do_show_alert",t):(e.state("pending_alert",{orig_props:t,start_time:Date.now()}),e.run_mode()&&e.get_static_property("at_to_top")&&e.ensure_drawn())}))},initialize(e){let t=e.get_canvas();e.edit_mode()?t.empty():(e.run_mode()||e.responsive_mode())&&(t[0].style.display="none",e.responsive_mode()&&(e._has_been_hidden=!0)),a.on_property_change(e,"text",(e=>{t.html(r.bbcode_to_html(e))})),e.on_message("do_show_alert",(i=>{var a;n.apply_css_style(t,{display:"block",opacity:null!=(a=i.fin_starting_opacity)?a:0}),e._is_visible_me=!0,e._update_visible(),t.html(r.bbcode_to_html(i.message)),r.velocity(t,{opacity:1},{duration:i.fade_in,complete_cb:()=>{e.setTimeout((()=>{var n;t.css("opacity",null!=(n=i.fout_starting_opacity)?n:1),r.velocity(t,{opacity:0},{duration:i.fade_out,complete_cb:()=>{t[0].style.display="none",e._is_visible_me=!1,e._update_visible()}})}),i.hold)}})}));let i=e.state("pending_alert");i&&e.message("do_show_alert",this._convert_pending_alert(i))},position_canvas(e,t){t.run_mode()&&t.get_static_property("at_to_top")?($("body").append(e),n.apply_css_style(e,{position:"fixed",top:"0px",left:"0px",width:"100%","min-height":t.element.get_height()+"px","z-index":"20000"})):t.container.add(t)},additional_data:{notify_width:(e,t)=>i.keep_proportions(e,t)}}})),Lv=u((e=>{"use strict";f();var t=Po(),r=qr(),n=ql();e.should_block_cookies=()=>t.get_public_setting("cookie_opt_in")&&r().current_user()._id()===n.NO_USER})),Pv=u(((e,t)=>{"use strict";f(),Ue(),Ft();var r=Lo(),n=Lm(),i=gm(),a=m_(),o=Lv(),s=pm(),l=Fh(),_=r.MakeKey(null,"always turned");_.turn(),t.exports={property_applications:[new i.MinWidth],additional_data:{notify_width(e,t){s.keep_proportions(e,t,!0)}},initialize(e){e.wait_for_visible_lite((()=>{let t=e.get_canvas();e.setTimeout((()=>{l.pre_cache(e,["video_source","video_id","autoplay","control_color_vimeo","width","height","padding_horizontal","padding_vertical","loop","auth_token"]);let s={};e.autorun((()=>{let u,c,d,p,f={},h={};for(c of["video_source","video_id","autoplay","control_color_vimeo","width","height","padding_horizontal","padding_vertical","loop","auth_token"])h[c]=l.evaluate_property(e,c),h[c]!==s[c]&&(f[c]=h[c],s[c]=h[c]);for(c of(h.available_width=h.width-2*h.padding_horizontal-i.calculate_border_width(e),h.available_height=h.height-2*h.padding_vertical-i.calculate_border_height(e),["available_width","available_height"]))h[c]!==s[c]&&(f[c]=h[c],s[c]=h[c]);let g=`<iframe allow="autoplay; fullscreen" width="${h.available_width}" height="${h.available_height}" `;var m;(o.should_block_cookies()&&(g+=' sandbox="allow-scripts" '),"youtube"===h.video_source)&&(null!=(null==(m=h.video_id)?void 0:m.indexOf)&&-1!==h.video_id.indexOf("watch?v=")&&(h.video_id=h.video_id.split("watch?v=")[1]),p="//www.youtube.com/embed/"+h.video_id+"?rel=0",h.autoplay&&e.run_mode()&&(p+="&autoplay=1"),h.loop&&e.run_mode()&&(p+="&loop=1&playlist="+h.video_id),g+=' frameborder="0" allowfullscreen modestbranding="1" autohide="1"');if("vimeo"===h.video_source){var v;null!=(null==(v=h.video_id)?void 0:v.indexOf)&&-1!==h.video_id.indexOf("https://vimeo.com/")&&(h.video_id=h.video_id.split("https://vimeo.com/")[1]);let t=r.rgb_to_hex(h.control_color_vimeo).code.slice(1);p="//player.vimeo.com/video/"+h.video_id+"?title=0&byline=0&portrait=0&color="+t,h.autoplay&&e.run_mode()&&(p+="&autoplay=1"),h.loop&&e.run_mode()&&(p+="&loop=1"),g+=' frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'}if(h.video_source===n.ZIGGEO){let e=a.get_hardcoded_plugin(n.ZIGGEO);if(d=h.auth_token||(null==e?void 0:e.get_key(e.key_for_html_header)),d){var y,b,w;u=$("<ziggeoplayer/>"),u.attr({video:null!=(y=h.video_id)?y:"no_video",application:d,auth:"true",width:"100%",height:"100%",autoplay:null!=(b=h.autoplay)?b:"false",loop:null!=(w=h.loop)?w:"false",theme:"modern"}),g+=` frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen\n                                style='overflow:hidden'\n                                srcdoc="\n<html style='overflow:hidden'>\n<head style='overflow:hidden'>\n<meta http-equiv='Content-Security-Policy' content='upgrade-insecure-requests'>\n<link rel='stylesheet' href='https://assets.ziggeo.com/v2-stable/ziggeo.css' />\n<script src='https://assets.ziggeo.com/v2-stable/ziggeo.js'><\/script>\n</head>\n<body style='margin:0px'>\n${u[0].outerHTML.replace(/"/g,"'")}\n</body>\n</html>\n"`}else p=`https://ziggeo.io/p/${h.video_id}`,g+=`height="${h.width}"\nframeborder="0"\nscrolling="no"\nreferrerpolicy="no-referrer"\nallowspeakers ${h.autoplay?"allowautoplay":""} allowfullscreen\nallow="${h.autoplay?"autoplay *; ":""}  fullscreen *"\nstyle="width:${h.width}px;height:${h.height}px" `}g+="></iframe>",("ziggeo"!==h.video_source||!d)&&(u=$(g),u.attr("src",p));let A="ziggeo"!==h.video_source,E={width:!0,height:!0,available_width:!0,available_height:!0};for(let e in f)if(!E[e]){A=!1;break}if(e.run_mode()){if(A)return void t.children().attr({width:h.available_width,height:h.available_height});h.video_id?function(e,t){let n=r.MakeKey(null,"next video");r.WaitFor(_,(()=>setTimeout((()=>{null!=t&&t.is_destroyed()||e(),n.turn()}),10))),_=n}((()=>{t.empty(),t.append(u)}),e):t.empty()}else t.empty(),t.append(`<img style="width: ${h.available_width}px; height: ${h.available_height}px;" src="//s3.amazonaws.com/appforest_uf/f1665093563671x395094029933674050/video.png"></img>`)}))}),20)}))}}})),Rv=u(((e,t)=>{"use strict";f(),Ue(),Ft();var r=Sm(),n=Lo(),i=gm(),a=Kt(),o=vv(),s=pm(),l=Lv(),_=wv(),u=Fh();function c(e){return e()}t.exports={property_applications:[new i.MinWidth],additional_data:{notify_width:(e,t)=>s.keep_proportions(e,t)},can_defer_drawing:e=>e.get_static_property("defer_drawing"),register(e){if(e.run_mode()&&window.bubble_safe_mode)return a.owner_warn(new n.OwnerError("This HTML element is not rendered in safe mode",{element_instance:e}))},initialize(e){function t(){if(e.run_mode()&&window.bubble_safe_mode)return;let t=e.get_canvas(),i=null,s=null,d=!1,p=!1;u.pre_cache(e,["html","useiframe","width","height"]),e.autorun((()=>{let f,h={};for(let t of["html","useiframe","width","height"])h[t]=u.evaluate_property(e,t);let{html:g,useiframe:m,width:v,height:y}=h;if(null!=g||(g=""),e.run_mode())if(m){let r=n=>{e.clearTimeout(i),s||(s=$('<iframe src="about:blank"></iframe>'),l.should_block_cookies()&&s.attr("sandbox","allow-scripts allow-same-origin"),t.append(s)),s[0].style.width=v+"px",s[0].style.height=y+"px",s[0].contentWindow?(p!==n&&(s[0].contentWindow.contents=n,p=n),s[0].src='javascript:window["contents"]'):i=e.setTimeout((()=>r(n)),100)};r(g)}else try{if(e.get_static_property("stretch_to_fit")){let i=function(r){if(e.is_animating(!0))return void(null==r||r());let n=e.is_visible(!0);if(!n&&!d)return void(null==r||r());d=n;let i=t.outerHeight()-t.height(),a=parseInt(f.css("height").replace("px",""));0===a&&f.find(" > *").length&&(a=parseInt(f.find(" > *").css("height").replace("px","")));let o=e.element.get_height();e.set_height(Math.max(o,a+i)),null==r||r()};if(f=t.find(".content"),0===f.length&&(f=n.div("content",t)),p!==g&&(c((()=>f.html(g))),p=g),!e.is_animating()){let t=r.add_layout_resizing_key();n.wait_for_updates((()=>_.wait_for_img_tags_loaded(f,(()=>i((()=>t.turn())))))),e.is_visible()&&(e.setTimeout(i,500),e.setTimeout(i,2e3))}}else c((()=>t.html(g)))}catch(t){let r=t;a.owner_only_error("html bug",{display:"Bug in custom html:\n"+r.stack,element_instance:e,prop_name:"html"})}else{t.empty();let r=$(`          <iframe\n              id='user_preview_iframe'\n              width="${v}"\n              height="${y}"\n              sandbox="allow-scripts"\n          >\n              (this browser does not support HTML element preview rendering)\n          </iframe>          `);r[0].srcdoc=g,t.append(r),o.do_add_an_invisible_div_on_the_top(e)}}))}e.get_static_property("defer_drawing")?e.wait_for_visible_lite(t):t()}}})),zv=u((e=>{"use strict";f();var t=qr(),r=Tp(),n=St(),i=Po(),a=Kt(),o=vl(),s=it(),l=Dr(),_=qa(),u=e,c=null,d=null;u.load_google_map_api=function(){if(!c){c=l.MakeKey(null,"google_map_api_loaded"),window.initialize_google_map_api=()=>{c.turn()};let e=document.createElement("script");e.type="text/javascript";let i={v:3,callback:"initialize_google_map_api"};u.using_bubble_key()||(i.libraries="places"),_.run_once(30,(()=>({map_key:(d||(d=window.gm_key,delete window.gm_key),d),app_language:t().app_language(!0)})),((t,a)=>{let{map_key:o,app_language:l}=a;if(t)throw s.ensure_bubble_error(t);l&&(l=r.get_iso_code(l).split("_")[0],i.language=l),o&&(i.key=o),e.src="https://maps.googleapis.com/maps/api/js?"+n.stringify(i),document.getElementsByTagName("head")[0].appendChild(e)}))}return c},u.using_bubble_key=function(){var e;let t=i.appname();return!o.is_hardcoded(t)&&"meta"!==t&&[null,void 0,""].includes(null==(e=i.get_public_setting("general_keys.google_map_key"))?void 0:e.trim())},u.proxy_geolocation_request=function(e,r,n){e.language=t().app_language(),e.appname=i.appname();let o=u.using_bubble_key()||"timezone"!==e.request_type?"server://api/1.1/places":"server://api/1.1/geolocation/google_proxy";t().location.post(o,e,((e,t)=>{e&&(a.log(e),n({status:e.message},r)),n(t,r)}))}})),Iv=u(((e,t)=>{"use strict";f();var r=Lo(),n=gm(),i=zv(),a=vv(),o=pm(),s=Fh();t.exports={property_applications:[new n.MinWidth],additional_data:{notify_width(e,t){o.keep_proportions(e,t)}},initialize(e){e.wait_for_visible_lite((()=>{null!=e.currently_displayed_markers||(e.currently_displayed_markers={});let t=i.load_google_map_api(),n=e.get_canvas();if(e.thumbnail_mode())return void n.css({"background-color":"#E6E6E6"});let o=null;r.WaitFor(t,(()=>{let t=()=>{o=this._get_map(e,{height:"100%",width:"100%",position:null,top:null,left:null,right:null,bottom:null}),e.edit_mode()&&a.do_add_an_invisible_div_on_the_top(e),s.pre_cache(e,["height","width","four_border_style","border_width","border_style","padding_vertical","padding_horizontal"]),e.autorun((()=>{this._refresh_border(e,o)})),s.on_property_change(e,["allow_zoom_drag","map_style","custom_style","disable_zoom_scroll"],(e=>{this._handle_map_option_change(o,e)})),s.on_property_change(e,"map_type",(e=>{o.setMapTypeId(window.google.maps.MapTypeId[e])})),e.autorun((()=>{this._render_markers(e,o)})),e.autorun((()=>{this._set_center_and_zoom(e,o)}))};e.wait_for_visible((()=>{e.setTimeout(t,1)}))}))}))}}})),Dv=u((e=>{"use strict";f(),Ft();var t=Lo(),r=Sm();e.group_collapse_definition={do_show(e,n,i,a,o){var s;e._is_visible_me=!0,e.ensure_drawn();let l=e.get_canvas(),_=null!==e.group_slide_timeout;if(l[0].style.display="",e._update_visible(),e.run_mode())if(null==(s=l.velocity)||s.call(l,"stop"),null!=e.group_slide_timeout&&(e.clearTimeout(e.group_slide_timeout),e.group_slide_timeout=void 0),e.get_static_property("collapse_when_hidden")&&!a)if(e.get_static_property("collapse_animation")&&!o)switch(e.get_static_property("animation_type")){case"slide":{let t=function(){let a=u();if(a!==r&&(r=a,n=r/15),i>=a)return e.set_height(a),e.canvas.css("overflow","visible"),void(e.group_slide_timeout=void 0);i+=n,e.set_height(i),e.group_slide_timeout=e.setTimeout((()=>t()),1)};e.canvas.css("overflow","hidden");let r=u(),n=r/15,i=_?parseInt(l.css("height").replace("px","")):0;e.set_height(i),t();break}case"fade":l[0].style.opacity=0,e.set_height(u()),t.velocity(l,"fadeIn",{duration:400}),e.canvas.css("overflow","visible")}else e.set_height(u());else a?(e.set_height(u()),r.perform_animate_in(e,n,i,!0)):e.set_height(u());function u(){var t;return null!=(t=e.state("actual_height"))?t:e.element.get_height()}},do_hide(e,r,n,i,a){var o;e.ensure_drawn();let s=e.get_canvas();if(!e.run_mode())return e._is_visible_me=!1,e._update_visible(),void(s[0].style.display="none");null==(o=s.velocity)||o.call(s,"stop"),null!=e.group_slide_timeout&&(e.clearTimeout(e.group_slide_timeout),e.group_slide_timeout=void 0);let l=e.get_static_property("collapse_when_hidden"),_=parseInt(s.css("height").replace("px",""));if(l&&!i)if(e.get_static_property("collapse_animation")&&!a)switch(e.get_static_property("animation_type")){case"slide":{let t=function(){if(n<=0)return e.set_height(0),s[0].style.display="none",e.canvas.css("overflow","visible"),void(e.group_slide_timeout=void 0);n-=r,e.set_height(n),e.canvas.css("height",n),e.group_slide_timeout=e.setTimeout((()=>t()),1)};e.canvas.css("overflow","hidden");let r=_/15,n=_;t();break}case"fade":t.velocity(s,"fadeOut",{duration:400,complete_cb:()=>(s[0].style.display="none",e.set_height(0))})}else e.set_height(0),s[0].style.display="none";else if(i){var u,c;null!=e._transforms||(e._transforms={}),null!=(u=e._transforms).initial_transform||(u.initial_transform=s[0].style.transform),null!=(c=e._transforms).initial_opacity||(c.initial_opacity=s[0].style.opacity),e.set_animating(!0),t.velocity(s,r.animation,{duration:n.duration,complete_cb(){e.set_animating(!1),s[0].style.transform=e._transforms.initial_transform,s[0].style.opacity=e._transforms.initial_opacity,e._transforms=void 0,l&&e.set_height(0)}})}else s[0].style.display="none";return e._is_visible_me=!1,e._update_visible()}}})),jv=u(((e,t)=>{"use strict";f();var r=Lo(),n=gm(),i=Dv();t.exports=r.extend({property_applications:[new n.MinWidth],attempt_size_only_draw:e=>!e.get_static_property("collapse_when_hidden")||(e.set_height(0),e.canvas[0].style.display="none",e.canvas.css("overflow","visible"),!1),register(e){e.on_message("child_movement",(t=>{let r=e.element.get_height()+t;(e.is_visible()||!e._has_been_hidden)&&e.set_height(r),e.state("actual_height",r)}))},initialize(e){}},i.group_collapse_definition)})),Bv=u((e=>{"use strict";f(),Ue();var t=Fl(),r=e=>"ElementParent"===e.type(),n=(e,n)=>{if(r(e)){let r=(e=>{let r=e.next();return"Message"===r.type()&&r.message().is_lookup()&&t.is_custom_type(r.message().ret_btype_id())?r.message().get_lookup_name():null})(e);r&&n.add(r)}return n},i=(e,t)=>(e.elements().forEach((e=>{a(e)||(o(e)&&(t=i(e,t)),e.properties().forEach((e=>{(e=>"TextExpression"===e.type())(e)?e.entries().forEach((e=>{t=n(e,t)})):t=n(e,t)})))})),t),a=e=>"RepeatingGroup"===e.type(),o=e=>{if("Group"===e.type()){let t=e.property("data_source");return r(t)&&!t.has_next()}return!1};e.evaluate_extra_fields=e=>{let t=new Set;return t=i(e,t),Array.from(t)}})),qv=u((e=>{"use strict";f(),Ue();var t=ot(),r=qr(),n=Lo(),i=Fh(),a=e;function o(e){return function(t){let r;if(t.get_static_property("four_border_style",!0)){let n=0;for(let i of e)r=t.get_static_property("border_style"+i,!0),r&&"none"!==r&&(n+=t.get_static_property("border_width"+i,!0));return n}return r=t.get_static_property("border_style",!0),r&&"none"!==r?2*t.get_static_property("border_width",!0):0}}a._get_separator_width=function(e){let n=(n,i)=>{var a;return(!t.on_server()||r().force_responsive_version)&&(null==(a=e.root())?void 0:a.get_responsive_version())>=1?e.get_styleable_static_property(n,i):e.get_static_property(n,i)};return[void 0,null,"none"].includes(n("separator_style",!0))?0:n("separator_width",!0)},a.get_external_border_width=o(["_left","_right"]);var s=o(["_top","_bottom"]);a._get_cell_width=function(e){let t=a._get_separator_width(e),r=e.get_static_property("columns",!0);return(e.get_width()-t*(r-1)-a.get_external_border_width(e))/r},a._get_cell_height=function(e){let t=a._get_separator_width(e),r=e.get_static_property("rows",!0);return(e.get_height()-t*(r-1)-s(e))/r},a.get_fixed_cell_rg_column_count=function(e){var t,r;let n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(null==e)return a;var o,s,l,_,u;e.element.is_responsive_v1()>0?n=null!=(o=i.evaluate_property(e,"columns"))?o:a:n=null!=(s=null==(l=e.element)?void 0:l.get_static_property("columns",!0))?s:a;return null!=(t=e.element)&&t.parent().is_root()||null!=(r=e.element)&&r.get_static_property("fixed_width")?null!=(_=e.columns)?_:n:Math.min(null!=(u=e.columns)?u:1,n)};a.check_astable_loop=function(e,t,r){let i=!1,a=Date.now();r.forEach(((o,s)=>{let{since_timestamp:l,count:_}=o;if(a-l>1e3)r.delete(s);else if(n.compare(s,t)){if(_>10){let t=e.element.root();throw new n.OwnerError("Astable data source in repeating group",{display:`${t.type()} ${t.display()}: Data source on repeating group "${e.element.display()}" is not stable, please fix or remove conditional data source. Some elements may be able to render and workflows may time out.`})}r.set(s,{since_timestamp:l,count:_+1}),i=!0}})),i||r.set(t,{since_timestamp:a,count:1})}})),Uv=u((e=>{"use strict";f(),Ue();var t=Nt(),r=(Rm(),p_()),n=y_(),i=(Nl(),e);t.safe_register("./core/core_elements/core_elements_utilities/element_registry",i),i.registered_elements={},i.get_element_object=function(e,t){if(null!=t||(t=!1),"CustomElement"!==e){if(i.registered_elements[e])return i.registered_elements[e];{var a;let[i]=r.get_plugin_and_type(e);return null==(a=n.get_plugin(i))?void 0:a.get_element(e,t)}}}})),Wv=u(((e,t)=>{"use strict";f(),Ue();var r=qa(),n=l(Bp()),i=l(bm()),a=l(ff()),o=l(Uv()),s=l(Po());function l(e){return e&&e.__esModule?e:{default:e}}t.exports=class extends i.default{constructor(e,t,r,i){super(new n.default("Table"===e.repeating_layout_type?e.element.json._raw():void 0,null,"",void 0,s.default.appname(),s.default.app_version()),!1,{_type:"GroupItem"}),this.repeating_instance=void 0,this.height=void 0,this.num=void 0,this.data_instance=void 0,this.repeating_layout=void 0,this.instance=void 0,this.id_watcher=void 0,this.repeating_instance=e,this.height=t,this.num=r,this.E=o.default.get_element_object("GroupItem"),this.data_instance=null!=i?i:e,this.repeating_layout=e.repeating_layout_type}exists(){return!0}id(){null!=this.id_watcher||(this.id_watcher=(0,r.Watcher)((()=>{var e,t,r;let n=this.repeating_instance.element.id(),i=null==(e=this.instance)||null==(t=e.state("group_data"))||null==(r=t._id)?void 0:r.call(t);return`${n}_group_item_${null!=i?i:"undefined"}_${this.num}`})));let[e,t]=this.id_watcher.get_current();return e?t:`${this.repeating_instance.element.id()}_group_item_null`}ssr_key(){return`${this.repeating_instance.element.id()}-cell`}parent(){return this.repeating_instance.element}elements(){return this.repeating_instance.element.elements()}get_height(){return this.height}get_responsive_data(){return this.repeating_instance.element.get_responsive_data()}get_static_property(e,t){return a.default.CONTAINER_PROPERTIES.includes(e)?this.repeating_instance.get_static_property(e,t):super.get_static_property(e,t)}container_layout(){return this.repeating_instance.element.container_layout()}get_property_applications(){return"Table"===this.repeating_layout?this.repeating_instance.element.get_property_applications():super.get_property_applications()}_fields(e){return"Table"===this.repeating_layout?this.repeating_instance.element._fields(e):super._fields(e)}field_names(){return"Table"===this.repeating_layout?this.repeating_instance.element.field_names():super.field_names()}get_value_id(){return"Table"===this.repeating_layout?this.repeating_instance.element.get_value_id():super.get_value_id()}can_fit_width(){return"Table"===this.repeating_layout?this.repeating_instance.element.can_fit_width():super.can_fit_width()}can_fit_height(){return"Table"===this.repeating_layout?this.repeating_instance.element.can_fit_height():super.can_fit_height()}}})),$v=u(((e,t)=>{"use strict";f(),R_(),Ue(),Ft();var r=Lo(),n=Sm(),i=gm(),a=qr(),o=Tp(),s=jp(),l=Kt(),_=Cd(),u=Fl(),c=vv(),d=Ia(),p=La(),h=Bv(),g=qv(),m=Wv(),v=Fh(),y="#CCCCCC",b=p.SPANS.rg_display_data_in_cells,w=p.SPANS.rg_add_cells;function A(e){return"horizontal_scroll"===e.get_static_property("layout_style")?1:e.get_static_property("rows",!0)}t.exports={register(e){e.repeating_group_layout={max_index:null,add_cells:null,has_written_a_list:!1,do_create_container:()=>({}),finished_loading_switch:r.MakeSwitch(null,"loading_switch"),raw_list_data:()=>null},e.repeating_layout_type="RepeatingGroup";let t=null;function i(r){let n;void 0!==r&&(e.repeating_group_layout.has_written_a_list=!0),r&&r.dehydrate?n=r.dehydrate():(n="no data",r=null),n!==t&&(t=n,e.state("list_data",r),e.state("show_range",0))}if(e.responsive_mode())setImmediate((()=>{var t;let r=null!=(t=e.get_static_property("group_type"))?t:"user";return i(a().db_instance().static_list(r,[new _.SampleObject(r)]))}));else if(e.run_mode()){e.state("list_data",n.STATE_NOT_READY);let t=new Map;e.autorun((()=>{if(!e.state("datasource_changed_by_workflow_action")){let r=v.evaluate_property(e,"data_source");g.check_astable_loop(e,r,t),i(r)}})),e.on_message("set_list_data",(t=>{e.state("datasource_changed_by_workflow_action",!0),i(t)})),e.on_message("clear_list",(()=>{e.state("datasource_changed_by_workflow_action",!1);let t=e.get_static_property("layout_style");if("limit_items"===t)e.state("show_range",0);else if("infinite_scroll"===t){var r;null==(r=e.get_canvas())||r.scrollTop(0)}else if("horizontal_scroll"===t){var n;null==(n=e.get_canvas())||n.scrollLeft(0)}for(let t of null!=(i=e.children)?i:[]){var i;c.reset_inputs_and_groups(t)}})),e.on_message("show_next",(t=>{null!=t||(t=!1),r.run_once(30,(()=>{var t;return null==(t=e.state("list_data"))?void 0:t.length()}),((r,n)=>{let i;if(r)return void l.log(r);let a=A(e)*g.get_fixed_cell_rg_column_count(e),o=e.state("show_range");if(o+=a,e.get_static_property("stable_pagination")){if(i=o>=n,i&&t)o=0;else if(i)return}else{i=o===n;let e=o+a>n;i&&t?o=0:e&&(o=Math.max(n-a,0))}e.state("show_range",o)}))})),e.on_message("show_previous",(t=>(null!=t||(t=!1),r.run_once(30,(()=>{var t;return null==(t=e.state("list_data"))?void 0:t.length()}),((r,n)=>{if(r)return void l.log(r);let i=A(e)*g.get_fixed_cell_rg_column_count(e),a=e.state("show_range");return a=0===a&&t?e.get_static_property("stable_pagination")?Math.max(n-i+n%i,0):Math.max(n-i,0):Math.max(a-i,0),e.state("show_range",a)}))))),e.on_message("go_to_page",(t=>r.run_once(30,(()=>{var t;return null==(t=e.state("list_data"))?void 0:t.length()}),((r,n)=>{if(r)return void l.log(r);let i=A(e)*g.get_fixed_cell_rg_column_count(e),a=(t-1)*i;return a+i>n&&!e.get_static_property("stable_pagination")&&(a=Math.max(0,n-i)),e.state("show_range",a)})))),e.on_message("draw_till",(t=>{let r=e.get_static_property("layout_style");!["infinite_scroll","horizontal_scroll","vertical_extendable"].includes(r)||!e.repeating_group_layout.max_index||e.repeating_group_layout.max_index()>t||(e.repeating_group_layout.add_cells(t+1),e.repeating_group_layout.max_index(t))})),e.on_message("scroll_to",(t=>{"limit_items"!==e.get_static_property("layout_style")&&r.WaitFor(e.get_children_drawn_key(),(()=>{r.run_once(30,(()=>{let r=e.state("list_data");return null!=r||e.state("loading")?null==r?void 0:r.position(t.entry,u.get(e.get_static_property("group_type"))):-1}),((n,i)=>{var a,o;function s(){let n,a=e.children[i],o=e.get_static_property("layout_style");if("infinite_scroll"===o)return n=a.get_canvas().position().top+e.get_canvas().scrollTop()+t.offset,t.animate?e.get_canvas().animate({scrollTop:n},300):e.get_canvas().scrollTop(n);if("horizontal_scroll"===o)return n=a.get_canvas().position().left+e.get_canvas().scrollLeft(),t.animate?e.get_canvas().animate({scrollLeft:n},300):e.get_canvas().scrollLeft(n);if(t.animate)return r.velocity(a.get_canvas(),"scroll",{duration:300,offset:-t.offset});{let e,r=a.get_canvas();for(;r.length&&!r.hasClass("main-page")&&!e;)"fixed"===r.css("position")&&(e=r),r=r.parent();return(!r.length||r.hasClass("main-page"))&&(e=$(window)),e.scrollTop(a.get_canvas().offset().top+t.offset)}}n?l.log(n):-1!==i&&(null!=(a=e.children)&&null!=(o=a[i])&&o.is_visible()?s():r.wait_for_updates((()=>{e.message("draw_till",i),function t(){e.setTimeout((()=>{var r,n,a;null!=(r=e.children)&&null!=(n=r[i])&&n.is_visible()&&null!=(a=e.children)&&a[i].canvas.is(":visible")?s():t()}),50)}()})))}))}))}))}},initialize(e){let t,_=e.get_canvas(),u=()=>{var e,t;return"Windows"===(null==(e=window)||null==(t=e.BrowserDetect)?void 0:t.OS)},c=()=>o.is_rtl(a().app_language()),p=()=>{var t;return null!=(t=e.columns)?t:e.get_static_property("columns",!0)},f=e=>(e-1)%p()+1;function v(t){return"horizontal_scroll"!==e.get_static_property("layout_style")&&(e=>Math.floor((e-1)/p())+1)(t)>1}function E(t){return"horizontal_scroll"===e.get_static_property("layout_style")?t>1:f(t)>1}let M=()=>e.edit_mode()&&e.state("show_borders")&&(0===e.get_static_property("separator_width")||"none"===e.get_static_property("separator_style"));function x(){return M()?1:g._get_separator_width(e.element)}function O(){let t=e.element.get_width()-g.get_external_border_width(e)-x()*(p()-1);return Math.floor(10*t/(p()+0))/10}function k(){let t=e.element.get_height()-g.get_external_border_width(e)-x()*(A(e)-1);return Math.floor(10*t/(A(e)+0))/10}let S;function T(t,r){return v(t)?i.apply_css_style(r,{"border-top-width":x()+"px","border-top-color":M()?y:e.get_static_property("separator_color"),"border-top-style":M()?"solid":e.get_static_property("separator_style")}):r[0].style["border-top-style"]="none",e.autorun((()=>{let n;if(n=c()?"right":"left",E(t)){let t={};return t["border-"+n+"-width"]=x()+"px",t["border-"+n+"-color"]=M()?y:e.get_static_property("separator_color"),t["border-"+n+"-style"]=M()?"solid":e.get_static_property("separator_style"),i.apply_css_style(r,t)}r[0].style["border-"+n+"-style"]="none"}))}let N=(t,r)=>e.autorun((()=>(i.apply_css_style(r.canvas,{float:c()?"right":"left",position:"relative","box-sizing":"border-box","-moz-box-sizing":"border-box","z-index":e.element.get_zindex(),height:k()+(v(t)?x():0)+"px"}),C(t,r))));function C(t,n,a){var o,s;let l=null!=(o=null!=a?a:e.repeating_group_layout.cell_width)?o:O();return"horizontal_scroll"!==e.get_static_property("layout_style")&&f(t)===p()&&p()>1&&(l-=function(){if(null==S)if(["show_all","vertical_extendable","limit_items"].includes(e.get_static_property("layout_style")))S=0;else{let e=r.div("div-for-scrollbar",$("body"));e.css("overflow-y","scroll"),S=Math.max(e[0].offsetWidth-e[0].clientWidth,0),e.remove()}return S}()+1),i.apply_css_style(n.canvas,{width:l+(E(t)?x():0)+"px"}),T(t,n.canvas),null==n||null==(s=n.child_container)||s.resize_width(l),setImmediate((()=>{var e;return null==n||null==(e=n.child_container)?void 0:e.resize_width(l)}))}e.on_message("resize_cell",((e,t,r)=>C(e,t,r))),e.on_message("resize_dummies",(t=>{let r=function(){let t;return t=e.edit_mode()||e.thumbnail_mode()?$("> .list-dummy",_):$("> .rows",_).length?$("> .rows > .list-dummy",_):$("> .list-dummy",_),t}();for(let e=0;e<r.length;e++){let n=r[e];C(e+1,{canvas:$(n)},t)}})),e.run_mode()||e.responsive_mode()||(t=r.div("list-item",e.canvas)),e.wait_for_visible_lite((()=>{if(e.run_mode()||e.responsive_mode()){let a,f=e.get_static_property("layout_style");e.children=[];let v,y=[],E=h.evaluate_extra_fields(e.element),M=(t,n)=>{var i;null==(i=e.repeating_group_layout._raw_list_data_watcher)||i.destroy(),e.repeating_group_layout._raw_list_data_watcher=r.Watcher((()=>{var r,i,a,o;let s=t(),l=n(),_=e.state("list_data");return null!=(r=null==_||null==(i=_.with_extra_fields)||null==(a=(o=i.call(_,E)).get_children)?void 0:a.call(o,s,l))?r:[]})),e.repeating_group_layout._raw_list_data_watcher.on_value((()=>{e.state("loading",!0),e.repeating_group_layout.finished_loading_switch.turn_off()})),e.repeating_group_layout.raw_list_data=()=>e.repeating_group_layout._raw_list_data_watcher.get()},S=(t,i)=>{if(!(e.responsive_mode()&&t>1)){let i=new m(e,k(),t),o=n.ElementInstance(i,e.mode);o.state("group_data",n.STATE_NOT_READY),o.drawn_key=r.MakeKey(null,"cell_drawn"),i.instance=o,e.children.push(o),o.state("cell_index",t),o._is_visible_me=!1,o.register(e),o.create_skeleton(a),o.start_draw_tree(),N(t,o),T(t,o.canvas),o.do_hide(),o.drawn_key.turn()}if("show_all"!==f){let e=r.div("list-dummy",i);N(t,{canvas:e}),T(t,e),y.push(e)}},C=()=>d.traceSpan(b.name,b.type,(()=>{let t=null;return e.autorun((()=>{var n;let i;var a;if(!e.is_visible())return void(null==(a=t)||a());e.state("loading",!0),e.repeating_group_layout.finished_loading_switch.turn_off(),t||(t=s.spinner(e));let o,l=e.repeating_group_layout.raw_list_data(),_=e.state("list_data");for(e.responsive_mode()||(l=l.filter((e=>null!=e))),null==(n=t)||n(),t=null,o=0;o<l.length;o++){let t=l[o];if(null!=e.children[o]){var u;let n=e.children[o];r.WaitFor(r.page_loaded_key,(()=>n.can_register_workflows().turn())),n.message("set_group_data",t),n.do_show(),["show_all","vertical_extendable"].includes(f)&&n.message("child_shown");let i=null==(u=y[o])?void 0:u[0];null!=i&&(i.style.display="none")}}e.last_cell=o;let c=e.children[o-1];c&&["show_all","vertical_extendable"].includes(f)&&c.message("child_shown");let d=o;if(["show_all","vertical_extendable"].includes(f)){for(let t=d,r=e.children.length,n=d<=r;n?t<r:t>r;n?t++:t--)if(e.children[t].do_hide(),"vertical_extendable"===f){var h;i=null==(h=y[t])?void 0:h[0],null!=i&&(i.style.display="none")}d<e.children.length&&e.children[e.children.length-1].message("child_shown")}else{let t,r,n,a=A(e)*p();for(t=d,n=y.length,r=d<=n;r?t<n:t>n;r?t++:t--){var g,m;if(t<a)i=null==(m=y[t])?void 0:m[0],null!=i&&(i.style.display="block");null==(g=e.children[t])||g.do_hide()}if(["infinite_scroll","horizontal_scroll"].includes(f)&&d<y.length){let e,r;for(t=d,r=y.length,e=d<=r;e?t<r:t>r;e?t++:t--)i=y[t][0],null!=i&&(i.style.display="none")}}"horizontal_scroll"===f&&(v[0].style.width=o*O()+(o-1)*x()+10+"px"),null!=_&&"limit_items"===f&&1===p()&&1===A(e)&&e.state("show_range")===(null==_?void 0:_.length())&&_.length()>1&&e.state("show_range",_.length()-1),e.repeating_group_layout.has_written_a_list&&r.wait_for_updates((()=>(e.mark_children_registered(),e.get_children_drawn_key().turn()))),r.wait_for_updates((()=>{let[t,r]=e.repeating_group_layout._raw_list_data_watcher.get_current_status_array(),n=!r||null!=t;e.state("loading",n),n?e.repeating_group_layout.finished_loading_switch.turn_off():e.repeating_group_layout.finished_loading_switch.turn_on()}))}))}));if(!["infinite_scroll","horizontal_scroll","show_all","vertical_extendable"].includes(f)){a=e.container.create_child(e,e.canvas);for(let t=1,r=A(e)*p(),n=r>=1;n?t<=r:t>=r;n?t++:t--)S(t,e.canvas);return M((()=>e.state("show_range")),(()=>A(e)*p())),C()}{let n=0;if(v=r.div("rows",_),v[0].style["-webkit-transform"]="translateZ(0)","infinite_scroll"===f&&(v[0].style["min-height"]=e.element.get_height()+1+"px"),e.repeating_group_layout.add_cells=t=>{d.traceSpan(w.name,w.type,(()=>{if(t>n){for(let e=n+1,r=e,i=t,a=e<=i;a?r<=i:r>=i;a?r++:r--)S(r,v);n=t,e.last_cell=n}"horizontal_scroll"===f&&(v[0].style.width=t*O()+(t-1)*x()+10+"px")}))},a=e.container.create_child(e,v),["infinite_scroll","horizontal_scroll","vertical_extendable"].includes(f)){let n=function(t,n){null!=t||(t=1),m=!0,r.run_once(30,(()=>{var r,n,i;return null!=(r=null==(n=e.state("list_data"))||null==(i=n.with_extra_fields)?void 0:i.call(n,E).get_children(e.repeating_group_layout.max_index(),t))?r:[]}),((i,a)=>{if(i)return l.log(i),void(m=!1);if(a.length){let n,i=Math.min(a.length,t);n="infinite_scroll"===f?p():0,e.repeating_group_layout.add_cells(e.repeating_group_layout.max_index()+i+n),e.repeating_group_layout.max_index(e.repeating_group_layout.max_index()+i+n-1),r.wait_for_updates((()=>m=!1))}else m=!1,null==n||n()}))},a=e.element.get_height()-g.get_external_border_width(e),s=_.height(),d={"overflow-scrolling":"touch","-webkit-overflow-scrolling":"touch"};e.responsive_mode()?d["overflow-y"]="hidden":"infinite_scroll"===f?u()?d["overflow-y"]="scroll":d["overflow-y"]="auto":"vertical_extendable"===f?d["overflow-y"]="hidden":"horizontal_scroll"===f&&(u()?d["overflow-x"]="scroll":d["overflow-x"]="auto"),i.apply_css_style(_,d),e.autorun((()=>v[0].style.float=c()?"right":"left"));let h=e.get_static_property("fixed_width");if("vertical_extendable"===f){let t=function(){let t=k();if(0===t)return 0;let r=Math.ceil(($(window).scrollTop()+$(window).height()-_.offset().top)/t);return p()*Math.max(A(e),r)-1};e.repeating_group_layout.max_index=r.Box(t()),e.setTimeout((()=>{let r=t()-e.repeating_group_layout.max_index();if(r>0)return n(r)}),100)}else if("horizontal_scroll"!==f||h)e.repeating_group_layout.max_index=r.Box(A(e)*p());else{let t=()=>Math.ceil(_.width()/O());e.repeating_group_layout.max_index=r.Box(Math.max(p(),t())),e.setTimeout((()=>{let r=t()-e.repeating_group_layout.max_index();r>0&&n(r)}),100)}let m=!1,y="scroll wheel";if(["infinite_scroll","horizontal_scroll"].includes(f))_.on(y,(t=>{let i=$(window).height();if("infinite_scroll"===f){var o;if(!r.is_on_mobile_or_tablet()&&"Windows"!==(null==(o=window.BrowserDetect)?void 0:o.OS)){var l;let e=_.offset().top+s;if(m&&e<$(window).scrollTop()+i)return void t.preventDefault();if((null==(l=t.originalEvent)?void 0:l.wheelDelta)<0&&e>$(window).scrollTop()+i)return void(_[0].style["overflow-y"]="hidden");_[0].style["overflow-y"]="auto"}_.scrollTop()+a>parseInt(v.css("height").replace("px",""))-50&&n(2*p())}else if("horizontal_scroll"===f){if(m)return void t.preventDefault();let r=()=>n(2,(()=>v.css("width",e.last_cell*O()+(e.last_cell-1)*x())));c()?_.scrollLeft()<O()&&r():_.scrollLeft()+_.width()>parseInt(v.css("width").replace("px",""))-O()&&r()}}));else if("vertical_extendable"===f){let i=function(t){let r=null;t.on("DOMMouseScroll mousewheel scroll wheel",(t=>{m||(e.clearTimeout(r),r=e.setTimeout((()=>{let e=_.offset().top+_.height(),t=$(window).height();if(e<$(window).scrollTop()+Math.max(t+2*k(),100)){let r=Math.ceil(($(window).scrollTop()+t-e)/k()+2);n(Math.max(r+1,3)*p())}}),20))}))},a=e.element.parents("FloatingGroup");var t,o;if(a.length)r.wait_for_attached(_,(()=>{let e,t=_;for(;t.length&&!t.is("body");)"fixed"===t.css("position")&&(e=t),t=t.parent();null!=e||(e=$(window)),i(e)}),{error_message:`Dynamic data necessary to render vertically-extending Repeating Group "${e.element.display()}" inside Floating Group "${null==(t=a[0])||null==(o=t.display)?void 0:o.call(t)}" was not ready on page load.\nFor better performance, please set the repeating group to "full list" or re-structure the page to have the repeating group's data load earlier elsewhere on the page.`});else i($(window))}e.repeating_group_layout.add_cells(e.repeating_group_layout.max_index()+1),M((()=>0),(()=>e.repeating_group_layout.max_index()+1)),C()}else v[0].style.overflow="hidden",e.repeating_group_layout.max_index=r.Box(null,!0),M((()=>0),(()=>e.repeating_group_layout.max_index())),C(),e.autorun((()=>{var t,n;let i=Math.min(null!=(t=null==(n=e.state("list_data"))?void 0:n.length())?t:0,5e3);if(i>100&&l.owner_warn(new r.OwnerError("repeating group showing more than 100 items",{display:"This repeating group is showing more than 100 items, which can considerably slow down your page. You should consider using infinite scrolling",element_instance:e})),r.autorun_top((()=>{e.repeating_group_layout.add_cells(i),e.repeating_group_layout.max_index(i)})),0===i)return e.set_height(0)}))}}else{var f,v,y;e.thumbnail_mode()&&(null==(f=a().styles_editor)||null==(v=f.element_styles_editor())||null==(y=v.owner)||!y.is_active())&&r.run_once(60,(()=>e.start_child_drawing()))}}))},get_container_width(e){let t,r=e.get_static_property("columns",!0);return t=[void 0,null,"none"].includes(e.get_static_property("separator_style",!0))?e.get_static_property("separator_width",!0):0,(e.get_width()-t*(r-1)-g.get_external_border_width(e))/r},additional_data:{notify_width(e,t){if(!e.get_static_property("fixed_width")){let i,a=g._get_separator_width(e.element),o=e.get_static_property("columns",!0),s=g._get_cell_width(e.element);if("horizontal_scroll"!==e.get_static_property("layout_style")){if(t){var r,n;let l,_;if(1!==o||e.get_static_property("allow_more_than_one_colum")){let r=this.get_min_width(e.element),n=(t-a*(o-1)-g.get_external_border_width(e))/o;i=n<r?r:t>e.element.get_width()?s:n,l=Math.max(Math.floor(t/i),1),i=(t-a*(l-1)-g.get_external_border_width(e))/l,i+=(t-g.get_external_border_width(e)-l*i-a*(l-1))/l}else l=1,i=t-g.get_external_border_width(e);e.columns=l,e.repeating_group_layout.cell_width=i;let u=null!=(r=e.children)?r:[];for(let t=0;t<u.length;t++)_=u[t],e.message("resize_cell",t+1,_,i);null==(n=_)||n.message("child_shown");let c=e.responsive_mode(),d=e.run_mode()&&!e.get_static_property("fixed_width");(c||d)&&e.message("resize_dummies",i)}}else{let t=e.get_canvas().scrollLeft();e.get_canvas().find("> .rows").css("width",e.last_cell*s+(e.last_cell-1)*a+10),e.get_canvas().scrollLeft(t),e.responsive_mode()&&e.message("resize_dummies",i)}}}}}})),Fv=u((e=>{"use strict";f(),R_();var t=Lo(),r=qr(),n=gm(),i=Dg(),a=Sm(),{ignoreError:o}=d_(),s=e,l=[];s.top_layer=()=>l[0],s.previous_layer=()=>l[1],s.add_layer=e=>{var t,n;e.state("popup_zindex",r().bubble_version()>18?(null!=(t=null==(n=s.top_layer())?void 0:n.state("popup_zindex"))?t:-1)+1:0),l.unshift(e)},s.remove_layer=function(e){let t=l.findIndex((t=>t.toUniqueString()===e.toUniqueString()));if(t>=0)return l.splice(t,1)[0]},s.set_body_overflow=()=>document.body.style.overflow=function(){var e;let t=s.top_layer();return null!=(e=null==t?void 0:t.state("body_positioning"))?e:"auto"}(),s.get_popup_top=function(e,r){if(t.is_on_mobile_or_tablet())return 20;{null!=r||(r=e.element.get_height());let t=$(window).height();return r>t-100?30:r>t-200?50:100}},s.get_popup_positioning=function(e,r){var n;let i;if(e._has_been_hidden)return;let a=e.get_canvas();null!=r||(r=a.outerHeight()),r>(null!=(n=window.innerHeight)?n:$(window).height())-s.get_popup_top(e,r)+10||null!=e.state("has_been_absolutely_positioned")?(i="absolute",e.state("body_positioning","visible"),t.on_phonegap()&&$(window).off("touchmove.popup_opened")):e.responsive_mode()||(i="fixed",e.state("body_positioning","hidden"),t.on_phonegap()&&(e.element.find_elements_custom("RepeatingGroup").length||$(window).on("touchmove.popup_opened",(e=>e.preventDefault())))),s.set_body_overflow(),a[0].style.position=i,"absolute"===i?(null==e.state("has_been_absolutely_positioned")&&e.state("has_been_absolutely_positioned",$(window).scrollTop()),a[0].style.top=e.state("has_been_absolutely_positioned")+50+"px"):a[0].style.top=s.get_popup_top(e,r)+"px"};var _={editor:{position:"absolute","z-index":i.POPUP_ZINDEX-1},runmode:{position:"fixed","z-index":i.POPUP_ZINDEX}};s.get_greyout=function(e){if(!e.state("greyout")){let i=t.div("greyout");i.hide(),e.state("greyout",i),e.on_destroy((()=>i.remove())),n.apply_css_style(i,{top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0,0,0,0.7)"}),e.edit_mode()?($(".canvas").append(i),i.css(_.editor)):e.responsive_mode()?(r().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper").append(i),i.css(_.editor)):(i.insertBefore(e.get_canvas()),i.css(_.runmode))}return e.state("greyout")},s.get_elements_to_blur=function(e){var t;let r;return e.edit_mode()&&(r=$(".element",$(css.VISUAL_CANVAS)).not($(".element.Popup,.element.CustomElement.non-draggable",$(css.VISUAL_CANVAS))).not($("*",$(".element.Popup,.element.CustomElement.non-draggable")))),e.run_mode()&&(r=$("body > div").not(e.get_canvas().parents()).not(e.get_canvas()).not(".debugger-canvas").not(".highlight-box").not("span.tt-dropdown-menu").not(".bad-revision").not(".GroupFocus").not(".db-limit-reached")),null==(t=r)?void 0:t.add(".stripe-container")},s.apply_blur_effect_to_greyout=function(e,t){var r;let n,i=s.previous_layer();null!=i&&(n=s.get_elements_to_blur(i)),null!=n||(n=$());let a=null==(r=s.get_elements_to_blur(e))?void 0:r.not(".Popup:not(:visible)"),o=n.not(a);null==o||o.css({"-webkit-filter":"none",filter:"none"});let l=`blur(${t}px)`;null==a||a.css({"-webkit-filter":l,filter:l})},s.remove_blur_effect_to_greyout=function(e){let t=s.get_elements_to_blur(e);null==t||t.css({"-webkit-filter":"none",filter:"none"})},s.apply_greyout_color=function(e,t){s.get_greyout(e)[0].style["background-color"]=t},s.resize_popup=function(e,r){let i=a.add_layout_resizing_key();return e.get_canvas()[0].style["margin-left"]="-"+r/2+"px",e.get_canvas()[0].style.width=r+"px",t.WaitFor(e.get_children_drawn_key(),(()=>t.run_once(30,(()=>n.calculate_border_width(e)),o((n=>{e.child_container.resize_width(r-n),e._has_been_hidden?i.turn():e.wait_for_visible((()=>setImmediate((()=>{var a;e.child_container.resize_width(null!=(a=t.real_inner_width(e.get_canvas()))?a:r-n),s.get_popup_positioning(e),i.turn()}))))})))))},s.resize_popup_if_legacy=function(e,r){if(!e.element.E.uses_css_responsive){let i=a.add_layout_resizing_key();return t.WaitFor(e.get_children_drawn_key(),(()=>t.run_once(30,(()=>n.calculate_border_width(e)),o((n=>{e.child_container.resize_width(r-n),e._has_been_hidden?i.turn():e.wait_for_visible((()=>setImmediate((()=>{var a;e.child_container.resize_width(null!=(a=t.real_inner_width(e.get_canvas()))?a:r-n),s.get_popup_positioning(e),i.turn()}))))})))))}},s.greyout_field_names={prevent_user_from_closing_through_esc:{no_states:!0},greyout_color:{default:"rgba(0,0,0,0.7)",in_style:!0},greyout_blur:{default:0,no_states:!0,in_style:!0}}})),Gv=u(((e,t)=>{"use strict";f(),R_(),Ue();var r=Lo(),n=qr(),i=Sm(),a=gm(),o=Dg(),s=Fv(),l=Fh(),{ignoreError:_}=d_();t.exports={property_applications:[new a.MinWidth],initialize(e){e.wait_for_visible_lite((()=>{l.on_property_change(e,"greyout_color",(t=>{s.apply_greyout_color(e,t)})),l.on_property_change(e,"greyout_blur",(t=>{[null,void 0,0].includes(t)||e.wait_for_visible((()=>{s.apply_blur_effect_to_greyout(e,t)}))}));let t=0;e.on_message("child_movement",(r=>{t=r,e.wait_for_visible((()=>{let r=e.element.get_height()+t;s.get_popup_positioning(e,r),e.get_canvas()[0].style.height=r+"px"}))})),e.on_destroy((()=>{(![null,void 0,0].includes(e.get_static_property("greyout_blur"))||e.edit_mode())&&s.remove_blur_effect_to_greyout(e)}))}))},position_canvas(e,t){let i;if(t.responsive_mode()){i="absolute";let a=r.div("r-wrapper popup");a.append(e),n().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper").append(a),t.container.add_to_instances(t),n().visual_edit.responsive_canvas.register_wrapper(t.element_id(),a,!0),e.hide()}else t.edit_mode()?($(".canvas").append(e),i="absolute"):($(window.document.body).append(e),i="fixed",e.css("display","none"));let l=t.element.get_width();if(a.apply_css_style(e,{height:t.element.get_height()+"px",top:s.get_popup_top(t)+"px",position:i,left:"50%"}),t.autorun((()=>{var r;e.css("z-index",o.POPUP_ZINDEX+(null!=(r=t.state("popup_zindex"))?r:0))})),e.data("overwrite-left","50%"),t.run_mode()||t.responsive_mode()){let e=function(e){if(t.run_mode())null!=e||(e=$(window).width());else if(t.responsive_mode()){null!=e||(e=n().visual_edit.responsive_canvas.current_width_without_dependency)}return Math.max(t.element.get_min_width(),Math.min(t.element.get_width(),e-20))};t.on_resize((r=>{t.is_visible()&&s.resize_popup(t,e(r))}));let r=null;$(window).on("resize.popup_"+t.element_id(),(()=>{let e=$(window).height();e!==r&&(r=e,s.get_popup_positioning(t))}));let i=null;queueMicrotask((()=>{t.autorun((()=>{let e=t.current_height();e!==i&&(i=e,s.get_popup_positioning(t,e))}))})),t.on_destroy((()=>$(window).off("resize.popup_"+t.element_id())))}else a.apply_css_style(e,{width:l+"px","margin-left":"-"+l/2+"px"})},do_show(e,t,u,c){e.ensure_drawn();let d=e.get_canvas();e.state("has_been_absolutely_positioned",null),s.add_layer(e),d=e.get_canvas();let p=s.get_greyout(e);var f;e.run_mode()&&p.css("z-index",o.POPUP_ZINDEX+(null!=(f=e.state("popup_zindex"))?f:0));(![null,void 0,0].includes(e.get_static_property("greyout_blur"))||e.edit_mode())&&s.apply_blur_effect_to_greyout(e,e.get_static_property("greyout_blur")),e.run_mode()?(s.get_popup_positioning(e),r.run_once(30,(()=>({height:l.evaluate_property(e,"height"),width:l.evaluate_property(e,"width")})),_((n=>{var o,l,_;let{height:f,width:h}=n;null==(o=(l=d).velocity)||o.call(l,"stop"),null==(_=p.velocity)||_.call(p,"stop"),s.get_popup_positioning(e,f),a.apply_css_style(d,{opacity:0,"margin-left":"-"+h/2+"px",width:h+"px"});let g=Math.max(e.element.get_min_width(),Math.min(h,$(window).width()-20));d[0].style.display="block",c?(i.perform_animate_in(e,t,u,!0),setImmediate((()=>{s.resize_popup(e,g),d[0].style.display="block"}))):(t={animation:"transition.fadeIn"},u={duration:300},setImmediate((()=>{s.resize_popup(e,g)})),i.perform_animate_in(e,t,u,!0)),a.apply_css_style(p,{opacity:0,display:"block"}),r.velocity(p,"fadeIn",{duration:300,complete_cb(){p[0].style.top="-1px",e.setTimeout((()=>{p[0].style.top="0px"}),151)}}),e.setTimeout((()=>{let t=[],r=!1;if(function e(n){for(let a of null!=(i=n.children)?i:[]){var i;if(a.element.get_messages().includes("set_focus")){if(!a.get_canvas())continue;if(a.get_canvas().is(":focus"))return void(r=!0);t.push(a)}e(a)}}(e),!r){t=t.filter((e=>e.state("tab_index")&&e.is_visible())),t.sort(((e,t)=>e.state("tab_index")<=t.state("tab_index")?-1:1));for(let e of t)if(e.is_visible()){"DateInput"!==e.element.type()&&e.message("set_focus");break}}}),400),e.get_static_property("prevent_user_from_closing_through_esc")||($(document).off("keydown.escape"),$(document).on("keydown.escape",(t=>{27===t.keyCode&&(e.do_hide(),$(document).off("keydown.escape"))})),p.off("click"),p.on("click",(()=>{e.do_hide()}))),e.message("popup_opened")})))):(d[0].style.display="block",e._is_visible_me=!0,e._update_visible(),e.thumbnail_mode()||(p[0].style.display="block"),e.responsive_mode()&&(p[0].style.height=p.parents(".res-preview").find(".main-page").height()+"px",r.run_once(30,(()=>l.evaluate_property(e,"width")),_((t=>{let r=n().visual_edit.responsive_canvas.current_width_without_dependency;t=Math.max(e.element.get_min_width(),Math.min(t,r-20)),s.resize_popup(e,t)})))))},do_hide(e,t,n,i){if(!e.is_drawn)return;e.set_animating(!0),r.on_phonegap()&&$(window).off("touchmove.popup_opened");let a=e.get_canvas(),o=s.get_greyout(e);if((![null,void 0,0].includes(e.get_static_property("greyout_blur"))||e.edit_mode())&&s.remove_blur_effect_to_greyout(e),!e.edit_mode()&&a.is(":visible")){var l,_,u,c;if(null==(l=a.velocity)||l.call(a,"stop"),null==(_=o.velocity)||_.call(o,"stop"),i)null!=e._transforms||(e._transforms={}),null!=(u=e._transforms).initial_opacity||(u.initial_opacity=a[0].style.opacity),null!=(c=e._transforms).initial_transform||(c.initial_transform=a[0].style.transform),r.velocity(a,t.animation,{duration:n.duration,transform:"",complete_cb(){e.set_animating(!1),a[0].style.transform=e._transforms.initial_transform,a[0].style.opacity=e._transforms.initial_opacity,e._transform=void 0}});else r.velocity(a,"fadeOut",{duration:300,complete_cb(){e.set_animating(!1),a[0].style.display="none"}});r.velocity(o,"fadeOut",{duration:300,complete_cb:()=>{o[0].style.display="none"}}),e.message("popup_closed")}else a[0].style.display="none",o[0].style.display="none",e.set_animating(!1);e._is_visible_me=!1,e._update_visible(),s.remove_layer(e),s.set_body_overflow()}}})),Xv=u(((e,t)=>{"use strict";f();var r=Lo(),n=qr(),i=gm(),a=Dg(),o=Gh(),s=sf(),l=a.POPUP_ZINDEX;t.exports={property_applications:[new i.MinWidth],position_canvas(e,t){let{element:a}=t,_=t.element.parent();function u(){if("back"===a.get_static_property("float_zindex"))return 0;{let e,r=$(".greyout");return e=0===r.length?l-500:r.css("z-index")-500,(!e||e<=0)&&(e=2),e+t.element.get_zindex()}}if(!t.run_mode()&&!t.responsive_mode()||"Page"!==_.type())return t.container.add(t,!0),t.container.container_canvas.append(t.get_canvas()),void t.wait_for_visible_lite((()=>{i.apply_css_style(t.get_canvas(),{position:"absolute",width:t.element.get_width()+"px",top:t.element.get_top()+"px",left:t.element.get_left()+"px",height:t.element.get_height()+"px"}),r.WaitFor(t.get_children_drawn_key(),(()=>o.resize_container_width(t)))}));t.responsive_mode()&&(t.container.wrap(t),t.container.add_to_instances(t),e=t.container.to_canvas(t)),t.wait_for_visible_lite((()=>{if(a.root().use_responsive_algorithm()&&!a.root().get_static_property("fixed_width")){let n=()=>{let n,i,l=a.get_width(),u=a.get_min_width(),c=a.get_max_width(),d=a.get_left(),{container_width:p}=t.container,f=s.get_container_width(_),h=f-(d+l),g=d+h,m=l-u,v=f-p;switch(0===m?n=1:m>=v?(n=(m-v)/m,v=0):(n=0,v-=m),i=0===g||0===v?1:g>=v?(g-v)/g:0,a.get_static_property("floating_reference_horizontal_resp")){case"left":e.css("left",d*i);break;case"right":e.css("right",h*i)}let y=u+m*n;c&&(y=Math.min(y,c)),e.css("width",y),r.WaitFor(t.get_children_drawn_key(),(()=>o.resize_container_width(t,y)))};t.container.on("resize_width",n),r.WaitFor(t.container.flow_created,(()=>{let i,o,s,l,c=a.get_height(),d=a.get_static_property("floating_reference");return["bottom","top","both"].includes(d)?(o=t.responsive_mode()?"absolute":"fixed","top"===d?(s=a.get_top(),i=void 0):"bottom"===d?(s=void 0,i=_.get_height()-a.get_top()-a.get_height(),r.is_debug_mode()&&(i+=50)):"both"===d&&(s=a.get_top(),i=_.get_height()-a.get_top()-a.get_height(),r.is_debug_mode()&&(i+=50),c=void 0,l="auto")):(o="absolute",s=a.get_top(),i=void 0),t.responsive_mode()?t.container.container_canvas.append(e):$("body").append(e),e.addClass("floating-group"),e.css({position:o,"z-index":u(),height:c,top:s,bottom:i,"overflow-y":l}),n()}))}else{let i,s,l,c,d,p,f=d=a.get_top(),h=s=a.get_left(),g=a.get_height(),m=a.get_width();switch(a.get_static_property("floating_reference_horizontal")){case"left":s=h,c=void 0;break;case"right":c=_.get_width()-h-m,s=void 0;break;default:s="50%",l=-_.get_width()/2+h}if(["bottom","top"].includes(a.get_static_property("floating_reference")))switch(p="fixed",a.get_static_property("floating_reference")){case"top":d=a.get_top(),i=void 0;break;case"bottom":if(i=_.get_height()-f-g,r.is_debug_mode()){i+=n().workflow.debugger.canvas.children(".element-area").height()}d=void 0}else p="absolute";$("body").append(e),e.addClass("floating-group"),e.css({position:p,"z-index":u(),width:m,height:g,top:d,bottom:i,left:s,right:c,"margin-left":l}),a.root().use_responsive_algorithm()&&r.WaitFor(t.get_children_drawn_key(),(()=>o.resize_container_width(t,m)))}let l=t.get_static_property("parallax");t.run_mode()&&![null,void 0,1].includes(l)&&$(window).on("scroll",(()=>window.requestAnimationFrame((()=>i.apply_css_style(e,{transform:"translate3d(0,"+(1-l)*$(window).scrollTop()+"px, 0)"})))))}))},register(e){"both"!==e.get_static_property("floating_reference")&&e.on_message("child_movement",(t=>{e.state("child_movement_delta",t)}))},initialize(e){"both"!==e.get_static_property("floating_reference")&&e.autorun((()=>{let t=e.state("child_movement_delta");if(null!=t){let r=e.element.get_height()+t;e.get_canvas().height(r)}}))},additional_data:{notify_width(e,t){r.WaitFor(e.get_children_drawn_key(),(()=>o.resize_container_width(e,t)))}}}})),Hv=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Sm(),i=gm(),a=qr(),o=Kt(),s=(Po(),Gh()),l=(Fh(),ot());t.exports={initialize(e){let t=e.get_canvas(),n=!1;if(e.run_mode()){let i;i=r.is_on_mobile_or_tablet()?"touchend.groupfocus, inputmaskclick":"click.groupfocus, inputmaskclick",$("body").on(i,(i=>{var o;let s=$(".tt-dropdown-menu");e.is_visible()&&!t.data("GroupWithFocus_loading")&&t[0]!==i.target&&!$.contains(t[0],i.target)&&(null==(o=$(i.target).attr("class"))||!o.match(/\bselect2-/))&&!(s.length>0&&$.contains(s[0],i.target))&&(l.running_test()?e.do_hide():(n=!0,e.setTimeout((()=>{r.WaitFor(a().workflow.everything_done_key(),(()=>{n=!1,e.do_hide()}))}),10)))})),e.on_message("child_movement",(t=>{let r=e.element.get_height()+t;e.get_canvas()[0].style.height=r+"px"}))}e.autorun((()=>{let t=e.state("manual_position");t&&i.apply_css_style(e.get_canvas(),t)}))},position_canvas(e,t){let n;if(t.responsive_mode()){n={position:"absolute"};let i=r.div("r-wrapper groupfocus");i.append(e),a().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper").append(i),t.container.add_to_instances(t),a().visual_edit.responsive_canvas.register_wrapper(t.element_id(),i,!0),e.hide()}else t.edit_mode()?($(".container.page-element").parent(".non-draggable").append(e),n={position:"absolute"}):($(window.document.body).append(e),n={position:"fixed"});if(r.extend(n,{width:t.element.get_width()+"px",height:t.element.get_height()+"px","z-index":a().bv().MAX_POPUP_ZINDEX+t.element.get_zindex()}),i.apply_css_style(e,n),t.run_mode()||t.responsive_mode()){let e=e=>{r.WaitFor(t.get_children_drawn_key(),(()=>t.wait_for_visible_lite((()=>{t.get_canvas().css({width:e}),s.resize_container_width(t,e)}))))};e(r.real_inner_width(t.get_canvas())),t.on_resize((n=>r.run_once(30,(()=>t.find_instance_by_id(t.get_static_property("reference"))),((r,i)=>{if(r)return void o.log(r);if(!i)return;let a=i.get_canvas().offset().left+t.get_static_property("offset_left"),s=Math.max(t.element.get_min_width(),Math.min(t.element.get_width(),n-20-a));e(s)}))))}},do_show(e,t,s,l){e._is_visible_me=!0,e.ensure_drawn(),e._update_visible();let _=e.get_canvas();if(e.run_mode())r.run_once(30,(()=>e.find_instance_by_id(e.get_static_property("reference"))),((i,a)=>{var u;if(i)return void o.log(i);if(!a)return;function c(){let t,r;if(e.state("manual_position"))return;let n=a.get_canvas();n?(r=n.offset().left,t=n.offset().top+n.height()):(r=0,t=0);let i=r+e.get_static_property("offset_left"),o=t+e.get_static_property("offset_top")-$(window).scrollTop();_.css({top:o,left:i})}if(null==(u=_.velocity)||u.call(_,"stop"),l?n.perform_animate_in(e,t,s):(_[0].style.display="",e._is_visible_me=!0,e._update_visible()),c(),!r.is_on_mobile_or_tablet()){let t=null;$(window).off("resize.groupfocus"+e.toUniqueString()),$(window).on("resize.groupfocus"+e.toUniqueString(),(()=>{let r=$(window).width();t!==r&&(t=r,e.is_visible()&&!e.get_canvas().data("GroupWithFocus_loading")&&e.do_hide())}))}let d="scroll.groupfocus"+e.toUniqueString();$(window).off(d),$(window).on(d,c)}));else if(_[0].style.display="",e.responsive_mode()){let t=r.div("groupfocus-greyout",a().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper"));i.apply_css_style(t,{"background-color":"rgba(0, 0, 0, 0.701961)",top:"0px",left:"0px",position:"absolute",width:"100%",height:t.parents(".res-preview").find(".main-page").height()+"px","z-index":2001+e.element.get_zindex()})}},do_hide(e,t,n,i){var o;e._is_visible_me=!1,e._update_visible();let s=e.get_canvas();var l,_;(null==(o=s.velocity)||o.call(s,"stop"),i)?(null!=e._transforms||(e._transforms={}),null!=(l=e._transforms).initial_opacity||(l.initial_opacity=s[0].style.opacity),null!=(_=e._transforms).initial_transform||(_.initial_transform=s[0].style.transform),e.set_animating(!0),r.velocity(s,t.animation,{duration:n.duration,complete_cb(){e.set_animating(!1),s[0].style.transform=e._transforms.initial_transform,s[0].style.opacity=e._transforms.initial_opacity,e._transforms=void 0}})):s[0].style.display="none";$(window).off("resize.groupfocus"+e.toUniqueString()),$(window).off("scroll.groupfocus"+e.toUniqueString()),e.responsive_mode()&&a().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper").find(".groupfocus-greyout").remove()}}})),Vv=u(((e,t)=>{"use strict";f();var r=Lo(),n=gm(),i=Dv();t.exports=r.extend({property_applications:[new n.MinWidth],initialize(e){let t=e.get_canvas();if(e.do_hide(),e.run_mode()){let n;n=r.is_on_mobile_or_tablet()?"touchend.groupfocus":"click.groupfocus",$("body").on(n,(r=>{var n;e.is_visible()&&!t.data("GroupWithFocus_loading")&&t[0]!==r.target&&!$.contains(t[0],r.target)&&(null==(n=$(r.target).attr("class"))||!n.match(/\bselect2-/))&&e.do_hide()})),e.on_message("child_movement",(t=>{let r=e.element.get_height()+t;e.get_canvas()[0].style.height=r+"px"}))}}},i.group_collapse_definition)})),Yv=u(((e,t)=>{"use strict";f();var r=gm();t.exports={property_applications:[new r.MinWidth]}})),Kv=u(((e,t)=>{"use strict";f(),Ft();var r=gm(),n=vv(),i=qr(),a=Lo(),o=hv(),s=Fh();t.exports={property_applications:[new r.MinWidth],initialize(e){e.wait_for_visible_lite((()=>{let t=e.get_canvas();o.reset_input_div(t),t.attr("data-gramm_editor","false"),n.register_tab_index_listener(e,(e=>{t.attr("tabindex",e)})),e.autorun((()=>{t.attr("placeholder",s.evaluate_property(e,"placeholder")),window.optional_modules.autosize.update(t)})),e.run_mode()||(t.attr("readonly","true"),t[0].style.resize="none"),o.set_character_limit_on_input(e),e.autorun((()=>{o.assign_enter_handler_in_input(e,!0)}));let r=a.Box(0);o.input_change_autorun(e,(n=>{e.state("is_focused")||(t.val(null!=n?n:""),e.run_mode()&&e.get_static_property("stretch_to_fit")&&e.is_visible()&&(t[0].disabled?(r(r.dangerously_peek()+1),e.setTimeout((()=>{window.optional_modules.autosize.update(t),r(r.dangerously_peek()-1)}),5)):window.optional_modules.autosize.update(t)))})),e.run_mode()&&(e.on_message("set_focus",(()=>t.focus())),o.assign_change_keyup_handlers(e,(()=>e.get_canvas().val())),e.autorun((()=>{r()>0?t[0].disabled=!1:t[0].disabled=s.evaluate_property(e,"disabled")})),e.get_static_property("stretch_to_fit")&&(t[0].style["min-height"]=e.element.get_height()+"px",i().bubble_version()>=8&&t.attr("rows",1),window.optional_modules.autosize(t),t.on("autosize:resized",(()=>{let r=parseInt(t.css("height").replace("px",""));e.set_height(r)})),e.wait_for_visible((()=>window.optional_modules.autosize.update(t))),e.on_destroy((()=>window.optional_modules.autosize.destroy(t)))))}))}}})),Jv=u(((e,t)=>{"use strict";f();var r=Lo(),n=gm(),i=Dg(),a=vv(),o=hv(),s=Fh();t.exports={property_applications:[new n.MinWidth],can_defer_drawing:()=>!0,initialize(e){e.wait_for_visible_lite((()=>{let t=e.get_canvas();t[0].style.overflow="visible";let n=r.LUID(),l=$('<input type="checkbox" id="'+n+'" style="background-color: white;"></input>'),_=$('<label for="'+n+'"></label>');t.append(l),t.append(_),a.register_tab_index_listener(e,(e=>{l.attr("tabindex",e)})),o.register_focus(e,l),e.on_message("set_focus",(()=>l.focus())),e.run_mode()&&(t.addClass(i.CLICKABLE_ELEMENT),l.change((()=>{var t;return e.message("user_submit",null!=(t=l[0].checked)&&t),!0})),s.on_property_change(e,"disabled",(e=>{l[0].disabled=e}))),s.on_property_change(e,"label",(e=>{_.text(e)})),(e.run_mode()||e.responsive_mode())&&e.autorun((()=>{var t;null!=(t=e.element.root())&&t.use_responsive_algorithm()&&(s.evaluate_property(e,"width"),e.set_height(Math.max(e.element.get_height(),_.height())))})),o.input_change_autorun(e,(e=>{"string"==typeof e&&["false","no","null","none","undefined"].includes(e.toLowerCase())&&(e=!1),l[0].checked=!!e}))}))}}})),Zv=u(((e,t)=>{"use strict";f();var r=gm();t.exports={property_applications:[new r.MinWidth]}})),Qv=u(((e,t)=>{"use strict";f();var r=gm();t.exports={property_applications:[new r.MinWidth]}})),ey=u((e=>{"use strict";f(),Ue(),Ft();var t=Lo(),r=fl(),n=qr(),i=Fh(),a=e;Nt().safe_register("./core/core_elements/shared/dropdowns",a),a._get_raw_btype_dropdown=function(e){if("static"===e.get_static_property("choices_style")){if(!n().is_edit_mode()){let t=e.get_static_property("computed_value");if(null!=t)return t}return function(e){"string"!=typeof e&&(e="");for(let t of e.split("\n").map((e=>e.trim())))if(t.length>0&&(["0","00","000","0000"].includes(t)||(0!==t.indexOf("0.")&&0!==t.indexOf("00.")&&0!==t.indexOf("000.")&&(t=t.replace(/^0+/g,"")),t=t.replace(/(\.[0-9]*?)0+$/,"$1"),t=t.replace(/\.$/,"")),![t,"0"].includes(String(n().locale().parse_float(t)))))return"text";return"number"}(e.get_static_property("choices",!0))}return e.get_static_property("dynamic_type")?e.get_static_property("dynamic_type"):"text"},a._get_raw_choice_list_dropdown=function(e,r){let a=r._get_raw_btype(e.element);if("static"===i.evaluate_property(e,"choices_style")){let t,r=i.evaluate_property(e,"choices");return"string"!=typeof r?t=[]:(t=r.split("\n").map((e=>e.trim())).filter((e=>e)),"number"===a&&(t=t.map((e=>n().locale().parse_float(e))))),n().db_instance().static_list(a,t)}{let r=i.evaluate_property(e,"data_source");if("function"==typeof(null==r?void 0:r.get_children)){if(!r.contains)throw new t.UnexpectedError("Get children but no contains: "+r.constructor.name+" "+r.constructor);return r}return n().db_instance().static_list(a,[])}},a._get_display_option=function(e){return"static"===i.evaluate_property(e,"choices_style")?e=>e:t=>{let r=e.get_injected_context(t,this.get_injected_value(e.element));return i.eval_property_with_states(e.element,"option_display_expression",r)}},a.rehydrate_dropdown_value=function(e){return""===e?null:null!=(t=r.rehydrate_tree(n().db_instance(),e))?t:null;var t}})),ty=u((e=>{"use strict";f(),e.bootstrap_colors=["black","primary","danger","info","warning","success"]})),ry=u(((e,t)=>{"use strict";f(),Ue(),R_(),Ft();var r=Lo(),n=gm(),i=Dg(),a=fl(),o=Kt(),s=vv(),l=ey(),_=ty(),u=hv(),c=Fh();t.exports={property_applications:[new n.MinWidth],can_defer_drawing:()=>!0,register(e){let t=r.Watcher((()=>{if(!e.state("has_been_changed"))return!1;let t=e.state("value");return null!=t&&!this._choice_list_contains(e,t)}));e.on_destroy((()=>t.destroy())),t.on_value((t=>{t&&e.message("reset_input")}))},initialize(e){e.wait_for_visible_lite((()=>{let t=r.LUID(),d=e.get_canvas(),p=r.div("radio-v0",d);e.run_mode()&&d.addClass(i.CLICKABLE_ELEMENT),e.on_message("set_focus",(()=>d.find("input:first").focus())),s.register_tab_index_listener(e,(e=>{d.find("input:first").attr("tabindex",e)})),e.edit_mode()&&(p[0].style.height="100%"),c.on_property_change(e,"color",(e=>{for(let e of _.bootstrap_colors)p.removeClass("radio-"+e);p.addClass("radio-"+e)}));let f={};function h(e,r){let n=a.dehydrate_tree_to_string_safe(e.value),i=$('<input type="radio" value="'+n+'" name="'+t+'" id="'+t+"_option_"+r+'"><label for="'+t+"_option_"+r+'">'+e.display+"</label>");return i.data("bubble_val",n),f[n]=i,i}let g=()=>{let t;if(e.edit_mode()&&"dynamic"===c.evaluate_property(e,"choices_style"))return t=["Dynamic choice 1","Dynamic choice 2","Dynamic choice 3","Dynamic choice 4"],e.get_canvas().data("Dynamic choice 1"),t.map((e=>({display:e,value:e})));t=this._get_raw_choice_list(e);let n=this._get_display_option(e),i=t.get_children(0,50);r.run_once(30,(()=>i.map((e=>n(e)))));let a=[];for(let e of i)a.push({display:n(e),value:e});return a},m=null;function v(t){var r,n;if(m=t,f=d.data("options_div_mapping"),!t)if(e.edit_mode()){var i;let e=Object.values(null!=(i=f)?i:{})[0];if(null!=e)return void(e[0].checked=!0)}else for(let e of Object.values(null!=(o=f)?o:{})){var o;e[0].checked=!1}let s=a.dehydrate_tree_to_string_safe(t),l=null==(r=f)||null==(n=r[s])?void 0:n[0];null!=l&&(l.checked=!0)}let y=()=>{let t;p.empty(),f={};let i=e.get_static_property("columns"),a=c.evaluate_property(e,"width"),s=Math.max(Math.floor(i/e.element.get_width()*a),1),_=(a-n.calculate_border_width(e))/s-10;_-=20;let u=g();for(let e=0;e<u.length;e++){t=h(u[e],e),p.append(t);let r=$(t[1]);r[0].style.width=_+"px",r[0].style["margin-right"]="20px",r[0].style["margin-top"]=e<s?"3px":"12px"}d.data("options_div_mapping",f),p.find("input[type=radio]").on("change",(function(){let t=l.rehydrate_dropdown_value($(this).data("bubble_val"));e.message("user_submit",t),v(t)})),v(m);let y=c.evaluate_property(e,"disabled");for(let e of Object.values(null!=(b=f)?b:{})){var b;e[0].disabled=y}if(!e.edit_mode()&&!e.thumbnail_mode()){let t=d.outerHeight()-d.height(),n=e.element.get_height();setImmediate((()=>{let i=r.MakeKey(null,"wrapper_drawn");r.run_once(30,(()=>{let e=parseInt(p.css("height").replace("px",""));if(e>0)return e}),((r,a)=>{if(!r)return a>0?(i.turn(),e.set_height(Math.max(n,a+t))):void 0;o.log(r)}))}))}};u.input_change_autorun(e,(e=>v(e))),r.autorun((()=>{let t=c.evaluate_property(e,"disabled");for(let e of Object.values(null!=(r=f)?r:{})){var r;e[0].disabled=t}})),e.autorun((()=>{e.is_visible()&&y()}))}))}}})),ny=u(((e,t)=>{"use strict";f(),Ue(),R_();var r=Lo(),n=gm(),i=vv(),a=Dg(),o=hv(),s=Fh();t.exports={property_applications:[new n.MinWidth],initialize(e){e.wait_for_visible_lite((()=>{let t=e.get_canvas(),n=r.MakeKey(null,"slider_init"),l=r.div("jquery-slider",t);l.slider(),t.css("padding",8);let _=()=>l.slider("instance");e.on_destroy((()=>{_()&&l.slider("destroy")})),e.run_mode()||l.off(),e.run_mode()&&(t.addClass(a.CLICKABLE_ELEMENT),e.wait_for_visible((()=>{r.WaitFor(n,(()=>{s.on_property_change(e,"disabled",(e=>{l.slider("option","disabled",e)})),e.on_message("set_focus",(()=>t.find(".ui-slider-handle").focus()))}))}))),s.pre_cache(e,["min_value","max_value","step","range_type","orientation","height","width","handle_color","range_area_color","border_color","background_color"]),e.autorun((()=>{var r,a;let u;u="range"===e.get_styleable_static_property("range_type")?"values":"value";let c={};for(let t of["min_value","max_value","step","range_type","orientation","height","width","handle_color","range_area_color","border_color","background_color"])c[t]=s.evaluate_property(e,t);let d={min:null!=(r=c.min_value)?r:0,max:null!=(a=c.max_value)?a:9,step:c.step,range:"range"===c.range_type,orientation:c.orientation,slide:(t,r)=>(setImmediate((()=>{e.message("user_change",l.slider(u))})),!0),stop:(t,r)=>(setImmediate((()=>{e.message("user_submit",l.slider(u))})),!0)};if(!e.thumbnail_mode()||_())for(let e in d){let t=d[e];l.slider("option",e,t)}let p={"margin-left":3,"margin-right":3,cursor:s.evaluate_property(e,"disabled")?"default":"pointer",background:c.background_color,"border-color":c.border_color},f={cursor:s.evaluate_property(e,"disabled")?"default":"pointer",outline:"none","border-color":c.border_color};"horizontal"===c.orientation?(p.height=c.height-16,p.width=c.width-23,f.top=-8,f.height=c.height-1,f.width=19,l.find(".ui-slider-range").css({height:"100%"})):(p.width=c.width-22,p.height=c.height-20,f.width=c.width-11,f.height=19,l.find(".ui-slider-range").css({width:"100%"})),f.background=c.handle_color,"range"===c.range_type&&l.find(".ui-slider-range").css({background:c.range_area_color}),l.css(p),l.find(".ui-slider-handle").css(f),n.turn(),i.register_tab_index_listener(e,(e=>{t.find(".ui-slider-handle").attr("tabindex",e)})),(!e.thumbnail_mode()||_())&&o.input_change_autorun(e,(e=>{"values"===u&&null==e&&(e=[]),l.slider(u,e)}))}))}))}}})),iy=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Fl(),i=gm(),a=Po(),o=qr(),s=Dg(),l=uf(),_=Kt(),u=vv(),c=hv(),d=$r(),p=Fh(),h=hf(),g=E_(),{PADDING_VERSION:m}=af(),{has_input_timezone_controls_on:v}=A_(),y=r.require_moment();function b(e,t){if(!t)return;let r=n.get("date").cast(t);if(!r)return;let i=w(e),a=y(r).tz(i);return[a.year(),a.month(),a.date()]}function w(e){return v()?g.get_custom_tz({static_eval:t=>e.get_static_property(t),dynamic_eval:t=>p.evaluate_property(e,t),not_overridden:!0}):o().current_timezone()}function A(e,t){let r="";switch(t){case"number1":r+="d/mm/yyyy";break;case"number2":r+="m/dd/yyyy";break;case"alpha":r+="d mmmm, yyyy";break;case"alphalong":r+="dddd, d mmmm, yyyy";break;case"alphashort":r+="d-mmm-yyyy";break;case"us_short":r+="mmmm d, yyyy";break;case"us_long":r+="dddd, mmmm d, yyyy";break;case"custom":r+=e.get_static_property("custom_format")}return r}t.exports={property_applications:[new i.MinWidth],initialize(e){e.wait_for_visible_lite((()=>{let t,n,f,g=e.get_canvas(),v=n=t=f=null,E=r.MakeKey(null,"dateinput_drawn");if(e.on_message("add_tab_index",(e=>r.WaitFor(E,(()=>{})))),g.addClass("date_picker_element"),g[0].style.overflow="visible",p.on_property_change(e,"input_type",(t=>{g.empty(),v=$('<input type="text" class="date_div"></input>'),c.reset_input_div(v),g.append(v),u.register_tab_index_listener(e,(e=>{v.attr("tabindex",e)})),"date_time"===t&&(n=$('<input type="text" class="time_div"></input>'),c.reset_input_div(n),g.append(n))})),p.on_property_change(e,"disabled",(e=>{i.apply_css_style(v,{cursor:e?"default":"pointer"}),i.apply_css_style(n,{cursor:e?"default":"pointer"})})),p.pre_cache(e,["input_type","width","height","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder"]),e.autorun((()=>{var t;let r,s,l,_={};for(let t of["input_type","width","height","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder","padding_top","padding_bottom","padding_left","padding_right"])_[t]=p.evaluate_property(e,t);let u=i.calculate_border_height(e),c=i.calculate_border_width(e),f=e.element.element_version(!0)<m?2*_.padding_horizontal:_.padding_left+_.padding_right,h=e.element.element_version(!0)<m?0:_.padding_top+_.padding_bottom,g=a.get_public_setting("bubble_version")<18,b=g?`calc(100% - ${u}px)`:`calc(100% - ${h+u}px)`;if(i.apply_css_style(v,{height:b,"box-sizing":"content-box"}),"date_time"===_.input_type){let e=g?70:72,t=g?5:8;i.apply_css_style(v,{width:`calc(100% - ${2*f+2*c}px - ${e+t}px)`,float:"left"}),i.apply_css_style(n,{width:`${e}px`,float:"right",height:`calc(100% - ${h+u}px)`,"box-sizing":"content-box"})}else r=_.width-f-c,v[0].style.width=r+"px";if("date"===_.input_type&&_.overwrite_placeholder)s=_.placeholder;else{let t;if("test_app"===a.app().id()){var E;let r=null!=(E=w(e))?E:o().current_timezone();t=y.tz("1/15/2013",r).toDate()}else t=new Date;let r=A(e,_.date_format);s=d.format_date(t,r,o().get_text("BUILT_IN","DATE_FORMAT"),w(e))}switch(v.attr("placeholder",s),_.time_format){case"full":l="12:00";break;case"ampm":l="12:00 AM"}return null==(t=n)?void 0:t.attr("placeholder",l)})),e.run_mode()){let i=function(){var r;if(null!=(r=t)&&r.get()){let r=t.get("select"),a={year:r.year,month:r.month,day:r.date};if("date_time"===e.get_static_property("input_type")){let e=f.get("select");if(!e)return;var n,i;a.hour=null!=(n=null==e?void 0:e.hour)?n:"",a.minute=null!=(i=null==e?void 0:e.mins)?i:""}return y.tz(a,w(e)).toDate()}return null},a=function(){return this.$holder.blur(),r.run_once(30,i,((t,r)=>{e.state("is_focused",!1),void 0!==r&&e.message("user_submit",r)})),!0},u=function(t){let{$holder:r,$root:n}=t;r.css("transition","0.05s ease-in-out"),r.position({my:"left top",at:"left bottom",of:e.get_canvas(),collision:"fit flip"}),o().bubble_version()<19&&n.addClass("datepicker-legacy-font")},c=function(){u(this)},d=function(){queueMicrotask((()=>{u(this),e.setTimeout((()=>u(this)),100)})),$(window).on("resize",(()=>u(this)));let n=e.get_canvas();r.run_once(30,(()=>({width:n.width(),"font-family":l.get_face_and_variant(h.get_font_face(e)).font_family})),((e,r)=>{var n;e?_.log(e):(t.$root.css(r),null==(n=f)||n.$root.css(r))}))},m=function(e){if(!e)return!1;let t=Math.floor(e);return[t,Math.round(60*(e-t))]};g.addClass(s.CLICKABLE_ELEMENT);let E=e.get_static_property("show_month_year_picker");v.pickadate({container:"html",firstDay:e.get_static_property("start_monday"),selectMonths:E,selectYears:E&&200,format:A(e,e.get_static_property("date_format")),onOpen:d,onClose:a}),t=v.pickadate("picker"),e.wait_for_visible((()=>{d.apply(t),e.setTimeout((()=>d.apply(t)),100)})),r.autorun((()=>t.$root.css({"margin-top":p.evaluate_property(e,"height"),"max-width":p.evaluate_property(e,"width")})));let M=!1,x={};if("date_time"===e.get_static_property("input_type")){switch(M=!0,x.container="html",x.interval=e.get_static_property("time_interval"),e.get_static_property("time_format")){case"full":x.format="H:i";break;case"ampm":x.format="h:i A"}x.onClose=a,x.onOpen=d,x.onRender=c,n.pickatime(x),f=n.pickatime("picker"),r.autorun((()=>f.$root.css({"margin-top":p.evaluate_property(e,"height"),"max-width":p.evaluate_property(e,"width")})))}e.autorun((()=>{var n,i;let a=p.evaluate_property(e,"min_date"),s=p.evaluate_property(e,"max_date");if(t.set({min:null!=(n=b(e,a))?n:-1/0,max:null!=(i=b(e,s))?i:1/0}),M){let t=p.evaluate_property(e,"min_hour"),r=p.evaluate_property(e,"max_hour");f.set({min:m(t),max:m(r)})}let l=o().current_timezone();e.autorun((()=>{let n=w(e);if(e.state("has_been_changed")&&n===l)return;l=n;let i=e.state("value");if(!r.autorun_top((()=>e.state("is_focused"))))if(i){if(t.set("select",b(e,i)),M){let t=w(e),r=y(i).tz(t);f.set("select",[r.hours(),r.minutes()])}}else t.clear(),M&&f.clear()}))})),e.autorun((()=>{let r=p.evaluate_property(e,"min_date"),n=p.evaluate_property(e,"max_date"),i=e.state("value",void 0,!0);if("function"!=typeof i&&t.get("select")&&null!=i)if(null!=r&&i<r)t.set("select",b(e,r)),e.state("value",r);else if(null!=n&&i>n){let a=n>=r?n:null!=r?r:i;t.set("select",b(e,a)),e.state("value",a)}})),p.on_property_change(e,"disabled",(e=>{v[0].disabled=e,null!=n&&(n[0].disabled=e)}))}var M;(c.register_focus(e,g.find("input")),e.on_message("set_focus",(()=>{v[0].disabled||t.open()})),e.run_mode())||(v.attr("readonly","true"),null==(M=n)||M.attr("readonly","true"))}))}}})),ay=u(((e,t)=>{"use strict";f();var r=gm(),n=pm();t.exports={property_applications:[new r.MinWidth],additional_data:{notify_width:(e,t)=>n.keep_proportions(e,t)}}})),oy=u(((e,t)=>{"use strict";f();var r=gm();t.exports={property_applications:[new r.MinWidth]}})),sy=u((e=>{"use strict";f();var t=Nt(),r=gm(),n=e;t.safe_register("./core/core_elements/legacy/responsive_v0",n);var i={Page:mv(),Text:Av(),Button:Ev(),Icon:xv(),Link:Sv(),Image:Tv(),Shape:Nv(),Alert:Cv(),Video:Pv(),HTML:Rv(),GoogleMap:Iv(),Group:jv(),RepeatingGroup:$v(),Popup:Gv(),FloatingGroup:Xv(),GroupFocus:Hv(),GroupWithFocus:Vv(),Input:Yv(),MultiLineInput:Kv(),Checkbox:Jv(),Dropdown:Zv(),AutocompleteDropdown:Qv(),RadioButtons:ry(),SliderInput:ny(),DateInput:iy(),PictureInput:ay(),FileInput:oy()};n.get_element_modifications=e=>i[e],n.set_legacy_element_modifications=function(e,t){null!=t||(t={property_applications:[new r.MinWidth]}),i[e]=t}})),ly=u((e=>{"use strict";f();var t=gm(),r=Sm(),n=Lo(),i=qr(),a=sy(),o={do_show(e,t,n,i){var a;e._is_visible_me=!0,e.ensure_drawn();let o=e.get_canvas();null==(a=o.velocity)||a.call(o,"stop",!0),i?r.perform_animate_in(e,t,n,!0):(e._display_me(),e._update_visible())},do_hide(e,t,r,i){var a;let o=e.get_canvas();if(null==(a=o.velocity)||a.call(o,"stop",!0),i){var s,l;null!=e._transforms||(e._transforms={}),null!=(s=e._transforms).initial_opacity||(s.initial_opacity=o[0].style.opacity),null!=(l=e._transforms).initial_transform||(l.initial_transform=o[0].style.transform),e._is_visible_me=!1,e._update_visible(),e.set_animating(!0);let i={duration:r.duration,complete_cb(){e.set_animating(!1),o[0].style.transform=e._transforms.initial_transform,o[0].style.opacity=e._transforms.initial_opacity,e._transforms=void 0}};r.visibility="hidden",n.velocity(o,t.animation,i)}else e._hide_me(),e._is_visible_me=!1,e._update_visible()}},s={position_canvas:1,do_show:0,do_hide:0,get_container_width:0,attempt_size_only_draw:0,register:0};e.wrap_core_element=function(e){var r;let l=a.get_element_modifications(e.plugin_name);null!=(null==l?void 0:l.additional_data)&&n.extend(e,l.additional_data);let _=(e,t)=>(null==e?void 0:e.is_responsive_v1())&&(e.E_object().uses_css_responsive||["position_canvas","do_show","do_hide"].includes(t)),u=e.property_applications;function c(t,r){var a;let s=e[t],u=null!=(a=null==l?void 0:l[t])?a:s;(null!=s||null!=u)&&(e[t]=function(){var a;let l=arguments[r],c=null!=(a=l.element)?a:l;return n.on_server()&&!i().force_responsive_version||!_(c,t)?u.apply(e,arguments):"position_canvas"===t&&l.responsive_mode()||null==(d=null!=s?s:o[t])?void 0:d.apply(e,arguments);var d})}e.property_applications=function(r){let n;if(n="function"==typeof u?u(r):u,n=n.slice(),e.uses_css_responsive||n.push(new t.ResponsiveElement(r)),_(r,"property_applications"))return n;{let e;return e="function"==typeof(null==l?void 0:l.property_applications)?null==l?void 0:l.property_applications(r):null==l?void 0:l.property_applications,null!=e?n.concat(e):n}};for(let e in s){c(e,s[e])}let d=e.initialize,p=null!=(r=null==l?void 0:l.initialize)?r:d;return e.initialize=function(t){if(_(t.element,"initialize")?d.call(e,t):p.call(e,t),t.element.is_responsive_v1()&&!t.element.E_object().uses_css_responsive){if(!t.thumbnail_mode()){if(typeof ResizeObserver<"u"&&null!==ResizeObserver){let e=new ResizeObserver((e=>{let{width:r}=e[0].contentRect;t.notify_width(r)}));e.observe(t.canvas[0]),t.on_destroy((()=>{e.disconnect()}))}t.notify_width(t.canvas.width())}t.autorun((()=>{t.canvas.css({height:t.element.get_height()})}))}},e}})),_y=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Nt(),n=Rp(),i=(cv(),gm()),a=Dg(),o=(bg(),qr()),s=(Po(),tf(),Cg(),dv()),l=pv(),_=hv(),u=gv(),c=ly(),d=ot(),p=Uv(),h=vv(),g=Fh(),{VERSION_STYLE_OVERRIDES:m}=af(),{PSEUDO_TABLE_ELEMENTS:v}=Ng(),{apply_css_style:y}=i,b=e;r.safe_register("./core/core_elements/core_elements_utilities/element_transformer",b),b.make_element=function(e,t,r){var i,a;let o=b.transform_element(e,t);if(r||(p.registered_elements[e]=o),null!=(i=t.events)&&i.length&&(t.events=t.events.concat("OnError")),null!=(a=t.events)&&a.length)for(let r of t.events)n.add_event(r,e)};var w={};b.register_hook_transformer=(e,t)=>w[e]=t,b.run_transformers=function(e){for(let t in w){(0,w[t])(e)}},b.transform_element=function(e,r){var i,p,f,m;r.plugin_name=e,r=c.wrap_core_element(r);for(let n of["is_input","contains_group_data","change_cursor_style_if_clickable","initialize","add_an_invisible_div_on_the_top"])if(null==r[n])throw new t.UnexpectedError("Error building "+e+": no value for "+n);let w=!r.starts_hidden&&!r.always_visible;null!=(i=r).field_names||(i.field_names={});let A,E="function"==typeof r.property_applications?r.property_applications():r.property_applications;for(let e of E){var M;let n=null!=(M=e.field_names)?M:{};for(let e in n){let i=n[e];r.field_names[e]=t.json_deep_copy(i)}}if(["Page"].includes(e)||(r.field_names.delete_element={no_states:!0,only_edit_mode:!0}),!["CustomDefinition","CustomElement","Page"].includes(e)&&!v.includes(e)&&(r.field_names.switch_element={no_states:!0,only_edit_mode:!0}),["CustomDefinition","Page"].includes(e)||(r.field_names.select_parent={no_states:!0,only_edit_mode:!0},r.field_names.reveal_in_tree={no_states:!0,only_edit_mode:!0},r.field_names.lock_in_editor={no_states:!0,only_edit_mode:!0}),r.field_names.element_style={no_states:!0},r.field_names.delete_style={no_states:!0,only_edit_mode:!0},r.field_names.edit_style={no_states:!0,only_edit_mode:!0},w&&t.extend(r.field_names,s.visibility_field_names),r.defaults)for(let e in r.field_names){let t=r.field_names[e],n=r.defaults[e];null!=n&&(t.default=n)}if(r.starts_hidden)r.is_visible_on_page_load=e=>!1;else if(r.always_visible)r.is_visible_on_page_load=e=>!0;else{if(!w)throw new t.UnexpectedError("should not get here");r.is_visible_on_page_load=e=>e.get_static_property("is_visible",!0)}A=r.dont_add_hover_pressed?[]:["is_hovered","is_pressed","force_pressed"],"Link"===r.plugin_name&&A.push("is_link_disabled");let x=["invisible_div_drawn"],O=["add_tab_index"],k=[],S=r.add_specific_messages;r.contains_group_data&&(A.push("group_data"),r.add_specific_messages=function(e,r){let n=r.get_state_value("group_data");return n&&"null"!==n.id()&&t.extend(e,{get_group_data:{description:"'s "+n.display(),section:"Data Sources",ret_btype:n,fn(e,t){return this.ret_btype().cast(null==e?void 0:e.state("group_data"))}}}),null==S?void 0:S(e,r)},x.push("datasource_changed_by_workflow_action"),O.push("set_group_data","reset_group"),k.push()),r.is_pseudo&&(r.add_specific_messages=function(e,r){var n,i,a;if("TableMainAxis"===r.type())return t.extend(e,{get_data:{description:"'s Table",section:"States",ret_btype:null!=(n=null==(i=(a=r.parent()).get_value_id)?void 0:i.call(a))?n:"null",fn:(e,t)=>e.parent()}}),null==S?void 0:S(e,r)}),r.is_input&&(A.push("value"),r.add_specific_messages=function(e,n){return t.extend(e,{get_data:{description:r.is_checkbox?" is checked":"'s value",section:"States",ret_btype:n.get_state_value("value"),fn(e,t,r,n,i){return null!=i&&i.inputs_must_be_valid&&null!=e&&e.is_visible()&&(null==e||e.state("value_that_is_valid")),this.ret_btype().cast(null==e?void 0:e.state("value"))}}}),r.is_checkbox&&t.extend(e,{get_not_data:{description:" isn't checked",section:"States",ret_btype:n.get_state_value("value"),fn:(e,t)=>!(null!=e&&e.state("value"))}}),null==S?void 0:S(e,n)},A.push("value_that_is_valid"),A.push("currently_binding"),r.no_is_focused||A.push("is_focused"),x.push("has_been_changed","force_display_validity"),O.push("reset_input","set_focus"),r.content_validated&&(A.push("display_invalid","is_invalid"),O.push("display_validity")),k.push("user_change","user_submit"),n.add_event("InputChanged",e)),r.is_file_uploader&&O.push("cancel_upload");let T=r.register;r.register=function(e){if(null==T||T.call(r,e),e.run_mode()&&(e.on_message("add_tab_index",(t=>{e.state("tab_index",t)})),r.contains_group_data&&h.register_group_data(r,e)),w&&!d.on_server()&&(e.run_mode()||e.responsive_mode()||function(e){if(!e.edit_mode)return!1;let t=e.element.root();return null!=t&&"CustomDefinition"===t.type()&&t.get_responsive_version()>0}(e))){let r=function(){i=!1,e._is_visible_me?(n&&null==e._has_been_hidden&&e.do_hide(),e.do_show()):e.is_drawn?e.do_hide():(e._hide_me(),n=!0,e.wait_for_first_draw((()=>{e._is_visible_me||e.do_hide()})))},n=!1,i=!1,a=e.parent();g.on_property_change(e,"is_visible",(n=>{e._is_visible_me=n,i||(i=!0,t.WaitFor(e.get_skeleton_ready_key(),(()=>{a?t.WaitFor(a._has_become_visible,r):r()})))}))}r.is_input&&_.register_input_states(r,A,e)};let N=r.initialize;r.initialize=function(e){let n,i;N.call(r,e),i=n=!1,e.edit_mode()&&(g.on_property_change(e,"margin_top",(t=>{i&&e.get_static_property("top")<t&&(e.element.set_property("top",t),e.element.commit_merge()),i=!0})),g.on_property_change(e,"margin_left",(t=>{n&&e.get_static_property("left")<t&&(e.element.set_property("left",t),e.element.commit_merge()),n=!0}))),e.wait_for_visible_lite((()=>function(){for(let t of e.element.get_property_applications())!function(t){if(t.apply_once)return t.apply({},e.canvas);{let n;n=r.additional_uses_properties?t.uses_properties.concat(r.additional_uses_properties):t.uses_properties;let i=!0;g.on_property_change(e,n,(r=>{r._first_time=i,t.apply(r,e.canvas,e),i=!1}))}}(t)}())),e.run_mode()&&e.wait_for_visible_lite((()=>{let t={};for(let r of e.element.get_property_applications())r.get_transition_css(e.element,e.canvas,t);e.get_transition_css(t),e.setTimeout((()=>{for(let e in t){let{target:r,css_prop:n}=t[e];[void 0,""].includes(n)||(n=n.slice(0,n.length-2),y(r,{"-webkit-transition":n,"-moz-transition":n,"-o-transition":n,"-ms-transition":n,transition:n}))}}),0)})),r.change_cursor_style_if_clickable&&e.run_mode()&&e.element.get_related_workflows("ButtonClicked").length&&(h.register_tab_index_listener(e,(t=>{e.get_canvas().attr("tabindex",t)})),e.get_canvas().addClass(a.CLICKABLE_ELEMENT),e.wait_for_visible_lite((()=>g.on_property_change(e,"button_disabled",(t=>{t?(e.get_canvas()[0].style.cursor="default",e.get_canvas()[0].tabindex="-1"):e.get_canvas()[0].style.cursor="pointer"}))))),e.run_mode()&&e.element.get_related_workflows("ButtonClicked").length&&(e.get_canvas().focus((()=>{e.get_canvas().addClass("show-outline")})),e.get_canvas().blur((()=>{e.get_canvas().removeClass("show-outline")})),r.specific_click_handler||e.get_canvas().click((t=>{let r,n=o().workflow.debugger;if(null!=n&&(r=n.element_clicked(e,e.get_partial())),!r)return l.run_element_workflow(e,"ButtonClicked",t)}))),r.add_an_invisible_div_on_the_top&&!e.run_mode()&&h.do_add_an_invisible_div_on_the_top(e),e.run_mode()&&!r.dont_add_hover_pressed&&(t.is_on_mobile_or_tablet()?e.canvas.on("touchstart",(()=>{e.state("is_pressed",!0),$(document).one("touchend",(()=>{let t=e.setTimeout((()=>e.state("is_pressed",!1)),100);$(document).one("scroll",(()=>(e.state("is_pressed",!1),e.clearTimeout(t))))}))})):(e.state("is_hovered",u.setup_hover,!0),e.canvas.mousedown((()=>{e.state("is_pressed",!0),$(document).one("mouseup",(()=>{e.state("is_pressed",!1)}))})))),e.run_mode()&&b.run_transformers(e),r.always_visible&&e._display_me()};let C=null!=(p=r.get_states)?p:()=>[];r.get_states=e=>A.concat(C(e));let L=null!=(f=r.get_messages)?f:()=>[];r.get_messages=e=>O.concat(L(e));let P=null!=(m=r.get_private_messages)?m:()=>[];return r.get_private_messages=e=>k.concat(P(e)),r}})),uy=u(((e,t)=>{"use strict";var r,n;f(),Ue(),Ze();var i,a=ul(),o=St(),s=Kt(),_=qr(),u=Po(),c=Lo(),d=Lr(),p=Qt(),h=Nl(),g=it(),m=Rd(),v=Fr(),y=Al(),b=k_(),w=Lt(),A=Yt(),E=vg(),M=Pl(),x=xr(),O=Fl(),k=sv(),S=_v(),T=ov(),N=p_(),C=uv(),L=_y(),P=Qm(),R=l;c.on_server()&&(i=R("lru-cache"));var z,I=function(){return z||(z=c.on_server()?new i({max:500,length:()=>1}):new Map)};var D=(r=M.cached({type:M.AUTORUN,compare_fn:(e,t)=>null!=e&&e.call_raw_data&&null!=t&&t.call_raw_data?a(e.call_raw_data,t.call_raw_data):p.compare(e,t)}),function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((n=class{display(){return this.human}toUniqueString(){return"service_"+this.name+"_"+this.version}get_authenticator(e,t){return"function"==typeof this.authenticator?this.authenticator(e,t):this.authenticator}get_calls_to_refresh(e,t){return[]}error_wrapper(e){if(!this.handle_request_failures)return e();try{return e()}catch(e){let t=this.handle_request_failures(e);throw null==t?new g.UnexpectedError("handle_request_failures should return the original error or a transformed one",{original:e}):t}}get_key(e,t,r){let n=this.get_keys();if(!n[e]){if("server_redirect"===e||r)return null;throw new m.ClientError("missing key for service",{key_name:e,service_name:this.name,human:this.human})}let i=(null!=t?t:u.app_version())!==b.LIVE_VERSION||!A.is_production(),a=u.app();function o(t){return"client_safe"===n[e].type?a.get_public_setting(t):a.get_private_setting(t)}let s=o(`${this.name}_${e}`);if(!i)return s;let l=o(`${this.name}_${e}_test`);return null!=l?l:s}get_keys(){var e,t,r;let n=null!=(e=this._get_raw_list("keys"))?e:{};return null==(t=(r=this.get_authenticator()).add_generic_authenticator_keys)||t.call(r,n),n}has_keys(){return Object.keys(this.get_keys()).length>0}get_public_key(){return this.get_key("appid")}get_secret_key(){return this.get_key("appsecret")}_get_raw_list(e){return"function"==typeof this[e]?this[e]():this[e]}get_values(){var e;let t=null!=(e=this._get_raw_list("values"))?e:{};for(let[e,r]of Object.entries(t))r.name=e,r.full_name=x.api_type(`${this.name}.${e}`),r._service=this;return t}get_call_class(e){return this._get_raw_list("calls")[e]}get_calls(){var e;return Object.keys(null!=(e=this._get_raw_list("calls"))?e:{})}get_call(e){return this._instantiate_call(e,this.get_call_class(e))}_instantiate_call(e,t){if("function"!=typeof t){if(this.dynamic_calls)return;if(_().is_edit_mode())return void s.error("call is not a class",{call_name:e,name:this.name});var r;throw new g.OwnerError("The call "+e+" on "+(null!=(r=this.display())?r:this.name)+" is not defined")}let n=new t(this),i=this.name+w.PLUGIN_SEPARATOR+e;return n.name=e,n.full_name=i,n.service_name=this.name,n}get_action(e){var t;let r,n=N.get_plugin_and_type(e)[1],i=this._get_raw_list("actions");var a;if(null!=i&&i[n])r=i[n],null!=(a=r).fields||(a.fields=e=>{let t=r._fields(e);return C.add_key_button(this.name,t),t});else if(this.get_calls().includes(n)){let e=this.get_call(n);r=function(e,t,r){var n;let i={display:e=>r.human,category:null!=(n=r.category)?n:"plugins",fields:function(t){let n;return n=r.fields?r.fields(t):C.add_fields_from_parameters(r.parameters,[]),C.add_key_button(e,n),n},field_names:y.DETECT_FIELD_NAMES,data_to_refresh:null,return_value:e=>null!=e&&null!=r.return_value?(r.value_id=r.return_value(e),r.value_id):r.get_value_id(),get_doc_link:()=>r.get_doc_link(),call:r,check_for_errors(e,t){if(!1===r.can_be_used_as_action&&!r.must_proxy())return t(`${e.display()}: You're using this API connector call as an action but it is currently set up as a Data source`)}};return r.must_proxy()?(i.run=(e,t,n,i)=>{n.get_server_outcome(e,((t,n)=>{if(t)i(t);else{var a,o,s,l,_;let t=null!=(a=null!=(o=r.value_id)?o:null==(s=r.return_value)?void 0:s.call(r,e))?a:null,u=r.service().get_calls_to_refresh(r,e);S.invalidate_client_side_calls(u),null==(l=(_=O.get(t).plugin).notify_server_action)||l.call(_,n,r),i(null,n)}}))},i.server_method="external_call_server_action"):i.run=function(){throw new g.OwnerError("Invalid action - this call cannot be set up as an action.")},i}(this.name,0,e)}return r?(r.is_plugin=!0,r.service=this.name,null!=(t=r).category||(t.category="plugins"),r):null}get_local_cache_key(e){return`${this.toUniqueString()}-${e}`}get_event(e){let t=this.get_local_cache_key(e);if(!I().has(t)){var r;let i=N.get_plugin_and_type(e)[1],a=(null!=(r=this._get_raw_list("events"))?r:{})[i];if(!a)return null;var n;if(a.element_name)P.make_element_event(e,a,!0,null==(n=this.is_testing)?void 0:n.call(this));else P.make_gen_event(e,a);a.is_plugin=!0,a.service=this.name,I().set(t,a)}return I().get(t)}get_element(e,t){null!=t||(t=!1);let r=this.get_local_cache_key(e);if(!I().has(r)||t){let t=N.get_plugin_and_type(e)[1],n=this._get_raw_list("elements"),i=null==n?void 0:n[t];if(!i)return null;if(i.is_plugin=!0,i.service=this.name,L.make_element(e,i,!0),!i.is_non_hardcoded_plugin)for(let[e,t]of h.object_entries(i.field_names))t.in_style&&E.register_style_property(e);I().set(r,i)}return I().get(r)}get_public_values(){var e;let t=null!=(e=this._get_raw_list("public_values"))?e:[],r=this.get_values();for(let e of t)if(!r[e])throw new g.UnexpectedError("Could not find value "+e+" in "+this.name);return t}get_public_calls(){let e=this._get_raw_list("public_calls");return null!=e?e:[]}get_user_calls(){let e=this._get_raw_list("user_calls");return null!=e?e:[]}get_action_calls(){let e=this._get_raw_list("action_calls");return null!=e?e:[]}get_server_actions(){var e;return null!=(e=this.server_actions)?e:[]}get_oauth_providers(){var e;return null!=(e=this._get_raw_list("oauth_providers"))?e:[]}get_oauth_providers_simple(){return this.get_oauth_providers().map((e=>{var t;return null!=(t=e.id)?t:e}))}is_oauth_provider(){return this.get_oauth_providers().length>0}is_storage_provider(){return null!=this.file_upload}is_video_service(){return this._is_video_service}response_to_data(e,t,r,n,i){let{path:a,url:s,uri:l,method:_,data:u,headers:c}=e;null!=r||(r="json");let p=!1,f={};if(t.statusCode<200||t.statusCode>299||this.errors_on_200)if(i)p=!0,f={status_code:t.statusCode,status_message:t.statusMessage,body:JSON.stringify(t.body)};else{var h;let e=null==(h=this.get_error_message)?void 0:h.call(this,t,n);if(e){let r=new g.OwnerError("Received error from api",{display:e});throw r.statusCode=t.statusCode,r}if(!this.errors_on_200){var m;if(this.not_production_critical&&k.is_retryable(null,t))throw T(this.display(),t.statusCode+": "+t.body);let e=`Error connecting to ${null!=(m=this.display())?m:this.name} (${t.statusCode})`;throw u={body:t.body.slice(0,1e4),path:a,method:_,data:u,url:s,uri:l,headers:c},new g.UnexpectedError(e,u)}}if(!t.body)return null;if(!["json","querystring","raw"].includes(r.toLowerCase()))throw new g.UnexpectedError("unrecognized data_type:"+r);if(t.body instanceof Error)throw new g.UnexpectedError("Error executing call",{inner_message:t.body.message,inner_stack:t.body.stack});try{let e;if(d.optional_pause("about to parse api response"),p)e={body:t.body,statusCode:t.statusCode,statusMessage:t.statusMessage,error:f};else switch(r.toLowerCase()){case"json":{var y,b,w;let r=null!=(y=null==(b=t.body)||null==(w=b.trim)?void 0:w.call(b))?y:t.body;e=v.incremental_json_parse(r);break}case"querystring":e=o.parse(t.body);break;case"raw":e=t.body}return i&&"object"==typeof e&&(e.returned_an_error=Object.keys(f).length>0),d.optional_pause("finished parsing api response"),e}catch{var A,E,M;let e="Error parsing response data",r=null==(A=(E=JSON.stringify(t.body)).slice)?void 0:A.call(E,0,1e4),n=`Error parsing data from ${null!=(M=this.display())?M:this.name}: ${r}`;if(!i)throw new g.OwnerError(e,{display:n});let a=500;return f={status_code:a,status_message:e,body:n},{body:r,statusCode:a,statusMessage:e,error:f,returned_an_error:!0}}}}).prototype,"get_call",[r],Object.getOwnPropertyDescriptor(n.prototype,"get_call"),n.prototype),n);t.exports=D})),cy=u((e=>{"use strict";f(),Ue();var t=e,r=Lo(),n=(ot(),qr()),i=Nl(),a=Po(),o=vl(),s=Vt();t.MISSING_ACCESS_TOKEN="missing access_token getting data",t.PLUGIN_OAUTH_REDIRECT="sys/pluginoauth",t.SERVER_OAUTH_REDIRECT="oauth_redirect",t.get_redirect_url=function(){let e,r;return e=o.is_local_editable(a.appname())?"live":a.app_version(),("local"!==s.env||"meta"===a.appname())&&(r=a.domain()),n().location.format_pieces({domain:r,appname:a.appname(),path:["api","1.1",t.SERVER_OAUTH_REDIRECT],app_version:e},{protocol:"https:"})},t.add_basic_authentication=function(e,t,n){let i,a;t?(a=t.user,i=t.pw):(a=n.get_public_key(),i=n.get_secret_key());let o=r.base64(a+":"+i);null!=e.headers||(e.headers={}),e.headers.Authorization="Basic "+o},t.kv_hash=function(e){return i.object_entries(e).map((e=>{let[t,r]=e;return`${t}:${r}`})).join(",")}})),dy=u(((e,t)=>{"use strict";f(),Ue();var r=Nl(),n=it(),i=Po(),a=Rm(),o={access_type:!0,scope:!0,user_scope:!0,data_type:!0,prompt:!0,additional_query_url_to_delete:!0,add_to_url:!0,add_to_header:!0,header_key:!0,expires_in:!0,add_basic_authentication:!0,key_prefix:!0,grant_type:!0,use_cliend_id_secret:!0,use_username_password:!0,server_redirect:!0};t.exports=class{constructor(e){this.params=e}id(){return this.service_name()}get_property(e,t){var r,i;let a=null!=(r=null==(i=this.params)?void 0:i[e])?r:this.service()[e];if(!a&&!o[e]){if(t)return null;throw new n.UnexpectedError("could not find property "+e+" for authenticator of service "+this.id()+", and property "+e+" is not set as optional")}return"function"==typeof a&&(a=a(this)),a}display(){var e;return null!=(e=this._display)?e:a.get_plugin(this.service_name()).display()}service(){if(!this._service)throw new n.UnexpectedError("this authenticator doesnt have @_service set.  should set it in add_service in services.coffee");return this._service}is_user_credentials(){return!1}service_name(){return this.service().name}edit_mode_login(){return!1}get_key(e,t,r){return this.service().get_key(e,t,r)}get_public_key(){return this.service().get_public_key()}get_secret_key(){return this.service().get_secret_key()}get_user_authentication_node(e){return e.child("authentication").child(this.id())}get_service_id(e){return this.get_user_authentication_node(e).child("id").get()}are_keys_missing(){for(let[e,t]of r.object_entries(this.service().get_keys()))if("Checkbox"!==t.editor){let r;if(r="secure"===t.type?i.get_private_setting(this.service().name+"_"+e):i.get_public_setting(this.service().name+"_"+e),!r&&!t.optional)return!0}return!1}}})),py=u(((e,t)=>{"use strict";f();var r=dy(),n=cy();t.exports=class extends r{must_proxy(){return!0}add_authentication(e,t){return n.add_basic_authentication(e,t,this),e}is_authenticated(){return!0}}})),fy=u(((e,t)=>{"use strict";f(),Ue();var r=ot(),n=Lm(),i=it(),a=Zt(),o=dy(),s=cy(),l=qr(),_=m_(),u={};t.exports=class extends o{must_proxy(){return!0}build_token(e){let t=s.kv_hash(e),n=!e.user_id;if(!u[t]||r.running_test()){let r={typ:"JWT",alg:"RS256",kid:e.public_key_id},i={iss:e.apikey,sub:n?e.enterprise_id:e.user_id,box_sub_type:n?"enterprise":"user",aud:this.get_property("claims_aud"),jti:a.UUID(),exp:Math.floor(Date.now()/1e3+55)},o=token_utilities.generate_jws(r,i),s={client_id:e.appid,client_secret:e.appsecret,grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:o},_={method:"POST",url:this.get_property("generate_token_from_code_uri"),form:s},c=this.service().error_wrapper((()=>l().http_request(_).block())),d=this.service().response_to_data(_,c);u[t]=d.access_token,setTimeout((()=>u[t]=null),1e3*d.expires_in)}return u[t]}get_token(){let e={};for(let t in this.service().keys)if(e[t]=this.get_key(t),!e[t]&&"user_id"!==t)throw new i.OwnerError("App missing credential",{display:"Sorry, it looks like this is app is missing a "+this.service().display()+" credential: "+this.service().keys[t].caption});if(!e.user_id){let t=this.build_token(e),r=_.get_hardcoded_plugin(n.BOX).get_call("create_user").execute(null,null,t).id;l().app().get_private_setting_node(this.service().name+"_user_id").json.set(r,{name:"CreateBoxAuthToken"}),e.user_id=r}return this.build_token(e)}add_authentication(e,t){let r=null!=t?t:this.get_token();return null!=e.headers||(e.headers={}),e.headers.Authorization="Bearer "+r,e}}})),hy=u(((e,t)=>{"use strict";f();it(),Et();var r=dy();cy(),qr();t.exports=class extends r{must_proxy(){return!0}add_authentication(e,t){let r=null!=t?t:this.get_token();return null!=e.headers||(e.headers={}),e.headers.Authorization="Bearer "+r,e}is_authenticated(){return!0}}})),gy=u(((e,t)=>{"use strict";f();ot(),it(),cy();var r=hy();t.exports=class extends r{anti_babel_function(){}}})),my=u(((e,t)=>{"use strict";f();var r=dy();t.exports=class extends r{must_proxy(){return!1}add_authentication(e){return e}is_authenticated(){return!0}is_user_credentials(){return!0}}})),vy=u(((e,t)=>{"use strict";f();var r=Kt(),n=dy(),i=qr(),a=sv();t.exports=class extends n{get_oauth_user_data_call(){return this.service().get_call("oauth_user_data_call")}get_oauth_user_data(e){let t=this.get_token_data(e),r=this.get_oauth_user_data_call(e).execute(null,null,t);return null!=r.id&&(r.id=String(r.id)),{...null!=r?r:{},...null!=t?t:{}}}build_validity_request(e){return this.get_oauth_user_data_call().build_request(null,null,e)}is_still_valid(e){let t,n,o=this.build_validity_request(e);try{n=i().http_request(o).block(),t=null}catch(e){t=e,n=null}if(n&&n.statusCode>=200&&n.statusCode<300)return!0;if(a.is_retryable(t,n)){let e;return e=t||n.statusCode+": "+n.body,r.warn("Temporarily unable to validate Oauth connection",{service:this.service().display(),reason:e}),!0}return!1}_get_user_id(){return this.get_service_id(i().current_user())}tested(){return!0}}})),yy=u(((e,t)=>{"use strict";f();ot();var r=Kt(),n=(Qt(),qa()),i=Et(),a=vy(),o=qr(),s=(Tt(),Po(),St());t.exports=class extends a{oauth_version(){return"1"}must_proxy(){return!0}get_oauth_user_data(e){let t=this.get_token_data(e),r=this.get_oauth_user_data_call().execute(null,t,t);return r.id=String(t.user_id),{...null!=r?r:{},...null!=t?t:{}}}is_user_credentials(){return!0}login(e,t,r){let n=this.get_property("authorize_url"),i={};return i[this.get_property("token_param_name")]=r,o().workflow.make_resume_key(e,t),o().workflow.wait_for_safe(e,(()=>{document.location.href=n+"?"+s.stringify(i)}))}add_authentication(e,t){if(e.headers)return e;let r=null==t?void 0:t.oauth_token_secret,i=null==t?void 0:t.oauth_token;return null!=r&&null!=i?(this.add_auth_header(e,i,r),e):(r=n.run_once(30,(()=>({oauth_token_secret:this._get_oauth_token_secret(),oauth_token:this._get_oauth_token()}))),r.then((t=>{let{oauth_token_secret:r,oauth_token:n}=t;return!r||!n||this.add_auth_header(e,n,r),e})))}get_data_for_login(e){let{oauth_token:t,oauth_verifier:n}=e;return"string"!=typeof t||"string"!=typeof n?(r.warn("odd OAuth1 params after redirection, clearing",{oauth_token:t,oauth_verifier:n}),{oauth_provider:this.id(),oauth_token:"",oauth_verifier:""}):{oauth_provider:this.id(),oauth_token:null!=t?t:"",oauth_verifier:null!=n?n:""}}get_token_data(e){let t=this.get_property("access_token_url"),r=this.get_property("data_type"),n={url:t,method:"POST",data:e};this.add_auth_header(n,e.oauth_token,o().KeyValueDB().get(i.INSTANCE_NAMES.SMALL,e.oauth_token));let a=this.service().error_wrapper((()=>o().http_request(n).block()));return this.service().response_to_data(n,a,r)}_get_oauth_token_secret(){return this.get_user_authentication_node(o().current_user()).child("oauth_token_secret").get()}_get_oauth_token(){return this.get_user_authentication_node(o().current_user()).child("oauth_token").get()}is_authenticated(){return null!=this._get_oauth_token()&&null!=this._get_oauth_token_secret()&&null!=this._get_user_id()}generate_validity_object(e){return{oauth_token:e.oauth_token,oauth_token_secret:e.oauth_token_secret,provider_user_id:e.user_id}}build_validity_request(e){return this.get_oauth_user_data_call().build_request(null,{user_id:e.provider_user_id},e)}}})),by=u((e=>{"use strict";f(),Ue();var t=tr(),r=/\[([^\]]+)]/g,n=/<[^>]+>/g;e.find_between_characters=function(e,i){let a,o,s=[];if(!e)return s;switch(i){case"bracket":o=r,a="[";break;case"less_than":o=n,a="<";break;default:a=i;for(let e of["\\",".","^","$","*","+","?"])i=i.split(e).join("\\"+e);o=new RegExp(i+"(.*?)"+i,"g")}let l=e.match(o);for(let e of null!=l?l:[])["bracket","less_than"].includes(i)?-1===e.slice(1).indexOf(a)&&s.push(e.slice(1,-1)):s.push(e.slice(a.length,-a.length));return t.unique(s)}})),wy=u((e=>{"use strict";f(),Ue();Tt();var t=Lo(),r=by(),n=l;t.on_server()&&n("../server/utility/reserved_address"),e.apply_template_params=function(e,n,i,a){let o,s;switch(n){case"bracket":o="[",s="]";break;case"less_than":o="<",s=">";break;default:o=n,s=n}let l=r.find_between_characters(e,n);for(let[r,n]of Object.entries(null!=i?i:{}))l.includes(n.key)&&(e=t.replace_all(e,o+n.key+s,a(r,n)));return e}})),Ay=u(((e,t)=>{"use strict";f(),Ue();var r=Qt(),n=Sr(),i=(it(),Zt()),a=qa(),o=vy(),s=cy(),l=x_(),_=wy(),u=qr(),c=Tt(),d=St();t.exports=class extends o{oauth_version(){return"2"}get_additional_fields(){var e;let t=null!=(e=this.get_property("auth_url_params",!0))?e:{};return Object.entries(t).map((e=>{let[t,r]=e;return{name:t,caption:`${r.key} (Login Redirect)`,editor:"ShortText",default:r.allow_blank?null:r.value,optional:r.optional||r.allow_blank}}))}must_proxy(){return!1}_get_access_token(){return this.get_user_authentication_node(u().current_user()).child("access_token").get()}is_authenticated(){return null!=this._get_access_token()&&null!=this._get_user_id()}is_user_credentials(){return!0}add_authentication(e,t){var r,n;let i=this.get_property("token_param_name"),o=null!=(r=null==t?void 0:t.access_token)?r:null==(n=e.data)?void 0:n[i],s=t=>{if(this.get_property("add_to_url"))e.url.includes("?")?e.url+="&":e.url.endsWith("?")||(e.url+="?"),e.url+=i+"="+t;else if(this.get_property("add_to_header")){null!=e.headers||(e.headers={});let r=this.get_property("header_key");if(r){let[n,i]=r.split(":");e.headers[n.trim()]=null!=i?i.trim()+" "+t:t}else e.headers.Authorization="Bearer "+t}else{null!=e.data||(e.data={}),e.data[i]=t}return e};return null!=o?s(o):(o=a.run_once(30,(()=>this._get_access_token())),o.then((e=>s(e))))}add_generic_authenticator_keys(e){e.server_redirect={type:"client_safe",editor:"Checkbox"},u().is_edit_mode()&&(e.server_redirect.caption="Use a generic redirect URL ("+s.get_redirect_url()+")")}use_server_side_redirect(){return this.get_key("server_redirect")}login(e,t,a){var o;let p,f,h=document.location.href;"?"===h[h.length-1]&&(h=h.slice(0,h.length-1)),a&&(f=c.parse(h),delete f.search,delete f.hash,delete f.query,h=c.format(f));let g=c.parse(document.location.href,!0).query;g.oauth_provider=this.id(),e&&t&&(g.resume_key=u().workflow.make_resume_key(e,t)),g.used_redirect_url=h,this.use_server_side_redirect()&&(h=s.get_redirect_url(),"index"===u().location.get_page()&&n.starts_with(u().location.get_server_base(),g.used_redirect_url)&&(f=c.parse(g.used_redirect_url),"/"===f.path&&"/"!==g.used_redirect_url.slice(-1)&&(g.used_redirect_url=g.used_redirect_url+"/")),g.redirect_unique_id=i.UUID());let m=n.fixedEncodeURIComponent(r.json_stringify(g)),v={client_id:this.get_public_key(),redirect_uri:h,response_type:"code",state:m},y=this.get_property("expires_in");y&&(v.expires_in=y);let b=this.get_property("access_type");b&&(v.access_type=b);let w=this.get_property("prompt");w&&(v.prompt=w);let A=this.get_property("scope");A&&(v.scope=A);let E=_.apply_template_params(this.get_property("authentication_url"),"bracket",null!=(o=this.get_property("auth_url_params",!0))?o:{},((r,n)=>t?l.eval_property(t,r,e,null,n.value):n.value));return p=E.includes("?")?E+"&"+d.stringify(v):E+"?"+d.stringify(v),u().workflow.wait_for_safe(e,(()=>document.location.href=p))}get_data_for_login(e){var t;let r;var n;this.use_server_side_redirect()?r=s.get_redirect_url():r=null!=(n=e.used_redirect_url)?n:"";return{oauth_provider:this.id(),code:null!=(t=e.code)?t:"",redirect_uri:r}}}})),Ey=u(((e,t)=>{"use strict";f();Qt();var r=hy();t.exports=class extends r{_get_token_request(){return this.service().get_call("token_call").build()}}})),My=u(((e,t)=>{"use strict";f();var r=it(),n=dy();t.exports=class extends n{must_proxy(){return!0}add_authentication(e,t){if(null!=t||(t=this.get_secret_key()),this.params.key_prefix&&(t=this.params.key_prefix+t),!this.params.token_param_name)throw new r.UnexpectedError("PrivateKey authenticator missing token_param_name");if(this.params.add_to_url)e.url.includes("?")||(e.url+="?"),"?"!==e.url[e.url.length-1]&&(e.url+="&"),e.url+=this.params.token_param_name+"="+t;else if(this.params.add_to_header){null!=e.headers||(e.headers={}),e.headers[this.params.token_param_name]=t}else{null!=e.data||(e.data={}),e.data[this.params.token_param_name]=t}return e}is_authenticated(){return!0}}})),xy=u(((e,t)=>{"use strict";f();var r=py();t.exports=class extends r{add_authentication(e,t){return Object.assign(e,{cert:this.get_key("cert_file"),key:this.get_key("key_file")}),e}}})),Oy=u((e=>{"use strict";f();var t=cy(),r=dy(),n=py(),i=fy(),a=gy(),o=my(),s=yy(),l=Ay(),_=Ey(),u=hy(),c=My(),d=xy(),p=e;p.MISSING_ACCESS_TOKEN=t.MISSING_ACCESS_TOKEN,p.PLUGIN_OAUTH_REDIRECT=t.PLUGIN_OAUTH_REDIRECT,p.SERVER_OAUTH_REDIRECT=t.SERVER_OAUTH_REDIRECT,p.get_redirect_url=t.get_redirect_url,p.Authenticator=r,p.BasicAuth=n,p.BoxAuthentication=i,p.JWT=a,p.NoAuth=o,p.Oauth1=s,p.Oauth2=l,p.Oauth2Custom=_,p.Oauth2PWFlow=u,p.PrivateKey=c,p.SSLProtocol=d})),ky=u((e=>{"use strict";f();var t=lg(),r=_g(),n=av(),i=_v(),a=uy(),o=sg(),s=Oy(),l=e;Nt().safe_register("./external",l);l.Authenticator=s.Authenticator,l.BasicAuth=s.BasicAuth,l.BoxAuthentication=s.BoxAuthentication,l.JWT=s.JWT,l.NoAuth=s.NoAuth,l.Oauth1=s.Oauth1,l.Oauth2=s.Oauth2,l.Oauth2Custom=s.Oauth2Custom,l.Oauth2PWFlow=s.Oauth2PWFlow,l.PrivateKey=s.PrivateKey,l.SSLProtocol=s.SSLProtocol,l.MISSING_ACCESS_TOKEN=s.MISSING_ACCESS_TOKEN,l.PLUGIN_OAUTH_REDIRECT=s.PLUGIN_OAUTH_REDIRECT,l.SERVER_OAUTH_REDIRECT=s.SERVER_OAUTH_REDIRECT,l.get_redirect_url=s.get_redirect_url,l.APIValue=n,l.Call=i,l.ExternalValue=t,l.PassThroughValue=class{display(){return"Pass Through"}extract(e){return e}},l.Service=a,l.StructValue=r,l.make_call_fn=o})),Sy=u((()=>{"use strict";f();var e=Lo(),t=(qr(),Lr(),Fr(),l);e.on_server()&&t("xml2js")})),Ty=u(((e,t)=>{"use strict";f(),Ft(),Ue(),Mr(),pr();var r,n,i=Lo(),a=qr(),o=Sy(),s=l;i.on_server()&&(n=s("../server/fileupload"),r=s("../monitoring/apm/activityApm"),s("content-disposition")),t.exports=function(e,t,s,l,_){let u=()=>function(e,t,r,s,l){var _,u,c;let d,p,f,h,{data_type:g,passed_url:m,api_human:v,name:y,get_headers:b}=s,w=null!=(_=e.appname)?_:a().appname(),A=null!=(u=e.app_version)?u:a().app_version(),E=s.wrap_error,M=null==(c=t.headers)?void 0:c["content-disposition"];if(/filename/.test(M)&&(M=M.replace(/;$/,""),h=extract_filename_from_content_disposition(M)),!h){let e;try{({pathname:e}=new URL(r.url))}catch{e=m}h=e.split("/").filter(Boolean).pop()||"root_file"}if("XML"===g)try{d=o(t.body.toString("utf8"))}catch{if(!E)throw new i.OwnerError("issue parsing XML",{display:"There was an issue parsing the XML body for the call "+v+" - "+y});s.returned_an_error=!0,t.statusCode=400,t.statusMessage="Issue Parsing XML",t.body="There was an issue parsing the XML body for the call "+v+" - "+y}else if(["image","file"].includes(g)){let e=String(t.body);try{JSON.parse(e),p=!0}catch{}if(p){if(!E)throw new i.OwnerError("Issue getting file for call",{display:"There was an issue getting the file for the call "+v+" - "+y+". See the response "+e});s.returned_an_error=!0,t.statusCode=400,t.statusMessage="Issue Getting File For Call",t.body="There was an issue getting the file for the call "+v+" - "+y+". See the response "+e}else{let e;e=l?"api_initialize_"+g:h,d=n.save_to_s3(t.body,e,t.headers["content-type"],void 0,void 0,w,A)}}else if(["text","number"].includes(g))d=t.body.toString("utf8");else if("empty"===g)d=null;else{let e=t.body;if(202===t.statusCode)null!=e||(e="{}");null!=e&&"string"==typeof e&&(e=e.trim());try{d=JSON.parse(e)}catch(e){if(p=e,l&&(!b||!E))throw t.body?new i.OwnerError("The API call returns a non-object and you picked JSON. Please check.",{original:p}):new i.OwnerError("The API call returns an empty body and you picked JSON. Please check.",{original:p});d={}}}if(b||E){if(f={body:d},E){var x;if(l||s.returned_an_error){let e={status_code:t.statusCode,status_message:t.statusMessage,body:JSON.stringify(t.body)};f.error=e}f.returned_an_error=null!=(x=s.returned_an_error)&&x}b&&(f.headers=t.headers)}else f=d;return f}(e,t,s,l,_);return r?r.traceSpan("post processing",{},(e=>{var r,n,i,a;let{recordActivity:o}=e;return o("api_outbound",{count:1,request_bytes:null!=(r=null==(n=s.body)?void 0:n.length)?r:0,response_bytes:null!=(i=null==(a=t.body)?void 0:a.length)?i:0}),u()})):u()}})),Ny=u((e=>{"use strict";f(),Ue(),Ft();var t=Lo(),r=Kt(),n=qr(),i=Or(),a=Kh(),o=xr(),s=Fl(),_=_v(),u=wy(),c=Ty(),d=l;t.on_server()&&d("../server/utility/reserved_address");var p=e;p.methods={get:"GET",post:"POST",put:"PUT",patch:"PATCH",delete_method:"DELETE"},p.method_uses_body=function(e){return["PUT","PATCH","POST","DELETE_METHOD"].includes(null==e?void 0:e.toUpperCase())};var h={none:"text",text:"text",number:"text",JSON:"json",null:"json",undefined:"json"},g=["url_params","headers","params","body_params","shared_headers","shared_params"],m={none:!0,text:!0,number:!0,JSON:!0,null:!0,undefined:!0};function v(e){return!e.body_params||t.is_empty(e.body_params)}p.user_friendly_parameter_names={headers:"(header)",params:"(param.)",url_params:"(path)",body_params:"(body)",shared_headers:"(shared headers)",shared_params:"(shared param.)"},p.is_call_initialized=e=>e.initialized||e.no_types,p.get_error_message=function(e,r,n){var i,a;let o=null!=(i=null==r||null==(a=r.display)?void 0:a.call(r))?i:"this service";if(e.statusCode>=400&&e.statusCode<=499){let r="The service "+o+" just returned an error (HTTP "+e.statusCode+"). ";return r+=n?"Please contact the plugin author directly for feedback.":"Please consult their documentation to ensure your call is setup properly.",r+=` Raw error:\n\n${t.escape(e.body)}`,r}return e.statusCode>=500&&e.statusCode<=599?"Temporary error connecting to "+o+" (raw message: "+e.body+")":e.statusCode<200||e.statusCode>299?"Error connecting to "+o+": expected a 2XX statusCode but got "+e.statusCode:void 0},p.can_be_in_browser=function(e,t){if(!t||!m[t.data_type]||t.get_headers||"action"===t.publish_as||t.url_private)return!1;for(let e of g)for(let n of Object.values(null!=(r=t[e])?r:{})){var r;if("headers"===e)for(let r in t[e])if(0!==Object.keys(t[e][r]).length)return!1;if(null!=n&&n.private)return!1}if(null==e)return!0;if(null!=e.auth&&"none"!==e.auth)return!1;for(let t of g)for(let r of Object.values(null!=(n=e[t])?n:{})){var n;if("shared_headers"===t||null!=r&&r.private)return!1}return!0},p.get_call_from_raw=function(e,r,n,i){let l,u,d;if(!r)return;d=i?r.api_id+"."+e:e;let f={};function g(e){let n=r[e];for(let o in n){let s=n[o];if(null!=s&&s.key&&(i&&!s.private||!i&&[void 0,"public"].includes(s.visibility))){var a;let n;n="form_data"===r.body_type&&s.binary_file?"DynamicFile":s.long_text?"LongText":"ShortText",f[t.encode_key(e+"_"+s.key)]={display:(null==(a=p.user_friendly_parameter_names)?void 0:a[e])+" "+s.key,editor:n,default:s.allow_blank?null:s.value,optional:s.optional||s.allow_blank,doc:s.doc}}}}(!r.url_params||t.is_empty(r.url_params))&&!r.url_private&&i&&!r.url_cant_be_private&&(f.url={display:"Call endpoint - URL",editor:"LongText",no_enter:!0,no_rich_text_editing:!0,default:r.url});let m=["url_params","headers","shared_headers","shared_params"];"plain_text"!==r.body_type&&m.push("params");for(let e of m)g(e);if(r.body&&p.method_uses_body(r.method)&&(v(r)?f.body={display:"Body (JSON object)",editor:"LongText",no_rich_text_editing:!0,default:r.body}:g("body_params")),r.no_types)["image","text","number","file"].includes(r.data_type)&&(l=r.data_type);else if(r.ret_value===a.IGNORE_FIELD)l="null";else{let e=s.get(r.ret_value);l=!e.is_missing()&&e.plugin.is_simple?r.ret_value:i?o.api_type(i+"."+d):o.api_type(r.api_id+".plugin_api."+d)}null!=l||(l="null");let y=p.can_be_in_browser(null,r),b=r.in_browser&&y;return t.on_client()&&b&&(u=h[r.data_type]),class extends _{get human(){return r.api_human+" - "+r.name}get _must_proxy(){return!b}get value_id(){return l}get doc_link(){return r.doc_link}get is_list(){return r.is_list&&"null"!==l}get category(){return"plugins"}get parameters(){return f}get get_headers(){return r.get_headers}get return_type(){return r.no_types||["XML","image","file","text","number"].includes(r.data_type)?"raw":"json"}get data_type_for_ajax_call(){return u}get wrap_error(){return r.wrap_error}get can_be_used_as_action(){return"action"===r.publish_as}get_authenticator(){return this.service().get_authenticator(r.api_id)}build(t,a){return p.generate_request_from_call_data(r,a,n,(t=>{let{param_id:r,type:n,miss_ok:a=!1}=t;if(!i)return["shared_headers","shared_params"].includes(n)?this.get_key(n+"_"+r,void 0,a):this.get_key(e+"_"+n+"_"+r,void 0,a)}))}post_processing(e,t,n,i){var a;let o={data_type:r.data_type,passed_url:r.url,api_human:r.api_human,name:r.name,get_headers:this.get_headers,wrap_error:this.wrap_error,returned_an_error:null==e||null==(a=e.body)?void 0:a.returned_an_error};return c(t,n,i,o)}}};var y=/\n/g,b="BODY UNUSED",w=2.5*i.MINUTE_MS;p.generate_request_from_call_data=function(e,i,a,o){var s,l;null!=i||(i={});let _,c,d=p.methods[e.method],f=p.method_uses_body(e.method)?e.body_type:b,h=null!=(s=i.url)?s:e.url,g=null==i;function m(n,a,s){var l;let _=t.encode_key(`${n}_${s.key}`),u=null==(l=i)?void 0:l[_],c=s.value;if(s.optional&&!g){if(!t.is_empty(i))return u;r.warn("inconsistent blank api optional param autofilled",{default_value:c,param_id:a,type:n,raw:s})}var d,p,f;return""===u&&![null,void 0,""].includes(c)&&(u=void 0),s.allow_blank&&!e.initialize_mode?null!=(d=u)?d:null==o?void 0:o({param_id:a,type:n,miss_ok:!0}):null!=(p=null!=(f=u)?f:c)?p:null==o?void 0:o({param_id:a,type:n,miss_ok:!1})}if(e.url_params&&(h=u.apply_template_params(h,"bracket",e.url_params,m.bind(null,"url_params"))),t.on_server()&&(h=u.sanitize_url(h,e)),null!=e.headers){_={};for(let r in e.headers){let n=e.headers[r];if(!p.validate_header_name(n.key))throw new t.OwnerError("Header name is not correct",{display:e.api_human+" error: this header name is not correct "+n.key});let i=m("headers",r,n);if(!n.optional||n.optional&&![null,void 0,""].includes(i)){if(!p.validate_header_value(i))throw new t.OwnerError("header value is not correct",{display:e.api_human+" error: this header value for "+n.key+" is not correct "+i});_[n.key.trim()]=i}if(!n.optional&&[null,void 0,""].includes(i))return{dont_do_call:!0,message:e.api_human+" error: the header "+n.key+" is empty and is mandatory"}}}if(f!==b&&"form_data"!==f&&![null,void 0,""].includes(null==(l=e.body)?void 0:l.trim()))if(v(e)&&null!=i.body)c=i.body;else if(c=e.body,e.body_params){let t=function(e,t){let r=m("body_params",e,t);return[null,void 0,""].includes(r)?"null":r};c="XML"===e.data_type||"plain_text"===f?u.apply_template_params(c,"_*_",e.body_params,t):u.apply_template_params(c,"less_than",e.body_params,((e,r)=>t(e,r).replace(y,"\\n")))}let A,E,M,x="plain_text"===f;if(null!=e.params){A={},E={};for(let t in e.params){let r=e.params[t];if(null!=r.key){let i=m("params",t,r),o=r.key.trim(),s=f===b||r.querystring&&"form_data"!==f,l=[null,void 0,""].includes(i),_=r.optional||s&&!r.binary_file;if(l&&!_)return{dont_do_call:!0,message:`${e.api_human} error: the parameter ${o} cannot be empty`};if(l)continue;if(s)E[o]=i;else if(r.binary_file){"//"===i.slice(0,2)&&(i="http:"+i);let e,t=decodeURIComponent(i.split("/").pop());try{e=n().http_request({uri:i,encoding:null}).block()}catch(e){return{dont_do_call:!0,message:`Error trying to fetch file at URL '${i}': ${e.message}`}}if(200!==e.statusCode)return{dont_do_call:!0,message:a+" error: the parameter "+o+" is not a valid file"};A[o]={value:e.body,options:{filename:t}}}else A[o]=i}}if(null!=E&&t.is_empty(E)&&(E=void 0),null!=A&&!x)if(t.is_empty(A))A=void 0;else if(null!=c){try{c=t.json_parse(c)}catch{throw new t.OwnerError("Body could not be parsed",{display:e.api_human+" error: this body could not be parsed as JSON "+c})}t.extend(c,A),A=void 0}}x&&(A=void 0),["image","file"].includes(e.data_type)&&(M=null);let{timeout:O,max_retries:k}={timeout:w,max_retries:4},S={method:d,path:h,headers:_,encoding:M,timeout:O,max_retries:k};if("form_data"===f)S.formData=A;else if(f===b){var T;S.qs=null!=(T=E)?T:{}}else S.body=c,S.data=A,S.qs=E;return S},p.validate_header_name=function(e){if("string"!=typeof e||null==e||!e.length)return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(!(r>=65&&r<=90||r>=97&&r<=122||[94,95,96,124,126].includes(r)||[48,49,50,51,52,53,54,55,56].includes(r))){if(r>=33&&r<=46){if([34,40,41,44].includes(r))return!1;continue}return!1}}return!0},p.validate_header_value=function(e){if(null==e||!(e=""+e).length)return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(9!==r&&(r<=31||r>255||127===r))return!1}return!0},p.add_shared_params_and_headers=function(e,r,n,i,a){let o;if(null!=e.shared_headers){null!=r.headers||(r.headers={});for(let a in e.shared_headers){let _=e.shared_headers[a];if(null==r.headers[_.key]&&_.key){var s,l;if(!p.validate_header_name(_.key))throw new t.OwnerError("Header name is not correct",{display:(null!=(s=e.human)?s:n)+" error: this header name is not correct "+_.key});if(o=i(a,_),!p.validate_header_value(o))throw new t.OwnerError("Header Value not correct",{display:(null!=(l=e.human)?l:n)+" error: this header value for "+_.key+" is not correct "+o});r.headers[_.key]=o}}}if(null!=e.shared_params){var _,u,c;let t=null!=(_=null!=(u=null!=(c=r.data)?c:r.body)?u:r.formData)?_:r.qs,n=null!=t?t:{};for(let t in e.shared_params){let r=e.shared_params[t];"object"==typeof n&&null==n[r.key]&&r.key&&(o=a(t,r),n[r.key]=o)}t||(r.body=n)}}})),Cy=u((e=>{"use strict";f();var t=qr(),r=Id(),n=Po(),i=k_(),a=Oy(),o=e;function s(e,t){var r;if(e)return n.app_version()!==i.LIVE_VERSION&&null!=(r=e[t+"_test"])?r:e[t]}var l=class extends a.PrivateKey{constructor(e){super(e);let t=this._get_api();this.params.token_param_name||("private_key_url"===t.auth?this.params.token_param_name="private_key":"private_key_header"===t.auth&&(this.params.token_param_name="Authorization"))}get_secret_key(){return s(this._get_api(),"private_key")}},_=class extends a.BasicAuth{get_secret_key(){var e;return null==(e=this._get_api())?void 0:e.password}get_public_key(){var e;return null==(e=this._get_api())?void 0:e.username}},u=class extends a.SSLProtocol{get_key(e){var t;return null==(t=this._get_api())?void 0:t[e]}},c=class extends a.Oauth2PWFlow{get_secret_key(){var e;return null==(e=this._get_api())?void 0:e.password}get_public_key(){var e;return null==(e=this._get_api())?void 0:e.username}},d=class extends a.Oauth2Custom{_get_token_request(){return this.service().get_call(this.params.call_id+".token_call").build()}},p=class extends a.JWT{get_key(e){var t;return"iss"===e?this.get_property("iss"):null==(t=this._get_api())?void 0:t[e]}},h=class extends a.Oauth2{get_secret_key(){return s(this._get_api(),"appsecret")}get_public_key(){return s(this._get_api(),"appid")}get_oauth_user_data_call(){return this.service().get_call(this.params.api_id+"_oauth_user_data_call")}get_user_authentication_node(e){return t().is_edit_mode()?new r.StaticNode(this.get_owner_token_data(),null,"sys.json"):super.get_user_authentication_node(e)}tested(){return this._get_api().tested}has_token_data(){return this._get_api().has_token_data}get_owner_token_data(){return this._get_api().token_data}};o.APIConnectorBasePrivateKey=l,o.APIConnectorBasicAuth=_,o.APIConnectorBaseSSLProtocol=u,o.APIConnectorBaseOauth2PWFlow=c,o.APIConnectorBaseOauth2Custom=d,o.APIConnectorBaseJWT=p,o.APIConnectorBaseOauth2=h})),Ly=u((e=>{"use strict";f(),Ft();var t=Nt(),r=sv(),n=it(),i=e;t.safe_register("./shared/external_api_utilities",i),i.handle_request_failures=e=>{let t=String(e.message);return-1!==t.indexOf("ENOTFOUND")?new n.OwnerError("Could not find domain",{display:"Could not find domain:"+t.replace("ENOTFOUND","")}):-1!==t.indexOf("Failed to establish a connection after")?new n.OwnerError("Failed to establish a connection",{display:t}):-1!==t.indexOf("ESOCKETTIMEDOUT")||-1!==t.indexOf("ETIMEDOUT")?new n.OwnerError("Could not connect to remote server"):-1!==t.indexOf("certificate has expired")?new n.OwnerError("The remote server's SSL certificate has expired"):-1!==t.indexOf("certificate not trusted")?new n.OwnerError("There is an issue with the remote server's SSL certificate"):-1!==t.indexOf("self signed certificate")?new n.OwnerError("The remote server's SSL certificate is self-signed"):-1!==t.indexOf("Invalid protocol")?new n.OwnerError("The request protocol is invalid, it should only be 'http' or 'https'"):-1!==t.indexOf("unable to verify the first certificate")?new n.OwnerError("There is an issue with the remote server's SSL certificate"):-1!==t.indexOf("Hostname/IP doesn't match certificate's altnames")||-1!==t.indexOf("Hostname/IP does not match certificate's altnames")?new n.OwnerError("SSL Cert mismatch",{display:t}):-1!==t.indexOf("Exceeded maxRedirects")?new n.OwnerError("request maxRedirects",{display:t}):r.is_retryable(e)?new n.OwnerError("Could not connect to the remote server"):e}})),Py=u(((e,t)=>{"use strict";var r,n,i,a,o,s,l,_,u,c;function d(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}f(),Ue();var p=ul(),h=Lo(),g=qr(),m=Pl(),v=Lt(),y=Ly(),b=xr(),w=_v(),A=uy(),E=_g(),M=Ny(),x=cg(),O=(Ty(),Sy(),r=m.cached({type:m.AUTORUN}),n=m.cached({type:m.AUTORUN}),i=m.cached({type:m.AUTORUN}),a=m.cached({type:m.AUTORUN}),o=m.cached({type:m.AUTORUN}),s=m.cached({type:m.AUTORUN}),l=m.cached({type:m.AUTORUN}),_=m.cached({type:m.AUTORUN,compare_fn:(e,t)=>null!=e&&e.call_raw_data&&null!=t&&t.call_raw_data?p(e.call_raw_data,t.call_raw_data):h.compare(e,t)}),u=m.cached({type:m.AUTORUN}),d((c=class extends A{get dynamic_calls(){return!0}public_values(){let e=[],t=this.get_all_apis();for(let r in t){let n=t[r];for(let t in n.calls){let r=n.calls[t];if(r.initialized){if(r.no_types)continue;for(let t in r.types)e.push(t)}}}return e}values(){let e={},t=this.get_all_apis();for(let r in t){let n=t[r];"oauth2_user"===n.auth&&(e[r+"_oauth_profile"]=new E("Profile "+n.human,{id:{path:null!=n.id_path?n.id_path.split("."):void 0},email:{path:null!=n.email_path?n.email_path.split("."):void 0}})),x.get_btypes_from_call(r,n,e,this.key_prefix)}return e}public_calls(){return this._get_sorted_list("data")}action_calls(){return this._get_sorted_list("action")}user_calls(){let e=[],t=this.get_all_apis();for(let r in t)"oauth2_user"===t[r].auth&&e.push(r+"_oauth_user_data_call");return e}oauth_providers(){let e=[],t=this.get_all_apis();for(let r in t){let n=t[r];"oauth2_user"===n.auth&&e.push({id:this.BASE+v.PLUGIN_SEPARATOR+r,display:"API - "+n.human})}return e}get do_not_report_error(){return!0}get_call_class(e){let t=this.calls()[e];if(null!=t)return-1!==e.indexOf("_oauth_user_data_call")||"TestAPICall"===e?t:M.get_call_from_raw(e.split(".")[1],t,this.plugin_name,this.BASE)}get_call(e){let t=this._instantiate_call(e,this.get_call_class(e));if(!t&&!g().is_edit_mode()&&-1===e.indexOf("_oauth_user_data_call"))throw new h.OwnerError("missing call",{display:this.plugin_name+" error: the call "+e+" is missing, please reinitialize your calls."});return t}calls(){let e={},{BASE:t}=this,{plugin_name:r}=this,n=this.get_all_apis();for(let i in n){let a=n[i];if("oauth2_user"===a.auth){e[i+"_oauth_user_data_call"]=class extends w{get human(){return a.human}get _must_proxy(){return!0}get value_id(){return b.api_type(t+"."+i+"_oauth_profile")}build(e,t){return a.oauth_user_data_call?{path:a.oauth_user_data_call}:{dont_do_call:!0,message:r+" error: the User profile endpoint is missing, please check your configuration.",force_error_message:!0}}get_authenticator(){return this.service().get_authenticator(i)}}}for(let t in a.calls){let r=a.calls[t];r.api_human=a.human,r.api_id=i,e[i+"."+t]=r}}return e}constructor(){super(),this.keys={}}handle_request_failures(e){return y.handle_request_failures(e)}_get_sorted_list(e){let t=[],r=0,n=this.get_all_apis();for(let a in n){let o=n[a];for(let n in o.calls){var i;let s=o.calls[n];null!=s.publish_as||(s.publish_as="data"),s.publish_as===e&&M.is_call_initialized(s)&&(t.push({id:a+"."+n,rank:null!=(i=s.rank)?i:r}),r++)}}return t.sort(((e,t)=>e.rank<t.rank?-1:1)),t.map((e=>e.id))}base_url(){return""}response_to_data(e,t,r,n){let i=super.response_to_data(e,t,r,n,null==n?void 0:n.wrap_error);if(null!=n&&n.get_headers||null!=n&&n.wrap_error){let{headers:e}=t;return{body:i,headers:e}}return i}get_error_message(e,t){return M.get_error_message(e,t)}}).prototype,"public_values",[r],Object.getOwnPropertyDescriptor(c.prototype,"public_values"),c.prototype),d(c.prototype,"values",[n],Object.getOwnPropertyDescriptor(c.prototype,"values"),c.prototype),d(c.prototype,"public_calls",[i],Object.getOwnPropertyDescriptor(c.prototype,"public_calls"),c.prototype),d(c.prototype,"action_calls",[a],Object.getOwnPropertyDescriptor(c.prototype,"action_calls"),c.prototype),d(c.prototype,"user_calls",[o],Object.getOwnPropertyDescriptor(c.prototype,"user_calls"),c.prototype),d(c.prototype,"oauth_providers",[s],Object.getOwnPropertyDescriptor(c.prototype,"oauth_providers"),c.prototype),d(c.prototype,"get_call_class",[l],Object.getOwnPropertyDescriptor(c.prototype,"get_call_class"),c.prototype),d(c.prototype,"get_call",[_],Object.getOwnPropertyDescriptor(c.prototype,"get_call"),c.prototype),d(c.prototype,"calls",[u],Object.getOwnPropertyDescriptor(c.prototype,"calls"),c.prototype),c);t.exports=O})),Ry=u((e=>{"use strict";f(),Ue();var t=Nt(),r=by(),n=Ny(),i=Sy(),a=Cy(),o=cg(),s=ug(),l=Py(),_=wy(),u=e;t.safe_register("./apiconnectorbase",u),u.find_between_characters=r.find_between_characters,u.methods=n.methods,u.method_uses_body=n.method_uses_body,u.user_friendly_parameter_names=n.user_friendly_parameter_names,u.can_be_in_browser=n.can_be_in_browser,u.get_call_from_raw=n.get_call_from_raw,u.sanitize_url=_.sanitize_url,u.generate_request_from_call_data=n.generate_request_from_call_data,u.validate_header_name=n.validate_header_name,u.validate_header_value=n.validate_header_value,u.add_shared_params_and_headers=n.add_shared_params_and_headers,u.is_call_initialized=n.is_call_initialized,u.get_error_message=n.get_error_message,u.xml_to_json=i,u.APIConnectorBasePrivateKey=a.APIConnectorBasePrivateKey,u.APIConnectorBasicAuth=a.APIConnectorBasicAuth,u.APIConnectorBaseSSLProtocol=a.APIConnectorBaseSSLProtocol,u.APIConnectorBaseOauth2PWFlow=a.APIConnectorBaseOauth2PWFlow,u.APIConnectorBaseOauth2Custom=a.APIConnectorBaseOauth2Custom,u.APIConnectorBaseJWT=a.APIConnectorBaseJWT,u.APIConnectorBaseOauth2=a.APIConnectorBaseOauth2,u.APIConnectorStructValue=s,u.BaseAPIConnector=l,u.get_btypes_from_call=function(){return o.get_btypes_from_call(...arguments)},u.get_private_key_auth_params=e=>({token_param_name:e.token_param_name,add_to_header:"private_key_header"===e.auth,add_to_url:"private_key_url"===e.auth}),u.get_oauth2_user_auth_params=e=>{var t,r;return{token_param_name:null!=(t=e.token_param_name)?t:"access_token",header_key:e.header_key,scope:e.scope,authentication_url:e.authentication_url,generate_token_from_code_uri:e.generate_token_from_code_uri,add_to_header:e.add_to_header,auth_url_params:null!=(r=e.auth_url_params)?r:{},add_to_url:!e.add_to_header,add_basic_authentication:e.add_basic_authentication,data_type:e.token_data_type?"querystring":void 0,access_type:e.add_offline?"offline":void 0,prompt:e.add_offline?"consent":void 0,server_redirect:e.server_redirect}},u.get_oauth2_pw_auth_params=e=>({generate_token_from_code_uri:e.token_endpoint,grant_type:"password",use_username_password:!0}),u.get_jwt_auth_params=e=>({iss:e.iss,scope:e.scope,generate_token_from_code_uri:e.generate_token_from_code_uri})})),zy=u((e=>{"use strict";f(),Ue(),Ft();var t=e;t.message="Initial API Version",t.changelog=[],t.date=1477087595e3,t.fix_server_dates=!1,t.fix_server_field_types=function(e){Object.entries(e).forEach((t=>{let[r,n]=t;e[r]=n.replace("Date","String")}))},t.old_server_list=!0})),Iy=u((e=>{"use strict";f();var t=e;t.bubble_props_as_functions=!1,t.message="Updated server-side actions API to match client-side one",t.changelog=["Changed List.get() for server-side actions to be (start, length), just like client-side actions, instead of (start, end)","Dates now get correctly passed in as Javascript Date objects on the server, instead of Strings"],t.date=1598479637e3})),Dy=u((e=>{"use strict";f();var t=e;t.message="Changed properties object from static properties to functions",t.changelog=["Changed properties object from static properties to get functions; this allows plugin elements ","to be defined with conditional properties that depend on the element's own states","state without throwing a recursion error."],t.date=1605784035408,t.responsive_version=0})),jy=u((e=>{"use strict";f();var t=e;t.message="Updated plugin editor to the new responsive engine",t.changelog=["Changed the properties exposed on properties.bubble to the new responsive properties","Added options for elements to fit width or fit height","Can still access width/height to re-run update function on resize","On legacy engine, plugin elements should still work"],t.date=1648335983613})),By=u((e=>{"use strict";f();var t=e;t.message="Updated plugins to run on node 18",t.changelog=["Moved context.request and context.async to context.v3 and they now return promises","Modified .get and .length to return promises","Added a utility method getAll() and a field id","Made lists implement AsyncIterable interface","Addded isBubbleThing and isBubbleList in place of single_api and list_api. single_api and list_api are still present","Added getThingById and getThingsById to the context object","See forum post here: https://forum.bubble.io/t/alpha-invite-for-plugin-developers-bubble-plugin-api-version-4/262297"],t.date=1680546487e3})),qy=u((e=>{"use strict";f();var t=e;t.message="Updated plugins to run on node 18",t.changelog=["Moved context.request and context.async to context.v3 and they now return promises","Modified .get and .length to return promises","Added a utility method getAll() and a field id","Made lists implement AsyncIterable interface","Addded isBubbleThing and isBubbleList in place of single_api and list_api. single_api and list_api are still present","Added getThingById and getThingsById to the context object"],t.date=1686667570313})),Uy=u((e=>{"use strict";f();var t=e;t.fix_server_dates=!0,t.fix_server_field_types=e=>e,t.old_server_list=!1,t.bubble_props_as_functions=!0,t.responsive_version=1})),Wy=u((e=>{"use strict";f();var t=Lo(),r=zy(),n=Iy(),i=Dy(),a=jy(),o=By(),s=qy(),l=e;l.LATEST_VERSION="4",l.LATEST_PUBLIC_VERSION=4;var _=null,u=["0","1","2","3","4_alpha","4"],c={0:{display_name:"0",node_version:14,is_public:!0,can_upgrade:!0},1:{display_name:"1",node_version:14,is_public:!0,can_upgrade:!0},2:{display_name:"2",node_version:14,is_public:!0,can_upgrade:!0},3:{display_name:"3",node_version:14,is_public:!0,can_upgrade:!1},"4_alpha":{display_name:"4 (alpha)",node_version:18,is_public:!1,can_upgrade:!1},4:{display_name:"4",node_version:18,is_public:!0,can_upgrade:!1}};l.get_pv_metadata=function(e){return c[null!=e?e:"0"]};var d=null;function p(e){return u[e]}l.get_all_version_messages=function(){if(!d){d=[];for(let e=0;e<u.length;e++){let{message:t,changelog:r,date:n}=h[p(e)];d.push({id:p(e),message:t,changelog:r,date:n})}}return d};var h={};function g(e){return h[e]}h[0]=r,h[1]=n,h[2]=i,h[3]=a,h["4_alpha"]=o,h[4]=s,l.get_pv=function(e){return _||function(){let e=Uy();_={};for(let r=u.length;r>=0;r--)e=_[p(r)]=t.extend({},e,g(p(r)))}(),_[null!=e?e:"0"]},l.meta_mapping={0:0,1:1,2:2,3:3,"4_alpha":4,4:5}})),$y=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Zl(),n=Vt(),i=qr(),a=Po(),o=e;o.get_iframe_for_cookie_phonegap=function(){if(t.on_phonegap()){let e,t=a.appname();e=n.apps_domain?"https://"+t+"."+n.apps_domain:i().location.get_base_for_meta()+"/site/"+t,e+="/version-"+a.app_version()+"/user/hi";let r=$(`<iframe src="${e}"></iframe>`);r.load((()=>{r.remove()})),$("body").append(r)}},o.refresh_current_user=function(){let e={};e[r.CurrentUser()]=null;let t=i().current_user();e[r.Message({prev:t,message:"email",prior_btype_id:"user"})]=null;for(let n of a.get_oauth_providers())e[r.Message({prev:t,message:n,prior_btype_id:"user"})]=null;return e},o.get_remember_email_key=()=>"_bubble_saved_email_"+i().appname()+"_"+i().app_version()})),Fy=u(((e,t)=>{"use strict";f();var r=Lo(),n=$y(),i=ag(),a=cl(),o=qr();t.exports={field_names:{email:{},password:{},password2:{},require_confirm:{},send_confirm_email:{},page:{},remember_email:{optional:!0},...i.change_field_names(a.EVAL_TYPE.value)},run(e,t,i,a){i.get_server_outcome(e,((e,i)=>{n.get_iframe_for_cookie_phonegap(),e?a(e):(o().current_user().flush(),!0===t.remember_email&&r.local_storage_put(n.get_remember_email_key(),{email:t.email}),a(e,i))}))},server_method:"sign_up",data_to_refresh:n.refresh_current_user,preprocess_properties(e){let t="user",r="changes";return e=i.pre_process_properties({properties:e,prop_name:r,thing_btype_id:t}),e=i.apply_default_fields(r,t,e)},requires_cookies:!0}})),Gy=u(((e,t)=>{"use strict";f();var r=b_(),n=Al(),i=$y();t.exports={field_names:n.DETECT_FIELD_NAMES,not_api:!0,run(e,t,n,i){n.get_server_outcome(e,((a,o)=>{if(a)return void i(a);let{oauth_provider:s}=t,l=r.get_oauth_authenticator(s);if(!l||!l.login)return s?window.alert("Undefined oauth provider: "+s):window.alert("Oops, please fill out the social network for this action"),void i("aborted");l.login(n,e,o,i)}))},resume(e,t,r){t.get_server_outcome(e,r)},server_method:"oauth_login",server_method_resume:"oauth_login_resume",data_to_refresh:i.refresh_current_user,requires_cookies:!0}})),Xy=u(((e,t)=>{"use strict";f();var r=Lo(),n=$y();Po();t.exports={field_names:{email:{},password:{},stay_logged_in:{default:!0},remember_email:{optional:!0}},run(e,t,i,a){i.get_server_outcome(e,((e,i)=>{t.remember_email&&r.local_storage_put(n.get_remember_email_key(),{email:t.email}),n.get_iframe_for_cookie_phonegap(),a(e,i)}))},server_method:"log_in",data_to_refresh:n.refresh_current_user,requires_cookies:!0}})),Hy=u(((e,t)=>{"use strict";f();var r=$y();t.exports={field_names:{},run(e,t,n,i){n.get_server_outcome(e,((e,t)=>{r.get_iframe_for_cookie_phonegap(),i(e,t)}))},server_method:"log_out",requires_cookies:!0,data_to_refresh:r.refresh_current_user}})),Vy=u(((e,t)=>{"use strict";f();var r=$y();t.exports={field_names:{},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"cookie_opt_in",requires_cookies:!0,data_to_refresh:r.refresh_current_user}})),Yy=u(((e,t)=>{"use strict";f();var r=$y();t.exports={field_names:{},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"cookie_opt_out",requires_cookies:!0,data_to_refresh:r.refresh_current_user}})),Ky=u(((e,t)=>{"use strict";f();var r=Zl(),n=qr();t.exports={field_names:{old_password:{},change_email:{},email:{},change_password:{},password:{},require_confirm:{},password2:{},do_not_show_success_alert:{},send_confirm_email:{},page:{default:"index"}},run(e,t,r,i){r.get_server_outcome(e,(e=>{n().current_user().flush(),e?i(e):(t.do_not_show_success_alert||alert(n().get_text("CORE","UPDATE_CREDENTIAL_SUCCESS")),i())}))},server_method:"update_credentials",data_to_refresh(e,t,i){let a={};if(t.change_email){let e=n().current_user();a[r.Message({prev:e,message:"email",prior_btype_id:"user"})]=t.email}return a}}})),Jy=u(((e,t)=>{"use strict";f();var r=Zl();t.exports={field_names:{user:{},new_email:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"change_email_for_another_user",data_to_refresh(e,t,n){let i={},{user:a}=t;return null!=a&&(i[r.Message({prev:a,message:"email",prior_btype_id:"user"})]=t.new_email),i}}})),Zy=u(((e,t)=>{"use strict";f();var r=Lo(),n=ql(),i=fv(),a=ag(),o=cl(),s=qr();t.exports={field_names:{...a.change_field_names(o.EVAL_TYPE.value)},run(e,t,n,a){if(t.changes&&!r.is_empty(t.changes)){let e=s().current_user();i.update_thing(e,t.changes).callback(a)}else a()},data_to_refresh:(e,t,r)=>a.get_data_to_refresh_for_change_action({to_change:s().current_user(),to_change_value_id:"user",changes:t.changes}),return_value:()=>null,server_method:"change_current_user",preprocess_properties:a.make_pre_process_properties({prop_name:"changes",thing_btype_id:"user"}),fall_back_to_server:!0,requires_server:()=>!(r.on_client()&&s().current_user()._id()===n.NO_USER)}})),Qy=u(((e,t)=>{"use strict";f();var r=Fl();t.exports={field_names:{to:{},subject:{default:"Your password reset request"},body:{default:"Hello,\n\nSomeone (hopefully you!) submitted a request to reset your password. If it wasn't you, please ignore this message. If it was you, you can reset your password at the below link.\n\nThe Team\n\n"},just_make_token:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"send_password_reset_email",return_value:e=>e.get_static_property("just_make_token")?r.get("text"):null,check_use_visible:!0,data_to_refresh:null,do_not_send_result_to_client:!0}})),eb=u(((e,t)=>{"use strict";f();var r=Fl();t.exports={field_names:{email:{},subject:{default:"Your magic link"},body:{default:"Hello,\n\nYou requested a magic link to login to your account. Please note that\nthis link can only be used to login once and lasts for one hour.\n\nThe Team\n\n"},link_text:{default:"Login here"},valid_link_time_frame:{default:null,validation_fn:e=>e<=24&&e>0},success_page:{},success_customize:{},failure_customize:{},data_to_send_success:{},data_to_send_failure:{},add_parameters_success:{},add_parameters_failure:{},url_parameters_success:{},url_parameters_failure:{},keep_current_page_params_success:{},keep_current_page_params_failure:{},failure_page:{},just_make_link:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"send_magic_link_email",return_value:e=>e.get_static_property("just_make_link")?r.get("text"):null,check_use_visible:!0,data_to_refresh:null,do_not_send_result_to_client:!0}})),tb=u(((e,t)=>{"use strict";f();var r=Fl();t.exports={field_names:{page:{},just_make_token:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"send_confirmation_email",return_value:e=>e.get_static_property("just_make_token")?r.get("text"):null,data_to_refresh:null,check_use_visible:!0}})),rb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{new_password:{},new_password_again:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"reset_password",data_to_refresh:null}})),nb=u(((e,t)=>{"use strict";f();var r=ot(),n=Qt(),i=ag(),a=cl(),o=Fl();t.exports={field_names:n.extend({email:{},password:{},return_user_if_already_exists:{}},i.change_field_names(a.EVAL_TYPE.value)),run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"create_user_account",data_to_refresh:null,return_value:()=>o.get("user"),preprocess_properties(e){let t="user",n="changes";return"string"==typeof(e=i.pre_process_properties({properties:e,prop_name:n,thing_btype_id:t})).email&&!r.on_server()&&(e=i.apply_default_fields(n,t,e)),e}}})),ib=u(((e,t)=>{"use strict";f(),t.exports={field_names:{password:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"check_user_password",data_to_refresh:null}})),ab=u(((e,t)=>{"use strict";f();var r=Fl();t.exports={field_names:{user:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"set_temporary_password",do_not_log_result:!0,data_to_refresh:null,return_value:()=>r.get("text")}})),ob=u(((e,t)=>{"use strict";f(),t.exports={field_names:{},server_method:"log_out_other_sessions",data_to_refresh:null}})),sb=u(((e,t)=>{"use strict";f();var r=Fl();t.exports={field_names:{password:{}},do_not_log_result:!0,run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"generate_2fa_qr_code",data_to_refresh:null,return_value:()=>r.get("image")}})),lb=u(((e,t)=>{"use strict";f();var r=Zl(),n=qr();t.exports={field_names:{token:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"validate_2fa_token",data_to_refresh(e,t,i){let a={};return a[r.Message({prev:n().current_user(),message:"uses_2fa",prior_btype_id:"user"})]=!0,a}}})),_b=u(((e,t)=>{"use strict";f(),t.exports={field_names:{token:{},valid_30_days:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"check_2fa_token",data_to_refresh:null}})),ub=u(((e,t)=>{"use strict";f();var r=Zl(),n=qr();t.exports={field_names:{token:{},password:{}},run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"disable_2fa",data_to_refresh(e,t,i){let a={};return a[r.Message({prev:n().current_user(),message:"uses_2fa",prior_btype_id:"user"})]=!1,a}}})),cb=u(((e,t)=>{"use strict";f();var r=Zl(),n=xr(),i=qr(),a=Fl();t.exports={field_names:{token:{},password:{},number_of_codes:{default:10}},do_not_log_result:!0,run(e,t,r,n){r.get_server_outcome(e,n)},server_method:"generate_one_time_codes",data_to_refresh(e,t,n){let a={};return a[r.Message({prev:i().current_user(),message:"has_codes",prior_btype_id:"user"})]=!0,a},return_value:()=>a.get(n.list_type("text"))}})),db=u((e=>{"use strict";f();var t=qr(),r=Ov(),n=Lo();e.build_page_url_for_action=function(e,i,a,o,s,l,_){let u={},c="";_&&(c=_),n.is_debug_mode()&&(u.debug_mode=!0);let d={};if(i){let e=null!=a?a:{};for(let t in e){let r=e[t];d[r.key]=r.value}}o&&(d=n.extend(t().location.get_query(),d));for(let e in d){let t=d[e];r.forbidden_url_keys.includes(e)||(u[e]=t)}return{pg_thing:c,data_fr_link:u}}})),pb=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=db(),i=i_(),a=ag(),o=Kt(),s=Po(),l=kv(),_=qr(),u=(Ov(),Tp());t.exports={field_names:{element_id:{},data_to_send:{},dynamic_page_name:{},open_in_new_tab:{},add_parameters:{},url_parameters:{},keep_current_page_params:{},replace_history:{}},run(e,t,c,d){function p(e,t,c,d){let p;switch(t.element_id){case"Current page":p=s.get_page_by_name(_().location.get_page());break;case"Dynamic page":p=s.get_page_by_name(t.dynamic_page_name);break;default:p=a.get_page(t.element_id)}if(!p)return console.log("not changing page because page not found"),void d();if(r.on_phonegap())return void window.alert("Native apps should be built in a single page, you can't use a change action here");let f=p.name();r.run_once(30,(()=>{let e;switch(t.element_id){case"Current page":e=_().pageparam.get();break;case"Dynamic page":e="";break;default:e=t.data_to_send}return i.get_data_to_send(e,p.get_static_property("readable_field"))}),((r,i)=>{r&&o.log(r);let a=n.build_page_url_for_action(t.data_to_send,t.add_parameters,t.url_parameters,t.keep_current_page_params,f,p,i),s=a.data_fr_link;a.pg_thing&&(f+="/"+a.pg_thing);let h=s.lang,g=u.app_language(),m=h&&g!==h.toLowerCase();if(t.open_in_new_tab)return window.open(_().location.get_page_url(f,s),"_blank"),window.focus(),void d();if(p.name()===_().location.get_page()&&!m){let e=_().location.get_page_url(f,s);return e!==_().location.my_location()&&(_().location.set_url_without_refresh({url:e,push_state:!t.replace_history}),_().pageparam.invalidate()),null!=c&&(c.__investigate_post_changed_page_url_reads=!0),void d()}let v=_().workflow.make_resume_key(c,e);v&&(s.resume=v),_().workflow.wait_for_safe(c,(()=>{v||d("aborted"),c.__investigate_post_changed_page_url_reads=!0,m&&(document.location.href=void 0),l.navigate_to_page(f,s)}))}))}null!=_().location.get_query().on_login?r.run_once(15,(()=>_().user.has_changed()),((r,n)=>{r&&o.log(r),n||p(e,t,c,d)})):p(e,t,c,d)},not_api:!0,data_to_refresh:null}})),fb=u(((e,t)=>{"use strict";f();var r=ag(),n=qr();t.exports={field_names:{},run(e,t,i,a){n().workflow.wait_for_safe(i,(()=>{document.location.href=r.get_resume_url(i,e)}))},not_api:!0,data_to_refresh:null}})),hb=u(((e,t)=>{"use strict";f();var r=qr();t.exports={field_names:{},run(e,t,n,i){r().workflow.wait_for_safe(n,(()=>{window.history.back(),i()}))},not_api:!0,data_to_refresh:null}})),gb=u(((e,t)=>{"use strict";f();var r=Lo(),n=qr(),i=Ov();t.exports={field_names:{url:{},open_in_new_tab:{}},run(e,t,a,o){let s=t.url;if(s&&!s.includes("//")&&!i.href_attributes.includes(s.split(":")[0])&&(s="//"+s),r.on_phonegap())return window.open(s,"_blank","location=yes,enableViewportScale=yes"),void o();t.open_in_new_tab?(window.open(s,"_blank"),window.focus(),o()):n().workflow.wait_for_safe(a,(()=>{o("aborted"),document.location.href=s}))},not_api:!0,data_to_refresh:null}})),mb=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt();t.exports={field_names:{element_id:{},offset:{optional:!0,default:0}},run(e,t,i,a){r.run_once(30,(()=>i.element.find_instance_by_id(t.element_id)),((e,i)=>{e&&n.log(e),i&&i.with_canvas((e=>{var n;r.velocity(e,"scroll",{duration:300,offset:null!=(n=t.offset)?n:0})})),a()}))},not_api:!0,data_to_refresh:null}})),vb=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt(),i=ag();t.exports={field_names:{element_id:{},animation:{default:"callout.bounce"},customize_duration:{},duration:{}},run(e,t,a,o){r.run_once(30,(()=>a.element.find_instance_by_id(t.element_id)),((e,a)=>{e&&n.log(e),a&&t.animation&&a.with_canvas((e=>{let n;var o;t.customize_duration?n=null!=(o=t.duration)?o:i.get_velocity_animation_duration(t.animation):n=i.get_velocity_animation_duration(t.animation);let s={duration:n};0===t.animation.indexOf("transition.")?-1!==t.animation.indexOf("Out")?a.workflow_hide(t,s,!0):-1!==t.animation.indexOf("In")&&a.workflow_show(t,s,!0):a.setTimeout((()=>{var n;!1===(null==(n=document)?void 0:n.hidden)&&r.velocity(e,t.animation,s)}),20)})),o()}))},not_api:!0,data_to_refresh:null}})),yb=u((e=>{"use strict";f();var t=Zl(),r=fl(),n=cl(),i=(cv(),O_()),a=Po(),o=e;o.field_names_for_show_hide_action={element_id:{}},o._get_data_to_refresh_for_group_actions=function(e,o,s,l){var _,u;if(null==(_=a.element(o.element_id))||!_.exists())return{};let c=s.find_instance_by_id(o.element_id);if(!c)return{};let d=r.dehydrate_tree(c),p={};return p[t.Message({prev:c,message:"get_group_data",prior_btype_id:c.element.get_value_id()})]=l,p[n.ESTATE_PREFIX+d]={group_data:l},(null==c?void 0:c.element.id())===(null==(u=i.get_element_parent(e))?void 0:u.id())&&(p[t.ElementParent()]=l),p},o.field_names_show_previous_next={element_id:{},wrap_around:{default:!1}},o.is_fixed_rg=function(e){var t;return(null==(t=e.root())?void 0:t.get_responsive_version())>0?e.get_static_property("fixed_rows")&&e.get_static_property("fixed_columns"):"limit_items"===e.get_static_property("layout_style")},o._get_data_to_refresh_for_repeating_group_actions=function(e,i,a,o){let s=a.find_instance_by_id(i.element_id),l=r.dehydrate_tree(s),_={};return _[t.Message({prev:s,message:"get_list_data",prior_btype_id:s.element.get_value_id()})]=o,_[n.ESTATE_PREFIX+l]={list_data:o},_},o.clear_rg_pagination_frozen_states=function(e,r,n){var i;if(null==(i=a.element(r.element_id))||!i.exists())return{};let o=n.find_instance_by_id(r.element_id);if(!o)return{};let s={},l=o.element.get_value_id();return s[t.Message({prev:o,message:"is_last_page",prior_btype_id:l})]=null,s[t.Message({prev:o,message:"is_first_page",prior_btype_id:l})]=null,s[t.Message({prev:o,message:"page_number",prior_btype_id:l})]=null,s}})),bb=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt(),i=yb();t.exports={field_names:{element_id:{}},run(e,t,i,a){r.run_once(30,(()=>i.element.find_instance_by_id(t.element_id)),(function(e,t){e&&n.log(e),t&&t.wait_for_visible((function(){r.wait_for_updates((function(){let e=t.get_canvas();r.isScrolledIntoView(e).status||0===e.add(e.parents()).filter((function(){return"fixed"===$(this).css("position")})).length&&r.velocity(e,"scroll",{duration:300,offset:-100}),t.message("set_focus")}))})),a()}))},not_api:!0,data_to_refresh:null,check_for_errors:i.element_type_checker}})),wb=u(((e,t)=>{"use strict";f();var r=fv(),n=ag(),i=qr(),a=Fl();t.exports={field_names:{thing_type:{},initial_values:{}},run(e,t,n,a){let o=n.UUID_SEED.UUID(),s=i().db_instance().create(t.thing_type,null,o);r.update_thing(s,t.initial_values).callback((e=>{a(e,s)}))},data_to_refresh:null,return_value(e){var t;return a.get(null!=(t=e.get_static_property("thing_type"))?t:"null")},server_method:"new_thing",preprocess_properties(e){let t=e.thing_type,r="initial_values";return n.pre_process_properties({properties:e,prop_name:r,thing_btype_id:t}),e=n.apply_default_fields(r,t,e)},fall_back_to_server:!0,is_mergeable:!0}})),Ab=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt(),i=wl(),a=fv(),o=ag(),s=cl(),l=Bl(),_=qr();t.exports={field_names:{to_change:{},create_if_missing:{},...o.change_field_names(s.EVAL_TYPE.thunk)},run(e,t,r,n){let{to_change:i}=t;if(null!=i)a.update_thing(i,t.changes).callback((e=>{n(e,i)}));else if(t.create_if_missing){var o;let i=null==(o=this._get_type(e))?void 0:o.id(),s=r.UUID_SEED.UUID();if(i){let e=_().db_instance().create(i,null,s);a.update_thing(e,t.changes).callback((t=>{n(t,e)}))}else n()}else n()},use_injected_datasource:(e,t)=>o.use_injected_for_change_actions(e,t),_get_type:e=>e.property("to_change").get_eval_value(),get_injected_value(e,t){return this._get_type(e)},get_injected_display(e,t){var r;return"This "+(null==(r=this._get_type(e))?void 0:r.display())},server_method:"change_thing",data_to_refresh(e,t,r){var n;return o.get_data_to_refresh_for_change_action({to_change:t.to_change,to_change_value_id:null==(n=this._get_type(e))?void 0:n.id(),changes:t.changes})},return_value(e){return this._get_type(e)},preprocess_properties(e,t,a){var s;(a=r.extend({},a)).duplicated_from_context=a.object_id,a.object_id=r.UUID(),a.duplicated_at="ChangeThing::preprocess_properties";let _=null==(s=this._get_type(t))?void 0:s.id(),{to_change:u}=e;a.datasources.injected_value_btype=()=>_,a.datasources.injected_value=()=>u;let c="changes",d=t.property(c);e.changes=l.with_eval_node(d,(()=>e.changes(a)));let p=i.action_update_thing.active(),f={};return p&&(f.from_json=r.extend({},e.changes)),e=o.pre_process_properties({properties:e,prop_name:c,thing_btype_id:_}),p&&(f.pre_processed=r.extend({},e.changes)),null==u&&e.create_if_missing&&_&&(e=o.apply_default_fields(c,_,e),p&&(f.with_defaults=r.extend({},e.changes))),p&&n.debug("change_thing pre_evaluation",f),e},fall_back_to_server:!0,is_mergeable:!0}})),Eb=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=Bl(),a=fv(),o=ag(),s=cl(),l=xr(),_=B_(),u=Fl();t.exports={field_names:{type_to_change:{},to_change:{},...o.change_field_names(s.EVAL_TYPE.thunk)},use_injected_datasource:(e,t)=>o.use_injected_for_change_actions(e,t),get_injected_value:(e,t)=>e.get_static_property("type_to_change"),get_injected_display:(e,t)=>"This "+u.get(e.get_static_property("type_to_change")).display(),preprocess_properties(e,t,a){var s;if(n.optional_pause(),(a=r.extend({},a)).duplicated_from_context=a.object_id,a.object_id=r.UUID(),a.duplicated_at="ChangeListOfThings::preprocess_properties",!u.is_custom_type(e.type_to_change))return{changes:null};a.datasources.injected_value_btype=()=>e.type_to_change;let l=null!=(s=e.to_change)?s:new _([],null,e.type_to_change);delete e.to_change;let c=e.changes;e.changes=[];let d=t.property("changes");return i.with_eval_node(d,(()=>{var t;null==(t=l.all_iteratively)||t.call(l,(t=>{let r=t.filter((e=>null!=(null==e?void 0:e._id)));r.forEach((e=>{var t;return null==(t=e.precache)?void 0:t.call(e)})),n.optional_pause();for(let t of r){a.datasources.injected_value=()=>t;let r=c(a),i=e.type_to_change,s="changes";e.changes.push(o.pre_process_properties({properties:{item:t,changes:r},prop_name:s,thing_btype_id:i})),n.optional_pause()}})),n.optional_pause()})),e},run(e,t,n,i){if(!t.changes)return void i(null,null);let o=t.changes.map((e=>{let{item:r,changes:n}=e;return a.update_thing(r,n,t.type_to_change)}));r.promise_array(o).callback((e=>{u.is_custom_type(t.type_to_change)?i(e,new _(t.changes.map((e=>{let{item:t}=e;return t})),null,t.type_to_change)):i(null,null)}))},data_to_refresh(e,t,n){let i={};if(!t.changes)return i;for(let{item:e,changes:n}of Object.values(t.changes)){let a=o.get_data_to_refresh_for_change_action({to_change:e,to_change_value_id:t.type_to_change,changes:n});r.extend(i,a)}return i},return_value(e){let t=e.get_static_property("type_to_change");return t?l.list_type(t):"null"},server_method:"change_list_of_things",fall_back_to_server:!0}})),Mb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{to_delete:{}},run(e,t,r,n){var i;let{to_delete:a}=t;null==a||null==(i=a.delete)||i.call(a),n()},data_to_refresh:null,return_value:e=>null,server_method:"delete_thing",fall_back_to_server:!0,is_mergeable:!0}})),xb=u(((e,t)=>{"use strict";f(),Ue(),t.exports={field_names:{type_to_delete:{},to_delete:{}},preprocess_properties(e){var t,r,n;return e.to_delete=null!=(t=null==(r=e.to_delete)||null==(n=r.all)?void 0:n.call(r))?t:[],e},run(e,t,r,n){var i;let a=(null!=(i=t.to_delete)?i:[]).filter((e=>null!=(null==e?void 0:e._id)));for(let e of a){var o;null==(o=e.delete)||o.call(e)}n()},data_to_refresh:null,return_value:e=>null,server_method:"delete_list_of_things",fall_back_to_server:!0}})),Ob=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt(),i=Vt(),a=ag(),o=xr(),s=qr(),l=B_(),_=Fl();t.exports={field_names:{type_to_copy:{},to_copy:{},information:{}},preprocess_properties(e){var t,r,n,a;"function"!=typeof(null==(t=e.to_copy)?void 0:t.length)||e.to_copy.length()>i.max_new_list_length?e.to_copy=[]:e.to_copy=null!=(r=null==(n=e.to_copy)||null==(a=n.all)?void 0:a.call(n))?r:[];return e},run(e,t,i,o){var u;if(!_.is_custom_type(t.type_to_copy))return void o(null,null);let c=(null!=(u=t.to_copy)?u:[]).filter((e=>null!=(null==e?void 0:e._id)));return r.run_once(30,(()=>c.map((e=>e.raw()))),((e,r)=>{if(e)return void n.log(e);let _=r.map((e=>{let r=i.UUID_SEED.UUID(),n=a.prepare_raw_thing_to_copy(e);return s().db_instance().create(t.type_to_copy,n,r)}));o(void 0,new l(_,null,t.type_to_copy))}))},data_to_refresh:null,return_value(e){let t=e.get_static_property("type_to_copy");return t?o.list_type(t):"null"},server_method:"copy_list_of_things",fall_back_to_server:!0}})),kb=u(((e,t)=>{"use strict";f();var r=Lo(),n=ag();t.exports={field_names:r.extend({to_change:{},slug:{default:""}}),server_method:"set_slug",data_to_refresh(e,t){var r;return n.get_data_to_refresh_for_change_action({to_change:t.to_change,to_change_value_id:null==(r=e.property("to_change").get_eval_value())?void 0:r.id(),changes:[{key:"Slug",value:t.slug}]})},run(e,t,r,n){r.get_server_outcome(e,((e,t)=>{null!=(null==t?void 0:t.thing)&&t.thing.child("Slug").set(t.slug),n(e,t)}))}}})),Sb=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Kt(),i=cv(),a=qr(),o=B_(),s=Fl();function l(e,t,r){return null==t?"":e.has_export_to_string()?e.export_to_string(t,{option_show_if_deleted:!1,custom_use_primary_field:!1,booleans_yes_no:!1,always_return_text:!0,date_formatting:r}):(n.error("Tried to display a value in DownloadAsCSV but no export_to_string for this value",{ret_btype_id:e.id()}),"")}function _(e,t,r,n,i){null!=n||(n=[]);let a=[],o=s.get(t),_=[];o.custom_type()?(_.push(...o.custom_type().fields().filter((e=>!e.deleted())).map((e=>e.name()))),_.push("Created Date","Modified Date","_id","Slug"),"user"===t?_.push("email"):_.push("Created By")):_.push(...o.get_messages(!0).map((e=>e.name())));for(let t of e){let e={};for(let a of _)if(!n.includes(a)){let n=o.get_message(a),s=l(n.ret_btype(),n.evaluate(t),r);var u;if(e[i?n.description(void 0,!0):n.name()]=s,"Created By"===a&&s)e["Created By - email"]=null!=(u=o.get_message("Created By").evaluate(t).get_email())?u:""}a.push(e)}return a}t.exports={not_api:!0,field_names:{data_type:{},data_source:{},file_name:{default:"data_export.csv"},date_formatting:{default:"spreadsheet_compatible"},custom_format:{default:"ddd, m/dd/yy, mmmm (mmm) dS, yyyy, h:MM tt, HH:MM:ss.L"},separator:{default:"comma"},show_labels:{default:!0},use_quotes:{default:!0},use_caption_labels:{default:!1},hide_some_fields:{optional:!0}},run(e,t,s,l){var u;if(!a().app_plan().import_export_csv)return void l(new r.OwnerError("Exporting CSV data is not possible under this plan."));let c;var d;(t.data_type||l(null,"Must set a type of thing"),"tab"===t.separator)?c="\t":c=null!=(d=i.csv_separators[t.separator])?d:",";let p="custom"===t.date_formatting?t.custom_format:t.date_formatting,f=null!=(u=t.data_source)?u:new o([],null,t.data_type);r.run_once(120,(()=>{f.all();let e=f.length(),n=[];for(let i=0;i<e;i+=100)n.push(r.run_once(6e5,(()=>{var e,n;return _(null!=(e=f.get_children(i,100))?e:[],t.data_type,p,r.json_parse(null!=(n=t.hide_some_fields)?n:"[]"),t.use_caption_labels)})));return n})).then((e=>r.promise_array(e).callback(((e,i)=>{let a,{file_name:o}=t;if(o.indexOf(".csv")!==o.length-4&&(o+=".csv"),e)n.log(e),a="Error exporting data... please try again in a bit";else{let e=[];for(let t of i)e=e.concat(t);a=r.json_to_csv(e,c,t.show_labels,t.use_quotes)}r.csv_to_downloadable_file(o,a),l(null,a)}))))},data_to_refresh:null}})),Tb=u(((e,t)=>{"use strict";f();var r=xr();t.exports={field_names:{data_type:{},file:{},separator:{default:"comma"}},run(e,t,r,n){r.get_server_outcome(e,((e,t)=>n(e,t)))},data_to_refresh:null,return_value(e){let t=e.get_static_property("data_type");return t?r.list_type(t):"null"},server_method:"upload_csv_data"}})),Nb=u(((e,t)=>{"use strict";f(),t.exports={api_only:!0,field_names:{return_plain_text:{},custom_content_type:{},text:{},custom_text:{},parameters_actions:{}},run(e,t,r,n){},server_method:"api_return_data",check_for_errors:(e,t)=>(e.event().actions("APIReturnData").filter((e=>{var t,r,n;return null==(null==(t=e.property)||null==(r=t.call(e,"condition"))||null==(n=r.json)?void 0:n.raw())})).length>1&&t("You should use only one 'Return data from API' action per API workflow"),!1)}})),Cb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{url_to_delete:{}},data_to_refresh:null,server_method:"delete_upload_file",run(e,t,r,n){r.get_server_outcome(e,((e,t)=>n(e,t)))}}})),Lb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{custom_event:{},workflow_thing:{legacy:!0},arguments:{}},check_for_errors:(e,t,r)=>!1}})),Pb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{element_id:{},custom_event:{},workflow_thing:{legacy:!0},arguments:{}},not_api:!0,check_for_errors:(e,t,r)=>!r&&(t(void 0,void 0,e.id()),!0)}})),Rb=u(((e,t)=>{"use strict";f();var r=Lo(),n=ul(),i=Jt(),a=w_(),o=qr(),s=Po(),l=Fl();t.exports={field_names:{custom_event:{},workflow_thing:{},field:{}},check_for_errors(e,t){let r=e.get_static_property("custom_event");var n;r&&(1!==(null==(n=s.event(r))?void 0:n.get_custom_parameters().length)&&t(this.display(e)+" - can only be used with custom events that take exactly one argument"));return!1},run(e,t,_,u){let{workflow_thing:c,field:d}=t,p=s.event(t.custom_event);if(null==c||null==d||null==p||!p.exists())return console.log("Skipping trigger custom event on change, missing data"),void u();let{element:f}=_,h=o().workflow;r.run_once(30,(()=>"email_confirmed"===d?l.get("user").get_message("email_confirmed").evaluate(c):c.child(d).raw()),((e,t)=>{if(e)return void u(e);u(),c.poll(5e3,600);let o=!1,s=r.Watcher({fn:()=>c.child(d).raw(),compare:n});s.on_value((e=>{if(!o&&!r.compare(t,e)){var n,l;o=!0,s.destroy();let e={};e[null!=(n=null==(l=p.get_custom_parameters()[0])?void 0:l.param_id)?n:i.LEGACY_PARAM_ID]=c;let t=a.build_duplicate_per_item_context({element:f},e);console.log(Object.keys(t.datasources.get_wf_param({param_id:"__ALL__"}))),h.run_workflows(t,[p],!0)}}))}))},not_api:!0}})),zb=u(((e,t)=>{"use strict";f();var r=T_(),n=Lo(),i=Kt(),a=Vr(),o=w_(),s=qr(),l=Po(),_=Qm(),u=0;t.exports={field_names:{custom_event:{},workflow_thing:{legacy:!0},arguments:{},delay:{}},run(e,t,c,d){var p;let f=o.wf_params_from_properties(t),h=l.event(t.custom_event);if(null==h||!h.exists())return console.log("Skipping trigger custom event on change, event does not exist"),void d();let{element:g}=c,m=s().workflow,v=0;h.actions().some((e=>e.requires_server()))&&(u++,setTimeout((()=>u--),3e4),u>10&&(v=30*(u-10)*1e3));let y=1e3*(null!=(p=t.delay)?p:1)+v;y>2147483647&&(y=2147483647,i.owner_warn(new n.OwnerError("max_timeout",{action:e,display:"Timeout is above the maximum of 2,147,483 seconds; shortening to 2,147,483"}))),setTimeout((()=>{let e=o.build_duplicate_per_item_context({element:g},f);e.datasources=r.get_basic_datasources(e.element.element.root(),e.datasources),m.run_workflows(e,[h],!0).callback((e=>_.handle_uncaught_error({original_error:e,caught_from:a.ERROR_SOURCES.GENERAL_WORKFLOW,cb(){}})))}),y),d()},not_api:!0}})),Ib=u(((e,t)=>{"use strict";f();var r=Zm(),n=Fl();t.exports={field_names:r.DETECT_FIELD_NAMES,server_method:"schedule_api_event",check_for_errors:(e,t,r)=>_api_event_schedule_check_for_error(e,t,r),return_value:()=>n.get("text"),run(e,t,r,n){r.get_server_outcome(e,n)}}})),Db=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=Al(),a=Ql(),o=Bl(),s=ag(),{escape_app_json_key:l}=kl(),_=xr(),u=qr(),c=Po(),d=Fl();t.exports={field_names:i.DETECT_FIELD_NAMES,server_method:"schedule_api_event_on_list",use_injected_datasource:(e,t)=>[t.safe_search_upwards((e=>e.node_name().startsWith(s.APIEvent_param_prefix))),!0],get_injected_value:(e,t)=>e.get_static_property("type_of_list"),get_injected_display:(e,t)=>"This "+d.get(e.get_static_property("type_of_list")).display(),preprocess_properties(e,t,i){var _,p,f;(i=r.extend({},i)).duplicated_from_context=i.object_id,i.object_id=r.UUID(),i.duplicated_at="ScheduleAPIEventOnList::preprocess_properties",null!=e.type_of_list||(e.type_of_list=d.get(e.type_of_list,{miss_okay:!0}).id()),i.datasources.injected_value_btype=()=>e.type_of_list;let h=null!=(_=e.data_source)?_:u().db_instance().static_list(e.type_of_list,[]);delete e.data_source,e.to_run=[];let g=c.workflow_item(e.api_event),m=null!=(p=null==g||null==(f=g.get_custom_parameters)?void 0:f.call(g))?p:[];for(let t in e)t.startsWith(s.APIEvent_param_prefix)&&delete e[t];let v=r.on_server()?20:1e3,y=0;for(;;){var b,w;r.on_server()&&n.optional_pause();let _=(null!=(b=null==(w=h.get_children)?void 0:w.call(h,y,v))?b:[]).filter((e=>null!=e));for(let e of _){var A;null==(A=e.precache)||A.call(e)}if(y+=v,0===_.length)break;for(let r of _){let n={injected_value:r};i.datasources.injected_value=()=>r;for(let{param_id:e}of m){let r=s.APIEvent_param_prefix+l(e),_=t.property(r);o.with_eval_node(_,(()=>{let[e]=a.evaluate_json(_.json,i,null,null);n[r]=e}))}e.to_run.push(n)}}return e},check_for_errors:(e,t,r)=>_api_event_schedule_check_for_error(e,t,r),return_value:()=>d.get(_.list_type("text")),run(e,t,r,n){r.get_server_outcome(e,n)}}})),jb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{},handle_condition_internally:!0,run(e,t,r,n){t.condition?n("aborted"):r.is_running_on_server?r.get_server_outcome(e,((e,t)=>{e?n(e):"aborted"===t?n("aborted"):n()})):n()}}})),Bb=u(((e,t)=>{"use strict";f();var r=Kt();t.exports={field_names:{scheduled_id:{}},server_method:"cancel_scheduled_api_event",run(e,t,n,i){n.get_server_outcome(e,((e,n)=>{if(e){let e=`The id ${t.scheduled_id} is not correctly formatted. `;!function(e){return null!=e&&null!=e.split&&e.split(",").every((e=>{let t=Number(e);return!Number.isNaN(t)&&parseInt(t)===t}))}(t.scheduled_id)?e="It should be a single numerical ID in a text expression.":e+="It is formatted as a list of ids. Consider using the 'Cancel a list of scheduled API Workflows' action.",r.owner_error("Invalid API workflow id",{display:"Invalid API workflow id: "+e})}i(e,n)}))}}})),qb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{scheduled_ids:{}},server_method:"cancel_list_scheduled_api_events"}})),Ub=u(((e,t)=>{"use strict";f(),t.exports={field_names:{recurring_event:{},workflow_thing:{},frequency:{},start_date:{}},server_method:"set_recurring_event"}})),Wb=u(((e,t)=>{"use strict";f();var r=jp();t.exports={field_names:{length:{default:1e3},hide_status_bar:{}},run(e,t,n,i){if((!t.length||t.length<=0)&&(t.length=0),t.hide_status_bar){let e=function(){r.bar_visible()?r.hide_run_mode():setTimeout(e,100)};e()}setTimeout((()=>{t.hide_status_bar&&r.show_run_mode(),i()}),t.length)},not_api:!0,data_to_refresh:null}})),$b=u(((e,t)=>{"use strict";f(),t.exports={field_names:{to:{},different_reply_to:{},replyTo:{},sender_name:{},cc:{},bcc:{},subject:{},body:{},ignore_template:{},unsubscribe_group_id:{},list_of_attachments:{}},server_method:"send_email",data_to_refresh:null,run(e,t,r,n){r.get_server_outcome(e,n)},check_use_visible:!0}})),Fb=u(((e,t)=>{"use strict";f(),t.exports={field_names:{to:{},sender_name:{},start:{},end:{},specify_length:{},event_length:{},summary:{},event_description:{},location:{},change_body:{},SEQUENCE:{},UID:{},METHOD:{},ORGANIZER:{},STATUS:{},body:{default:"Open the attached ICS to put the appointment in your calendar."},ignore_template:{}},server_method:"send_ical_by_email",data_to_refresh:null,check_use_visible:!0}})),Gb=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt(),i=yb();t.exports={field_names:r.extend({},i.field_names_for_show_hide_action),run(e,t,i,a){r.run_once(30,(()=>i.element.find_instance_by_id(t.element_id)),((e,t)=>{e&&n.log(e),t.element.added_to_container()&&t.parent()&&!t.parent()._has_become_visible.is_turned()||null==t||t.workflow_show(),a()}))},data_to_refresh:null}})),Xb=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt(),i=yb();t.exports={field_names:r.extend({animation:{no_states:!0,default:"none"},direction:{no_states:!0,default:"left"}},i.field_names_for_show_hide_action),run(e,t,i,a){r.run_once(30,(()=>i.element.find_instance_by_id(t.element_id)),((e,t)=>{e&&n.log(e),t.element.added_to_container()&&t.parent()&&!t.parent()._has_become_visible.is_turned()||null==t||t.workflow_hide(),a()}))},data_to_refresh:null}})),Hb=u(((e,t)=>{"use strict";f();var r=Kt(),n=Lo(),i=yb();t.exports={field_names:n.extend({},i.field_names_for_show_hide_action),run(e,t,i,a){n.run_once(30,(()=>i.element.find_instance_by_id(t.element_id)),((e,t)=>{if(e&&r.log(e),t){if(t.element.added_to_container()&&t.parent()&&!t.parent()._has_become_visible.is_turned())return void a();t.is_visible()?t.workflow_hide():t.workflow_show()}a()}))},data_to_refresh:null}})),Vb=u(((e,t)=>{"use strict";f(),Ue();var r=Zl(),n=Lo(),i=cl(),a=yb(),o=Nl(),s=Po();t.exports={field_names:n.extend({value:{optional:!0},custom_state:{},custom_states_values:{optional:!0}},a.field_names_for_show_hide_action),run(e,t,r,i){n.run_once(30,(()=>{var e,n;let i=r.element.find_instance_by_id(t.element_id),a={instance:i,custom_states:[],values:[]};if(null==i)return a;a.custom_states.push(t.custom_state);let o=i.element.element_custom_state(t.custom_state).make_static();if(o&&null!=(e=t.value)&&null!=(n=e.make_static)&&n.call(e)?a.values.push(t.value.make_static()):a.values.push(t.value),null!=t.custom_states_values)for(let e in t.custom_states_values){var s,l,_;let r=t.custom_states_values[e];a.custom_states.push(r.custom_state),o=i.element.element_custom_state(r.custom_state).make_static(),o&&null!=(s=r.value)&&null!=(l=(_=s).make_static)&&l.call(_)?a.values.push(r.value.make_static()):a.values.push(r.value)}return a}),((e,t)=>{if(e)return void i(e);let{instance:r,custom_states:n,values:a}=t;if(r){for(let e=0;e<a.length;e++){let t=a[e];r.state(n[e],null!=t?t:null)}i()}else i()}))},data_to_refresh(e,t,n){var a;if(null==(a=s.element(t.element_id))||!a.exists())return{};let l=n.find_instance_by_id(t.element_id);if(null==l)return{};let _=l.element.get_value_id(),u={};if(t.custom_state){var c,d;let e,n=l.element.element_custom_state(t.custom_state);e=n.make_static()&&null!=(null==(c=t.value)?void 0:c.all)?t.value.make_static():t.value,u[r.Message({prev:l,message:n.name(),prior_btype_id:_})]=null!=(d=e)?d:i.NULL_VALUE_TO_REGISTER}if(t.custom_states_values)for(let e of o.object_values(t.custom_states_values)){var p,f;let t,n=l.element.element_custom_state(e.custom_state);t=n.make_static()&&null!=(null==(p=e.value)?void 0:p.all)?e.value.make_static():e.value,u[r.Message({prev:l,message:n.name(),prior_btype_id:_})]=null!=(f=t)?f:i.NULL_VALUE_TO_REGISTER}return u}}})),Yb=u(((e,t)=>{"use strict";f(),Ue();var r=Lo();t.exports={not_api:!0,field_names:{},run(e,t,n,i){r.run_once(30,(()=>{let t=e.event(),i=r.unique(t.find_expressions("GetElement").element_id()),a=n.element.element_id();return t.find_expressions("ThisElement").length&&!i.includes(a)&&i.push(a),i.map((e=>n.element.find_instance_by_id(e))).filter((e=>e&&e.get_messages().includes("reset_input")))}),((e,t)=>{if(e)i(e);else{for(let e of t)e.message("reset_input");i()}}))},data_to_refresh:null}})),Kb=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,t)=>{e?i(e):(null==t||t.message("cancel_upload"),i())}))},data_to_refresh:null,check_for_errors:n.element_type_checker}})),Jb=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{},data_source:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(null==r||r.message("set_group_data",t.data_source),i())}))},data_to_refresh:(e,t,r)=>n._get_data_to_refresh_for_group_actions(e,t,r,t.data_source),check_for_errors:n.element_type_checker}})),Zb=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,t)=>{e?i(e):(null==t||t.message("reset_group"),i())}))},data_to_refresh:(e,t,r)=>n._get_data_to_refresh_for_group_actions(e,t,r,null),check_for_errors:n.element_type_checker}})),Qb=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{},data_source:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(null==r||r.message("set_list_data",t.data_source),i(null,null))}))},data_to_refresh:(e,t,r)=>n._get_data_to_refresh_for_repeating_group_actions(e,t,r,t.data_source),check_for_errors:n.element_type_checker}})),ew=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,t)=>{e?i(e):(null==t||t.message("clear_list"),i())}))},data_to_refresh:(e,t,r)=>n._get_data_to_refresh_for_repeating_group_actions(e,t,r),check_for_errors:n.element_type_checker}})),tw=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:r.extend({},n.field_names_show_previous_next),run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(null==r||r.message("show_next",t.wrap_around),i())}))},data_to_refresh:n.clear_rg_pagination_frozen_states,check_for_errors(e,t){return n.element_type_checker(e,t),n._check_for_errors_show_previous_next(e,t,this.display)}}})),rw=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:r.extend({},n.field_names_show_previous_next),run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(null==r||r.message("show_previous",t.wrap_around),i())}))},data_to_refresh:n.clear_rg_pagination_frozen_states,check_for_errors(e,t){return n.element_type_checker(e,t),n._check_for_errors_show_previous_next(e,t,this.display)}}})),nw=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{},page:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(null==r||r.message("go_to_page",t.page),i())}))},data_to_refresh:n.clear_rg_pagination_frozen_states,check_for_errors(e,t){return n.element_type_checker(e,t),n._check_for_errors_show_previous_next(e,t,this.display)}}})),iw=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb(),i=Po();t.exports={field_names:{element_id:{},entry:{},animate:{},offset:{default:0}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(r&&null!=t.entry&&r.setTimeout((()=>r.message("scroll_to",t)),100),i())}))},data_to_refresh:null,check_for_errors(e,t){n.element_type_checker(e,t);let r=i.element(null==e?void 0:e.element_id());return r&&n.is_fixed_rg(r)&&t(this.display(e)+": "+r.get_name()+" has a 'Fixed number of cells' layout and can't be scrolled to."),!1}}})),aw=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=yb(),i=Fh();t.exports={field_names:{element_id:{},fade_in:{default:500},hold:{default:2e3},fade_out:{default:500},change_message:{},message:{}},run(e,t,n,a){r.run_once(30,(()=>{let e,r=n.element.find_instance_by_id(t.element_id);return e=t.change_message?void 0:i.evaluate_property(r,"text"),[e,r]}),((e,r)=>{if(e)a(e);else{let[e,n]=r;e&&(t.message=e),null==n||n.message("show_alert",t),a()}}))},data_to_refresh:null,check_for_errors:n.element_type_checker}})),ow=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{},data_source:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(null==r||r.message("set_marker_data",t.data_source),i())}))},data_to_refresh:null,check_for_errors:n.element_type_checker}})),sw=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{},to_select:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,r)=>{e?i(e):(null==r||r.message("set_marker_selection",t.to_select),i())}))},data_to_refresh:null,check_for_errors:n.element_type_checker}})),lw=u(((e,t)=>{"use strict";f();var r=Lo(),n=yb();t.exports={field_names:{element_id:{}},run(e,t,n,i){r.run_once(30,(()=>n.element.find_instance_by_id(t.element_id)),((e,t)=>{e?i(e):(null==t||t.message("clear_marker_data"),i())}))},data_to_refresh:null,check_for_errors:n.element_type_checker}})),_w=u(((e,t)=>{"use strict";f();var r=Lo(),n=Kt(),i=yb();t.exports={field_names:{element_id:{},manual_setting:{},center:{},initial_zoom:{default:10}},run(e,t,i,a){r.run_once(30,(()=>i.element.find_instance_by_id(t.element_id)),((e,r)=>{e&&n.log(e),null==r||r.message("map_adjust_zoom",t),a()}))},data_to_refresh:null,check_for_errors:i.element_type_checker}})),uw=u((e=>{"use strict";f(),Ue();Lo();var t=Nt(),r=(cv(),qr(),Po(),Rm(),p_()),n=y_();e.SignUp=Fy(),e.OAuthLogin=Gy(),e.LogIn=Xy(),e.LogOut=Hy(),e.CookieOptIn=Vy(),e.CookieOptOut=Yy(),e.UpdateCredentials=Ky(),e.ChangeEmailForAnotherUser=Jy(),e.MakeChangeCurrentUser=Zy(),e.SendPasswordResetEmail=Qy(),e.SendMagicLink=eb(),e.SendConfirmationEmail=tb(),e.ResetPassword=rb(),e.CreateUserAccount=nb(),e.CheckUserPassword=ib(),e.SetTemporaryPassword=ab(),e.LogOutOtherSessions=ob(),e.Generate2FAQRCode=sb(),e.Validate2FAToken=lb(),e.Check2FAToken=_b(),e.Disable2FA=ub(),e.GenerateOneTimeCodes=cb(),e.ChangePage=pb(),e.RefreshPage=fb(),e.GoPrevious=hb(),e.OpenURL=gb(),e.ScrollToElement=mb(),e.AnimateElement=vb(),e.SetFocusToElement=bb(),e.NewThing=wb(),e.ChangeThing=Ab(),e.ChangeListOfThings=Eb(),e.DeleteThing=Mb(),e.DeleteListOfThings=xb(),e.CopyListOfThings=Ob(),e.SetSlug=kb(),e.DownloadDataAsCSV=Sb(),e.UploadCSVData=Tb(),e.APIReturnData=Nb(),e.DeleteUploadedFile=Cb(),e.TriggerCustomEvent=Lb(),e.TriggerCustomEventFromReusable=Pb(),e.TriggerCustomOnChange=Rb(),e.ScheduleCustom=zb(),e.ScheduleAPIEvent=Ib(),e.ScheduleAPIEventOnList=Db(),e.TerminateWorkflow=jb(),e.CancelScheduledAPIEvent=Bb(),e.CancelListScheduledAPIEvent=qb(),e.SetRecurringEvent=Ub(),e.PauseWFClient=Wb(),e.SendEmail=$b(),e.SendICSFileEmail=Fb(),e.ShowElement=Gb(),e.HideElement=Xb(),e.ToggleElement=Hb(),e.SetCustomState=Vb(),e.ResetInputs=Yb(),e.CancelUpload=Kb(),e.DisplayGroupData=Jb(),e.ResetGroup=Zb(),e.DisplayListData=Qb(),e.ListClear=ew(),e.ListShowNext=tw(),e.ListShowPrevious=rw(),e.ListGoToPage=nw(),e.ScrollToListEntry=iw(),e.AlertShowMessage=aw(),e.DisplayMapMarkerData=ow(),e.SetCurrentMapMarker=sw(),e.ClearMapMarkers=lw(),e.MapAdjustZoom=_w(),t.safe_register("./core/core_actions",e),e.get_action_object=function(t){if(e[t])return e[t];{var i;let[e]=r.get_plugin_and_type(t);return null==(i=n.get_plugin(e))?void 0:i.get_action(t)}}})),cw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.FINITE_OPTION_INPUT_TYPES=e.COMPOSER_INPUT_TYPES_WITH_TYPEAHEAD=e.COMPOSER_INPUT_TYPES=void 0,Ue(),function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/composer",e);var t=function(e){return e.REAL_TIME_SEARCH="real_time_search",e.BOOLEAN="boolean",e.NUMBER="number",e.INTEGER="integer",e.TEXT="text",e.KEY_COMBINATION="key_combination",e.GEOGRAPHIC_ADDRESS="geographic_address",e.ENUMERATED="enumerated",e}({});e.COMPOSER_INPUT_TYPES=t;var r=new Set([t.REAL_TIME_SEARCH,t.BOOLEAN,t.NUMBER,t.INTEGER,t.TEXT]);e.COMPOSER_INPUT_TYPES_WITH_TYPEAHEAD=r;var n=new Set([t.ENUMERATED,t.REAL_TIME_SEARCH]);e.FINITE_OPTION_INPUT_TYPES=n})),dw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.SINGLE_SECTION=e.DropdownContents=void 0,e.sort_by_display=function(e,t){var r,n;return(null==(r=e.display)?void 0:r.toLowerCase())<(null==(n=t.display)?void 0:n.toLowerCase())?-1:1},Ue();var t=(Ca(),p(xn)),r=cw(),n=function(e){return e&&e.__esModule?e:{default:e}}(ul());var i="main";e.SINGLE_SECTION=i;var a=class e{constructor(e,r,i){this._content=void 0,this.content=void 0,this.strategy=void 0,this.strategy=null!=r?r:"Eager",this.content=()=>(null!=this._content||(this._content=(0,t.createMemo)(e,{},{equals:n.default})),this._content()),"Eager"===this.strategy&&(i&&e(),this.content())}all(){return Object.values(this.content()).flat()}section_names(){return Object.keys(this.content())}section(e){return this.content()[e]}find(e,t){var r;if(t)return null==(r=this.content()[t])?void 0:r.find(e);for(let t of Object.values(this.content())){let r=t.find(e);if(null!=r)return r}}filter(t){return new e((()=>Object.fromEntries(Object.entries(this.content()).map((e=>{let[r,n]=e;return[r,n.filter(t)]})).filter((e=>{let[t,r]=e;return r.length>0})))))}map(t){return new e((()=>Object.fromEntries(Object.entries(this.content()).map((e=>{let[r,n]=e;return[r,n.map(t)]})))),this.strategy)}flatMap(t){return new e((()=>Object.fromEntries(Object.entries(this.content()).map((e=>{let[r,n]=e;return[r,n.flatMap(t)]})))),this.strategy)}sort(t){return new e((()=>Object.fromEntries(Object.entries(this.content()).map((e=>{let[r,n]=e;return[r,[...n].sort(t)]})))),this.strategy)}sort_section(t,r){return new e((()=>Object.fromEntries(Object.entries(this.content()).map((e=>{let[n,i]=e;return[n,n===t?[...i].sort(r):[...i]]})))),this.strategy)}add_items(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new e((()=>{let e={...this.content()};for(let[n,i]of r){var t;e[n]=[...null!=(t=e[n])?t:[],...i]}return e}),this.strategy)}},o=class extends a{constructor(e){super((()=>({[i]:e})))}},s=["new_option_accelerator","item_filter_field"],l=class e{constructor(e,t){this._sections=void 0,this._options=void 0,this._sections=e,this._options=t}static empty(t){return e.no_sections((()=>[]),t)}static fromObject(t,r){let n=Object.entries(t).map((e=>{let[t,r]=e;return{display:r,value:t}}));return new e(new o(n),null!=r?r:{})}static fromList(t,r){return new e(new o(t.map((e=>({display:String(e),value:e})))),null!=r?r:{})}static no_sections(t,r){return new e(new a((()=>({[i]:t()})),null==r?void 0:r.evaluation_strategy),null!=r?r:{})}static multi_section(t,r,n){return"function"==typeof r?new e(new a((()=>{let e=t(),n={};for(let t of e){let e=r(t);null!=n[e]||(n[e]=[]),n[e].push(t)}return n}),null==n?void 0:n.evaluation_strategy,null==n?void 0:n.propagate_not_ready),null!=n?n:{}):new e(new a(t,null==n?void 0:n.evaluation_strategy,null==r?void 0:r.propagate_not_ready),null!=r?r:{})}static builder(){return new class{constructor(){this.names=void 0,this.contents=void 0,this.names=[],this.contents=[]}section(e,t){return this.names.push(e),this.contents.push(t),this}build(e){return l.multi_section((()=>Object.fromEntries(this.names.map((e=>"function"==typeof e?e():e)).map(((e,t)=>[e,this.contents[t]()])))),e)}}}filter(t){return new e(this._sections.filter(t),this._options)}map(t,r){return new e(this._sections.map(t),{...this._options,...e.possiblyClearTypeOptions(s,r,this._options)})}flatMap(t,r){return new e(this._sections.flatMap(t),{...this._options,...e.possiblyClearTypeOptions(s,r,this._options)})}static possiblyClearTypeOptions(e,t,r){let n=e.map((e=>[e,t?void 0:r[e]]));return Object.fromEntries(n)}sort(t){return new e(this._sections.sort(t),this._options)}sort_section(t,r){return new e(this._sections.sort_section(t,r),this._options)}with_options(t){return new e(this._sections,{...this._options,...t})}add_items(){return new e(this._sections.add_items(...arguments),this._options)}all(){return this._sections.all()}section_names(){let e=this._sections.section_names();if(this._options.section_order){let t=Object.fromEntries(this._options.section_order.map(((e,t)=>[e,t])));e.sort(((e,r)=>{var n,i;return(null!=(n=t[e])?n:1/0)-(null!=(i=t[r])?i:1/0)}))}return e}section(e){return this._sections.section(e)}find(e,t){return this._sections.find(e,t)}get_input_type(){var e;return null!=(e=this._options.input_type)?e:r.COMPOSER_INPUT_TYPES.REAL_TIME_SEARCH}get_dropdown_width(){var e;return null!=(e=this._options.dropdown_width)?e:"long"}get_new_option_accelerator(){return this._options.new_option_accelerator}should_show_sections(){var e;return null!=(e=this._options.show_sections)&&e}is_optional(){var e;return null!=(e=this._options.optional)&&e}get_display_for_literal(e){return null!=this._options.get_display_for_literal?this._options.get_display_for_literal(e):null}get_value_for_literal(e){if(null!=this._options.get_value_for_literal)return this._options.get_value_for_literal(e)}item_filter_field(){return this._options.item_filter_field}ignore_type_check(){var e;return null!=(e=this._options.ignore_type_check)&&e}section_classes(){var e;return null!=(e=this._options.section_classes)?e:{}}get_virtualize_options(){return this._options.virtualize?this._options:{virtualize:!1}}has_grid_section(){var e;return null!=(e=this._options.grid_section)&&e}};e.DropdownContents=l})),pw=u((e=>{"use strict";f(),Ue();Fl(),qr(),xr();var t=Nt(),{DropdownContents:r}=dw(),n=e;t.safe_register("./core/shared_fields",n)})),fw=u(((e,t)=>{"use strict";function r(e){let{orientation:t,canvas:r,context:n}=e;if("from-image"!==$("body").css("imageOrientation")){if(t>4){let{width:e,height:t}=r;r.width=t,r.height=e}switch(t){case 2:n.translate(r.width,0),n.scale(-1,1);break;case 3:n.translate(r.width,r.height),n.rotate(Math.PI);break;case 4:n.translate(0,r.height),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-r.width);break;case 7:n.rotate(.5*Math.PI),n.translate(r.height,-r.width),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-r.height,0)}}}f();var n=800,i=600;t.exports=function(e){let{file:t,image_url:a,extension:o,success_callback:s,fail_callback:l,progress_bar_hide_fn:_}=e,u="png"===o?"image/png":"image/jpeg",c=document.createElement("img");c.src=a,c.onerror=function(){_(),null==l||l()},c.onload=function(){let e=document.createElement("canvas"),{width:a}=c,{height:o}=c;a>o?a>n&&(o*=n/a,a=n):o>i&&(a*=i/o,o=i),function(e){let{image_url:t,file:r,_cb:n}=e,i=new FileReader;i.onload=function(e){let t=new window.DataView(e.target.result);if(65496!==t.getUint16(0,!1))return void n(-2);let r=t.byteLength,i=2;for(;i<r;){let e=t.getUint16(i,!1);if(i+=2,65505===e){if(1165519206!==t.getUint32(i+=2,!1))return void n(-1);let e=18761===t.getUint16(i+=6,!1);i+=t.getUint32(i+4,e);let r=t.getUint16(i,e);i+=2;for(let a=0,o=r,s=o>=0;s?a<o:a>o;s?a++:a--)if(274===t.getUint16(i+12*a,e))return void n(t.getUint16(i+12*a+8,e))}else{if(65280!=(65280&e))break;i+=t.getUint16(i,!1)}}n(-1)},i.readAsArrayBuffer(r)}({file:t,_cb(n){let i=e.getContext("2d");e.width=a,e.height=o,r({orientation:n,canvas:e,context:i}),i.drawImage(c,0,0,a,o),t.contents=e.toDataURL(u,.8).split(",")[1],s()}})}}})),hw=u(((e,t)=>{"use strict";f();var r=fn(),n=class extends r.EventEmitter{get_canvas(){return this.canvas}};t.exports=n})),gw=u((e=>{"use strict";f();var t=Lo(),r=Kt(),n=Nt(),i=fw(),a=zm(),o=hw(),s=um(),l=qr(),_=jp(),u=Vt(),c=Po();function d(e){return e(null,{})}n.safe_register("./core/widgets",e),e.Widget=o,e.get_uploaded_file_id=function(e,r){let n="f"+(null!=r?r:t.UUID())+"/"+e;return u.is_dedicated&&(n=u.environment_name+"/"+n),n},e.get_uploaded_file_endpoint=function(e){let{key:t,with_protocol:r,appname:n}=e,i=`//${s.get_file_cdn_url(n)}${t}`;return r?`https:${i}`:i},e.upload_file=function(e,n,a,o,s,u,p,f){null!=a||(a=d);let h=l().location.get_server_base()+"fileupload";function g(d,g){var m,v;let y;function b(){l().is_edit_mode()?_.hide_general_message():y()}function w(){let n={success(e){b(),o(e)},error(e){let r;b(),e.status>=400&&e.status<=499&&-1!==e.responseText.indexOf("Error parsing request body: request entity too large")&&(r=new t.UserError("FILE_TOO_LARGE")),null!=r||(r=l().location.response_to_error(e)),null==u||u(r)},processData:!1,type:"post"};a(((i,a)=>{if(i)window.alert(r.human_friendly(i)),n.success(null);else{l().is_edit_mode()&&t.extend(a,{appname:c.appname(),app_version:c.app_version()});let r=t.extend(a,e);null!=r.name||(r.name=f),n.data=JSON.stringify(r),n.contentType="application/json",$.ajax(h,n)}}))}null==s||s(),l().is_edit_mode()?_.show_general_message(n):y=_.show_progress_line("image uploader");let A=null==(m=f||(null==(v=e)?void 0:v.name))?void 0:m.toLowerCase().split(".").pop();if(p&&"svg"!==A)i({file:e,image_url:d.result,extension:A,success_callback:()=>w(),fail_callback:()=>null==u?void 0:u(),progress_bar_hide_fn:()=>b()});else{var E;if(g)e={contents:g,name:f};else e.contents=null!=(E=d.result.split(",")[1])?E:"";w()}}if(e.contents)g(void 0,e.contents);else{let t=new FileReader;t.onload=()=>g(t),t.readAsDataURL(e)}},e.MakeImageUploader=function(r){let{input:n,text:i,get_additional_data:a,cb_success:o,cb_start:s,cb_fail:l,limit_size:_,max_file_size_fn:u}=r;null!=i||(i="We're uploading your image..."),null!=a||(a=d),n.change((()=>{let{files:r}=n[0];if(r.length<1)return;let c=r[0];t.run_once(30,(()=>null==u?void 0:u()),((r,n)=>{if(n&&c.size>n){let e=new t.UserError("FILE_TOO_LARGE");null==l||l(e)}else e.upload_file(c,i,a,o,s,l,_)}))}))},e.ImageUploader=class extends e.Widget{get get_class(){return"image-uploader"}constructor(r){super(),this.file_cb=r,this.canvas=t.input(void 0,void 0,"file"),e.MakeImageUploader({input:this.canvas,get_additional_data:null,cb_success:this.file_cb,max_file_size_fn:()=>a.MAX_FILE_COMPOSER_SIZE})}}})),mw=u((e=>{"use strict";f();var t=qr(),r=jp(),n=Po(),i=lv(),a=T_(),o=Lo(),s=Kt(),{GIBIBYTE:l}=Ct(),_=e;_.upload_file=function(e,r,l,_,u,c,d){null==u||u();let p=!1,f=null;function h(r,n){if(!p)if(null!=r)null==c||c(r);else{if(null==n)return void(null==_||_(null));let i=new FormData;for(let e in n.fields){let t=n.fields[e];i.append(e,t)}i.append("file",e),f=new XMLHttpRequest,f.onload=function(){204===f.status?null==_||_(n.file_url):(f.status>=400&&f.status<=499&&-1!==f.responseText.indexOf("EntityTooLarge")&&(r=new o.UserError("FILE_TOO_LARGE")),null!=r||(r=t().location.response_to_error(f)),null==c||c(r))},f.onerror=function(){r=t().location.response_to_error(f),null==c||c(r)},f.upload.onprogress=function(t){if(t.lengthComputable){let r=Math.min(t.loaded/e.size,1);null==d||d(r)}},f.open("POST",n.url,!0),f.send(i)}}return l(((l,_)=>{if(!l){t().is_edit_mode()&&o.extend(_,{appname:n.appname(),app_version:n.app_version()});let s={element:r,inputs_must_be_valid:!1,datasources:a.get_basic_datasources(r.element.root())};return i.serialize_context(s,r.element).then((r=>(o.extend(_,{timezone_string:r.timezone_string,serialized_context:r,name:e.name,size:e.size,content_type:e.type}),t().location.post("server://fileupload/geturl",_,h))))}window.alert(s.human_friendly(l)),h(null,null)})),function(){var e;return p=!0,null==(e=f)?void 0:e.abort()}},_.make_presigned_uploader=function(e){let{instance:t,input:n,get_additional_data:i,cb_success:a,cb_start:u,cb_fail:c,cb_progress:d,max_file_size_fn:p}=e,f=null,h=null;return n.change((()=>{let{files:e}=n[0];if(e.length<1)return;let g=e[0];g.size>2*l&&s.warn("very large file upload could crash browser from new memory overhead",{size:g.size}),g.arrayBuffer().then((e=>{let n=new File([e],g.name,{type:g.type});o.run_once(30,(()=>null==p?void 0:p()),((e,s)=>{if(s&&n.size>s){let e=new o.UserError("FILE_TOO_LARGE");null==c||c(e)}else h=r.show_progress_line("image uploader"),f=_.upload_file(n,t,i,(e=>{h(),null==a||a(e)}),u,(e=>{h(),null==c||c(e)}),(e=>{h(e),null==d||d(e)}))}))}))})),function(){var e,t;null==(e=f)||e(),null==(t=h)||t(),h=null,f=null}}})),vw=u((e=>{"use strict";var t,r,n;function i(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}f(),Ue(),Ft();iv();var a=Lo(),o=Qt(),s=it(),l=ot(),_=Dr(),u=qa(),c=(pn(),Fr()),d=Pl(),p=ky(),h=Ry(),g=qr(),m=Po(),v=Wy(),y=gm(),b=uw(),w=(pw(),hv()),A=pv(),E=Fl(),M=gw(),x=mw(),O=Kl(),k=p_(),S=Kt(),T=Lt(),N=Ly(),C=ff(),L=Fh(),P=hf(),R=Nl(),z=xr(),I=Sg(),D=e;D.MAX_LENGTH_SERVER_SIDE=2e6,D.MAX_LENGTH_PACKAGE=5e5,D.PREDEFINED_BTYPE_TYPES=["text","number","number_range","boolean","image","file","geographic_address","date","date_range","user"];var j={};D.get_plugin_execution_time=function(){return j},D.can_use_message=function(e,t){let r=E.get(e).get_message(t);return(r.is_lookup()||r.public_for_plugins())&&!r.is_not_found()},D.get_ListProperties=function(e){return E.get(e).plugin.get_message_names().filter(c.with_pause_tick((t=>D.can_use_message(e,t))),5)};var B={StaticText:!0,StaticNumber:!0,Checkbox:!0,Color:!0,Dropdown:!0,Image:!0,key_value_list:!1},q={text:!0,number:!0,boolean:!0,image:!0,file:!0,geographic_address:!1};D.property_uses_default=function(e,t,r){var n;return null!=B[e]?B[e]:!r&&(null!=(n=q[t])&&n)};var U=T.PLUGIN_FUNCTION_REGEX;D.extract_code=function(e,t){var r,n,i;e=null==(r=e)?void 0:r.trim();let[a,o]=null!=(n=null==(i=e)?void 0:i.match(U))?n:[],s=e.split(a).slice(1).join(a);return s=s.split("{").slice(1).join("{").split("}").slice(0,-1).join("}"),s+=`\n//# sourceURL=${T.PLUGIN_CODE_SRC_PREFIX}${t.replace(/[^\w/]/g,"-")}.js`,{vars:o,code:s}},D.create_code=function(e,t,r,n){let i=Date.now();try{var a;let{vars:r,code:o}=D.extract_code(e,t);n&&(o=n(o));let s=new Function(r,o),l=Date.now();return j[`${t}`]=null!=(a=j[`${t}`])?a:0,j[`${t}`]+=l-i,function(){let e=Date.now();try{return s(...arguments)}finally{let r=Date.now();j[`${t}`]+=r-e}}}catch(e){return r(e),null}},D.get_keys=function(e,t,r){let n={};switch(null==e?void 0:e.auth){case"private_key_url":case"private_key_header":Object.assign(n,{appsecret:{caption:"API Key",type:"secure"}});break;case"oauth2_pw":case"basic_auth":Object.assign(n,{appid:{caption:"Username",type:"client_safe"},appsecret:{caption:"Password",type:"secure"}});break;case"jwt":Object.assign(n,{iss:{caption:"Iss (account email)",type:"client_safe"},private_key:{caption:"Private key (between -----BEGIN RSA PRIVATE KEY----- and -----END RSA PRIVATE KEY-----)",type:"secure",editor:"MultilineTextBox"}});break;case"cert_key":Object.assign(n,{cert_file:{caption:"Certificate file content",type:"secure",editor:"MultilineTextBox"},key_file:{caption:"Key file content",type:"secure",editor:"MultilineTextBox"}});break;case"oauth2_custom":for(let t of["body_params","headers"])for(let r in null==(i=e.calls)||null==(a=i.token_call)?void 0:a[t]){var i,a,o,s;let{key:l,visibility:_}=null==(o=e.calls)||null==(s=o.token_call)?void 0:s[t][r];if(null!=l&&"secret"===_){let e=h.user_friendly_parameter_names[t];Object.assign(n,{[`token_call_${t}_${r}`]:{caption:`${l} ${e} (token call)`,type:"secure"}})}}break;case"oauth2_user":Object.assign(n,{appid:{caption:"App ID/API Key",type:"client_safe"},appsecret:{caption:"App Secret",type:"secure"}})}for(let e in null==t?void 0:t.params){let{key:r}=null==t?void 0:t.params[e];Object.assign(n,{[`header_${e}`]:{caption:r+" (headers)",type:"client_safe"}})}Object.assign(n,r);for(let t of["shared_headers","shared_params"])for(let r in null==e?void 0:e[t]){let i=null==e?void 0:e[t][r];"secret"===(null==i?void 0:i.visibility)&&i.key&&(n[t+"_"+r]={caption:i.key+" "+h.user_friendly_parameter_names[t],type:"secure"})}for(let t in null==e?void 0:e.calls){let r=null==e?void 0:e.calls[t];if(r.initialized&&"token_call"!==t)for(let e of["url_params","headers","params","body_params"])for(let i in r[e]){let a=r[e][i];"secret"===(null==a?void 0:a.visibility)&&a.key&&(n[t+"_"+e+"_"+i]={caption:r.name+" - "+a.key+" "+h.user_friendly_parameter_names[e],type:"secure"})}}return n};var W=!1;function F(e){try{var t;return W=!0,null==e||null==(t=e.__original)?void 0:t.call(e)}finally{W=!1}}D.api_key_prefix="_p_";var G={},X={},H={};function V(e){var t,r;let{file:n,fileName:i,contents:a,attach_to:o}=e;return(n?n.name+"_"+n.lastModified:i+"_"+a)+"_"+(null==(t=F(o))||null==(r=t._id)?void 0:r.call(t))}function Y(e,t){let r=e+"_"+V(t);var n;G[r]?null==(n=t.callback)||n.call(t,null,G[r]):(null!=X[e]||(X[e]=[]),X[e].push(t),K(e))}function K(e){if(!H[e]&&X[e].length){let t=function(){X[e]=X[e].slice(1),X[e].length<50?(H[e]=!1,K(e)):setTimeout((()=>{H[e]=!1,K(e)}),1e3*X[e].length*100)},r=X[e][0],{file:n,fileName:i,contents:a,callback:o,attach_to:l,callback_progress:_,instance:u}=r,c=e+"_"+V(r);if(G[c])null==o||o(null,G[c]),t();else{let r,c=function(e){if(l){var t,r;let n=null==(t=F(l))||null==(r=t._id)?void 0:r.call(t);if(!n){let t=new s.UnexpectedError("Trying to attach an upload to a non Bubble thing");throw e(t),t}e(null,{attach_to:n})}else e(null,{})},d=function(r){G[e+"_"+i+"+"+a]=r,null==o||o(null,r),t()},p=function(e){null==o||o(e),t()};H[e]=!0,n?x.upload_file(n,u,c,d,r,p,(e=>null==_?void 0:_(e))):M.upload_file({contents:a},void 0,c,d,r,p,void 0,i)}}}var J=(t=d.cached({type:d.AUTORUN}),r=d.cached({type:d.AUTORUN}),i((n=class extends p.Service{calls(){let e={},t=this.get_api(),{name:r}=this;"oauth2_user"===t.auth&&(e.oauth_user_data_call=class extends p.Call{get human(){return t.human}get _must_proxy(){return!0}get value_id(){return z.api_type(`${r}.oauth_profile`)}build(e,r){return{path:t.oauth_user_data_call}}});for(let r in t.calls){let n=t.calls[r];e[r]=n,this.is_testing()?e[r].api_human=t.human+" (testing)":e[r].api_human=t.human,e[r].api_id=this.name}return e}get_call_class(e){let t=this.calls()[e];return"oauth_user_data_call"===e?t:h.get_call_from_raw(e,t)}handle_request_failures(e){return N.handle_request_failures(e)}get_error_message(e,t){return h.get_error_message(e,t,!0)}get dynamic_calls(){return!0}constructor(e,t,r){var n;super(),this.name=e,this.version=t,this.raw=r,this.human=null!=(n=this.raw.human)?n:this.get_api().human,this.is_testing()&&(this.human+=" (testing)"),this.pv=v.get_pv(this.get_plugin_api_version())}get_plugin_api_version(){var e;let t=null==(e=this.raw.dependencies)?void 0:e.plugin_api_version;return t?String(t):"0"}is_testing(){return"current"===this.version}response_to_data(e,t,r,n){null!=r||(r="json");let i=super.response_to_data(e,t,r,n,null==n?void 0:n.wrap_error);if(null!=n&&n.get_headers||null!=n&&n.wrap_error){let{headers:e}=t;return{body:i,headers:e}}return i}get_api(){if(!this._processed_raw_api){var e;this._processed_raw_api=o.deep_copy(null!=(e=this.raw.plugin_api)?e:{});let t=k.get_plugin_id(this.name),r=new RegExp(t,"g");for(let e in this._processed_raw_api.calls){let t=this._processed_raw_api.calls[e];for(let e of["types","data_container"])t[e]&&"string"==typeof t[e]&&(this.is_testing()&&"types"===e&&(t[e]=t[e].replace(r,this.name)),t[e]=o.json_parse(t[e]))}}return this._processed_raw_api}has_html_header(){var e,t;return""!==(null!=(e=null==(t=this.get_html_header())?void 0:t.snippet)?e:"")}get_html_header(){return this.raw.html_header}get_keys(){var e,t;let r=D.get_keys(this.get_api(),this.get_html_header(),this.raw.shared_keys);return null==(e=(t=this.get_authenticator()).add_generic_authenticator_keys)||e.call(t,r),r}get_keys_for_context(){let e={},t=this.get_keys();for(let r in t){let{caption:n}=t[r],i=this.get_key(r);null!=i&&(e[n]=i)}return e}authenticator(){let e,t=this.get_api();switch(t.auth){case null:case void 0:case"none":e=new p.NoAuth;break;case"private_key_url":case"private_key_header":t.token_param_name||("private_key_url"===t.auth?t.token_param_name="private_key":t.token_param_name="Authorization"),e=new p.PrivateKey(h.get_private_key_auth_params(t));break;case"basic_auth":e=new p.BasicAuth;break;case"oauth2_pw":e=new p.Oauth2PWFlow(h.get_oauth2_pw_auth_params(t));break;case"oauth2_custom":e=new p.Oauth2Custom;break;case"jwt":e=new p.JWT(h.get_jwt_auth_params(t));break;case"cert_key":e=new p.SSLProtocol;break;case"oauth2_user":{let r={...h.get_oauth2_user_auth_params(t),_id:this.name};e=new p.Oauth2(r)}}return e._service=this,e._display=t.human,e.add_shared_params_and_headers=e=>{h.add_shared_params_and_headers(t,e,this.name,((e,t)=>"secret"===t.visibility?this.get_key("shared_headers_"+e):t.value),((e,t)=>"secret"===t.visibility?this.get_key("shared_params_"+e):t.value))},e}public_values(){return R.object_values(this.get_api().calls).filter((e=>"data"===e.publish_as&&e.initialized)).flatMap((e=>R.object_keys(e.types)))}values(){let e={},t=this.get_api();"oauth2_user"===t.auth&&(e.oauth_profile=new p.StructValue("Profile "+t.human,{id:{path:null!=t.id_path?t.id_path.split("."):void 0},email:{path:null!=t.email_path?t.email_path.split("."):void 0}})),h.get_btypes_from_call(this.name,t,e,D.api_key_prefix);for(let r of Object.values(e))r.human+=" ("+t.human+")";return e}_get_sorted_list(e){return R.object_entries(this.get_api().calls).filter((t=>{let[r,n]=t;return n.publish_as===e&&h.is_call_initialized(n)})).map(((e,t)=>{var r;let[n,i]=e;return{call_id:n,rank:null!=(r=i.rank)?r:t}})).sort(((e,t)=>e.rank-t.rank)).map((e=>{let{call_id:t}=e;return t}))}public_calls(){return this._get_sorted_list("data")}action_calls(){return this._get_sorted_list("action")}user_calls(){return"oauth2_user"===this.get_api().auth?["oauth_user_data_call"]:[]}oauth_providers(){let e=this.get_api();return"oauth2_user"===e.auth?[{id:this.name,display:e.human}]:[]}base_url(){return""}_get_processed_elements_raw(){return this._processed_raw_elements||(this._processed_raw_elements=this._interpret_raw_plugin_def()),this._processed_raw_elements}actions(){return this._get_processed_elements_raw().actions}elements(){return this._get_processed_elements_raw().elements}events(){return this._get_processed_elements_raw().events}_interpret_raw_plugin_def(){var e;let t={},r={},n={},i=this.version,c=this.name,d=this.human,p=this.pv;function f(e,t,r){let n;if(null!=t||(t="null"),t.startsWith("custom_data_"))if(t.startsWith("custom_data_element_")){let r=m.element(e.get_static_property("element_id"));null!=r&&r.exists()&&(n=r.get_static_property(t.split("custom_data_element_")[1]))}else n=e.get_static_property(t.split("custom_data_")[1]);else{if("_any_thing"===t)return r?"list*":E.any;if("_any_thing_bindable"===t)return r?"list*bindable":E.compound;n=t}return"string"!=typeof n?"null":r?z.list_type(n):n}function h(e,t){let{fields:r,support_autobinding:n,autobinding_value:i,add_large_file_upload_properties:a}=e,o={};t&&(o.element_id={});for(let e in r){let t=r[e],{caption:n,editor:i,optional:a,in_style:s,value:l,is_list:_}=t,{default_val:u}=t;D.property_uses_default(i,l,_)||(u=null),n&&i&&(o[e]={},a&&(o[e].optional=a),null!=u&&(o[e].default=u),(["custom_type","Label"].includes(i)||0===i.indexOf("custom_field_"))&&(o[e].no_states=!0),["StaticText","StaticNumber","Checkbox","Color","Dropdown","Image"].includes(i)&&s&&(o[e].in_style=!0))}return n&&i&&Object.assign(o,w.get_auto_binding_field_names),a&&(Object.assign(o,w.get_max_file_size_field_name),Object.assign(o,w.get_file_upload_condition_field_name)),o}let v=(e,t)=>{let{fn:r,add_debugger:n}=e;if(g().is_edit_mode())throw new s.UnexpectedError("running plugin code in edit mode!!!!");if(l.on_server())throw new s.UnexpectedError("running plugin code on the server!!!! TO REMOVE WHEN WE HAVE SERVER ACTIONS");return D.create_code(r,`${c}/${d} ${t}`,(e=>{let n=("WARNING: Error parsing plugin code for "+t+". Please check \n"+(null!=r?r:"missing function")).slice(0,8191);S.owner_error("error parsing plugin code",{display:n,original_error:e})}),(e=>("current"===i&&n&&(e="  debugger; // Debugger entry point for Bubble Plugin // \n"+e),e)))},M=(e,t,r,n)=>{try{return t()}catch(t){var a,o,l,_,u,c;if(t instanceof s.NotReadyError)throw t;let g="The plugin "+this.display();var d,p;if("element"===r&&null!=(null==(a=e.element)||null==(o=a.E)?void 0:o.display))g+=" / element "+(null==(d=e.element)||null==(p=d.E)?void 0:p.display);else if("action"===r&&null!=(null==(l=e.A)||null==(_=l.display)?void 0:_.call(l))){var f,h;g+=" / action "+(null==(f=e.A)||null==(h=f.display)?void 0:h.call(f))}g+=" threw the following error: ",g+=(null!=(u=null!=(c=t.stack)?c:t.message)?u:"").split("\n").slice(0,3).join("\n"),g+="current"===i?" (please check your plugin's code)":" (please report this to the plugin author)";let m=new s.OwnerError("plugin evaluation error",{display:g,original_error:t,element_instance:"element"===r?e:null,action:"action"===r?e:null});S.log(m),null==n||n(m)}};function x(e,t,r){if(null==e)return null;let n=e=>{var t,r;if(null==e)return null;if(null!=(t=e._type)&&t.call(e))return null==(r=e._type)?void 0:r.call(e);if(null!=e.getTime)return"date";if(O.ensure_valid_location(e))return"geographic_address";if(Array.isArray(e)){if("number"==typeof e[0])return"number_range";if(null!=e[0].getTime)return"date_range"}else switch(typeof e){case"string":return"text";case"number":return"number";case"boolean":return"boolean"}};if("function"==typeof t)t=n(e);else if(["list*","list*bindable"].includes(t)){var i,a;let r,o=null!=(i=null==(a=e.all)?void 0:a.call(e))?i:[];if(0===o.length)return{length:()=>0,get:()=>[]};for(let e of o)if(null!=e){r=e;break}let s=n(r);if(!s)return null;t=z.list_type(s)}if(!t)return null;let o=E.get(t);if(D.PREDEFINED_BTYPE_TYPES.includes(t)&&"user"!==t){if(r&&p.fix_server_dates){var l,_;if("date"===t)return{date:!0,val:null==(l=o.get_JS_object(e))?void 0:l.getTime()};if("date_range"===t)return{date_range:!0,val:null==(_=o.get_JS_object(e))?void 0:_.map((e=>e.getTime()))}}return o.get_JS_object(e)}if(r){if(z.is_list(t)){let t=o.inner();return{list:!0,val:e.all().map((e=>x(e,t.id(),!0)))}}return z.is_option_set(t)?o.get_JS_object(e):{object:!0,type:t,val:o.get_JS_object(e)}}return z.is_list(t)?{length:()=>e.length(),get(t,r){if(null==t)throw new s.UnexpectedError("Invalid from: "+t);if(null==r)throw new s.UnexpectedError("Invalid from: "+r);return e.get_children(t,r).map((e=>x(e,o.inner().id())))}}:{get(r){if(!r)throw new s.UnexpectedError("Invalid fieldName: "+r);let n=o.get_message(r);if(!D.can_use_message(t,r))throw new s.UnexpectedError("This fieldName does not exist: "+r);return x(n.evaluate(e),n.ret_btype_id())},listProperties:()=>D.get_ListProperties(t),__original(){if(!W)throw new s.UnexpectedError("Forbidden function");return e}}}function k(e,t,r,n,i,a){if(!n)return"Color"===r?I.color_property_to_rgba(e):e;if("custom_type"===r)return E.get(e).display();if(null!=r&&0===r.indexOf("custom_field_")){let n=t.get_static_property(r.split("custom_field_")[1]),i=E.get(n).get_message(e);return i.is_not_found()?null:i.name()}return"key_value_list"===r?R.object_values(e).map((e=>(delete e.action,e.value=x(e.value,n,a),e))):x(e,f(t,n,i),a)}function T(e,t,r,n){let i={};for(let a in r){let{name:o,value:s,is_list:l,editor:_}=r[a];i[o]=k(t[a],e,_,s,l,n)}return i}let N=null==(e=this.raw.dependencies)?void 0:e.use_jquery,j={},B={},q={},U=e=>{let{instance:t,action:r,bubble_context:n}=e,i={currentUser:k(g().current_user(),void 0,void 0,"user")};return N&&(i.jQuery=$),i.uploadContent=(e,t,r,n)=>(t&&Y(c,{fileName:e,contents:t,callback:r,attach_to:n}),null),i.keys=this.get_keys_for_context(),i.async=function(e){var r,i;let a=e.toString()+(null!=(r=null==t?void 0:t.toUniqueString())?r:null==n?void 0:n.run_id);return null==j[a]&&(j[a]=_.MakeKey(null,"Pluginservice.context.async "+a),e(((e,t)=>(e?B[a]=e:q[a]=t,j[a].turn())))),_.ensure_ready(j[a]),null!=(i=B[a])?i:q[a]},i.onCookieOptIn=function(e){if("function"==typeof e)return g().user.on_cookie_opt_in((()=>M(void 0,e,"general")));S.owner_error("Calling onCookieOptIn without a function")},i.reportDebugger=e=>S.owner_error("plugin reported a message",{display:String(e),element_instance:t,action:r}),i},G=this;for(let e in this.raw.plugin_elements){let i=function(e,t,r){for(let n in r[t]){let{name:i}=r[t][n];if(i===e)return n}},a=function(e){let{thing:t,node:r,value:n,is_list:i}=e;if(null==t)return null;let o=f(r,n,i);if(z.is_list(o)){Array.isArray(t)||S.owner_error("Trying to send an invalid array to Bubble",{array_sent:t,element_instance:r});let e=E.get(o).inner().id();return t.map((t=>a({thing:t,node:r,value:e})))}let s=E.get(o);return null!=t.__original?F(t):s.can_JS_to_bubble()?s.JS_to_bubble(t):void S.owner_error("Trying to convert an invalid object to Bubble",{object_sent:t,element_instance:r})},o=function(e,t){let r=m.element(null==e?void 0:e.element_id());return`${t} ${r?r.get_name():`a ${s.display}`}${G.is_testing()?" (testing)":""}`};var X,H,V,K,J,Z;let s=this.raw.plugin_elements[e],d={is_non_hardcoded_plugin:!0,display:s.display+""+(null!=(X=G.is_testing)&&X.call(G)?" (testing)":""),category:s.category,icon:s.icon,get_html:()=>"<div></div>",add_an_invisible_div_on_the_top:!0,is_input:!1,contains_group_data:!1,change_cursor_style_if_clickable:!1,mandatory_sections:()=>["PluginElement"],defaults:s.default_dim,uses_css_responsive:p.responsive_version>0,can_fit_width:s.can_fit_width,can_fit_height:s.can_fit_height};d.field_names=h(s),d.styleable_properties={};for(let e in d.field_names)d.field_names[e].in_style&&(d.styleable_properties[e]=!0);d._fields=e=>get_fields(e,s);let x=[];for(let e in s.property_applications)s.property_applications[e]&&!["resizable","Font"].includes(e)&&x.push(new y[e]);null!=(H=s.property_applications)&&H.resizable?x.push(new y.Dimensions):(x.push(new y.PositionOnly),d.not_resizable=()=>!0),d.property_applications=e=>{var t;let r=[...x];return null!=(t=s.property_applications)&&t.Font&&r.push(new y.Font),p.responsive_version>0&&r.push(new y.ResponsiveElement(e)),r},null!=(V=s.property_applications)&&V.MinWidth&&(d.get_min_width=()=>0),d.dont_add_hover_pressed=!s.add_hover_pressed,d.starts_hidden=!s.add_is_visible;let O=null!=(K=null==(J=s.headers)||null==(Z=J.snippet)?void 0:Z.trim())?K:"";""!==O&&(d.element_html_header=function(){return O.replace(/\r?\n|\r/g,"")}),d.get_states=()=>{var e;return Object.keys(null!=(e=s.states)?e:{})},d.add_specific_messages=function(e,t){for(let r in s.states){let n=s.states[r];null!=n.value&&Object.assign(e,{[`get_${r}`]:{description:"'s "+n.caption,section:"States",ret_btype:f(t,n.value,n.is_list),fn(e,t){return this.ret_btype().cast(null==e?void 0:e.state(r))}}})}},d.get_state_value=function(e,t){for(let r in s.states){let n=s.states[r];if(null!=n.value&&n.caption===t)return f(e,n.value,n.is_list)}};let R=[],I=s.has_reset_fn&&s.code.reset;I&&R.push("reset_input"),d.get_messages=()=>R;let D=e=>{let t={};return N?(t.canvas=e.get_canvas(),t.jQuery=$):t.canvas=e.get_canvas()[0],t.publishState=function(t,r){let n=i(t,"states",s);return n?s.states[n].value?M(e,(()=>{let t=a({thing:r,node:e,value:s.states[n].value,is_list:s.states[n].is_list});return e.state(n,t)}),"element"):void S.owner_error("state does not have defined value",{display:"State "+t+" does not have a defined value",element_instance:e}):S.owner_error("state is not defined in the plugin",{display:"State "+t+" is not defined in the plugin",element_instance:e})},t.triggerEvent=(t,r)=>{let n=i(t,"events",s);if(!n)return S.owner_error("event is not defined in the plugin",{display:"Event "+t+" is not defined in the plugin",element_instance:e});{let t=A.run_element_workflow(e,c+"-"+n,void 0,void 0,void 0,!0);if(null!=r)return null==t?void 0:t.callback(r)}},0===p.responsive_version&&(t.setHeight=function(t){if(!("number"!=typeof t||t<0||isNaN(t)))return e.set_height(t);S.owner_error("Trying to set a negative or non-number height",{display:"Trying to set a negative or non-number height: "+t,element_instance:e})}),s.add_is_visible||(t.show=function(){return e.canvas[0].style.display="block",e._is_visible_me=!0,e._update_visible()},t.hide=function(){return e.canvas[0].style.display="none",e._is_visible_me=!1,e._update_visible()}),null!=e._plugin_data||(e._plugin_data={}),t.data=e._plugin_data,s.support_autobinding&&s.autobinding_value&&(t.publishAutobinding=function(t){let r=a({thing:t,node:e,value:s.autobinding_value,is_list:s.autobinding_is_list});return w.run_auto_binding(e,r,!0)}),s.add_large_file_upload_properties&&(t.uploadFile=(t,r,n,i)=>(t&&Y(c,{instance:e,file:t,callback:r,attach_to:n,callback_progress:i}),null),t.canUploadFile=function(t){return t&&L.evaluate_property(e,"file_upload_condition")&&t.size<=1e3*L.evaluate_property(e,"max_size")*1e3||!1}),t},j=(e,t)=>{null!=t||(t={});let{recursion_checker:r,no_sizing_props:n}=t;let i=e=>n&&["width","height"].includes(e)?0:g().is_edit_mode()||!p.bubble_props_as_functions?u(e):()=>function(e){return c.bubble[e].exists||(c.bubble[e].exists=!0,c.bubble[e].cache=u(e)),c.bubble[e].cache}(e),a=e=>{var t;return(null==(t=e.element.parent())?void 0:t.container_layout())===C.FIXED_LAYOUT},o=e=>{var t;return 0===(null==(t=e.element.root())?void 0:t.get_responsive_version())},l={min_width_css:e=>o(e)?`${e.element.get_min_width()}px`:a(e)?`${e.element.get_width()}px`:P.min_width_css(e),max_width_css(e){if(o(e)){let t=e.element.get_max_width();return null!=t?`${t}px`:null}return a(e)?`${e.element.get_width()}px`:P.max_width_css(e)},fit_width:e=>!o(e)&&P.is_fitting_width(e),min_height_css:e=>o(e)?"0px":a(e)?`${e.element.get_height()}px`:P.min_height_css(e),max_height_css:e=>o(e)?null:a(e)?`${e.element.get_height()}px`:P.max_height_css(e),fit_height:e=>!!o(e)||P.is_fitting_height(e),font_face:e=>P.get_font_face(e)},_=t=>{var r,n;return null!=(r=null==(n=l[t])?void 0:n.call(l,e))?r:L.evaluate_property(e,t)};function u(t){if(!r)return _(t);if(r[t])return S.owner_error("Property contains circular reference to this element",{element_instance:e,prop_name:t}),null;try{return r[t]=!0,_(t)}finally{delete r[t]}}let c={bubble:{}};for(let t in s.fields){let{name:r,editor:n,value:i,is_list:a}=s.fields[t],o=u(t);c[r]=k(o,e,n,i,a)}if(s.support_autobinding&&s.autobinding_value){let t=w.get_input_autobind_thing_field(e);c.autobinding=k(t,e,void 0,s.autobinding_value,s.autobinding_is_list)}let d=e.element.field_names();for(let e in d){var f;let t=d[e];if(null==(null==(f=s.fields)?void 0:f[e])&&!t.only_edit_mode){if("font_family"===e&&(e="font_face"),"font_weight"===e)continue;c.bubble[e]=i(e)}}return c};d.can_defer_drawing=()=>!0,d.register=e=>{if(e.is_getting_property={},!e.run_mode())return;e.initialize_fn=v(s.code.initialize,"initialize ("+s.display+")"),I&&(e.reset_fn=v(s.code.reset,"reset ("+s.display+")"));let t=U({instance:e});for(let r in s.states){let{caption:n,initialization_code:i}=s.states[r];if(null!=(null==i?void 0:i.fn)&&null!=n){let a=function(){let r=v(i,"initializeState_"+n+"("+s.display+")"),a=j(e,{recursion_checker:e.is_getting_property});return null==r?void 0:r(a,t)};e.state(r,(()=>M(e,a,"element")))}}},d.initialize=e=>{let t=e.get_canvas(),r=D(e),n=U({instance:e});I&&e.on_message("reset_input",(()=>M(e,(()=>e.reset_fn(r,n))))),e.wait_for_visible((()=>{var i;let a=p.responsive_version>0&&0===(null==(i=e.element.root())?void 0:i.get_responsive_version());a&&s.can_fit_height&&t.css("height","max-content"),M(e,(()=>{var t;null==(t=e.initialize_fn)||t.call(e,r,n)}),"element");let o=v(s.code.update,"update ("+s.display+")");e.autorun((()=>{let t=j(e);if(p.bubble_props_as_functions)for(let e in t.bubble)t.bubble[e]();r=D(e),n=U({instance:e}),_.run_without_catching_not_ready((()=>M(e,(()=>null==o?void 0:o(r,t,n)),"element")))})),a&&s.can_fit_height&&e.autorun((()=>{let t=e.current_height();e.set_height(t,{no_css_update:!0}),e.canvas.css("height","max-content")}))}))};for(let e of["events","actions"]){var Q;d[e]=Object.keys(null!=(Q=s[e])?Q:{}).map((e=>`${c}-${e}`))}for(let e in s.events){let t=s.events[e];r[e]={_display:()=>" "+t.caption,element_name:"A "+s.display}}for(let e in s.actions){let t,r=s.actions[e];!g().is_edit_mode()&&!l.on_server()&&(t=v(r.code,"element_action ("+s.display+"-"+r.caption+")")),n[e]={category:"Element Actions",display:e=>o(e,r.caption),field_names:h(r,!0),fields:e=>b.get_element_id_field(e).concat(get_fields(e,r,!0)),run:(e,n,i,a)=>u.run_once(30,(()=>({properties:T(e,n,r.fields),instance:i.element.find_instance_by_id(n.element_id)})),((r,n)=>{if(r)return void a(r);let{properties:o,instance:s}=n;s.with_canvas((r=>{let n=D(s),l=U({instance:s,action:e,bubble_context:i});return u.run_once(30,(()=>_.run_without_catching_not_ready((()=>M(e,(()=>{var e;return null==(e=t)?void 0:e(n,o,l)}),"action",(e=>a(e)))))),a)}))}))}}t[e]=d}for(let e in this.raw.plugin_actions){var ee;let t=this.raw.plugin_actions[e],r="server_side"===t.type,c={display:()=>t.display+""+(G.is_testing()?" (testing)":""),category:null!=(ee=t.category)?ee:"plugins",data_to_refresh:null,not_api:"client_side"===t.type};if(c.field_names=h(t,!0),c._fields=e=>get_fields(e,t,!0),r){var te,re,ne,ie,ae,oe,se;let e,n=null==t||null==(te=t.code)?void 0:te.package_used;var le;if("empty"===(null==t||null==(re=t.code)?void 0:re.package_status)&&(n=!1),n)e=null==t||null==(le=t.code)?void 0:le.package_hash;c.server_method="custom_plugin_code",c.code=null==t||null==(ne=t.code)||null==(ie=ne.server)?void 0:ie.fn,c.package=null==t||null==(ae=t.code)||null==(oe=ae.package)?void 0:oe.fn,c.package_used=n,c.package_hash=e,c.node_version=null==(se=this.raw.meta_data)?void 0:se.sa_node_version,c.plugin_api_version=this.get_plugin_api_version(),c._transform_properties=(e,n)=>T(n,e,t.fields,r),c.return_value=function(e){if(o.not_empty(t.return_value)){let r={};return R.object_entries(t.return_value).map(((e,t)=>{var r;let[n,i]=e;return{key_id:n,key_data:i,rank:null!=(r=i.rank)?r:t}})).sort(((e,t)=>e.rank-t.rank)).forEach((t=>{let{key_data:n}=t;r[n.name]=[n.caption,f(e,n.value,n.is_list),!0]})),E.get("struct."+a.base64(JSON.stringify({definition:r,caption:e.display()})))}return E.get("null")},c.run=(e,r,n,a)=>n.get_server_outcome(e,((r,n)=>{if(r&&(r.pluginservice_action=t.display,r=s.ensure_bubble_error(r).extend({action:e})),a(r,n),"current"===i&&n){console.log("Result of "+t.display);let r=c.return_value(e);u.run_once(30,(()=>{var e;return{val:null!=(e=null==r?void 0:r.get_JS_object(n))?e:n}}),((e,t)=>{e?S.log(e):console.log(t)}))}}))}else{let e;!g().is_edit_mode()&&!l.on_server()&&(e=v(t.code.client,"action ("+t.display+")")),c.run=function(n,i,a,o){let s=U({action:n,bubble_context:a});u.run_once(30,(()=>_.run_without_catching_not_ready((()=>{let a=T(n,i,t.fields,r);M(n,(()=>{var t;return null==(t=e)?void 0:t(a,s)}),"action",(e=>o(e)))}))),o)}}n[e]=c}return{elements:t,events:r,actions:n}}}).prototype,"calls",[t],Object.getOwnPropertyDescriptor(n.prototype,"calls"),n.prototype),i(n.prototype,"get_call_class",[r],Object.getOwnPropertyDescriptor(n.prototype,"get_call_class"),n.prototype),n);D.ThirdPartyPluginWrapper=J})),yw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.page_load_performance_metrics=function(e,a){if(!o.page_speed_metrics_on)return;let _,{dns_time:u,redirect_time:c,tcp_time:d}=function(){let e,t,r;for(let n of window.performance.getEntries()){let i=n;if(!Number.isNaN(i.domainLookupEnd-i.domainLookupStart))null!=e||(e=0),e+=i.domainLookupEnd-i.domainLookupStart;if(!Number.isNaN(i.redirectEnd-i.redirectStart))null!=t||(t=0),t+=i.redirectEnd-i.redirectStart;if(!Number.isNaN(i.connectEnd-i.connectStart))null!=r||(r=0),r+=i.connectEnd-i.connectStart}return{dns_time:e,redirect_time:t,tcp_time:r}}(),{third_party_plugin_count:p,third_party_plugin_js_execution_time_ms:f,third_party_plugin_code_string_length:h,hardcoded_plugin_count:g,hardcoded_plugins:m}=function(){let e,t;if(null!=window.plugins){e=Object.keys(window.plugins).length;for(let e in window._bubble_page_load_data.plugins_size){null!=t||(t=0),t+=window._bubble_page_load_data.plugins_size[e]}}let r,i,a=n.default.get_plugin_execution_time();for(let e in a){null!=i||(i=0),i+=a[e]}let o,s,l=window._bubble_page_load_data.js_execution_timings;return l.plugin_js_end_execution&&l.plugin_js_start_execution&&(r=l.plugin_js_end_execution-l.plugin_js_start_execution),i&&r?r+=i:i&&(r=i),null!=window._bubble_page_load_data.hardcoded_plugins&&(o=window._bubble_page_load_data.hardcoded_plugins,s=Object.keys(o).length),{third_party_plugin_count:e,third_party_plugin_js_execution_time_ms:r,third_party_plugin_code_string_length:t,hardcoded_plugin_count:s,hardcoded_plugins:o}}(),b=Date.now(),w=window.location.href,A=t.default.appname(),E=t.default.app_version(),M=window.bubble_bundle_name,x=function(){let e=window.navigator.userAgentData;return e?{brands:`[${e.brands.map((e=>`${e.brand} ${e.version}`)).join(", ")}]`,platform:e.platform,mobile:e.mobile,language:window.navigator.language}:{language:window.navigator.language}}();null!=x&&x.brands||(_=window.navigator.userAgent);let{bubble_version:O,experimental_features:k,responsive_version:S,old_responsive_elements:T}=function(e){let r,n,i={};for(let e in s.PUBLIC_ACTIVE_EXPERIMENTS)t.default.has_feature_enabled(e)&&(i[e]=!0);if(e){let i=t.default.get_page_by_name(e);r=null==i?void 0:i.get_responsive_version();let a=t.default.custom_definitions();for(let e of a)0===e.get_responsive_version()&&(n=!0)}return{bubble_version:window.bubble_version,experimental_features:i,responsive_version:r,old_responsive_elements:n}}(a),N=function(e,t){return void 0!==t&&(null!=t.page_data&&(e.page_data=t.page_data),null!=t.page_html&&(e.page_html=t.page_html),null!=t.page_render_start&&(e.page_render_start=t.page_render_start),null!=t.page_render&&(e.page_render=t.page_render),null!=t.page_full&&(e.page_full=t.page_full),null!=t.packager_size&&"number"==typeof t.packager_size&&(e.packager_size=t.packager_size),null!=t.run_js_size&&(e.run_js_size=t.run_js_size)),e}({timestamp:b,url:w,appname:A,app_version:E,bundle_type:M,internal_nav_explanation:y(),asset_info:v(),dns_time:u,redirect_time:c,tcp_time:d,browser:x,user_agent:_,bubble_version:O,experimental_features:k,responsive_version:S,old_responsive_elements:T,third_party_plugin_count:p,third_party_plugin_js_execution_time_ms:f,third_party_plugin_code_string_length:h,hardcoded_plugin_count:g,hardcoded_plugins:m,json_info:window._bubble_page_load_data.json_info,element_counts:window._bubble_page_load_data.element_counts,element_instances_count:l.element_counts.element_instances.total},e);r.default.or_throw().location.post("server://user/m",N,(e=>{e&&i.log(e)}))},Ue(),Ft(),pr();var t=c(Po()),r=c(qr()),n=c(vw()),i=u(Kt()),a=u(kv()),o=u(Vt()),s=zm(),l=Th();function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return e[e.dynamic_js=0]="dynamic_js",e[e.early_js=1]="early_js",e[e.edit_js=2]="edit_js",e[e.run_debug_js=3]="run_debug_js",e[e.run_js=4]="run_js",e[e.static_js=5]="static_js",e[e.run_css=6]="run_css",e}(d||{});function p(e){let t=!1,r=e.name.substring(e.name.lastIndexOf(".")+1).toLowerCase();return e.name.includes("package")&&(t=!0),{first_party:t,file_type:r}}function h(e,t,r){Object.values(d).includes(r)?(t[`${r}_uncompressed_size_bytes`]=e.decodedBodySize,t[`${r}_compressed_size_bytes`]=e.encodedBodySize,e.duration>=0&&(t[`${r}_download_time_ms`]=e.duration)):(null!=t.other_assets_count||(t.other_assets_count=0),t.other_assets_count+=1);return t}function g(e,t){let r=window._bubble_page_load_data.js_execution_timings;return e[`${t}_start_execution_ms`]=r[`${t}_start_execution`],Number.isNaN(r[`${t}_end_execution`]-r[`${t}_start_execution`])||(e[`${t}_execution_time_ms`]=r[`${t}_end_execution`]-r[`${t}_start_execution`]),e[`pre_${t}_ms`]=r[`pre_${t}`],e[`post_${t}_ms`]=r[`post_${t}`],e}function m(e,t){(t.third_party_assets_count+=1,e.decodedBodySize)&&(null!=t.third_party_assets_uncompressed_size_bytes||(t.third_party_assets_uncompressed_size_bytes=0),t.third_party_assets_uncompressed_size_bytes+=e.decodedBodySize);e.encodedBodySize&&(null!=t.third_party_assets_compressed_size_bytes||(t.third_party_assets_compressed_size_bytes=0),t.third_party_assets_compressed_size_bytes+=e.encodedBodySize);return t}function v(){let e=window.performance.getEntriesByType("resource"),t={};for(let r of e){let e=r.name,n=r;null!=t.third_party_assets_count||(t.third_party_assets_count=0);let i=p(n);if(i.first_party){let r=e.substring(e.lastIndexOf("/")+1,e.length).replace(".","_");h(n,t,r),"js"===i.file_type&&g(t,r)}else m(n,t)}return t}function y(){let e=new URLSearchParams(window.location.search),t=window.document.referrer.split("/")[2];if(!window.document.referrer||t!==window.location.hostname)return"NOT_INTERNAL_NAV";if("false"===e.get(a.EXPERIMENT_PARAM)){e.delete(a.EXPERIMENT_PARAM);let t=r.default.or_throw().location.get_page();return t&&window.history.replaceState(null,"",`${t}?${e.toString()}`),"RAN_PERFORMANCE_EXPERIMENT"}return r.default.or_throw().location.get_pieces().use_site_path?"UNKNOWN":t===window.location.hostname?"SAME_APP":void 0}})),bw=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Nt(),n=e;r.safe_register("./box",n),n.left=(e,t)=>_(e,"left",t),n.top=(e,t)=>_(e,"top",t),n.offset_left=e=>e.offset().left,n.offset_top=e=>e.offset().top,n.right=e=>n.left(e)+n.width(e),n.bottom=e=>n.top(e)+n.height(e),n.width=(e,t)=>_(e,"width",t),n.height=(e,t)=>_(e,"height",t),n.inner_left=e=>n.left(e)+_(e,"border-left-width"),n.inner_top=e=>n.top(e)+_(e,"border-top-width"),n.inner_right=e=>n.right(e)-_(e,"border-right-width"),n.inner_bottom=e=>n.bottom(e)-_(e,"border-bottom-width"),n.inner_width=e=>n.inner_right(e)-n.inner_left(e),n.inner_height=e=>n.inner_bottom(e)-n.inner_top(e),n.offset_bottom=e=>n.offset_top(e)+n.height(e),n.offset_right=e=>n.offset_left(e)+n.width(e),n.min_width=e=>_(e,"border-left-width")+_(e,"border-right-width")+_(e,"padding-left")+_(e,"padding-right"),n.min_height=e=>_(e,"border-top-width")+_(e,"border-bottom-width")+_(e,"padding-top")+_(e,"padding-bottom"),n.get=(t,r)=>e[r](t),n.set=(t,r,n)=>e[r](t,n),n.get_dim=function(e){let r=a[o(e)];if(!r)throw new t.UnexpectedError("unrecognized: "+o(e));return r},n.dim_props=e=>i[e],n.transform_dim=function(e,r){let a=t.extend({},i[e],r);return n.get_dim(a)};var i={},a={};function o(e){return e.axis+e.type+e.edge+e.rank}function s(e,t,r){i[e]||(i[e]={}),i[e][t]=r}function l(e,t){for(let r of t)if(-1!==e.indexOf(r))return!0;return!1}for(let e of["width","left","right","inner_left","inner_right","inner_width","height","top","bottom","inner_top","inner_bottom","inner_height"])l(e,["width","left","right"])?s(e,"axis","x"):s(e,"axis","y"),l(e,["inner"])?s(e,"edge","inner"):s(e,"edge","outer"),l(e,["width","height"])?s(e,"rank","span"):l(e,["left","top"])?s(e,"rank","near"):s(e,"rank","far"),a[o(i[e])]=e;function _(e,t,r){return null==r?(r=Math.round(parseFloat(e.css(t))),isNaN(r)?0:r):e.css(t,r+"px")}})),ww=u((e=>{"use strict";f(),Ue(),Ze();var t=e;t.initialize_globals=function(){if(typeof window>"u")return;let e=["window","document","navigator"];for(let r of e){var t;null!=(t=window)[r]||(t[r]=void 0)}},t.initialize=function(){Error.stackTraceLimit=1e3,t.initialize_globals()}})),Aw=u((e=>{"use strict";f();var t=qr(),r=M_(),n=Qt(),i=Vt(),a=it(),o=ot(),s=Gt(),l=No(),_=Zt(),u=Po(),c=e,d=Date.now(),p={debug:"debug",verbose:"debug",info:"info",warn:"warn",error:"error",fatal:"error"},h={user_error:"info",owner_warn:"warn",owner_error:"error"},g={},m=0,v=0,y=!1,b=!1;function w(){b||(b=!0,console.warn("Note: we are hiding further messages to avoid excess logging"))}c.fiber_wrapper=e=>e,c.log=function(e,c,f){var b,A,E,M;if(null!=g[c]||(g[c]=0),g[c]>=5)return void w();if(m>=20)return void w();g[c]++,m++;let x=h[null==(b=f.tags)?void 0:b.user_level];if(null!=(A=f).code||(A.code=_.UUID()),x||s.level_gte(e,i.browser_console_log_level)){var O,k,S;let t,r=null!=(O=null==(k=console[p[null!=x?x:e]])?void 0:k.bind(console))?O:console.log.bind(console);var T;if(x)t=null!=f.element_instance?`Element ${f.element_instance.element.get_name()} - `:f.event?`Event ${f.event.display()} - `:f.action?`Action ${f.action.display()} - `:"",f.prop_name&&(t+=f.prop_name+" "),t+=null!=(T=f.display)?T:c;else null!=c?(t=c,"string"==typeof f.stack&&(t=[t].concat(f.stack.split("\n").slice(1)).join("\n")+"\n")):t=f.stack;let i=n.extend({},f);delete i.stack,delete i.tags,delete i.display,/Bubble Tests/.test(null==(S=navigator)?void 0:S.userAgent)&&(i.bubble_level=e),"\n"!==t[-1]&&(t+="\n"),r(t,i)}if(s.level_gte(e,"warn")&&l.all_page_errors.push({message:c,stack:f.stack,data:f,level:e}),t().workflow.debugger&&s.level_gte(x,"warn")){var N,C;let r,n;if(x){var L;r=null!=(L=f.display)?L:c}else{if(y)return;y=!0,r=`Sorry, we have encountered an unexpected error. Please <a href='https://bubble.io/support/report?app=${u.appname()}&fiber=${f.code}' class="click-for-bug-report" target="_blank">click here to file a bug report</a>, including error code ${f.code} and a step-by-step explanation of how to reproduce this issue.`}n=f.event?"workflow":f.action?"action":f.element_instance?"element":s.level_gte(null!=x?x:e,"error")?"general":"warning";let i=null!=(N=f.action)?N:f.element_instance,{event:a}=f,{prop_name:o}=f,l={message:r};null==(C=t().workflow.debugger)||C.report_error({type:n,instance:i,event:a,prop_name:o,error:l})}if(f.server_generated||!s.level_gte(e,"info"))return;let P={level:e,message:c,data:f=a.clean_args({args:f}),server_connection_problems:r.server_connection_problems,session_count:v,js_user_agent:window.navigator.userAgent,page_load_time:d,client_commit_sha:i.commit_sha,client_commit_timestamp:i.commit_timestamp,client_page_url:null==(E=t().location)||null==(M=E.my_location)?void 0:M.call(E),mode:o.is_edit_mode()?"edit":o.is_plugin_edit_mode()?"plugin":"run"};s.level_gte(e,"error")&&v++,t().location.request("server://bug/client_log","POST",P,(function(e){e&&console.error(e)}),null,f.code)}})),Ew=u((e=>{"use strict";f();var t=qr(),r=Or(),n=jr(),i=e,a=2*r.SECOND_MS;function o(){let e=n.getCompletedTransactions();e.length&&(t().location.post("server://user/apm",{completedTransactions:e,apm:!0}),n.clearCompletedTransactions()),setTimeout(o,a)}i.start=function(){o()}})),Mw=u((e=>{"use strict";f(),Ue();var t=1;e.tab_container=e=>{e.wait_for_visible_lite((()=>{let r=[];for(let t of e.children)(t.element.get_messages().includes("set_focus")||t.element.get_related_workflows("ButtonClicked").length)&&r.push(t);let n=r.filter((e=>!e.state("tab_index")));function i(e,t){return Math.max(...e.map((e=>e.element.get_top()+e.element.get_height())))>=t.element.get_top()}n.sort(((e,t)=>e.element.get_top()-t.element.get_top()));let a=[],o=[];for(let e of n)0===o.length||i(o,e)?o.push(e):(a.push(o),o=[e]);a.push(o);for(let e of a){e.sort(((e,t)=>e.element.get_left()-t.element.get_left()));for(let r of e)r.message("add_tab_index",t),t++}}))}})),xw=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Po(),n=fn(),i=Mw(),a=Zm(),o=qr(),s=e,l=null,_=class e{constructor(e,r){if(this.owner_instance=e,this.container_canvas=r,this.container_canvas.css("box-sizing","border-box"),this.owner_instance){let{element:e}=this.owner_instance;this.info=t.json_deep_copy(e.get_responsive_data())}null!=this.info||(this.info={}),this.is_initialized=t.MakeKey(null,"container initialized")}destroy(){var e;null==(e=this.owner_instance)||e.destroy(),this.owner_instance=null}resize_width(){}add_to_instances(){}ready_key(){return this.is_initialized}get_canvas(){return this.container_canvas}get_owner(){return this.owner_instance}render(e){let t=$(e);return t.addClass("bubble-element"),t}recalculate(e){let t=this.info[e];null!=t.pushed_by||(t.pushed_by=[]);let r=Object.values(t.pushed_by).map((e=>this.info[e].height_delta+this.info[e].top_delta)),n=Math.max(...r);n!==t.top_delta&&(t.top_delta=n,t.instance.canvas.css("top",t.top_delta+t.it),this.calculate_children(e),this.recalculate_stripe(e))}calculate_children(e){let r=this.info[e];if(null!=r.pushes||(r.pushes=[]),t.is_empty(r.pushes))this.recalculate_container(e);else for(let e in r.pushes){let t=r.pushes[e];this.recalculate(t)}}recalculate_container(e){let t;for(let e in this.info.container_bottoms){let r=this.info.container_bottoms[e],n=this.info[r];t=null==t?n.height_delta+n.top_delta:Math.max(t,n.height_delta+n.top_delta)}this.owner_instance.supports_message("child_movement")&&this.owner_instance.message("child_movement",t)}recalculate_stripe(e){if(!this.owner_instance.supports_message("movement_in_stripe")||null==this.info[e].pushes_stripe)return;let t,r=this.info[e].pushes_stripe;for(let e in this.info){let n=this.info[e];n.pushes_stripe===r&&(t=null==t?n.height_delta+n.top_delta:Math.max(t,n.height_delta+n.top_delta))}this.owner_instance.message("movement_in_stripe",r,t)}set_height(e,r,n){null!=n||(n={}),t.WaitFor(this.is_initialized,(()=>{let t=e.element_id();if(this.info[t].current_height===r)return;this.info[t].current_height=r,n.no_css_update||e.canvas.css("height",r);let i=r-this.info[t].ih;i!==this.info[t].height_delta&&(this.info[t].height_delta=i,this.calculate_children(t),this.recalculate_stripe(t))}))}add(e,r){let{element:n}=e,i=n.id(),a=this.info[i];null!=a?(t.extend(a,{current_height:a.ih,top_delta:0,height_delta:0,instance:e}),e.wait_for_visible_lite((()=>{let{style:t}=e.canvas[0];return t.boxSizing="border-box",t.position="absolute",t.zIndex=a.iz,t.left=a.il+"px",t.top=a.it+a.top_delta+"px",t.width=a.iw+"px",t.height=a.current_height+"px",e.notify_width(a.iw)})),this.container_canvas.append(e.canvas)):r&&e.wait_for_visible_lite((()=>{let{style:t}=e.canvas[0];t.boxSizing="border-box",t.position="absolute",t.zIndex=e.element.get_zindex(),t.left=e.element.get_left()+"px",t.top=e.element.get_top()+"px",t.width=e.element.get_width()+"px",t.height=e.element.get_height()+"px"}))}create_child(r,n){let{custom_definition:i}=r.element.E;if(i){let a;return i().get_responsive_version()>0?new l(r,n):(a=i().use_responsive_algorithm()?new u(r,n,r.element.get_responsive_data()):new e(r,n),a.resize_width(t.real_inner_width(n)),a)}return new e(r,n)}initialize(){i.tab_container(this.owner_instance),this.is_initialized.turn()}detach(e){e.canvas.detach()}},u=class e extends n.EventEmitter{constructor(e,r,n,i){super(),this.owner_instance=e,this.container_canvas=r,this.owner=i,this.container_canvas[0].style["box-sizing"]="border-box",this.owner_instance&&({elements:this.elements,boxes:this.boxes,lines:this.lines,lines_length:this.lines_length}=t.json_deep_copy(null!=n?n:{})),null!=this.elements||(this.elements={}),null!=this.boxes||(this.boxes={}),null!=this.lines||(this.lines={}),null!=this.lines_length||(this.lines_length=0),this.instances={},this.instances_keys={},null!=this.lines||(this.lines={}),this.child_containers=[],this.flow_created=t.MakeKey(null,"flow created")}destroy(){var e,t;this.destroyed=!0,null==(e=this.owner_instance)||e.destroy(),this.owner_instance=null;let r=null!=(t=this.instances)?t:{};for(let e in r)r[e].destroy();this.instances=null;for(let e of this.child_containers)e.destroy();this.elements=this.boxes=this.lines=this.lines_length=this.instance_keys=this.flow_created=null}ready_key(){return this.flow_created}get_canvas(){return this.container_canvas}get_owner(){return this.owner_instance}render(e){let t=$(e);return t.addClass("bubble-element"),t}_show_line(e){var r,n;return null!=this._lines||(this._lines={}),null!=(r=this._lines)[e]||(r[e]=t.div("bubble-r-line",this.container_canvas)),this._lines[e].show(),this._num_lines=Math.max(null!=(n=this._num_lines)?n:0,parseInt(e)+1),this._lines[e]}_hide_lines(e){this.last_display_line=e-1;for(let t=e;t<this._num_lines;t++)this._lines[t].hide()}_get_box(e){return null!=this._boxes||(this._boxes={}),this._boxes[e]||(this._boxes[e]=t.div("bubble-r-box"),this.recalculate_box_height(e),this._boxes[e][0].box_debugging_metadata=this.boxes[e]),this._boxes[e]}recalculate_box_height(e){let t=this.boxes[e],r=null;for(let e in t.bottoms){var n;let i=t.bottoms[e],a=this.elements[i],o=this._get_height_delta(i)+(null!=(n=a.top_delta)?n:0);r=null==r?o:Math.max(r,o)}let i=r+(t.ih-t.line_gap);if(i!==t.height){var a;t.height=i,this._get_box(e)[0].style.height=Math.max(i,0)+"px";let r=null==(a=this.box_to_display_line)?void 0:a[e];r&&this.update_display_line_height(r)}}update_display_line_height(e){var t;let r=null==(t=this._lines[e.idx])?void 0:t[0];r&&(r.style.height=Math.max(this.get_display_line_height(e),0)+"px")}_update_instance(e,r){var n;this.instances[e]?this.instances[e].wait_for_visible_lite(r):(null!=(n=this.instances_keys)[e]||(n[e]=t.MakeKey(null,"waiting for instance for "+e)),t.WaitFor(this.instances_keys[e],this._update_instance.bind(this,e,r)))}_wait_for_instance_added(e,r){var n;this.instances[e]?r():(null!=(n=this.instances_keys)[e]||(n[e]=t.MakeKey(null,"waiting for instance for "+e)),t.WaitFor(this.instances_keys[e],this._wait_for_instance_added.bind(this,e,r)))}_set_element_width(e,t,r){let n=this.elements[e];n.width=t,n.left=r,this._update_instance(e,(()=>{this.to_canvas(this.instances[e])[0].style.width=n.width+"px",this.to_canvas(this.instances[e])[0].style.left=n.left+"px",this.instances[e].notify_width(n.width)}))}get_display_line_top(e){let t=0;for(let r=0;r<e.idx;r++){let e=this.display_lines[r];t+=e.top_margin,t+=this.get_display_line_height(e)}return t+e.top_margin}get_display_line_height(e){return Math.max(...e.boxes.map((e=>e.height)))}get_hidden_elements(){var e;return[].concat(null!=(e=this._visibility_rules)?e:[]).concat(...this.child_containers.map((e=>e.get_hidden_elements())))}get_all_instances(){let e=Object.values(this.instances);for(let t of this.child_containers)e.push(...t.get_all_instances());return e}get_element_box(e,t){let r=this.search_for_element(e);if(!r)return null;if(t)return r.instances[e];{let t=r.elements[e].box;return r.boxes[t]}}search_for_element(e){if(this.destroyed)return null;if(!this.elements[e]){for(let t of this.child_containers){let r=t.search_for_element(e);if(null!=r)return r}return null}return this}get_margin_info(e){var t;let r=this.search_for_element(e);return r&&null!=r.elements[e].box?"RepeatingGroup"===(null==(t=r.owner_instance)?void 0:t.element.type())?null==(n=r.child_containers)?void 0:n[0].get_margin_info(e):r.margin_debugging[r.elements[e].box]:null;var n}resize_width(e){var t;if(this.container_width===e||this.destroyed)return;this.container_width=e,this._visibility_rules=[],this.margin_debugging={};let r=(e,t)=>{if(0===t){let t=this.lines[e.line_idx],r=this.boxes[t.boxes[0]];return this.margin_debugging[e.box_id].left.from_element=r.leftmost,this.margin_debugging[e.box_id].left.from_dir="left",this.margin_debugging[e.box_id].left.original=r.left_margin,r.left_margin}return this.margin_debugging[e.box_id].left.from_element=e.leftmost,this.margin_debugging[e.box_id].left.from_dir="left",this.margin_debugging[e.box_id].left.original=e.left_margin,e.left_margin},n=e=>{let t=this.lines[e.line_idx],r=this.boxes[t.boxes[t.boxes_length-1]];return this.margin_debugging[e.box_id].right.from_element=r.rightmost,this.margin_debugging[e.box_id].right.from_dir="right",this.margin_debugging[e.box_id].right.original=r.right_margin,r.right_margin},i=t=>!!(o().bubble_version()>=2&&this.owner_instance.get_static_property("fixed_width"))||!("<="===t.rs&&e<=t.rsw)&&!(">"===t.rs&&e>t.rsw);this.box_to_display_line={},this.display_lines=[];let a,s=null;for(let t=0;t<this.lines_length;t++){let o=this.lines[t];this.elements[this.boxes[o.boxes[0]].first].wtp||(s=null);for(let t=0;t<o.boxes_length;t++){var l,_;let u=o.boxes[t],c=this.boxes[u],d=0,p=-1/0,f=!1;for(let e in c.contains){let t=c.contains[e];if(i(this.elements[t])){f=!0,d=Math.max(d,this.elements[t].mw);let{maxw:e}=this.elements[t];null!=e?(e=e/this.elements[t].iw*c.iw,p=Math.max(p,e)):p=1/0}}if(!f){this._get_box(c.box_id).hide(),this._visibility_rules.push(...Object.values(c.contains));continue}isFinite(p)&&(c.max_width=p),c.min_width=Math.min(e,d);let h=null!=(l=null==(_=s)?void 0:_.boxes.length)?l:0,g=c.min_width;this.margin_debugging[u]={right:{},left:{}},"right"!==c.align||0!==h&&"left"!==s.boxes[h-1].align?(g+=r(c,h),this.margin_debugging[u].left.break_first=!0):this.margin_debugging[u].left.break_first=!1,"left"!==c.align?(g+=n(c),this.margin_debugging[u].right.break_first=!0):this.margin_debugging[u].right.break_first=!1,null==s?(s={boxes:[c],top_margin:o.top_margin,idx:this.display_lines.length,topmost:o.topmost},this.display_lines.push(s),a=0):a+g<=e?s.boxes.push(c):(s={boxes:[c],top_margin:o.top_margin,idx:this.display_lines.length,topmost:o.topmost},this.display_lines.push(s),a=0,h=0),a+=c.min_width+r(c,h),this.box_to_display_line[u]=s}}let u,c,d=null!=(t=this.display_lines)?t:[];for(u=0;u<d.length;u++){let t=d[u],a=0,o=0,s=0,l=0,_=0;null!=t.boxes||(t.boxes=[]);let f=(e,r)=>{if("left"===e.align)return this.margin_debugging[e.box_id].left.fixed=e.contains[0],this.margin_debugging[e.box_id].left.fixed_dir="left",!1;let n=t.boxes[r-1];return"right"===(null==n?void 0:n.align)?(this.margin_debugging[e.box_id].left.fixed=n.contains[0],this.margin_debugging[e.box_id].left.fixed_dir="right",!1):(this.margin_debugging[e.box_id].left.fixed=null,!0)};for(let e=0;e<t.boxes.length;e++){let i=t.boxes[e];o+=i.iw-i.min_width,i.max_width?s+=i.max_width-i.min_width:i.iw!==i.min_width&&(s=1/0);let u=r(i,e);if(a+=i.iw+u,f(i,e)&&(l+=u,_++),e===t.boxes.length-1){let e=n(i);a+=e,"right"!==i.align?(this.margin_debugging[i.box_id].right.fixed=null,l+=e,_++):(this.margin_debugging[i.box_id].right.fixed=i.contains[0],this.margin_debugging[i.box_id].right.fixed_dir="right")}}let h,g,m=a-e;0===o?h=1:(1===t.boxes.length&&null!=t.boxes[0].collapse_margin&&t.boxes[0].collapse_margin>=e?(c=!0,m-=l):c=!1,o>=m?o-m>s?(h=s/o,m+=s-o):(h=(o-m)/o,m=0):(h=0,m-=o)),0===l?g=1:c?g=0:(g=(l-m)/l,m=0);let v=m/-_,y=new Array(t.boxes.length),b=0,w=0;for(let e=0;e<t.boxes.length;e++){let r=t.boxes[e],n=r.min_width+(r.iw-r.min_width)*h;r.max_width&&n>r.max_width?(b+=n-r.max_width,y[e]=r.max_width):(w+=r.iw-r.min_width,y[e]=n)}for(;b>0;){let e=0,r=0;for(let n=0;n<t.boxes.length;n++){let i=t.boxes[n];if(!i.max_width||y[n]<i.max_width){let t=y[n]+b*(i.iw-i.min_width)/w;i.max_width&&t>i.max_width?(r+=i.max_width-y[n],y[n]=i.max_width):(r+=t-y[n],e+=i.iw-i.min_width,y[n]=t)}}b-=r,b<1&&(b=0),w=e}let A=this._show_line(u);A[0].style["margin-top"]=t.top_margin+"px";let E=0;for(let n=0;n<t.boxes.length;n++){var p;let a,o=t.boxes[n],s=this._get_box(o.box_id);s.show(),A[0].lastChild!==s[0]&&A.append(s),a=f(o,n)?r(o,n)*g+v:r(o,n);let l=y[n];s[0].style.left=E+a+"px",E+=a+l,s[0].style.width=l+"px";let _=l/o.iw;this.margin_debugging[o.box_id].left.actual=a,n===t.boxes.length-1&&(this.margin_debugging[o.box_id].right.actual=e-E),this.margin_debugging[o.box_id].left.collapsed=c&&"left"!==this.margin_debugging[o.box_id].left.fixed_dir,this.margin_debugging[o.box_id].right.collapsed=c&&"right"!==this.margin_debugging[o.box_id].right.fixed_dir;let u=g>1||v>0,d=g<1||v<0;this.margin_debugging[o.box_id].left.stretched=u,this.margin_debugging[o.box_id].right.stretched=u,this.margin_debugging[o.box_id].left.squeezed=d,this.margin_debugging[o.box_id].right.squeezed=d,this.margin_debugging[o.box_id].left.things_to_break=t.boxes.length>1,this.margin_debugging[o.box_id].right.things_to_break=t.boxes.length>1,this.margin_debugging[o.box_id].top={actual:t.top_margin,from_element:t.topmost},n>0&&(this.margin_debugging[t.boxes[n-1].box_id].right=this.margin_debugging[o.box_id].left);let h=null!=(p=o.contains)?p:{};for(let t in h){let r=h[t],n=Math.min(this.elements[r].mw,e),a=Math.max(n,this.elements[r].iw*_);this.elements[r].maxw&&a>this.elements[r].maxw&&(a=this.elements[r].maxw);let u,c=l-a;u=o.iw-this.elements[r].iw==0?c/2:this.elements[r].il/(o.iw-this.elements[r].iw)*c;let d=i(this.elements[r]);if(d&&!this.elements[r].is_attached){this.elements[r].is_attached=!0,this.calculate_children(r);let e=(e,t)=>e.append(t);this._wait_for_instance_added(r,(()=>{var t;(null!=(t=this.instances[r].element.E.wrapped_canvas_append)?t:e)(s,this.to_canvas(this.instances[r]))}))}else!1!==this.elements[r].is_attached&&!d&&(this.elements[r].is_attached=!1,this.calculate_children(r),this._wait_for_instance_added(r,(()=>{this.to_canvas(this.instances[r]).detach()})));d&&this._set_element_width(r,a,u),this.elements[r].is_attached||this._visibility_rules.push(r)}}this.update_display_line_height(t)}this._hide_lines(u),this.recalculate_container(),this.flow_created.turn(),this.emit("resize_width",e)}recalculate_container(){t.WaitFor(this.flow_created,(()=>{if(this.owner_instance.supports_message("child_movement")&&this.lines_length>0){let t=this.lines[this.lines_length-1].bottom,r=0;for(let t of null!=(e=this.display_lines)?e:[]){var e;let n=0;for(let e of t.boxes)n=Math.max(n,e.height);r+=n+t.top_margin}let n=r-t;this.owner_instance.message("child_movement",n)}}))}set_height(e,t,r){var n;null!=r||(r={});let i=e.element_id(),a=null!=(n=this.elements[i])?n:{};if(a.height===t)return;a.height=t,r.no_css_update||this._update_instance(i,(()=>{this.to_canvas(e)[0].style.height=a.height+"px"}));let o=t-a.ih;o!==a.height_delta&&(a.height_delta=o,this.calculate_children(i))}calculate_children(e){let n=this.elements[e];if(null==n){let n,i=r.by_id(e),a=null==i?void 0:i.display();if(null!=a){n=`Could not draw element ${a} on ${i.root().display()}, please make some changes to it or recreate it in the editor and retry`}else n="Could not draw an element on the page, please ask the Bubble team for guidance";throw new t.OwnerError("Missing responsive index",{display:n,element_id:e,tags:{user_level:"owner_error"}})}if(n.pushes)for(let e in n.pushes){let t=n.pushes[e];this.recalculate(t)}else this.recalculate_box_height(n.box),this.recalculate_container()}_get_height_delta(e){var t,r;return this.elements[e].is_attached?null!=(t=this.elements[e].height_delta)?t:0:null!=(r=-this.elements[e].ih)?r:0}recalculate(e){let t,r=this.elements[e];if(r.pushed_by){let e=Object.values(r.pushed_by).map((e=>{var t;return this._get_height_delta(e)+(null!=(t=this.elements[e].top_delta)?t:0)}));t=Math.max(...e)}else t=0;if(t!==r.top_delta){r.top_delta=t;let n=r.top_delta+r.it;r.top!==n&&(r.top=n,this._update_instance(e,(()=>{this.to_canvas(this.instances[e])[0].style.top=r.top+"px"}))),this.calculate_children(e)}}to_canvas(e){return e.canvas}add_to_instances(e){var t,r;null!=(t=this.elements)[r=e.element_id()]||(t[r]={}),this.instances[e.element_id()]=e}add(e){let{element:t}=e,r=this.to_canvas(e);if(t instanceof a.Root)return this.container_canvas.append(r),r[0].style["z-index"]=2,void(r[0].style.position="absolute");let n=t.id(),i=this.elements[n];null!=i&&(this.instances[n]=e,this.instances_keys[n]&&(this.instances_keys[n].turn(),this.instances_keys[n]=null),e.wait_for_visible_lite((()=>{let{style:e}=r[0];e.position="absolute",e.boxSizing="border-box",e.zIndex=i.iz,null==i.height&&(i.height=i.ih,e.height=i.height+"px"),null==i.width&&(i.width=i.iw,e.width=i.width+"px"),null==i.left&&(i.left=i.il,e.left=i.left+"px"),null==i.top&&(i.top=i.it,e.top=i.top+"px")})))}create_child(t,r){let{custom_definition:n}=t.element.E;if(n)return n().get_responsive_version()>0?new l(t,r):n().use_responsive_algorithm()?new e(t,r,t.element.get_responsive_data()):new _(t,r);{let e=new this.constructor(t,r,t.element.get_responsive_data(),this.owner);return this.child_containers.push(e),e}}initialize(){i.tab_container(this.owner_instance)}detach(e){this.to_canvas(e).detach()}};s.Container=u,s.OldContainer=_,s.set_responsive_container=function(e){l=e}})),Ow=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=qr(),i=df(),a=Zm(),o=ff(),s=Fh(),l=hf(),_=xw();t.exports=class e{constructor(e,t){this.owner_instance=e,this.container_canvas=t,this._destroy_fns=[],this.instances={},this.element_autoruns={},this.child_containers=[],this.flow_created=r.MakeKey(null,"flow created"),this.dependency=r.Dependency(),null!=this.owner_instance&&null!=this.container_canvas&&(this.owner_instance.run_mode()&&this.handle_extra_wrapper(),this.container_canvas.addClass("bubble-r-container"),"Page"===this.owner_instance.element.type()&&r.is_debug_mode()&&("fixed"===this.owner_instance.element.container_layout()?this.container_canvas.css("height",this.container_canvas.height()+300):this.container_canvas.css("padding-bottom",300)),this.autorun((()=>{let e=this.layout();this.container_canvas.removeClass(o.CONTAINER_CLASSES),this.container_canvas.addClass(e.classes),this.container_canvas.css(this.get_container_props())})))}get_container_props(){let e=this.layout(),t={};for(let r in e.container_properties){t[e.container_properties[r]]=s.evaluate_property(this.owner_instance,r)}return i.container_properties(t)}destroy(){var e;if(!this.destroyed){this.destroyed=!0,null==(e=this.owner_instance)||e.destroy(),this.owner_instance=null;for(let e of null!=(t=this.child_containers)?t:[]){var t;e.destroy()}for(let e of this._destroy_fns)e();this._destroy_fns=void 0}}on_destroy(e){this.destroyed?e():this._destroy_fns.push(e)}autorun(e,t){let n=r.autorun((()=>{this.destroyed||e()}),t);return this.on_destroy((()=>n.destroy())),n}handle_extra_wrapper(){this.owner_instance.element.should_add_extra_wrapper()&&(this.container_canvas.addClass("bubble-r-container-wrapper"),this.container_canvas=r.div("",this.container_canvas))}layout_type(){var e,t;return null!=(e=null==(t=this.owner_instance)?void 0:t.element.container_layout())?e:"fixed"}layout(){return o.LAYOUT_PROPERTIES[this.layout_type()]}resize_width(){}add_to_instances(e){this.instances[e.element_id()]=e}remove_from_instances(e){delete this.instances[e.element_id()]}ready_key(){return this.flow_created}get_canvas(){return this.container_canvas}get_owner(){return this.owner_instance}render(e){let t=$(e);return t.addClass("bubble-element"),t}to_canvas(e){return e.canvas}set_height(e,t){e.canvas.css("height",t)}get_width_properties(e){let{element:t}=e,r=this.layout_type()===o.FIXED_LAYOUT;return{min_width:r?t.get_width():l.min_width_css(e),max_width:r?t.get_width():l.max_width_css(e),min_height:r?t.get_height():l.min_height_css(e),max_height:r?t.get_height():l.max_height_css(e),fit_width:l.is_fitting_width(e),fit_height:l.is_fitting_height(e),has_fixed_aspect_ratio:t.has_fixed_aspect_ratio()}}should_collapse(e){return!(e.is_visible_me()||e.is_animating()&&e._is_animating_me)}element_css(e){let{element:t}=e,r=this.layout(),n=this.get_width_properties(e);for(let t of i.margin_properties)n[t]=s.evaluate_property(e,t);for(let t in r.element_properties){n[r.element_properties[t]]=s.evaluate_property(e,t)}let a=r.css_func(n);var o;t.E.uses_css_responsive||(a["min-width"]=t.get_min_width(),a["max-width"]=null!=(o=t.get_max_width())?o:"",e.run_mode()?delete a.height:(a.width=t.get_width(),a.height=t.get_height(),a["flex-grow"]=0),a["min-height"]="",a["max-height"]="");return a}setup_element(e){let t=this.to_canvas(e),{element:r}=e;e.autorun((()=>{t.css("z-index",r.get_zindex())})),e.autorun((()=>{this.autorun((()=>{t.css(i.element_reset),t.css(this.element_css(e))})),this.autorun((()=>{e.get_static_property("collapse_when_hidden")?this.autorun((()=>{this.should_collapse(e)?t.hide():t.show()})).set_run_immediately(!0):t.show()}))}))}root_css(e){var t,r;let{element:i}=e;return{width:e.run_mode()?"100%":n().visual_edit.root_width(),"min-width":i.root_min_width(),"max-width":null!=(t=i.root_max_width())?t:"","min-height":i.root_min_height(),"max-height":null!=(r=i.root_max_height())?r:""}}setup_root(e){let t=this.to_canvas(e);t.css({"z-index":2,position:"relative"}),this.autorun((()=>{t.css(this.root_css(e))}))}add(e){let{element:t}=e,r=this.to_canvas(e);if(t instanceof a.Root)return this.autorun((()=>{this.setup_root(e)})),void this.container_canvas.append(r);if(!t.added_to_container())return;let n=e.element.id();this.instances[n]=e,this.element_autoruns[n]=this.autorun((()=>{this.setup_element(e)})),this.container_canvas.append(r)}create_child(t,r){let n=t.element.E.custom_definition;if(n)return n().get_responsive_version()>0?new e(t,r):n().use_responsive_algorithm()?new _.Container(t,r,t.element.get_responsive_data()):new _.OldContainer(t,r);{let n=new e(t,r);return this.child_containers.push(n),n}}initialize(){this.flow_created.turn()}detach(e){this.to_canvas(e).detach()}}})),kw=u((e=>{"use strict";f(),Ue();var t=(kh(),p(vf)),r=Lo(),n=qr(),i=Po(),a=fn(),o=Ia(),s=La(),{render:l}=(kh(),p(vf)),_=Th(),{CSS_FLAG:u,ROOT_CLASS:c}=wg(),{RenderElement:d}=Uh(),{checkNonDeferrable:h}=Ih(),g=Sm(),m=Ow(),v=xw(),y=e;y.initialize=function(){v.set_responsive_container(m)},y.ElementService=class extends a.EventEmitter{constructor(){super(),this.ready_key=r.MakeKey(null,"ElementService ready")}display(e){let r,a=e.get_responsive_version();o.addEpochLabels({responsive_version:a}),r=a>0?new m(null,$("body")):e.use_responsive_algorithm()?new v.Container(null,$("body")):new v.OldContainer(null,$("body")),i.has_feature_enabled("defer_element_instances")&&h(e),(e=g.ElementInstance(e,g.RUN)).split_namespace(),e.register(null),this._page=e;let p=s.SPANS.page_draw,f=e=>o.traceSpan(p.name,p.type,(()=>{if((i.has_feature_enabled("react_upgrade")||i.get_public_setting("bubble_version")>=21||20===i.get_public_setting("bubble_version")&&e.get_static_property("page_version_21_upgrade")||n().location.get_query().new_elements_rendering)&&"function"==typeof l)if(this.new_rendering=!0,getComputedStyle(document.body).getPropertyValue(u)?null!=window._bubble_watcher_cache&&document.documentElement.classList.add(c):delete window._bubble_watcher_cache,a>0){r=new m(null),e.set_containers(r);let n=l((()=>(0,t.createComponent)(d,{instance:e})),document.body);e.on_destroy(n)}else e.create_skeleton(r);else e.create_skeleton(r);e.start_draw_tree(),e.ensure_drawn()})),y=_.measure_initial_draw({deferred_drawing_enabled:!0},(()=>{f(e)}));o.addEpochLabels(y),setTimeout((()=>{this.ready_key.turn()}))}_loading_key(e){return e?"_page_done_loading_entire":"_page_done_loading"}on_page_done_loading(e,t){let n=r.Watcher((()=>this.page_done_loading(e)));n.on_value((e=>{e&&(t(),n.destroy())}))}page_done_loading(e){let t=this._loading_key(e);return this[t]||(this[t]=r.Box(!1),this._check_if_page_is_done(e,!0)),this[t]()}_check_if_page_is_done(e,t){let n=t=>{let r=t.get_canvas();if(!r||r.is(":hidden")||"hidden"===r.css("visibility")||!e&&$(window).height()<r.offset().top)return null;for(let e of Object.values(null!=(i=t._watchers)?i:{})){var i;let[t,r,n]=e.get_current_status_array();if(!t&&!r)return n}let a=t.element.can_have_children();if(t.is_ready&&!a)return null;let o=t.get_children_drawn_key();if(!o.is_turned())return o;for(let e of t.current_children){let t=n(e);if(t)return t}return null},i=()=>{let t=n(this._page);null==t?this[this._loading_key(e)](!0):r.WaitFor(t,this._check_if_page_is_done.bind(this,e))};t&&this.ready_key.is_turned()?i():r.WaitFor(this.ready_key,(()=>{setTimeout(i,100)}))}get_page(){return this._page}}})),Sw=u((e=>{"use strict";f();var t=e;Nt().safe_register("./core/core_elements/core_elements_utilities/element_optional_utils",t)})),Tw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,(Ca(),p(xn)).createContext)({addElement(e){document.body.appendChild(e)},removeElement(e){document.body.removeChild(e)}});e.default=t})),Nw=u(((e,t)=>{"use strict";f(),Ue();var r=(Ca(),p(xn)),n=(kh(),p(vf)),i=function(e){return e&&e.__esModule?e:{default:e}}(Tw());t.exports=function(e){if(n.isServer)return"";let t=document.createTextNode("");let a=(0,r.useContext)(i.default);function o(e){null!=e&&function(e){a.addElement(e),(0,r.onCleanup)((()=>a.removeElement(e)))}("object"==typeof e?e:document.createTextNode(String(e)))}let s=(0,r.children)(function(){if(r.sharedConfig.context){let[t,n]=(0,r.createSignal)(!1);return queueMicrotask((()=>n(!0))),()=>t()&&e.children}return()=>e.children}());return(0,r.createRenderEffect)((()=>{let e=s();Array.isArray(e)?e.forEach(o):o(e)})),t}})),Cw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasRef=function(e){return t=>{null!=t&&(e.canvas=$(t),e.setup_canvas_hooks(),e._observe_canvas(),e.run_mode()&&r.default.run_transformers(e))}},e.createVisibilityLatch=function(e){let[r,n]=(0,t.createSignal)(!1);return(0,t.onMount)((()=>{e.wait_for_visible_lite((()=>n(!0)))})),r},Ue();var t=(Ca(),p(xn)),r=function(e){return e&&e.__esModule?e:{default:e}}(_y())})),Lw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=m,e.default=void 0;var t=(kh(),p(vf));Ft(),Ue();var r=(Ca(),p(xn)),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(Ag()),i=Eg(),a=Fh(),o=it(),s=d(Nw()),l=d(Bh()),_=Cw(),u=d(Po()),c=qa();function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var g=new i.Property((e=>e.edit_mode()?e.element_id().replace(/[^a-zA-Z0-9]/g,"_"):e.run_mode()&&u.default.has_advanced_feature_enabled("expose_id_option")?(0,a.evaluate_property)(e,"unique_id"):void 0),{noWaitVisible:!0});function m(e,i,u){return{buildComponent:(d,p)=>(0,c.autorun_warn)((()=>{var f;let h=null!=(f=null==p?void 0:p.preCached)?f:null==i?void 0:i(d),m=u(d,h),v={...m.properties,id:g},y=m.styles,b={},w={},A={},E=[],M={};for(let e in v)null!=p&&p.statics[e]?b[e]=v[e].computeStaticClient(p.props[e]):E.push(e);return y.forEach(((e,t)=>{if((null==p||null!=p.styles[t])&&(M[t]=e),e.notInStylesheet&&null!=(null==p?void 0:p.styles[t]))if(e.selector){var r,n;Object.assign(null!=(n=A[r=e.selector])?n:A[r]={},p.styles[t])}else Object.assign(w,p.styles[t])})),i=>(0,c.autorun_warn)((()=>{let u=i.instance,f=(0,_.createVisibilityLatch)(u),g={get turnedVisible(){return f()}},m={};function y(e,t){Object.defineProperty(m,e,{get:t})}for(let e of E){y(e,v[e].createClientWatcher(u,null==p?void 0:p.props[e],g))}let x={},O=[],k=[];for(let e in M){let t=M[e],r=t.createClientWatcher(u,null==p?void 0:p.styles[e],g);var S;if(t.selector)null!=x[S=t.selector]||(x[S]=[]),x[t.selector].push(r);else t.outerPositioning?u.edit_mode()?k.push(r):(!u.thumbnail_mode()||null!=u.parent())&&O.push(r):O.push(r)}let T={};for(let e in x)Object.defineProperty(T,e,{get:()=>Object.assign({},A[e],...x[e].map((e=>e())))});let N=u.element.get_property_applications().filter((e=>e.no_solid_support));function C(r,n){return(0,t.createComponent)(e,(0,t.mergeProps)(h,b,g,m,i,{ref(e){let t=(0,_.createCanvasRef)(u);"function"==typeof t&&t(e)},classList:r,get style(){return Object.assign({},w,...O.map((e=>e())))},childStyles:T,wrapper:n,get children(){return"CustomElement"===u.element.type()&&u.is_self_nested_custom()?"This is a circular Reusable Element... Reusable Elements cannot contain themselves (or other Reusable Elements that contain them).":i.children}}))}if(N.length>0&&(0,r.onMount)((()=>{(0,c.autorun_warn)((()=>{for(let e of N){let t;t=u.element.E.additional_uses_properties?e.uses_properties.concat(u.element.E.additional_uses_properties):e.uses_properties;let r=!0;(0,a.on_property_change)(u,t,(t=>{e.apply(Object.assign(t,{_first_time:r}),u.canvas,u),r=!1}))}}))})),(0,r.onMount)((()=>{u.mark_drawn(),u.element.draws_own_children()||u.get_children_drawn_key().turn()})),u.edit_mode()){let e={"inner-element":!0},n=(0,r.children)((()=>{var n;if(u.destroy_started())return null;let i=(0,r.createMemo)((()=>Object.assign({},...k.map((e=>e()))))),a=null==(n=(0,r.useContext)(l.default))?void 0:n.wrapper;if(null==a)throw new o.UnexpectedError("Edit-mode should define the context");return u.element.E.manual_wrapper?(0,c.autorun_top)((()=>C(e,(e=>(0,t.createComponent)(a,{instance:u,get style(){return{...i(),...e.style}},get children(){return e.children}}))))):(0,t.createComponent)(a,{instance:u,get style(){return i()},get children(){return(0,c.autorun_top)((()=>C(e)))}})}));return(0,t.createComponent)(r.Show,{get when(){return u.attach_to_body()},get fallback(){return n()},get children(){return(0,t.createComponent)(s.default,{get children(){return n()}})}})}{let e={"bubble-element":!0,[d.type()]:!0,[n.toClass(d.ssr_key())]:!0};return u.attach_to_body()&&!u.thumbnail_mode()?(0,t.createComponent)(s.default,{get children(){return C(e)}}):C(e)}}))}))}}var v=m;e.default=v})),Pw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.defaultEventHandlers=function(e,r){let n=r(),i=$(e);n.run_mode()&&!n.element.E.dont_add_hover_pressed&&(t.is_on_mobile_or_tablet()?i.on("touchstart",(()=>{n.state("is_pressed",!0),$(document).one("touchend",(()=>{let e=n.setTimeout((()=>{n.state("is_pressed",!1)}),100);$(document).one("scroll",(()=>{n.state("is_pressed",!1),n.clearTimeout(e)}))}))})):(n.state("is_hovered",c.setup_hover,!0),i.mousedown((()=>{n.state("is_pressed",!0),$(document).one("mouseup",(()=>{n.state("is_pressed",!1)}))}))));let a=n.run_mode()&&n.element.get_related_workflows("ButtonClicked").length;a&&n.element.E.change_cursor_style_if_clickable&&i.addClass(s.CLICKABLE_ELEMENT),a&&(i.focus((()=>{i.addClass("show-outline")})),i.blur((()=>{i.removeClass("show-outline")})),n.element.E.specific_click_handler||i.click((e=>{let t=(0,l.default)().workflow.debugger,r=!1;t&&(r=t.element_clicked(n,n.get_partial())),r||_.default.run_element_workflow(n,"ButtonClicked",e)})))},e.enterHandler=function(e,t){let n=$(e),i=t()[0],s=a.createWatcher((()=>{var e,t,r;let n=null,a=null!=(e=null==(t=(r=i.element).get_visible_workflows)?void 0:t.call(r))?e:[],o=i.element_id();for(let e of a){var s;if(e.find_expressions(`GetElement.element_id=${o}`).length<1)continue;let t=i.find_instance_by_id(null==(s=e.element_id)?void 0:s.call(e));if(null!=t&&t.is_visible())if(null!=n||(n=t),t!==n){n=null;break}}return n}));(0,o.createEffect)((()=>{s()&&(n.on("keydown.click_the_button",(e=>{if(e.shiftKey||t()[1]&&!r.meta(e))return;if(13===e.keyCode){n.hasClass("MultiLineInput")||n.blur();let e=s().canvas;e.is(":visible")&&(r.trigger_blur(n),e.click())}})),(0,o.onCleanup)((()=>{n.off("keydown.click_the_button")})))}))},e.inputChangeKeyupHandlers=function(e,t){let[r,a]=t(),o=$(e);n.on_phonegap()&&o.css("-webkit-user-select","text");let s=null,l=!1,_=()=>{let e;if(l=!0,s&&r.clearTimeout(s),"geographic_address"===r.get_static_property("content_format"))e=3e3;else{let t=r.canvas.val();e=t&&1!==t.length?1500:0}return s=r.setTimeout((function(){r.message("user_change",a()),s=null}),e),!0};o.on("input",_),o.on("paste",_),o.on("keydown",_),o.on("keydown",(e=>{let t=o.hasClass("MultiLineInput");13!==e.keyCode||t||o.blur()}));let u=function(){r.message("user_submit",a())};o.focus((()=>{r.state("is_focused",!0)}));let c=(0,i.default)(u,50);o.blur((()=>{r.state("is_focused",!1),l&&(l=!1,u()),c.flush(),null!=s&&(r.message("user_change",a()),r.clearTimeout(s),s=null)})),o.change((()=>n.running_test()?u():c()))},e.jqueryHTML=function(e,t){let r=$(e);(0,o.createEffect)((e=>{let n=t();if(!o.sharedConfig.context&&e!==n)try{!function(e){e()}((()=>{r.html(n)}))}catch(e){u.owner_only_error("html bug",{display:"Bug in custom html:\n"+e.stack,prop_name:"html",element:r[0].outerHTML})}return n}),void 0)},Ue();var t=g(dt()),r=g(pn()),n=g(ot()),i=d(zh()),a=g(jh()),o=(Ca(),p(xn)),s=g(Dg()),l=d(qr()),_=d(pv()),u=g(Kt()),c=gv();function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}})),Rw=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=(0,r.template)("<div></div>",2),i=pn(),a=ot(),{onMount:o,createSignal:s}=(Ca(),p(xn)),{createElement:l}=Lw(),_=Tg(),{defaultEventHandlers:u}=Pw(),{Style:c,Property:d}=Eg(),h=Fh(),g=hf();t.exports=l((function(e){let t=e.instance,[l,_]=s(null);return o((()=>{if(t.run_mode()){t.canvas.css("display","none");let e=0;t.on_message("do_show_alert",(function(r){var n;let o=++e;_(r.message),t._display_me(),t._is_visible_me=!0,t._update_visible();let s=t.canvas;s.css({display:"",opacity:null!=(n=r.fin_starting_opacity)?n:0}),!a.running_test()&&i.velocity(s,{opacity:1},{duration:r.fade_in,complete_cb:()=>{t.setTimeout((()=>{var n;s.css("opacity",null!=(n=r.fout_starting_opacity)?n:1),i.velocity(s,{opacity:0},{duration:r.fade_out,complete_cb:()=>{s.css("display","none"),t._hide_me(),t._is_visible_me=!1,t._update_visible(),o===e&&_(null)},display:""})}),r.hold)}})})),t.manual_position=!1,t.on_message("position_element",(e=>{t.manual_position=!0,t.state("manual_position",{top:`${e.Y}px`,left:`${e.X}px`,position:e.position})}))}})),(()=>{let t=n.cloneNode(!0);(0,r.use)(u,t,(()=>e.instance));let a=e.ref;return"function"==typeof a?(0,r.use)(a,t):e.ref=t,(0,r.effect)((n=>{let a=e.id,o=e.style,s={...e.classList,"bubble-r-vertical-center":e.verticalCenter},_=(()=>{var t;let r=i.bbcode_to_html(null!=(t=l())?t:e.text);return e.verticalCenter?`<div>${r}</div>`:r})();return a!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=a),n._v$2=(0,r.style)(t,o,n._v$2),n._v$3=(0,r.classList)(t,s,n._v$3),_!==n._v$4&&(t.innerHTML=n._v$4=_),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()}),(e=>({attachToTop:e.get_static_property("at_to_top")})),((e,t)=>{let{attachToTop:r}=t;return{properties:{text:new d((e=>h.evaluate_property(e,"text"))),verticalCenter:new d((e=>h.evaluate_property(e,"vertical_centering")))},styles:r?[new c((t=>{let r={position:t.run_mode()?"fixed":"absolute","margin-left":"auto","margin-right":"auto","margin-top":"","margin-bottom":"","min-width":g.min_width_css(t),"min-height":g.min_height_css(t),"max-height":g.max_height_css(t),"z-index":2e4};for(let e of["left","right","top","bottom"])r[e]=h.evaluate_property(t,`margin_${e}`);let n=g.max_width_css(t);if(e.fit_width()){r.width="auto";let e=`calc(100% - ${r.left+r.right}px)`;r["max-width"]=null!=n?[`min(${n}, ${e})`,n]:e}else r.width="initial",r["max-width"]=n;return e.fit_height()?(r.bottom="unset",r.height="auto"):r.height="initial",r}),{outerPositioning:!0}),new c((e=>{var t;return null!=(t=e.state("manual_position"))?t:{}}),{alwaysDynamic:!0}),..._.basicStyling(e)]:_.placedStyling(e)}}))})),zw=u((()=>{"use strict";f(),Ue();var e=Lo(),t=gm(),r=_y(),n=Fh(),i=hf(),{PADDING_VERSION:a}=af(),o=Rw();r.make_element("Alert",{category:"visual elements",glyph_id:"alert",list_order:6,keyboard_shortcut:null,defaults:{font_color:"#947739",background_style:"bgcolor",bgcolor:"#FFF6B2",border_style:"none",border_width:1,border_color:"#FFDFC2",boxshadow_style:"none",padding_vertical:10,padding_horizontal:0,font_alignment:"center",width:200,height:37,fixed_width:!0},updated_default_sizing:{width:280,height:48},field_names:{text:{default:"...edit me..."},at_to_top:{no_states:!0,default:!1}},property_applications:e=>[new t.Dimensions,new t.PaddingText,new t.PaddingFields({minimum_element_version:a,no_vertical_if_legacy_center:!0,allow_legacy:!0}),new t.Border,new t.BoxShadow,new t.Font,new t.FontShadow,new t.FontSpacing,new t.Background,new t.ResponsiveElement(e),new t.Opacity],uses_css_responsive:!0,solid_component:o,can_fit_width:!0,can_fit_height:!0,get_html:e=>"<div></div>",can_defer_drawing:()=>!0,get_messages:e=>["show_alert"],register(e){e.on_message("show_alert",(t=>{e.run_mode()&&e.ensure_drawn(),e.is_drawn?e.message("do_show_alert",t):e.state("pending_alert",{orig_props:t,start_time:Date.now()})}))},initialize(t){let r=t.get_canvas(),i=()=>t.get_static_property("at_to_top")||t.get_static_property("collapse_when_hidden");t.edit_mode()?r.css("visibility","hidden"):(t.run_mode()||t.responsive_mode())&&(t._hide_me(),i()&&r.css("display","none"),t.responsive_mode()&&(t._has_been_hidden=!0));let a=null;t.autorun((()=>{let i=e.bbcode_to_html(n.evaluate_property(t,"text"));n.evaluate_property(t,"vertical_centering")?(null==a&&(r.empty(),a=e.div("",r)),a.html(i)):(a=null,r.html(i))})),t.on_message("do_show_alert",(n=>{var o,s;(null!=(o=a)?o:r).html(e.bbcode_to_html(n.message)),t._display_me(),t._is_visible_me=!0,t._update_visible(),r.css({display:"",opacity:null!=(s=n.fin_starting_opacity)?s:0}),e.velocity(r,{opacity:1},{duration:n.fade_in,complete_cb:()=>{t.setTimeout((()=>{var a;r.css("opacity",null!=(a=n.fout_starting_opacity)?a:1),e.velocity(r,{opacity:0},{duration:n.fade_out,complete_cb:()=>{i()&&r.css("display","none"),t._hide_me(),t._is_visible_me=!1,t._update_visible()},display:""})}),n.hold)}})}));let o=t.state("pending_alert");o&&t.message("do_show_alert",this._convert_pending_alert(o))},starts_hidden:!0,manual_position:!1,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,is_input:!1,contains_group_data:!1,get_min_width:e=>0,position_canvas(t,r){let{element:a}=r;r.get_static_property("at_to_top")?(r.autorun((()=>{var o;let s={position:r.run_mode()?"fixed":"absolute","margin-left":"auto","margin-right":"auto","margin-top":"","margin-bottom":"","min-width":i.min_width_css(r),"min-height":i.min_height_css(r),"max-height":null!=(o=i.max_height_css(r))?o:"","z-index":2e4},l=i.max_width_css(r);for(let e of["left","right","top","bottom"])s[e]=n.evaluate_property(r,`margin_${e}`);if(a.fit_width()){s.width="auto";let t=`calc(100% - ${s.left+s.right}px)`;s["max-width"]=null!=l?e.apply_css_fallbacks("max-width",[`min(${l}, ${t})`,l]):t}else s.width="initial",s["max-width"]=null!=l?l:"";a.fit_height()?(s.bottom="unset",s.height="auto"):s.height="initial",t.css(s)})),r.run_mode()?$("body").append(t):r.edit_mode()?(r.container.setup_margins(r),$(".canvas").append(t)):r.container.container_canvas.append(t)):r.container.add(r)},added_to_container:e=>!e.get_static_property("at_to_top"),goes_on_document(e){var t;return null!=e&&((null==(t=e.root())?void 0:t.get_responsive_version())>0&&e.get_static_property("at_to_top"))},not_draggable(e){return this.goes_on_document(e)},_convert_pending_alert(t){let{start_time:r,orig_props:n}=t,i=e=>Math.min(Math.max(e,0),1),a=Date.now(),o=i((a-r)/n.fade_in),s=r+n.fade_in,l=i((a-s)/n.hold),_=i((a-(s+n.hold))/n.fade_out);return e.extend(n,{fin_starting_opacity:o,fade_in:n.fade_in*(1-o),hold:n.hold*(1-l),fout_starting_opacity:1-_,fade_out:n.fade_out*(1-_)})},get_private_messages:()=>["do_show_alert","position_element"],update_show(e){}})})),Iw=u((()=>{"use strict";f(),Ue();var e=ul(),t=un(),r=Lo(),n=fl(),i=ot(),a=qr(),o=gm(),s=Fl(),l=Kl(),_=zv(),u=S_(),c=Tp(),d=Kt(),p=uf(),h=vv(),g=pv(),m=Sw(),v=T_(),y=hv(),b=Fh(),w=hf(),{PADDING_VERSION:A}=af(),E=Sg();_y().make_element("AutocompleteDropdown",{category:"input forms",display:"Search Box",glyph_id:"search",list_order:5,defaults:r.extend({},y.default_for_inputs,{width:400,height:45,use_max_width:!0,max_width:150}),updated_default_sizing:{width:250,height:48},default_states:y.default_states_for_inputs,properties_for_new:{no_language:!0},field_names:r.extend({placeholder:{default:"Start typing..."},choices_style:{default:"dynamic",no_states:!0},choices:{no_states:!0},data_source:{no_states:!0},field_to_search:{no_states:!0},no_language:{no_states:!0},location:{optional:!0},radius:{optional:!0},default:{optional:!0},allow_not_in_list:{no_states:!0},mandatory:{},ac_list_max:{default:10}},y.get_disabled_field_name,y.get_auto_binding_field_names),property_applications:e=>[new o.Dimensions,new o.Background("input:first-of-type"),new o.Border("input"),new o.BoxShadow("input"),new o.Font("input"),new o.FontSpacing("input",["line_height"]),new o.InputPadding("input"),new o.PaddingFields({selector:"input",minimum_element_version:A,allow_legacy:!0}),new o.PlaceholderColor("input"),new o.ResponsiveElement(e),new o.Opacity],uses_css_responsive:!0,get_html:e=>"<div></div>",get_min_width:e=>0,can_defer_drawing:()=>!0,initialize(f){f.wait_for_visible_lite((()=>{var A;let M=f.get_canvas(),x=$('<input type="text"></input>');y.reset_input_div(x),x[0].style["box-sizing"]="border-box",M.append(x),M[0].style.overflow="visible",(null==(A=f.element.root())?void 0:A.get_responsive_version())>0?x.css({height:"100%",width:"100%"}):(b.pre_cache(f,["height","width"]),f.autorun((()=>{let e={};for(let t of["height","width"])e[t]=b.evaluate_property(f,t);M.find("input").css({height:e.height,width:e.width})})),h.register_tab_index_listener(f,(e=>{x.attr("tabindex",e)})));let O={},k={},S=f.get_static_property("choices_style"),T=f.get_static_property("field_to_search"),N=f.get_static_property("field_to_display"),C={},L={},P=(t,r)=>{if(null==t)return"";if("geographic_places"===S)return f.edit_mode()&&!f.element.property("default").is_static()?f.element.property("default").get_tree_display():s.get("geographic_address").runmode_display(t);if("dynamic"===S){let r=t.child(T).get();if(null!=O[r]&&O[r]!==t){let i=!1,a=0;for(let[o,s]of Object.entries(O))if((o===r||0===o.indexOf(r+" ("))&&(a++,e(n.dehydrate_tree(t),n.dehydrate_tree(s)))){r=o,i=!0;break}i||(r=r+" ("+a+")")}return O[r]=t,r}return"algolia_search"===S?t.child(null!=r?r:N).get():t},R=e=>{if(S=f.get_static_property("choices_style"),"geographic_places"===S){let t,r=C[e];return r?(t=function(){let e=L[r],t=l.from_place_id(r);return t&&(t.name=e),t},t.toUniqueString=()=>r):(t=()=>l.from_address(e),t.toUniqueString=()=>e),t}return["dynamic","algolia_search"].includes(S)?O[e]:this._get_static_choices(f).includes(e)?e:null};if(f.autorun((()=>{x.focus((()=>{v.input_focused(!0)})),x.blur((()=>{v.input_focused(!1)})),x.attr("placeholder",b.evaluate_property(f,"placeholder"))})),f.autorun((()=>{c.is_rtl(a().app_language())?M.find("input").attr("dir","rtl"):M.find("input").attr("dir","ltr")})),f.run_mode()){let e=function(){f.get_static_property("allow_not_in_list")||x.typeahead("val","")},n=function(){let t=x.typeahead("val");if(!t)return void r.run_once(10,(()=>({existing_val:f.state("value"),typed_content:f.state("typed_content")})),((e,t)=>{if(e)return void d.log(e);let{existing_val:r,typed_content:n}=t;(r||n)&&l(null)}));let n=R(t);null==n?(e(),l(null)):l(n)},l=function(e){["dynamic","static","algolia_search"].includes(S)&&!e&&f.get_static_property("allow_not_in_list")?f.state("typed_content")!==x.typeahead("val")&&(f.state("typed_content",x.typeahead("val")),f.state("has_been_changed",!0),f.state("value",null),g.run_element_workflow(f,"InputChanged")):(f.state("typed_content",null),f.message("user_submit",e))};var z;let h;switch(S=f.get_static_property("choices_style"),S){case"static":{let e=this._get_static_choices(f).map((e=>({value:e})));h=function(t,r){return r(e.filter((e=>-1!==e.value.toLowerCase().indexOf(t.trim().toLowerCase()))))};break}case"dynamic":h=(e,t)=>{T?r.run_once(30,(()=>{let t=b.evaluate_property(f,"data_source");if(!t)return[];let r={constraint_type:null!=/[^a-zA-Z0-9]/.exec(e)?"match_phrase_prefix":"prefix_search",key:T,value:e.trim().toLowerCase(),opts:{no_language:f.get_static_property("no_language")}},n=t._creation_eval_node,i=t.filter([r]);return i._creation_eval_node=n,i.get_children(0,b.evaluate_property(f,"ac_list_max")).map((e=>({value:P(e)})))}),((e,r)=>{if(!e)return t(r);d.log(e)})):t([])};break;case"geographic_places":{_.load_google_map_api();let e=["geocode"];h=(t,n)=>r.run_once(30,(()=>({location:b.evaluate_property(f,"location"),radius:b.evaluate_property(f,"radius")})),((r,i)=>{let{location:a,radius:o}=i;return C={},L={},u.get_address_place_autocomplete({input:t,types:e,location:a,radius:o},(e=>{for(let t of e)C[t.description]=t.place_id,L[t.place_id]=t.structured_formatting.main_text;return n(e.map((e=>({value:e.description}))))}))}));break}case"algolia_search":{let e=f.element.property("algolia_source"),t=e.property("type_to_find").get_static();if(T=e.property("field_to_search").get_static(),null==(null==m?void 0:m.optional_modules.algolia_autocomplete_source))throw new r.UnexpectedError("Missing algolia autocomplete source");h=(e,r)=>m.optional_modules.algolia_autocomplete_source({query:e,type_to_find:t,field_to_display:N,field_to_search:T,cb:r,cache_text_to_object:O,cache_text_to_field_name:k});break}default:throw new r.UnexpectedError("Invalid choices_style property in Autocomplete Dropdown",{choices_style:S})}let v="left"===b.evaluate_property(f,"font_alignment"),A=(e,t)=>h(e,(e=>{var r;let n=e.slice(0,null!=(r=b.evaluate_property(f,"ac_list_max"))?r:void 0);return t(n),D()}));x.typeahead({minLength:2,highlight:!0,hint:v},{source:A,templates:{suggestion:e=>`<p>${t(e.value)}</p>`}}),(null==(z=f.element.root())?void 0:z.get_responsive_version())>0&&M.find(".twitter-typeahead").css("height","100%"),y.register_focus(f,x),M.find("input:first-of-type").css("border-radius",b.evaluate_property(f,"border_roundness")),f.on_message("set_focus",(()=>x.focus()));let I=null,D=()=>r.run_once(30,(()=>({font_color:b.evaluate_property(f,"font_color"),font_face:w.get_font_face(f),font_size:b.evaluate_property(f,"font_size"),width:b.evaluate_property(f,"width"),border_radius:b.evaluate_property(f,"border_roundness"),is_rtl:c.is_rtl(a().app_language())})),((t,n)=>{if(t)return void d.log(t);let i=r.lighten_color(r.rgb_to_hex(E.color_property_to_rgba(n.font_color)).code,.5);M.find(".tt-hint").css("color",i);let{left:a,top:s}=M.offset();s=r.is_fixed(x)?s+M.height()-1-$(window).scrollTop():s+M.height()-1;let _={"font-family":p.get_face_and_variant(n.font_face).font_family,"font-size":n.font_size+"px","min-width":n.width+"px","border-radius":n.border_radius+"px",top:s+"px",left:a+"px",right:"initial","z-index":1e4,position:r.is_fixed(M)?"fixed":"absolute","text-align":n.is_rtl?"right":"left"};o.apply_css_style(I,_),r.is_on_mobile_or_tablet()&&(I.off("touchend"),I.on("click",(t=>{var n;t.stopPropagation();let i=$(t.target),a="STRONG"===i.prop("tagName")?i.parent().text():i.text(),o=R(a);if(o)if(l(o),"geographic_places"===S){var s;null==(s=x.typeahead)||s.call(x,"val",a)}else r.run_once(30,(()=>P(o,k[a])),((e,t)=>{var r;e?d.log(e):null==(r=x.typeahead)||r.call(x,"val",t)}));else e(),l(null);return null==(n=x.typeahead)?void 0:n.call(x,"close")})))}));if(f.wait_for_visible((()=>{I=M.find(".tt-dropdown-menu"),I.detach(),$("body").append(I),D()})),x.on("typeahead:opened touchstart",(()=>D())),f.on_message("reset_input",(()=>{f.get_static_property("allow_not_in_list")&&f.state("typed_content",null)})),r.is_on_mobile_or_tablet())x.on("blur",(()=>{n()}));else{let e=Date.now();x.on("typeahead:closed",(()=>{(Date.now()-e>200||i.running_test())&&(e=Date.now(),n())})),x.on("blur.autocomplete",(()=>{(Date.now()-e>200||i.running_test())&&(e=Date.now(),n())}))}if(x.on("keydown",(e=>{13===e.keyCode&&x.blur()})),f.autorun((()=>{let e=b.evaluate_property(f,"not_submit_on_enter");y.assign_enter_handler_in_input(f,e)})),"dynamic"===S){let e=r.Watcher((()=>{if(!f.state("has_been_changed"))return!1;let e=f.state("value");if(null==e)return!1;let t=b.evaluate_property(f,"data_source");if(!t)return!0;let r=s.get(f.element.property("data_source").property("type_to_find").json.get());return!t.contains(e,r)}));f.on_destroy((()=>e.destroy())),e.on_value((e=>{e&&f.message("reset_input")}))}f.on_destroy((()=>{var e;return null==(e=x.typeahead)?void 0:e.call(x,"destroy")})),b.on_property_change(f,"disabled",(e=>x[0].disabled=e))}y.input_change_autorun(f,(e=>{let t=P(e);var r;f.run_mode()?null==(r=x.typeahead)||r.call(x,"val",t):x.val(t)}))}))},_get_static_choices(e){let t=e.get_static_property("choices");return"string"!=typeof t&&(t=""),t.split("\n").map((e=>e.trim()))},get_starting_content(e){let t;if(t=e.run_mode()&&e.get_static_property("auto_binding")?y.get_input_autobind_thing_field(e):b.evaluate_property(e,"default"),null==t)return null;let r=e.get_static_property("choices_style");if("geographic_places"===r){if(!e.run_mode()&&!e.element.property("default").is_static()&&(t={address:t}),!s.get("geographic_address").runmode_display(t)&&(t=l.from_address(t),!s.get("geographic_address").runmode_display(t)))return null}else if("static"===r){if(-1===this._get_static_choices(e).indexOf(t))return null}else{let r=b.evaluate_property(e,"data_source"),n=s.get(e.element.property("data_source").property("type_to_find").get_static());if(!r||!r.contains(t,n))return null}return t},content_validated:(e,t)=>!b.evaluate_property(t,"mandatory")||null!=e||(t.get_static_property("allow_not_in_list")?null!=t.state("typed_content"):void 0),get_state_value(e,t){var r,n;if("value"===t)switch(e.get_static_property("choices_style")){case"static":return"text";case"geographic_places":return"geographic_address";case"dynamic":return null!=(r=e.property("data_source").property("type_to_find").json.get())?r:"text";case"algolia_search":return null!=(n=e.property("algolia_source").property("type_to_find").json.get())?n:"text"}else if("typed_content"===t)return"text"},get_states:e=>["typed_content"],add_specific_messages(e,t){if("geographic_places"!==t.get_static_property("choices_style")&&r.extend(e,{get_typed_content:{description:"'s typed text",section:"States",ret_btype:"text",fn(e,t,r,n,i){var a;return null!=(a=null==e?void 0:e.state("typed_content"))?a:this.ret_btype_null()}}}),"geographic_places"===t.get_static_property("choices_style"))return r.extend(e,{get_place_name:{description:"'s place name",section:"States",ret_btype:"text",fn(e,t,r,n,i){var a;return(null==e?void 0:e.state("value"))&&null!=(a=null==e?void 0:e.state("value").name)?a:this.ret_btype_null()}}})},change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!0,is_input:!0,contains_group_data:!1,only_send_to_client_in_runmode:!0,jquery_plugins:()=>["jquery_plugins/typeahead.jquery.min"],css_files:["css/optional/typeahead.css"]})})),Dw=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=function(e){return e&&e.__esModule?e:{default:e}}(Lw()),i=Tg(),a=Pw(),o=Eg(),s=Fh();var l=(0,r.template)("<button> </button>",2);t.exports=(0,n.default)((function(e){return(()=>{let t=l.cloneNode(!0),n=t.firstChild;(0,r.use)(a.defaultEventHandlers,t,(()=>e.instance));let i=e.ref;return"function"==typeof i?(0,r.use)(i,t):e.ref=t,(0,r.effect)((i=>{let a=e.id,o=e.style,s=e.classList,l=e.text;return a!==i._v$&&(0,r.setAttribute)(t,"id",i._v$=a),i._v$2=(0,r.style)(t,o,i._v$2),i._v$3=(0,r.classList)(t,s,i._v$3),l!==i._v$4&&(n.data=i._v$4=l),i}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()}),void 0,(e=>({properties:{text:new o.Property((e=>(0,s.evaluate_property)(e,"text")),{fallback:""})},styles:[new o.Style((e=>"none"===(0,s.evaluate_property)(e,"background_style")?{"-webkit=touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","user-select":"none"}:{})),...(0,i.placedStyling)(e)]})))})),jw=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=_y(),n=pv(),i=Fh(),a=Dw();r.make_element("Button",{category:"visual elements",glyph_id:"button",list_order:2,keyboard_shortcut:null,defaults:{font_alignment:"center",font_color:"#FFFFFF",background_style:"bgcolor",bgcolor:"#7F95EB",border_style:"none",border_roundness:3,border_width:1,border_color:"#7F95EB",boxshadow_style:"none",border_style_top:"none",border_roundness_top:3,border_width_top:1,border_color_top:"#7F95EB",border_style_left:"none",border_roundness_left:3,border_width_left:1,border_color_left:"#7F95EB",border_style_bottom:"none",border_roundness_bottom:3,border_width_bottom:1,border_color_bottom:"#7F95EB",border_style_right:"none",border_roundness_right:3,border_width_right:1,border_color_right:"#7F95EB",width:150,height:45,use_max_width:!0,max_width:100,min_width:50},field_names:e.extend({text:{default:"...edit me..."}},n.start_workflow_field_names),uses_css_responsive:!0,can_fit_width:!0,can_fit_height:!0,property_applications:e=>[new t.Dimensions,new t.Font,new t.FontShadow,new t.FontSpacing,new t.Border,new t.BoxShadow,new t.Background,new t.ResponsiveElement(e),new t.ToolTip,new t.Rotation,new t.PaddingFields,new t.Opacity],get_html:e=>"<button></button>",change_cursor_style_if_clickable:!0,can_defer_drawing:()=>!0,initialize(e){let r=e.get_canvas();t.apply_css_style(r,{padding:"0px",cursor:"inherit",background:"none",border:"none","text-align":"left"}),e.wait_for_visible_lite((()=>i.on_property_change(e,["text","background_style"],(e=>{let{text:n,background_style:i}=e;r.text(n),"none"===i&&(new t.NoSelect)._apply(!0,r)}))))},is_input:!1,contains_group_data:!1,add_an_invisible_div_on_the_top:!1,events:["ButtonClicked"],get_min_width:e=>0,solid_component:a})})),Bw=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.createInputChange=function(e,r){(0,t.onMount)((()=>{let n=e.autorun((()=>{e.state("has_been_changed")||r(e.state("value"))}));(0,t.onCleanup)((()=>{n.destroy()}))}))};var t=(Ca(),p(xn))})),qw=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=(0,r.template)('<div><input type="checkbox"><label></label></div>',5),i=Zt(),a=Dg(),{createElement:o}=Lw(),s=Tg(),{defaultEventHandlers:l}=Pw(),{Property:_}=Eg(),{onMount:u}=(Ca(),p(xn)),c=Bw(),d=Fh();t.exports=o((function(e){let t,o=e.instance.run_mode(),s=String(i.LUID());return u((()=>{o&&$(t).change((t=>{var r;e.instance.message("user_submit",null!=(r=t.target.checked)&&r)}))})),c.createInputChange(e.instance,(e=>{"string"==typeof e&&["false","no","null","none","undefined"].includes(e.toLowerCase())&&(e=!1),t.checked=!!e})),(()=>{let i=n.cloneNode(!0),_=i.firstChild,u=_.nextSibling;(0,r.use)(l,i,(()=>e.instance));let c=e.ref;"function"==typeof c?(0,r.use)(c,i):e.ref=i;let d=t;return"function"==typeof d?(0,r.use)(d,_):t=_,(0,r.setAttribute)(_,"id",s),(0,r.setAttribute)(u,"for",s),(0,r.insert)(u,(()=>e.label)),(0,r.effect)((t=>{let n=e.id,s=e.style,l={...e.classList,[a.CLICKABLE_ELEMENT]:o},u={...e.childStyles[" input"],"background-color":"white"},c=o&&e.isDisabled;return n!==t._v$&&(0,r.setAttribute)(i,"id",t._v$=n),t._v$2=(0,r.style)(i,s,t._v$2),t._v$3=(0,r.classList)(i,l,t._v$3),t._v$4=(0,r.style)(_,u,t._v$4),c!==t._v$5&&(_.disabled=t._v$5=c),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),i})()}),null,(e=>({properties:{isDisabled:new _((e=>d.evaluate_property(e,"disabled"))),label:new _((e=>d.evaluate_property(e,"label")))},styles:[...s.placedStyling(e)]})))})),Uw=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=Dg(),n=_y(),i=hv(),a=Fh(),o=qw();n.make_element("Checkbox",{category:"input forms",glyph_id:"checkbox",list_order:3,keyboard_shortcut:null,defaults:{width:180,height:20,min_width:50},field_names:e.extend({label:{default:"...edit me...",optional:!0},contents:{default:"unchecked"},dynamic:{},mandatory:{}},i.get_disabled_field_name,i.get_auto_binding_field_names),property_applications:e=>[new t.Dimensions,new t.Font,new t.FontShadow,new t.FontSpacing,new t.BoxShadow("input"),new t.ResponsiveElement(e),new t.PaddingFields,new t.Opacity],uses_css_responsive:!0,can_fit_width:!0,can_fit_height:!0,can_defer_drawing:()=>!0,solid_component:o,use_legacy_in_editor:!0,use_legacy_in_thumbnail:!0,get_html:e=>"<div></div>",get_min_width:e=>0,initialize:t=>t.wait_for_visible_lite((()=>{let n=t.get_canvas();n[0].style.overflow="visible";let o=e.LUID(),s=$(`<input type="checkbox" id="${o}" style="background-color: white;"></input>`),l=$(`<label for="${o}"></label>`);n.append(s),n.append(l),i.register_focus(t,s),t.on_message("set_focus",(()=>s.focus())),t.run_mode()&&(n.addClass(r.CLICKABLE_ELEMENT),s.change((()=>{var e;return t.message("user_submit",null!=(e=s[0].checked)&&e),!0})),a.on_property_change(t,"disabled",(e=>{s[0].disabled=e}))),a.on_property_change(t,"label",(e=>{l.text(e)})),i.input_change_autorun(t,(e=>{"string"==typeof e&&["false","no","null","none","undefined"].includes(e.toLowerCase())&&(e=!1),s[0].checked=!!e}))})),get_starting_content(e){if(e.run_mode()&&e.get_static_property("auto_binding"))return i.get_input_autobind_thing_field(e);let t=a.evaluate_property(e,"contents");return"checked"===t||"unchecked"!==t&&a.evaluate_property(e,"dynamic")},get_state_value(e,t){if("value"===t)return"sys.bool"},content_validated:(e,t)=>!(!e&&a.evaluate_property(t,"mandatory")),change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!0,is_input:!0,is_checkbox:!0,contains_group_data:!1})})),Ww=u(((e,t)=>{"use strict";f(),t.exports={ar:["ar"],bg:["bg_BG"],bs:["bs_BA"],ca:["ca_ES"],cs:["cs_CZ"],da:["da_DK"],de:["de_DE"],el:["el_GR"],es:["es_ES"],et:["et_EE"],eu:["eu_ES"],fa:["fa_ir"],fi:["fi_FI"],fr:["fr_FR"],gl:["gl_ES"],he:["he_IL"],hi:["hi_IN"],hr:["hr_HR"],hu:["hu_HU"],id:["id_ID"],is:["is_IS"],it:["it_IT"],ja:["ja_JP"],ko:["ko_KR"],lt:["lt_LT"],lv:["lv_LV"],nb:["nb_NO"],ne:["ne_NP"],nl:["nl_NL"],no:["no_NO"],pl:["pl_PL"],pt:["pt_PT","pt_BR"],ro:["ro_RO"],ru:["ru_RU"],sk:["sk_SK"],sl:["sl_SI"],sv:["sv_SE"],th:["th_TH"],tr:["tr_TR"],uk:["uk_UA"],vi:["vi_VN"],zh:["zh_CN","zh_TW"]}})),$w=u(((e,t)=>{f();var r=I(),n=h();t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==n.Pebble})),Fw=u(((e,t)=>{f();var r=I();t.exports=/web0s(?!.*chrome)/i.test(r)})),Gw=u(((e,t)=>{f();var r,n,i,a,o,s,l,_,u=h(),c=or(),d=Ee().f,p=P_().set,g=C_(),m=$w(),v=Fw(),y=L_(),b=u.MutationObserver||u.WebKitMutationObserver,w=u.document,A=u.process,E=u.Promise,M=d(u,"queueMicrotask"),x=M&&M.value;x||(r=function(){var e,t;for(y&&(e=A.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?a():i=void 0,e}}i=void 0,e&&e.enter()},g||y||v||!b||!w?!m&&E&&E.resolve?((l=E.resolve(void 0)).constructor=E,_=c(l.then,l),a=function(){_(r)}):y?a=function(){A.nextTick(r)}:(p=c(p,u),a=function(){p(r)}):(o=!0,s=w.createTextNode(""),new b(r).observe(s,{characterData:!0}),a=function(){s.data=o=!o})),t.exports=x||function(e){var t={fn:e,next:void 0};i&&(i.next=t),n||(n=t,a()),i=t}})),Xw=u((()=>{f();var e=Ce(),t=h(),r=Gw(),n=L_(),i=t.process;e({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=n&&i.domain;r(t?t.bind(e):e)}})})),Hw=u((()=>{"use strict";f(),Ue();var e=Po(),t=Fl(),r=_y(),n=hv(),i=Tp(),a=qr(),o=Kt(),s=gm(),l=Dg(),_=Ww(),{PADDING_VERSION:u}=af(),c=Lo(),d=$r(),p=E_(),h=uf(),g=Fh(),m=hf(),{has_input_timezone_controls_on:v}=A_(),y=c.require_moment();function b(e,t){if(null==t)return t;let r=g.evaluate_property(e,"min_date"),n=g.evaluate_property(e,"max_date");return null!=r&&t<r?r:null!=n&&t>n?n>=r?n:null!=r?r:t:t}function w(e,r){if(!r)return;let n=t.get("date").cast(r);if(!n)return;let i=A(e),a=y(n).tz(i);return[a.year(),a.month(),a.date()]}function A(e){return v()?p.get_custom_tz({static_eval:t=>e.get_static_property(t),dynamic_eval:t=>g.evaluate_property(e,t),not_overridden:!0}):a().current_timezone()}function E(e,t){let r="";switch(t){case"number1":r+="d/mm/yyyy";break;case"number2":r+="m/dd/yyyy";break;case"alpha":r+="d mmmm, yyyy";break;case"alphalong":r+="dddd, d mmmm, yyyy";break;case"alphashort":r+="d-mmm-yyyy";break;case"us_short":r+="mmmm d, yyyy";break;case"us_long":r+="dddd, mmmm d, yyyy";break;case"custom":r+=e.get_static_property("custom_format")}return r}Xw(),r.make_element("DateInput",{display:"Date/Time Picker",category:"input forms",glyph_id:"datetime",list_order:8,keyboard_shortcut:null,defaults:{font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_color:"#BDBDBD",border_roundness:3,border_width:1,border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,padding_horizontal:4,padding_vertical:0,width:250,height:45,use_max_width:!0,max_width:150},updated_default_sizing:{height:48},default_states:n.default_states_for_inputs,field_names:c.extend({input_type:{default:"date",no_states:!0},content:{},overwrite_placeholder:{no_states:!0},placeholder:{optional:!0},date_format:{default:"number2",no_states:!0,in_style:!0},custom_format:{default:"ddd, m/dd/yy, mmmm (mmm) dS, yyyy",no_states:!0,in_style:!0},start_monday:{no_states:!0},time_interval:{default:30,no_states:!0},time_format:{default:"full",no_states:!0},min_date:{},max_date:{},min_hour:{},max_hour:{},show_month_year_picker:{no_states:!0},mandatory:{}},n.get_disabled_field_name,n.get_auto_binding_field_names,p.custom_tz_field_names),property_applications:e=>[new s.Dimensions,new s.Background("input"),new s.Border("input"),new s.BoxShadow("input"),new s.Font("input"),new s.FontSpacing("input",["line_height"]),new s.InputPadding("input"),new s.PaddingFields({selector:"input",minimum_element_version:u,allow_legacy:!0}),new s.PlaceholderColor("input"),new s.ResponsiveElement(e),new s.Opacity],uses_css_responsive:!0,additional_uses_properties:["input_type"],get_html:e=>"<div></div>",get_min_width:()=>0,can_defer_drawing:()=>!0,initialize(t){t.wait_for_visible_lite((()=>{let r,i,_=t.get_canvas();_.addClass("date_picker_element"),_[0].style.overflow="visible";let p=$('<input type="text" class="date_div"></input>');n.reset_input_div(p),_.append(p);let f=$('<input type="text" class="time_div"></input>');if(n.reset_input_div(f),g.on_property_change(t,"input_type",(e=>{"date_time"===e?_.append(f):f.detach()})),g.on_property_change(t,"disabled",(e=>{s.apply_css_style(p,{cursor:e?"default":"pointer"}),s.apply_css_style(f,{cursor:e?"default":"pointer"})})),g.pre_cache(t,["input_type","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder"]),t.autorun((()=>{let r,n,i={};for(let e of["input_type","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder","padding_top","padding_bottom","padding_left","padding_right"])i[e]=g.evaluate_property(t,e);let o=s.calculate_border_height(t),l=s.calculate_border_width(t),_=t.element.element_version(!0)<u?2*i.padding_horizontal:i.padding_left+i.padding_right,c=t.element.element_version(!0)<u?0:i.padding_top+i.padding_bottom,h=e.get_public_setting("bubble_version")<18,m=h?`calc(100% - ${o}px)`:`calc(100% - ${c+o}px)`;if(s.apply_css_style(p,{height:m,"box-sizing":"content-box"}),"date_time"===i.input_type){let e=h?70:72,t=h?5:8;s.apply_css_style(p,{width:`calc(100% - ${2*_+2*l}px - ${e+t}px)`,float:"left"}),s.apply_css_style(f,{width:`${e}px`,float:"right",height:`calc(100% - ${c+o}px)`,"box-sizing":"content-box"})}else p[0].style.width=`calc(100% - ${_+l}px)`;if("date"===i.input_type&&i.overwrite_placeholder)r=i.placeholder;else{let n;if("test_app"===e.app().id()){var v;let e=null!=(v=A(t))?v:a().current_timezone();n=y.tz("1/15/2013",e).toDate()}else n=new Date;let o=E(t,i.date_format);r=d.format_date(n,o,a().get_text("BUILT_IN","DATE_FORMAT"),A(t))}switch(p.attr("placeholder",r),i.time_format){case"full":n="12:00";break;case"ampm":n="12:00 AM"}return null==f?void 0:f.attr("placeholder",n)})),t.run_mode()){let e=function(){var e;if(null!=(e=r)&&e.get()){let e=r.get("select"),o={year:e.year,month:e.month,day:e.date};if("date_time"===t.get_static_property("input_type")){let e=i.get("select");if(!e)return;var n,a;o.hour=null!=(n=null==e?void 0:e.hour)?n:"",o.minute=null!=(a=null==e?void 0:e.mins)?a:""}return y.tz(o,A(t)).toDate()}return null},n=function(){return this.$holder.blur(),t.state("has_been_changed",!0),c.run_once(30,e,((e,r)=>{t.state("is_focused",!1),void 0!==r&&t.message("user_submit",r)})),!0},s=function(e){let{$holder:r,$root:n}=e;r.css("transition","0.05s ease-in-out"),r.position({my:"left top",at:"left bottom",of:t.get_canvas(),collision:"fit flip"}),a().bubble_version()<19&&n.addClass("datepicker-legacy-font")},u=function(){return s(this)},d=function(e){queueMicrotask((()=>{s(e),t.setTimeout((()=>s(e)),100)})),$(window).on("resize",(()=>s(e)));let n=t.get_canvas();c.run_once(30,(()=>({width:n.width(),"font-family":h.get_face_and_variant(m.get_font_face(t)).font_family,top:0})),((e,t)=>{var n;e&&o.log(e),r.$root.css(t),null==(n=i)||n.$root.css(t)}))},v=function(){t.state("is_focused",!0),d(this)},M=function(e){if(!e)return!1;let t=Math.floor(e);return[t,Math.round(60*(e-t))]};_.addClass(l.CLICKABLE_ELEMENT);let x=t.get_static_property("show_month_year_picker");p.pickadate({container:"html",firstDay:t.get_static_property("start_monday"),selectMonths:x,selectYears:x&&200,onOpen:v,onClose:n,format:E(t,t.get_static_property("date_format"))}),r=p.pickadate("picker"),t.wait_for_visible((()=>{d(r),t.setTimeout((()=>d(r)),100)}));let O=!1,k={};if("date_time"===t.get_static_property("input_type")){switch(O=!0,k.container="html",k.interval=t.get_static_property("time_interval"),t.get_static_property("time_format")){case"full":k.format="H:i";break;case"ampm":k.format="h:i A"}k.onClose=n,k.onOpen=v,k.onRender=u,f.pickatime(k),i=f.pickatime("picker")}t.autorun((()=>{var e,n;let a,o=g.evaluate_property(t,"min_date"),s=g.evaluate_property(t,"max_date");if(r.set({min:null!=(e=w(t,o))?e:-1/0,max:null!=(n=w(t,s))?n:1/0}),O){let e=g.evaluate_property(t,"min_hour"),r=g.evaluate_property(t,"max_hour");i.set({min:M(e),max:M(r)})}t.autorun((()=>{let e=A(t);if(t.state("has_been_changed")&&e===a)return;a=e;let n=t.state("value");if(!c.autorun_top((()=>t.state("is_focused"))))if(n){if(r.set("select",w(t,n)),O){let e=A(t),r=y(n).tz(e);i.set("select",[r.hours(),r.minutes()])}}else r.clear(),O&&i.clear()}))})),t.autorun((()=>{let e=t.state("value",void 0,!0);if("function"!=typeof e&&r.get("select")){let n=b(t,e);n!==e&&(r.set("select",w(t,n)),t.state("value",n))}})),t.autorun((()=>{r.$root.css({"margin-top":t.current_height(),"max-width":t.current_width()}),"date_time"===t.get_static_property("input_type")&&i.$root.css({"margin-top":t.current_height(),"max-width":t.current_width()})})),g.on_property_change(t,"disabled",(e=>{p[0].disabled=e,null!=f&&(f[0].disabled=e)}))}n.register_focus(t,_.find("input")),t.on_message("set_focus",(()=>{p[0].disabled||r.open()})),t.run_mode()||(p.attr("readonly","true"),null==f||f.attr("readonly","true"))}))},get_starting_content:e=>e.run_mode()&&e.get_static_property("auto_binding")?b(e,n.get_input_autobind_thing_field(e)):b(e,g.evaluate_property(e,"content")),content_validated:(e,t)=>e||!g.evaluate_property(t,"mandatory"),change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,is_input:!0,contains_group_data:!1,get_state_value(e,t){if("value"===t)return"date"},jquery_plugins(e,t,r){let n=["jquery_plugins/datepicker/picker","jquery_plugins/datepicker/picker.date","jquery_plugins/datepicker/picker.time","jquery_plugins/jquery-ui.position.min"];if("function"==typeof a().appname){var s;let e=i.get_iso_code(r),t=null==(s=e.split(/[-_]/))?void 0:s[0];if("en"===t)return n;let a=_[t];if(null==a)return o.warn("Missing datepicker translation",{lang_file:e}),n;a.includes(e)||(e=a[0]),n.push(`jquery_plugins/datepicker/${e}`)}return n},css_files:["css/optional/datepicker.css"]})})),Vw=u((()=>{"use strict";f(),Ue();var e=Lo(),t=fl(),r=qr(),n=Po(),i=gm(),a=So(),o=Kt(),s=Fl(),l=vv(),_=_y(),u=hv(),c=ey(),d=Fh(),p="BLANK_1427118194589",h="PLACEHOLDER_1427118222253";_.make_element("Dropdown",{category:"input forms",glyph_id:"dropdown",list_order:4,keyboard_shortcut:null,defaults:{font_size:14,background_style:"bgcolor",bgcolor:"#E6E6E6",border_style:"solid",border_width:1,border_color:"#858585",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#858585",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#858585",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#858585",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#858585",border_roundness_right:3,width:250,height:45,placeholder:"Choose an option...",use_max_width:!0,max_width:150,placeholder_color:"#9C9C9C",padding_left:5,padding_right:15},updated_default_sizing:{height:48},default_states:u.default_states_for_inputs,field_names:e.extend({placeholder:{},choices_style:{default:"static",no_states:!0},choices:{},dynamic_type:{no_states:!0},data_source:{},option_display_expression:{},default:{},mandatory:{},placeholder_color:{in_style:!0},computed_value:{optional:!0,no_states:!0}},u.get_disabled_field_name,u.get_auto_binding_field_names),property_applications:e=>[new i.Dimensions,new i.Font(null,null,["font_color"]),new i.Background,new i.Border,new i.BoxShadow,new i.ResponsiveElement(e),new i.ToolTip,new i.FontSpacing(null,["line_height"]),new i.PaddingFields,new i.Opacity],get_html:e=>"<select></select>",get_min_width:e=>0,_get_display_option:c._get_display_option,can_defer_drawing:()=>!0,register(t){let r=e.Watcher((()=>{if(!t.state("has_been_changed"))return!1;let e=t.state("value");return null!=e&&!this._choice_list_contains(t,e)}));t.on_destroy((()=>r.destroy())),r.on_value((e=>{if(e)return t.message("reset_input")}))},initialize(i){return i.wait_for_visible_lite((()=>{var s;let _=i.get_canvas();n.get_public_setting("bubble_version")>=16&&_.addClass("dropdown-chevron"),(null==(s=i.element.root())?void 0:s.get_responsive_version())>0?_.css("display","block"):(_.css({"padding-left":5,"padding-right":15}),i.run_mode()&&l.register_tab_index_listener(i,(e=>{_.attr("tabindex",e)}))),u.reset_input_div(_);let f=[],g=null;function m(e){if("object"==typeof e){let t=a("md5");return t.update(JSON.stringify(e)),t.digest("hex")}return e}let v=null;function y(e){let r=$('<option class="dropdown-choice"></option>');r.text(e.display);let n=e.value,i=t.dehydrate_tree(n);return r.attr("value",JSON.stringify(i)),null!=g&&(r[0].style.color=g),r}let b=e.Box();if(e.autorun((()=>{g=d.evaluate_property(i,"font_color"),b()?_[0].style.color=d.evaluate_property(i,"placeholder_color"):_[0].style.color=g,_.find("option").css("color",g)})),i.run_mode()){let n=function(e){return null==e&&(e=d.evaluate_property(i,"mandatory")||!i.state("has_been_changed")?h:p),JSON.stringify(t.dehydrate_tree(e))},a=function(e){return w=e,s(e)},s=function(e){let t=n(e),r=_.find(".dropdown-placeholder")[0];return t===JSON.stringify(h)?(b(!0),null!=r&&(r.disabled=!1)):(b(!1),null!=r&&(r.disabled=!0)),_.val(t)},l=function(){let e=_.find(".dropdown-placeholder");return 0===e.length&&(e=y({display:"",value:h}),e.addClass("dropdown-placeholder"),e[0].style.display="none",_.prepend(e)),e};u.switch_disabled_or_not(i),_.on("click",(e=>e.stopPropagation()));let g=()=>{let t=this._get_raw_choice_list(i),r=this._get_display_option(i),n=t.get_children(0,5e3);e.run_once(30,(()=>n.map((e=>r(e))))),f=[];for(let e of n)f.push({display:r(e),value:e});return d.evaluate_property(i,"mandatory")||(f=[{display:"",value:p}].concat(f)),f},w=null;i.autorun((()=>{if("static"!==d.evaluate_property(i,"choices_style"))return d.get_property_watcher(i,"data_source").on_not_ready((()=>e.run_once(30,(()=>r().get_text("CORE","LOADING")),((e,t)=>(e&&o.log(e),l().text(null!=t?t:""),s(h))))))}));let A=()=>{f=g();let r,n=d.evaluate_property(i,"placeholder"),o=[];for(let e of f){let r=e.value,n=m(t.dehydrate_tree(r));o.push([n,e.display])}if(null!=v&&e.compare(o,v))return r=l(),void r.text(n);v=o,_.empty(),r=l(),r.text(n);let s=r,u={};for(let e of f){let r=m(t.dehydrate_tree(e.value));if(u[r])continue;u[r]=!0;let n=y(e);s.after(n),s=n}return a(w)};_.change((()=>{let e=c.rehydrate_dropdown_value(JSON.parse(_.find("option:selected").attr("value")));return[h,p].includes(e)&&(e=null),i.message("user_submit",e),a(e)})),u.input_change_autorun(i,(e=>a(e)));let E=e.Box(!1);_.on("focus",(()=>E(!0))),_.on("blur",(()=>E(!1))),u.register_focus(i,_);let M=e.Box(!1);i.autorun((()=>{if(i.is_visible()&&(!M()||!E()))return A(),M(!0)})),i.on_message("set_focus",(()=>_.focus()))}}))},_get_raw_btype:e=>c._get_raw_btype_dropdown(e),_get_raw_choice_list(e){return c._get_raw_choice_list_dropdown(e,this)},_choice_list_contains(e,t){let r=s.get(this._get_raw_btype(e.element));return this._get_raw_choice_list(e).contains(t,r)},get_starting_content(e){let t;return t=e.run_mode()&&e.get_static_property("auto_binding")?u.get_input_autobind_thing_field(e):d.evaluate_property(e,"default"),"string"==typeof t&&"number"===this._get_raw_btype(e.element)&&(t=r().locale().parse_float(t)),null!=t&&this._choice_list_contains(e,t)?t:null},get_state_value(e,t){if("value"===t)return this._get_raw_btype(e)},get_injected_value:e=>e.get_static_property("dynamic_type"),get_injected_display:()=>"Current option",use_injected_datasource:e=>c.use_injected_datasource("option_display_expression",e),content_validated:(e,t)=>null!=e||!d.evaluate_property(t,"mandatory"),uses_css_responsive:!0,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!0,is_input:!0,contains_group_data:!1})})),Yw=u((e=>{"use strict";f();var t=Lo(),r=e;Nt().safe_register("./core/core_elements/shared/sliderinputs",r);var n=!1;r.show_message_for_ios_8_upload_bug=function(){var e;!n&&t.safe_contains(null==(e=navigator)?void 0:e.userAgent,"12A365")&&(n=!0,alert("The iOS version you're using prevents you from uploading files, please upgrade your system and try again."))}})),Kw=u((e=>{"use strict";f(),Ue();var t=zp(),r=m_(),n=Fh(),i=e;Nt().safe_register("./core/core_elements/shared/pictureinputs",i),i.file_inputs_additional_messages={get_loading_status:{description:" is loading",ret_btype:"boolean",fn:(e,t)=>null==e?void 0:e.state("loading")},get_file_size:{description:"'s file size",ret_btype:"number",fn:(e,t)=>null==e?void 0:e.state("file_size")}},i.process_upload_security=function(e){let i={};var a,o;e.get_static_property("private")?i.attach_to=null==(a=n.evaluate_property(e,"attach_to"))||null==(o=a._id)?void 0:o.call(a):i.public=!0;return function(e,i){var a;let o=null!=(a=e.get_static_property("service"))?a:"bubble";if(i.service=o,"bubble"!==o&&t(o)){let t=r.get_hardcoded_plugin(o);for(let r of t.file_upload.fields)i[r.name]=n.evaluate_property(e,r.name)}}(e,i),i}})),Jw=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=Dg(),n=Vr(),i=Qm(),a=gw(),o=mw(),s=vv(),l=_y(),_=hv(),u=Yw(),c=Kw(),d=Kt(),p=Fh(),{PADDING_VERSION:h}=af();l.make_element("FileInput",{display:"File Uploader",category:"input forms",glyph_id:"file_uploader",list_order:10,keyboard_shortcut:null,defaults:{font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_color:"#BDBDBD",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#BDBDBD",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,border_width:1,font_alignment:"center",padding_horizontal:0,padding_vertical:15,width:200,height:45,use_max_width:!0,max_width:150},updated_default_sizing:{height:48},default_states:_.default_states_for_inputs,field_names:e.extend({src:{},placeholder:{default:"Click to upload a file"},mandatory:{},private:{no_states:!0},attach_to:{},service:{no_states:!0},destination:{}},_.get_disabled_field_name,_.get_auto_binding_field_names,_.get_max_file_size_field_name),property_applications:e=>[new t.Dimensions,new t.Background,new t.Border,new t.BoxShadow,new t.Font(".file-input-text"),new t.FontSpacing(".file-input-text"),new t.PaddingText(".file-input-text"),new t.PaddingFields({selector:".file-input-text",minimum_element_version:h,no_vertical_if_legacy_center:!0,allow_legacy:!0}),new t.ResponsiveElement(e),new t.Opacity],uses_css_responsive:!0,get_html:e=>"<div></div>",get_min_width:()=>0,can_defer_drawing:()=>!0,initialize(l){l.wait_for_visible_lite((()=>{u.show_message_for_ios_8_upload_bug();let f=l.get_canvas(),h=$('<div class="file-input-text"></div>');t.apply_css_style(h,{"-moz-box-sizing":"border-box",position:"absolute",top:"0px",overflow:"hidden",width:"100%",height:"100%"}),f.append(h);let g=e.Box(),m=null;function v(e){var t,r;if(!e)return g(!0),void(null==(r=m)||r.attr("title",null));g(!1);let n=e.split("/"),i=n[-1+n.length];h.text(i),null==(t=m)||t.attr("title",i)}if(e.autorun((()=>{g()&&h.text(p.evaluate_property(l,"placeholder"))})),_.input_change_autorun(l,(e=>{v(e)})),l.run_mode()){let u=function(t){e.run_once(30,(()=>c.process_upload_security(l)),((r,n)=>{r?t(r):n.public||n.attach_to?t(null,n):t(new e.UserError("PRIVATE_FILE"))}))},g=function(){l.state("loading",!0),l.state("upload_percent",0)},b=function(e){var t;l.state("file_size",null==(t=m[0].files[0])?void 0:t.size),l.state("loading",!1),l.state("upload_percent",100),v(e),l.message("user_submit",e),m[0].value=null},w=function(e){i.handle_uncaught_error({original_error:e,caught_from:n.ERROR_SOURCES.ELEMENT,cb(e){e&&window.alert(d.human_friendly(e)),l.state("loading",!1),l.state("upload_percent",0)}})},A=function(e){l.state("upload_percent",Math.min(Math.round(1e4*e)/100,100))},E=function(){var e;return 1e3*(null!=(e=p.evaluate_property(l,"max_size"))?e:0)*1e3},M=function(){var e;null==(e=x)||e(),l.state("loading",!1),l.state("upload_percent",0),m[0].value=null};var y;let x;m=$('<input type="file"></input>'),f.addClass(r.CLICKABLE_ELEMENT),f.append(m),t.apply_css_style(m,{opacity:0,position:"absolute","z-index":1+h.css("z-index"),top:"0px",width:"100%",height:"100%","font-size":0});let O=l.get_static_property("service");O&&"bubble"!==O?a.MakeImageUploader({input:m,get_additional_data:u,cb_success:b,cb_start:g,cb_fail:w,max_file_size_fn:E}):x=o.make_presigned_uploader({instance:l,input:m,get_additional_data:u,cb_success:b,cb_start:g,cb_fail:w,cb_progress:A,max_file_size_fn:E}),0===(null==(y=l.element.root())?void 0:y.get_responsive_version())&&s.register_tab_index_listener(l,(e=>{m.attr("tabindex",e)})),p.on_property_change(l,"disabled",(e=>{m[0].disabled=e,t.apply_css_style(m,{cursor:e?"default":"pointer"}),t.apply_css_style(h,{cursor:e?"default":"pointer"}),l.state("loading")&&e&&M()})),_.register_focus(l,m),l.on_message("set_focus",(()=>m.focus())),l.on_message("cancel_upload",(()=>{M()}))}p.on_property_change(l,"placeholder",(e=>{var t;null==(null==(t=m)?void 0:t.val())&&h.text(e)}))}))},get_starting_content:e=>e.run_mode()&&e.get_static_property("auto_binding")?_.get_input_autobind_thing_field(e):p.evaluate_property(e,"src"),get_state_value(e,t){if("value"===t)return"file"},get_states:e=>["loading","file_size","upload_percent"],add_specific_messages(t,r){e.extend(t,c.file_inputs_additional_messages,{get_upload_percent:{description:"'s upload percentage",section:"States",ret_btype:"number",fn:(e,t)=>null==e?void 0:e.state("upload_percent")}})},need_to_wait_before_checking_validity:!0,content_validated:(e,t)=>e||!p.evaluate_property(t,"mandatory"),change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,is_input:!0,is_file_uploader:!0,contains_group_data:!1})})),Zw=u((e=>{"use strict";f(),Ue();var t=Lo(),r=pv(),n=(Po(),gm()),i=Gh(),a=Nt(),o=e;a.safe_register("./core/core_elements/shared/groups",o),o.container_field_names={group_type:{no_states:!0},data_source:{}},o.state_value_helper_for_group=function(e,t){if("group_data"===t)return e.get_static_property("group_type")},o.group_field_names={collapse_animation:{no_states:!0,default:!1},animation_type:{no_states:!0,default:"slide"},overflow_scroll:{no_states:!0,default:!1}},o.group_element_definition={category:"containers",defaults:{bgcolor:"#FFFFFF",background_style:"bgcolor",width:400,height:250},updated_default_sizing:{width:280,height:280},field_names:t.extend({collapse_when_hidden:{no_states:!0,default:!1}},o.group_field_names,r.start_workflow_field_names,o.container_field_names),property_applications:e=>[new n.Dimensions,new n.Background,new n.Border,new n.BoxShadow,new n.ResponsiveContainer(e),new n.ResponsiveElement(e),new n.PaddingFields,new n.Opacity],get_html:e=>"<div></div>",change_cursor_style_if_clickable:!0,can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),contains_group_data:!0,get_state_value:(e,t)=>o.state_value_helper_for_group(e,t),notify_width(e,r){t.WaitFor(e.get_children_drawn_key(),(()=>{i.resize_container_width(e,r)}))},get_min_width:e=>0,events:["ButtonClicked"],is_input:!1,add_an_invisible_div_on_the_top:!1}})),Qw=u((e=>{"use strict";f();var t=Zw(),r=(qr(),e);r.floating_field_names={floating_reference:{default:"top",no_states:!0},floating_reference_horizontal:{default:"none",no_states:!0},floating_reference_horizontal_resp:{default:"left",no_states:!0},float_zindex:{default:"front",no_states:!0},parallax:{default:1,no_states:!0}},r.check_error_floating_group=function(e,r){if(!["Page","CustomDefinition"].includes(e.parent().type())){let n;switch(e.parent().type()){case"Page":n="page";break;case"CustomDefinition":n="reusable element"}r(e.display()+": Floating Group must be right under the "+n+". Instead it is under "+e.parent().display()),t._check_for_errors_datasource_set_to_self(e,"get_group_data",r)}}})),eA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.OptimizedShow=function(e){return e.isStatic?e.when?()=>e.children:()=>e.fallback:(0,t.Show)(e)};var t=(Ca(),p(xn))})),tA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ChildWrapper=function(e){return(0,t.createComponent)(r.OptimizedShow,{get when(){return e.shouldAddWrapper},get fallback(){return e.children},get isStatic(){return e.instance.run_mode()},get children(){let r=i.cloneNode(!0);return(0,t.insert)(r,(()=>e.children)),(0,t.effect)((n=>{var i;let a={[null!=(i=e.wrappedClass)?i:""]:!0},s=e.childStyles[o];return n._v$=(0,t.classList)(r,a,n._v$),n._v$2=(0,t.style)(r,s,n._v$2),n}),{_v$:void 0,_v$2:void 0}),r}})},e.containerProperties=function(e){return e?{containerClass:new n.Property((e=>"bubble-r-container-wrapper"),{noWaitVisible:!0,fallback:""}),wrappedClass:new n.Property((e=>`${a} ${e.child_container.layout().classes}`),{noWaitVisible:!0})}:{containerClass:new n.Property((e=>{var t;return`${a} ${null==(t=e.child_container)?void 0:t.layout().classes}`}),{noWaitVisible:!0,fallback:""})}},e.containerStyling=function(e){return[new n.Style((e=>{var t;return null==(t=e.child_container)?void 0:t.get_container_props()}),{selector:e?o:void 0})]};var t=(kh(),p(vf)),r=eA(),n=Eg(),i=(0,t.template)("<div></div>",2),a="bubble-r-container",o=`> .${a}`})),rA=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=(0,r.template)("<div></div>",2),i=Dg(),a=gm(),{onMount:o}=(Ca(),p(xn)),{createElement:s}=Lw(),l=Tg(),{defaultEventHandlers:_}=Pw(),{containerStyling:u,containerProperties:c,ChildWrapper:d}=tA(),{Style:h}=Eg(),g=Fh(),m=hf(),v=i.POPUP_ZINDEX-1;t.exports=s((function(e){let t=e.instance;return o((()=>{if(t.run_mode()){let e=t.get_static_property("parallax");null!=e&&1!==e&&$(window).on("scroll",(function(){window.requestAnimationFrame((function(){a.apply_css_style(t.canvas,{transform:"translate3d(0,"+(1-e)*$(window).scrollTop()+"px, 0)"})}))})),t.manual_position=!1,t.on_message("position_element",(e=>{t.manual_position=!0,t.state("manual_position",{top:`${e.Y}px`,left:`${e.X}px`,position:e.position})}))}})),(()=>{let t=n.cloneNode(!0);(0,r.use)(_,t,(()=>e.instance));let i=e.ref;return"function"==typeof i?(0,r.use)(i,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(d,e)),(0,r.effect)((n=>{let i=e.id,a=e.style,o={...e.classList,"floating-group":!0,[e.containerClass]:!0};return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}),(e=>({shouldAddWrapper:e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;let n=e.parent();return{properties:c(r),styles:[new h((t=>{let r={width:"initial","min-width":m.min_width_css(t),"min-height":m.min_height_css(t)},a=m.max_width_css(t),o=m.max_height_css(t);for(let e of["left","right","top","bottom"])r[e]=g.evaluate_property(t,`margin_${e}`);if(e.fit_width()){r.width="auto";let e=`calc(100% - ${r.left+r.right}px)`;r["max-width"]=null!=a?[`min(${a}, ${e})`,a]:e}else r.width="initial",r["max-width"]=a;if(e.fit_height()){r.height="auto";let e=`calc(100% - ${r.top+r.bottom}px)`;null!=o?t.run_mode()?r["max-height"]=[`min(${o}, ${e})`,o]:r["max-height"]=o:t.run_mode()&&(r["max-height"]=e)}else r.height="initial",r["max-height"]=o;switch(e.get_static_property("floating_reference_horizontal_resp")){case"left":e.fit_width()?r.right="unset":r["margin-right"]="auto";break;case"right":e.fit_width()?r.left="unset":r["margin-left"]="auto"}let s=e.get_static_property("floating_reference");switch(r.position="none"!==s&&t.run_mode()&&"Page"===n.type()?"fixed":"absolute",s){case"top":e.fit_height()&&(r.bottom="unset");break;case"bottom":e.fit_height()?r.top="unset":"Page"===n.type()?(r.height=`calc(100${t.run_mode()?"vh":"%"} - ${r.top+r.bottom}px)`,r.top="unset"):r["margin-top"]="auto";break;case"both":"Page"===n.type()&&(r["margin-top"]=r["margin-bottom"]="auto"),r["overflow-y"]="auto";break;case"none":r.bottom="unset"}return r["z-index"]="back"===e.get_static_property("float_zindex")?0:v-i.FLOATING_GROUP_ZINDEX_OFFSET+e.get_zindex(),r}),{outerPositioning:!0,noWaitVisible:!0}),new h((e=>{var t;return null!=(t=e.state("manual_position"))?t:{}}),{alwaysDynamic:!0}),new h((e=>{if(!e.is_visible())return{display:"none"}}),{alwaysDynamic:!0,noWaitVisible:!0,notInStylesheet:!0,outerPositioning:!0}),...u(r),...l.basicStyling(e)]}}))})),nA=u((()=>{"use strict";f(),Ue();var e=Lo(),t=gm(),r=_y(),n=pv(),i=Dg(),a=Zw(),o=Qw(),s=Fh(),l=hf(),_=rA(),u=i.POPUP_ZINDEX-1;r.make_element("FloatingGroup",{display:"Floating Group",category:"containers",glyph_id:"floating_group",list_order:5,keyboard_shortcut:null,defaults:{floating_reference:"top",width:400,height:250},updated_default_sizing:{width:320},field_names:e.extend({},o.floating_field_names,n.start_workflow_field_names,a.container_field_names),property_applications:e=>[new t.Dimensions,new t.Background,new t.Border,new t.BoxShadow,new t.ResponsiveContainer(e),new t.ResponsiveElement(e),new t.PaddingFields,new t.Opacity],uses_css_responsive:!0,solid_component:_,attach_to_body(e){return e.run_mode()&&!this.added_to_container(e.element)},can_fit_width:!0,can_fit_height:!0,added_to_container(e){var t;return"Page"!==(null==(t=e.parent())?void 0:t.type())},not_draggable(e){var t;return(null==(t=e.root())?void 0:t.get_responsive_version())>0},goes_on_document(e){return null==e||this.not_draggable(e)},get_min_width:()=>0,goes_on_document_for_drawing:()=>!0,position_canvas(r,n){let{element:a}=n,o=n.element.parent();n.wait_for_visible_lite((()=>{if(n.autorun((()=>{let t={"margin-left":"","margin-right":"","margin-top":"","margin-bottom":"",width:"initial","min-width":l.min_width_css(n),"min-height":l.min_height_css(n)},_=l.max_width_css(n),c=l.max_height_css(n);for(let e of["left","right","top","bottom"])t[e]=s.evaluate_property(n,`margin_${e}`);if(a.fit_width()){t.width="auto";let r=`calc(100% - ${t.left+t.right}px)`;t["max-width"]=null!=_?e.apply_css_fallbacks("max-width",[`min(${_}, ${r})`,_]):r}else t.width="initial",t["max-width"]=null!=_?_:"";if(a.fit_height()){t.height="auto";let r=`calc(100% - ${t.top+t.bottom}px)`;t["max-height"]=null!=c?e.apply_css_fallbacks("max-height",[`min(${c}, ${r})`,c]):r}else t.height="initial",t["max-height"]=null!=c?c:"";switch(a.get_static_property("floating_reference_horizontal_resp")){case"left":a.fit_width()?t.right="unset":t["margin-right"]="auto";break;case"right":a.fit_width()?t.left="unset":t["margin-left"]="auto"}let d=a.get_static_property("floating_reference");t.position="none"!==d&&n.run_mode()&&"Page"===o.type()?"fixed":"absolute";let p="";switch(d){case"top":a.fit_height()&&(t.bottom="unset");break;case"bottom":a.fit_height()?t.top="unset":"Page"===o.type()?(t.height=`calc(100${n.run_mode()?"vh":"%"} - ${t.top+t.bottom}px)`,t.top="unset"):t["margin-top"]="auto";break;case"both":"Page"===o.type()&&(t["margin-top"]=t["margin-bottom"]="auto"),p="auto";break;case"none":t.bottom="unset"}n.run_mode()&&r.css("overflow-y",p),t["z-index"]=function(){if("back"===a.get_static_property("float_zindex"))return 0;{let e,t=$(".greyout");return e=0===t.length?u-i.FLOATING_GROUP_ZINDEX_OFFSET:t.css("z-index")-i.FLOATING_GROUP_ZINDEX_OFFSET,(!e||e<=0)&&(e=2),e+n.element.get_zindex()}}(),r.css(t)})),n.run_mode()&&"Page"===o.type()?$("body").append(r):(n.container.container_canvas.append(r),n.edit_mode()&&(n.container.setup_margins(n),n.container.setup_padding(n))),r.addClass("floating-group"),n.run_mode()){let e=n.get_static_property("parallax");[null,void 0,1].includes(e)||$(window).on("scroll",(()=>{window.requestAnimationFrame((()=>{t.apply_css_style(r,{transform:"translate3d(0,"+(1-e)*$(window).scrollTop()+"px, 0)"})}))}))}}))},can_defer_drawing:()=>!0,register(e){},initialize(e){},check_for_errors:(e,t)=>o.check_error_floating_group(e,t),is_input:!1,contains_group_data:!0,uses_inset_instead_of_margin:!0,add_an_invisible_div_on_the_top:!1,get_html:e=>"<div></div>",change_cursor_style_if_clickable:!0,can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),get_state_value:(e,t)=>a.state_value_helper_for_group(e,t),get_private_messages:()=>["child_movement","position_element"],events:["ButtonClicked"]})})),iA=u((()=>{"use strict";f(),Ue();var e=Lo(),t=gm(),r=Kl(),n=S_(),i=zv(),a=Xl(),o=Kt(),s=qr(),l=Po(),_=Fl(),u=pv(),c=vv(),d=_y(),p=Sw(),h=zh(),g=vl(),m=ey(),v=pm(),y=Fh(),{PADDING_VERSION:b}=af(),w=!1,A=[],E=a.SAMPLE_VALUE,M="use_evaled_props";function x(e){if(e=_.get("geographic_address").cast(e),r.ensure_valid_location(e))return e=r.ensure_valid_location(e,!0)}function O(e){if(null==e)return;let{lat:t,lng:r}=e;return null!=t&&null!=r?new window.google.maps.LatLng(t,r):void 0}function k(e){let t;if(g.is_test(l.app().id()))return t=x(E),t;let r=a.SAMPLE_VALUE;if(e)try{r=n.get_current_geographic_position()}catch{r=a.SAMPLE_VALUE}return t=x(r||E),t}function S(e){let{position:t,id:r,icon:n}=e;return(null==t?void 0:t.toString())+(null!=r?r:"")+(null!=n?n:"")}d.make_element("GoogleMap",{display:"Map",category:"visual elements",glyph_id:"map",list_order:9,keyboard_shortcut:null,defaults:{width:450,height:350,collapse_margin:500},field_names:{marker_type:{default:"single",no_states:!0},marker_data_type:{no_states:!0},data_source:{no_states:!0},location_field:{no_states:!0},show_info_window:{default:"no",no_states:!0},marker_caption_expression:{},autoclose:{no_states:!0},map_type:{default:"ROADMAP",no_states:!0,in_style:!0},map_style:{default:"normal",in_style:!0},custom_style:{in_style:!0},allow_zoom_drag:{default:!0},disable_zoom_scroll:{default:!1,no_states:!0},manual_setting:{default:!1,no_states:!0},center:{no_states:!0},initial_zoom:{default:10,no_states:!0},use_customized_marker_icon:{default:!1,no_states:!0},use_customized_marker_icon_for_list:{default:"no",no_states:!0},custom_marker_icon:{no_states:!0},custom_marker_field:{no_states:!0},custom_selected_icon:{no_states:!0,default:"no"},custom_selected_icon_image:{no_states:!0},custom_selected_icon_field:{no_states:!0},keep_proportion_resize:{no_states:!0}},property_applications:e=>[new t.Dimensions,new t.Border,new t.BoxShadow,new t.Padding,new t.PaddingFields({minimum_element_version:b,allow_legacy:!0}),new t.ResponsiveElement(e),new t.Opacity],uses_css_responsive:!0,can_fix_aspect_ratio:()=>!0,get_html:e=>"<div></div>",get_min_width:()=>0,can_defer_drawing:()=>!0,register(t){let r=i.load_google_map_api();t.currently_displayed_markers={},t.draw_the_list_once=!1,t.run_mode()&&(t.on_message("set_marker_data",(e=>{t.state("datasource_changed_by_workflow_action",!0),t.draw_the_list_once=!1,t.state("marker_data",e)})),t.on_message("clear_marker_data",(()=>{t.state("datasource_changed_by_workflow_action",!1),t.draw_the_list_once=!1})),t.autorun((()=>{if(!t.state("datasource_changed_by_workflow_action")){let n;var e;if(t.run_mode())n=null!=(e=y.evaluate_property(t,"data_source"))?e:null;else if(t.element.property("data_source").is_static()){var r;n=null!=(r=y.evaluate_property(t,"data_source"))?r:null}t.state("marker_data",n)}})),y.on_property_change(t,"use_customized_marker_icon_for_list",(e=>{"upload"===e&&y.evaluate_property(t,"custom_marker_icon")})),y.on_property_change(t,"custom_selected_icon",(e=>{"upload"===e&&y.evaluate_property(t,"custom_selected_icon_image")})),t.state(M,!0),t.on_message("map_adjust_zoom",(e=>{e.manual_setting?(t.state(M,!1),t.state("manual_setting",null),t.state("manual_setting",!0),t.state("initial_zoom",e.initial_zoom),t.state("center",e.center)):t.state(M,!0)})),t.autorun((()=>{if(!t.state(M))return;let e=y.evaluate_property(t,"manual_setting"),r=y.evaluate_property(t,"initial_zoom"),n=y.evaluate_property(t,"center");t.draw_the_list_once=!1,t.state("manual_setting",null),t.state("manual_setting",e),t.state("initial_zoom",r),t.state("center",n)})),e.WaitFor(r,(()=>{t.autorun((()=>{this._process_markers(t)})),t.original_state_saver=t.autorun((()=>{let{center:e,zoom:r}=this._get_center_and_zoom(t);t.state("map_center_address",e),t.state("zoom_level",r)}))})),t.on_message("set_marker_selection",(e=>{t.state("currently_selected_marker",e)})))},initialize(t){t.wait_for_visible_lite((()=>{let r=i.load_google_map_api();null!=t.currently_displayed_markers||(t.currently_displayed_markers={});let n=t.get_canvas();if(t.thumbnail_mode())return void n.css({"background-color":"#E6E6E6"});let a=null;e.WaitFor(r,(()=>{let r=()=>{a=this._get_map(t,{height:"100%",width:"100%",position:"absolute",top:0,left:0,right:0,bottom:0}),t.edit_mode()&&c.do_add_an_invisible_div_on_the_top(t);let r=new ResizeObserver((e=>window.google.maps.event.trigger(a,"resize")));r.observe(n[0]),t.on_destroy((()=>r.disconnect()));let i=null;t.autorun((()=>{var r;t.element.has_fixed_aspect_ratio()?(null!=i||(i=e.div("",n)),i.css("height",0),t.autorun((()=>{let e=t.element.get_static_property("aspect_ratio_height")/t.element.get_static_property("aspect_ratio_width");i.css("padding-top",100*e+"%")}))):(null==(r=i)||r.remove(),i=null)})),y.pre_cache(t,["four_border_style","border_width","border_style","padding_vertical","padding_horizontal"]),t.autorun((()=>{this._refresh_border(t,a)})),y.on_property_change(t,["allow_zoom_drag","map_style","custom_style","disable_zoom_scroll"],(e=>{this._handle_map_option_change(a,e)})),y.on_property_change(t,"map_type",(e=>{a.setMapTypeId(window.google.maps.MapTypeId[e])})),t.autorun((()=>{this._render_markers(t,a)})),t.autorun((()=>{this._set_center_and_zoom(t,a)}))};t.wait_for_visible((()=>{t.setTimeout(r,1)}))}))}))},change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!0,is_input:!1,contains_group_data:!1,events:["MapMarkerClicked"],get_states:e=>["currently_selected_marker","map_center_address","zoom_level"],add_specific_messages(t,r){let n=r.get_state_value("currently_selected_marker");n&&e.extend(t,{get_currently_selected_marker:{description:"'s current marker",section:"States",ret_btype:n,fn(e,t){var r;return null!=(r=null==e?void 0:e.state("currently_selected_marker"))?r:this.ret_btype_null()}}}),e.extend(t,{get_map_center_address:{description:"'s center address",section:"States",ret_btype:"geographic_address",fn(e,t){var r;return null!=(r=null==e?void 0:e.state("map_center_address"))?r:this.ret_btype_null()}},get_zoom_level:{description:"'s zoom level",section:"States",ret_btype:"number",fn(e,t){var r;return null!=(r=null==e?void 0:e.state("zoom_level"))?r:this.ret_btype_null()}}})},get_messages:e=>["set_marker_data","clear_marker_data","map_adjust_zoom","set_marker_selection"],get_state_value(e,t){switch(t){case"currently_selected_marker":return e.get_static_property("marker_data_type");case"map_center_address":return"geographic_address";case"get_zoom_level":return"number"}},get_injected_value:e=>e.get_static_property("marker_data_type"),get_injected_display:()=>"Current marker",use_injected_datasource:e=>m.use_injected_datasource("marker_caption_expression",e),check_for_errors(t,r){if("_custom"===t.get_static_property("map_style",!0)&&null!=t.get_static_property("custom_style",!0))try{return e.json_parse(t.get_static_property("custom_style",!0))}catch{return r(t.display()+": the custom style cannot be parsed as a JSON object")}},jquery_plugins:()=>["google_map_styles.js"],_refresh_border(e,t){for(let t of["four_border_style","border_width","border_style","padding_vertical","padding_horizontal"])y.evaluate_property(e,t);for(let t of["_top","_right","_bottom","_left"])y.evaluate_property(e,"border_style"+t),y.evaluate_property(e,"border_width"+t);return window.google.maps.event.trigger(t,"resize")},_handle_map_option_change(t,r){let{allow_zoom_drag:n,disable_zoom_scroll:i,map_style:a,custom_style:o}=r,s={};if(a&&!["normal","_custom"].includes(a))s.styles=p.google_map_styles[a].data;else if("_custom"===a)try{s.styles=e.json_parse(o)}catch{s.styles=null}else s.styles=null;return s.disableDefaultUI=!n,s.scrollwheel=n&&!i,s.draggable=n,s.disableDoubleClickZoom=!n,t.setOptions(s)},_get_map(n,l){let _,{canvas:u}=n,c=null;if(A.length){let e=A.pop();c=e.map,_=e.map_wrapper,u.append(_)}else{let r=function(){_=e.div("map-wrapper",u),t.apply_css_style(_,l),c=new window.google.maps.Map(_[0],{streetViewControl:!1})};if(i.using_bubble_key()){if(window.glrl_key_status)return void o.owner_error(a.RATE_MAP_LIMIT_MESSAGE);r(),s().location.post("server://user/m/gmap",{appname:s().appname(),mode:e.is_edit_mode()?"edit":"run",first:w?"no":"yes"},((e,t)=>{if(e)return o.log(e);t||(window.glrl_key_status=!0)})),w=!0}else r()}_[0].id=n.element_id()+"_"+e.LUID()+"_map_wrapper_"+n.responsive_mode();let d=h((function(e,t){let n=e.getCenter();if(n){let e=new window.google.maps.LatLng(n.lat(),n.lng(),!1);return t.state("map_center_address",(()=>r.from_address({lat:e.lat(),lng:e.lng()})))}}),300);var p;n.run_mode()&&(null==(p=n.original_state_saver)||p.destroy(),window.google.maps.event.addListener(c,"click",(()=>n.state("currently_selected_marker",null))),window.google.maps.event.addListener(c,"idle",(()=>d(c,n))),window.google.maps.event.addListener(c,"center_changed",(()=>d(c,n))),window.google.maps.event.addListener(c,"zoom_changed",(()=>n.state("zoom_level",c.getZoom()))));return n.on_destroy((()=>A.push({map:c,map_wrapper:_}))),c},_get_center_and_zoom(t){let n;if(t.state("manual_setting"))return n=x(t.state("center")),null!=n||(n=k(!1)),{center:n,zoom:t.state("initial_zoom"),recenter_ui:!0};let i,a=y.evaluate_property(t,"marker_type"),o="none"===a||t.edit_mode();if("none"===a||"single"===a){return i=x(t.state("marker_data")),null!=i||(i=k(o)),{center:i,zoom:t.get_static_property("initial_zoom"),recenter_ui:!0}}{let n=t.state("processed_markers");if(null==n||e.is_empty(n))return i=k(o),{center:i,zoom:10,recenter_ui:!t.draw_the_list_once};{i=n[Object.keys(n)[0]].position,i&&(i=r.from_address({lat:i.lat(),lng:i.lng()})),null!=i||(i=k(o));let e=!1,t=null;return 1===Object.keys(n).length&&(e=!0,t=10),{center:i,zoom:t,recenter_ui:e}}}},_set_center_and_zoom(e,t){let{center:r,zoom:n,recenter_ui:i}=this._get_center_and_zoom(e);if(i){let e=O(r);null!=e&&(t.getCenter()?t.panTo(e):t.setCenter(e)),t.setZoom(n)}else if("list"===e.get_static_property("marker_type")){let r=y.evaluate_property(e,"manual_setting"),n=e.state("bounds");!r&&!e.draw_the_list_once&&(e.draw_the_list_once=!0,t.fitBounds(n),t.getZoom()>18&&t.setZoom(16))}window.google.maps.event.trigger(t,"center_changed"),window.google.maps.event.trigger(t,"zoom_changed")},_process_markers(e){let t,r,n,i=y.evaluate_property(e,"marker_data_type"),a=_.get(i);if("geographic_address"===i)t=e=>a.cast(e);else{let i=y.evaluate_property(e,"location_field");if(i){let e=a.get_message(i);t=null==e?void 0:e.evaluate}r=a.get_message(y.evaluate_property(e,"custom_marker_field")),n=a.get_message(y.evaluate_property(e,"custom_selected_icon_field"))}let o=e.state("marker_data"),s={};if(null!=t)for(let _ of null!=(l=null==o||null==(u=o.all)?void 0:u.call(o))?l:[]){var l,u;let o=t(_);if(o){var c;let t={position:O(x(o)),bubble_object:_,id:null==(c=_._id)?void 0:c.call(_),bubble_marker_equals:e=>a.equals(_,e)};if(!t.position)continue;if("geographic_address"!==i&&["on_click","always"].includes(e.get_static_property("show_info_window"))){let r=e.get_injected_context(_,this.get_injected_value(e.element));t.title=y.eval_property_with_states(e.element,"marker_caption_expression",r)}"upload"===e.get_static_property("use_customized_marker_icon_for_list")?t.icon=y.evaluate_property(e,"custom_marker_icon"):"field"===e.get_static_property("use_customized_marker_icon_for_list")&&"geographic_address"!==i&&(t.icon=v.optimize_image(r.evaluate(_),30,30,{},!1,!0)),"upload"===e.get_static_property("custom_selected_icon")?t.selected_icon=y.evaluate_property(e,"custom_selected_icon_image"):"field"===e.get_static_property("custom_selected_icon")&&"geographic_address"!==i?t.selected_icon=v.optimize_image(n.evaluate(_),30,30,{},!1,!0):t.selected_icon=null,s[S(t)]=t}}e.state("processed_markers",s)},_add_marker(t,r,n,i){let{position:a,icon:o}=n,{animation:s,add_event_listener:_}=i,c={position:a,map:r};s&&!g.is_test(l.app().id())&&(c.animation=window.google.maps.Animation.DROP),o&&(c.icon=o);let d=new window.google.maps.Marker(c),p=S(n);if(t.currently_displayed_markers[p]={marker:d},_){var f;let i=null;if(null!=n&&n.title){t.currently_displayed_markers[p].infowindow?i=t.currently_displayed_markers[p].infowindow:(i=new window.google.maps.InfoWindow,t.currently_displayed_markers[p].infowindow=i);let a=e.div("infowindow-content");a.text(n.title),a[0].style.padding="3px",a[0].style["font-family"]="Lato",a[0].style.color="rgb(39, 39, 39)",i.setContent(a[0]);let o=t.get_static_property("show_info_window"),s=t.get_static_property("autoclose");"always"===o&&i.open(r,d),e.autorun_top((()=>{t.currently_displayed_markers[p].infowindow_ar=t.autorun((()=>{n.bubble_marker_equals(t.state("currently_selected_marker"))?"no"!==o&&i.open(r,d):"on_click"===o&&s&&null!=i&&i.close()}))}))}null!=(f=t.currently_displayed_markers[p]).event_listener||(f.event_listener=window.google.maps.event.addListener(d,"click",(()=>{t.state("currently_selected_marker",n.bubble_object),i&&i.open(r,d),u.run_element_workflow(t,"MapMarkerClicked")})))}return d},_remove_markers(e,t){for(let n in t){var r;let i=t[n];i.marker.setMap(null),i.event_listener&&window.google.maps.event.removeListener(i.event_listener),null==(r=e.currently_displayed_markers[n].infowindow_ar)||r.destroy(),delete e.currently_displayed_markers[n]}},_render_markers(e,t){let r,n=y.evaluate_property(e,"marker_type");if("none"===n&&this._remove_markers(e.currently_displayed_markers),"single"===n){this._remove_markers(e,e.currently_displayed_markers);let n=O(x(e.state("marker_data")));e.get_static_property("use_customized_marker_icon")&&(r=y.evaluate_property(e,"custom_marker_icon")),n?this._add_marker(e,t,{position:n,icon:r},{animation:!1,add_event_listener:!0}):e.edit_mode()&&this._add_marker(e,t,{position:O(k(!0)),icon:r},{animation:!0})}if("list"===n)if(e.run_mode()){let r=e.state("processed_markers"),n={};for(let t in e.currently_displayed_markers){let i=e.currently_displayed_markers[t];r[t]||(n[t]=i)}this._remove_markers(e,n);let i=new window.google.maps.LatLngBounds;for(let n in r){let a,o=r[n];if(a=e.currently_displayed_markers[n]?e.currently_displayed_markers[n].marker:this._add_marker(e,t,o,{animation:!1,add_event_listener:!0}),i.extend(a.position),null!=o.selected_icon){let t=!1;e.autorun((()=>{o.bubble_marker_equals(e.state("currently_selected_marker"))?t||(t=!0,a.setIcon(o.selected_icon)):t&&(t=!1,a.setIcon(o.icon))}))}}e.state("bounds",i)}else this._remove_markers(e,e.currently_displayed_markers),"upload"===e.get_static_property("use_customized_marker_icon_for_list")&&(r=y.evaluate_property(e,"custom_marker_icon")),this._add_marker(e,t,{position:O(k(!0)),icon:r},{animation:!0})}})})),aA=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=function(e){return e&&e.__esModule?e:{default:e}}(Lw()),i=Tg(),a=Pw(),o=tA(),s=Eg(),l=Fh();var _=(0,r.template)("<div></div>",2);t.exports=(0,n.default)((function(e){return(()=>{let t=_.cloneNode(!0);(0,r.use)(a.defaultEventHandlers,t,(()=>e.instance));let n=e.ref;return"function"==typeof n?(0,r.use)(n,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(o.ChildWrapper,e)),(0,r.effect)((n=>{let i=e.id,a=e.style,o={...e.classList,[e.containerClass]:!0};return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}),(e=>({shouldAddWrapper:e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;return{properties:(0,o.containerProperties)(r),styles:[new s.Style((e=>({overflow:e.state("collapsing")?"hidden":(0,l.evaluate_property)(e,"overflow_scroll")?e.run_mode()?"hidden auto":"hidden":"visible"}))),...(0,o.containerStyling)(r),...(0,i.placedStyling)(e)]}}))})),oA=u((()=>{"use strict";f();var e=Lo(),t=_y(),r=Sm(),n=Zw(),i=aA(),a=Xh(),o=hf();t.make_element("Group",e.extend({},n.group_element_definition,{glyph_id:"group",list_order:1,keyboard_shortcut:"G",get_private_messages:e=>["child_movement"],uses_css_responsive:!0,solid_component:i,can_fit_width:!0,can_fit_height:!0,starts_variable_width:!0,can_defer_drawing:()=>!0,register(e){e.state("collapsing",!1)},attempt_size_only_draw:e=>e.element.no_size_when_hidden(),initialize(e){let t=e.get_canvas();e.autorun((()=>{e.state("collapsing")?t.css("overflow","hidden"):e.get_static_property("overflow_scroll")?e.run_mode()?t.css({"overflow-x":"hidden","overflow-y":"auto"}):t.css({overflow:"hidden"}):t.css({overflow:"visible"})}))},check_for_errors:(e,t)=>n._check_for_errors_datasource_set_to_self(e,"get_group_data",t),can_animate:e=>!0,do_show(t,n,i,a,s){t._is_visible_me=!0,t._update_visible(),t.run_mode()?t.with_canvas((l=>{var _;t._display_me(),null==(_=l.velocity)||_.call(l,"stop"),null!=t.group_slide_timeout&&(t.clearTimeout(t.group_slide_timeout),t.group_slide_timeout=void 0);let u=t.get_static_property("collapse_when_hidden");if(l.css("display",""),u&&!a){if(t.get_static_property("collapse_animation")&&!s)switch(t.set_animating(!0),t.state("collapsing",!0),t.get_static_property("animation_type")){case"slide":{let r=function(a){if(!t._is_visible_me)return;if(a>=n)return e.autorun_once((()=>{var e;l.css({"min-height":o.min_height_css(t),"max-height":null!=(e=o.max_height_css(t))?e:""})})),t.state("collapsing",!1),t.set_animating(!1),void(t.group_slide_timeout=void 0);let s=a+i;l.css({"min-height":s,"max-height":s}),t.group_slide_timeout=t.setTimeout((()=>r(s)),1)},n=l.height(),i=n/15;l.css({"min-height":0,"max-height":0}),r(0);break}case"slide_horiz":{let r=function(s){if(!t._is_visible_me)return;if(s>=n)return e.autorun_once((()=>{var e,r;l.css({"min-width":o.min_width_css(t),"max-width":null!=(e=o.max_width_css(t))?e:"","max-height":null!=(r=o.max_height_css(t))?r:""})})),t.state("collapsing",!1),t.set_animating(!1),void(t.group_slide_timeout=void 0);let _=s+i;l.css({"min-width":_,"max-width":_,"max-height":a}),t.group_slide_timeout=t.setTimeout((()=>r(_)),1)},n=l.width(),i=n/15,a=l.height();l.css({"min-width":0,"max-width":0}),r(0);break}case"fade":l.css({opacity:0}),e.velocity(l,"fadeIn",{duration:400,complete_cb(){t.state("collapsing",!1),t.set_animating(!1)},display:""});break;default:t.set_animating(!1)}}else a&&r.perform_animate_in(t,n,i)})):t._display_me()},do_hide(t,r,n,i,s){if(t._is_visible_me=!1,!t.run_mode())return t._hide_me(),void t._update_visible();t.with_canvas((l=>{var _;if(null==(_=l.velocity)||_.call(l,"stop"),null!=t.group_slide_timeout&&(t.clearTimeout(t.group_slide_timeout),t.group_slide_timeout=void 0),t.get_static_property("collapse_when_hidden")&&!i)if(t.get_static_property("collapse_animation")&&!s)switch(t.set_animating(!0),t.state("collapsing",!0),t.get_static_property("animation_type")){case"slide":{let r=function(n){if(t._is_visible_me)return;if(n<=0)return t._hide_me(),e.autorun_once((()=>{var e;l.css({"min-height":o.min_height_css(t),"max-height":null!=(e=o.max_height_css(t))?e:""})})),l.css("display","none"),t.set_animating(!1),t.state("collapsing",!1),void(t.group_slide_timeout=void 0);let a=n-i;l.css({"min-height":a,"max-height":a}),t.group_slide_timeout=t.setTimeout((()=>r(a)),1)},n=l.height(),i=n/15;r(n);break}case"slide_horiz":{let r=function(n){if(t._is_visible_me)return;if(n<=0)return t._hide_me(),e.autorun_once((()=>{var e,r;l.css({"min-width":o.min_width_css(t),"max-width":null!=(e=o.max_width_css(t))?e:"","max-height":null!=(r=o.max_height_css(t))?r:""})})),l.css("display","none"),t.set_animating(!1),t.state("collapsing",!1),void(t.group_slide_timeout=void 0);let s=n-i;l.css({"min-width":s,"max-width":s,"max-height":a}),t.group_slide_timeout=t.setTimeout((()=>r(s)),1)},n=l.width(),i=n/15,a=l.height();r(n);break}case"fade":e.velocity(l,"fadeOut",{duration:400,complete_cb(){t.state("collapsing",!1),t._hide_me(),t.set_animating(!1)},display:"none"})}else t._hide_me();else i?a.perform_animate_out(t,r,n):t._hide_me()})),t._update_visible()}}))})),sA=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=(0,r.template)("<div></div>",2),{onMount:i}=(Ca(),p(xn)),{onAfterMount:a}=jh(),o=qr(),s=Po(),l=pn(),_=Dr(),u=Zt(),{createElement:c}=Lw(),d=Tg(),{defaultEventHandlers:h}=Pw(),{containerStyling:g,containerProperties:m,ChildWrapper:v}=tA(),{Style:y}=Eg(),b=hf(),w=ot();t.exports=c((function(e){let t=e.instance;return i((()=>{t.do_hide()})),a((()=>{let e=t.canvas,r=e.parent();t.edit_mode()&&(r=r.parent());let n=!1,i=null,a=null;if(t.run_mode()){let r=`click.groupfocus${u.LUID()}`;i=()=>{$("body").on(r,(r=>{var i;let a=$(".tt-dropdown-menu");t.is_visible()&&!e.data("GroupWithFocus_loading")&&e[0]!==r.target&&!$.contains(e[0],r.target)&&(null==(i=$(r.target).attr("class"))||!i.match(/\bselect2-/))&&!(()=>{for(let e=0;e<a.length;e++)if($.contains(a[e],r.target))return!0;return!1})()&&(w.running_test()?t.do_hide():(n=!0,t.setTimeout((()=>{_.WaitFor(o().workflow.everything_done_key(),(()=>{n=!1,t.do_hide()}))}),10)))}))},a=()=>{$("body").off(r)}}let c=`resize.groupfocus${u.LUID()}`,d=null,p=null,f=null;function h(){var e,t;null==(e=d)||e.disconnect(),null==(t=p)||t.disconnect(),$(window).off(c),d=null,p=null,f=null}t.autorun((()=>{var e;if(!t.is_visible())return null==(e=a)||e(),void h();t.autorun((()=>{var e,a;let _=t.get_static_property("offset_left"),u=t.get_static_property("offset_top");function g(){var e;if(t.manual_position)return;if(null==(e=f)||!e.is(":visible"))return n||t.state("gf_reference_position",{position:"absolute",top:"0px",left:"0px"}),void h();let i=t.run_mode()&&l.is_fixed(f),a=f.offset(),o=r.offset(),c=a.left-o.left,p=a.top-o.top;i&&(c-=window.scrollX,p-=window.scrollY);let m=s.get_public_setting("bubble_version")>=20,v=m?f.outerHeight():f.height(),y=m?f.outerWidth():f.width(),b=c+_,w=p+u+v;t.state("gf_reference_position",{position:i?"fixed":"absolute",left:`${b}px`,top:`${w}px`});let A=-p,E=-c,M=p-r.height()+v,x=c-r.width()+y;var O;typeof IntersectionObserver<"u"&&(null==(O=d)||O.disconnect(),d=new IntersectionObserver((e=>{e[0].intersectionRatio<1&&g()}),{root:i?null:r[0],rootMargin:`${A}px ${x}px ${M}px ${E}px`,threshold:1}),d.observe(f[0]))}let m=t.get_static_property("reference");var v,y;t.edit_mode()?f=o().visual_edit.current_editor_canvas.getWrapper(m):f=null==(v=t.find_instance_by_id(m))?void 0:v.canvas;if(null==(e=i)||e(),null==(a=f)||!a.is(":visible"))return t.state("gf_reference_position",{position:"absolute",top:"0px",left:"0px"}),void h();(g(),$(window).off(c),$(window).on(c,(()=>{g()})),typeof ResizeObserver<"u")&&(null==(y=p)||y.disconnect(),p=new ResizeObserver((e=>{g()})),p.observe(f[0],{box:"border-box"}))}))}),(()=>{var e;h(),null==(e=a)||e()})).set_run_immediately(!0)})),i((()=>{t.manual_position=!1,t.on_message("position_element",(e=>{t.manual_position=!0,t.state("gf_reference_position",{top:`${e.Y}px`,left:`${e.X}px`,position:e.position})}))})),(()=>{let t=n.cloneNode(!0);(0,r.use)(h,t,(()=>e.instance));let i=e.ref;return"function"==typeof i?(0,r.use)(i,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(v,e)),(0,r.effect)((n=>{let i=e.id,a=e.style,o={...e.classList,[e.containerClass]:!0};return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}),(e=>({shouldAddWrapper:e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;return{properties:m(r),styles:[new y((e=>{var t,r;return{"min-width":b.min_width_css(e),"max-width":null!=(t=b.max_width_css(e))?t:"","min-height":b.min_height_css(e),"max-height":null!=(r=b.max_height_css(e))?r:"",height:e.element.fit_height()?"auto":"initial",right:20,bottom:e.element.fit_height()?"unset":20,"z-index":o().bv().MAX_POPUP_ZINDEX+e.element.get_zindex(),"margin-right":e.run_mode()?"auto":void 0,"overflow-y":e.run_mode()?"auto":"hidden"}}),{noWaitVisible:!0,outerPositioning:!0}),new y((e=>{var t;return null!=(t=e.state("gf_reference_position"))?t:{position:"absolute"}}),{alwaysDynamic:!0,outerPositioning:!0}),...g(r),...d.basicStyling(e)]}}))})),lA=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=qr(),n=Po(),i=_y(),a=Sm(),o=Xh(),s=Zw(),l=sA(),_=hf(),u=ot();i.make_element("GroupFocus",e.extend({},s.group_element_definition,{display:"Group Focus",glyph_id:"group_focus",list_order:6,keyboard_shortcut:null,field_names:e.extend({},s.container_field_names,{reference:{no_states:!0},offset_left:{no_states:!0,default:0},offset_top:{no_states:!0,default:0},fixed_width:{no_states:!0,default:!0}}),defaults:{bgcolor:"#E8E8E8",background_style:"bgcolor",width:250,height:100},styleable_properties:{offset_top:!1,offset_left:!1},get_private_messages:e=>["child_movement","position_element"],can_animate:e=>!0,workflow_show(e,t,r,n){e.ensure_drawn(),e.get_canvas().data("GroupWithFocus_loading",!0),e.setTimeout((()=>e.get_canvas().data("GroupWithFocus_loading",!1)),1),e.do_show(t,r,n)},workflow_hide(e,t,r,n){e.do_hide(t,r,n)},check_for_errors(e,t){s._check_for_errors_datasource_set_to_self(e,"get_group_data",t)},can_defer_drawing:()=>!0,register(e){e.state("manual_position",null),e.on_message("position_element",(t=>e.state("manual_position",{top:t.Y+"px",left:t.X+"px",position:t.position})))},initialize(i){i.wait_for_visible_lite((()=>{let a=i.get_canvas();i.edit_mode()&&(a=a.parent());let o,s,l=a.parent(),_=!1;if(i.run_mode()){let t;t=e.is_on_mobile_or_tablet()?`touchend.groupfocus${e.LUID()}`:`click.groupfocus${e.LUID()}`,o=function(){$("body").on(t,(t=>{var n;let o=$(".tt-dropdown-menu");i.is_visible()&&!a.data("GroupWithFocus_loading")&&a[0]!==t.target&&!$.contains(a[0],t.target)&&(null==(n=$(t.target).attr("class"))||!n.match(/\bselect2-/))&&!(()=>{for(let e=0;e<o.length;e++)if($.contains(o[e],t.target))return!0;return!1})()&&(u.running_test()?i.do_hide():(_=!0,i.setTimeout((()=>{e.WaitFor(r().workflow.everything_done_key(),(()=>{_=!1,i.do_hide()}))}),10)))}))},s=function(){$("body").off(t)}}let c=`resize.groupfocus${i.toUniqueString()}`,d=null,p=null,f=null;function h(){var e,t;null==(e=d)||e.disconnect(),null==(t=p)||t.disconnect(),$(window).off(c),d=null,p=null,f=null}i.autorun((()=>{var t;if(!i.is_visible())return null==(t=s)||t(),void h();i.autorun((()=>{var t;let s=i.get_static_property("offset_left"),u=i.get_static_property("offset_top");function g(){var t,r;if(i.state("manual_position"))return;if(null==(t=f)||!t.is(":visible"))return _||a.css({top:0,left:0}),null==(r=d)||r.disconnect(),void(d=null);let o=i.run_mode()&&e.is_fixed(f),c=f.offset(),p=l.offset(),h=c.left-p.left,m=c.top-p.top;o&&(h-=window.scrollX,m-=window.scrollY);let v=n.get_public_setting("bubble_version")>=20,y=v?f.outerHeight():f.height(),b=v?f.outerWidth():f.height(),w=h+s,A=m+u+y;a.css({position:o?"fixed":"absolute",left:w,top:A});let E=-m,M=-h,x=m-l.height()+y,O=h-l.width()+b;var k;typeof IntersectionObserver<"u"&&null!==IntersectionObserver&&(null==(k=d)||k.disconnect(),d=new IntersectionObserver((e=>{e[0].intersectionRatio<1&&g()}),{root:o?null:l[0],rootMargin:`${E}px ${O}px ${x}px ${M}px`,threshold:1}),d.observe(f[0]))}let m=i.get_static_property("reference");var v,y;i.edit_mode()?f=r.or_throw().visual_edit.current_editor_canvas.getWrapper(m):f=null==(v=i.find_instance_by_id(m))?void 0:v.canvas;if(null==(t=o)||t(),null==f)return a.css({top:0,left:0}),void h();(g(),$(window).off(c),$(window).on(c,(()=>{g()})),typeof ResizeObserver<"u"&&null!==ResizeObserver)&&(null==(y=p)||y.disconnect(),p=new ResizeObserver((e=>{g()})),p.observe(f[0],{box:"border-box"}))}))}),(()=>{var e;h(),null==(e=s)||e()})).set_run_immediately(!0),i.autorun((()=>{let e=i.state("manual_position");e&&t.apply_css_style(i.get_canvas(),e)}))}))},property_applications:e=>[new t.ShortDimensions,new t.Background,new t.Border,new t.BoxShadow,new t.ResponsiveElement(e),new t.ResponsiveContainer(e),new t.PaddingFields],uses_css_responsive:!0,solid_component:l,can_fit_height:!0,no_margins:()=>!0,not_draggable:()=>!0,goes_on_document:()=>!0,starts_hidden:!0,not_max_adjustable_legacy:!0,must_be_fixed_size(e){var t;return(null==(t=e.root())?void 0:t.get_responsive_version())<0},manual_position:!1,position_canvas(e,t){let n;t.edit_mode()?n=$(".canvas"):(n=$("body"),e.css("display","none")),n.append(e),t.autorun((()=>{var n,i;e.css({position:"absolute","min-width":_.min_width_css(t),"max-width":null!=(n=_.max_width_css(t))?n:"","min-height":_.min_height_css(t),"max-height":null!=(i=_.max_height_css(t))?i:"",height:t.element.fit_height()?"auto":"initial",right:20,bottom:t.element.fit_height()?"unset":20,"z-index":r().bv().MAX_POPUP_ZINDEX+t.element.get_zindex()})})),t.edit_mode()&&t.container.setup_padding(t),t.run_mode()?(e.css("margin-right","auto"),e.css("overflow-y","auto")):e.css("overflow","hidden")},do_show(e,t,r,n){e._is_visible_me=!0,e._update_visible(),e.with_canvas((i=>{var o;null==(o=i.velocity)||o.call(i,"stop",!0),i.css("display",""),n?a.perform_animate_in(e,t,r):e._display_me()}))},do_hide(e,t,r,n){if(!e.is_drawn){if(!n)return e._is_visible_me=!1,void e._update_visible();e.ensure_drawn()}e._is_visible_me=!1,e._update_visible(),e.with_canvas((i=>{var a;null==(a=i.velocity)||a.call(i,"stop",!0),n?(r.display="none",o.perform_animate_out(e,t,r)):(e._hide_me(),i.css("display","none"))}))}}))})),_A=u((()=>{"use strict";f();var e=Lo(),t=_y(),r=Zw();t.make_element("GroupWithFocus",e.extend({},r.group_element_definition,{display:"Group Focus (old)",field_names:e.extend({},r.group_element_definition.field_names,{information:{no_states:!0}}),workflow_show(e,t,r,n){e.get_canvas().data("GroupWithFocus_loading",!0),e.setTimeout((()=>e.get_canvas().data("GroupWithFocus_loading",!1)),1),e.do_show(t,r,n)},workflow_hide(e,t,r,n){e.do_hide(t,r,n)},check_for_errors(e,t){r._check_for_errors_datasource_set_to_self(e,"get_group_data",t)},get_private_messages:e=>["child_movement","position_element"],starts_hidden:!0,initialize(t){throw new e.OwnerError("Old Group Focus is not supported in new responsive engine")}}))})),uA=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=(0,r.template)('<iframe src="about:blank"></iframe>',2),i=(0,r.template)("<div></div>",2),{createSignal:a,Show:o,onMount:s,onCleanup:l,createEffect:_}=(Ca(),p(xn)),u=Lv(),{createElement:c}=Lw(),d=Tg(),{defaultEventHandlers:h,jqueryHTML:g}=Pw(),{Property:m}=Eg(),{isServer:v}=(kh(),p(vf)),y=Fh(),b=ot();t.exports=c((function(e){let t=()=>e.html;if(e.deferDrawing){let[r,n]=a(!1);s((()=>{e.instance.wait_for_visible_lite((()=>{n(!0)}))})),t=()=>r()?e.html:""}function c(){let i,a,o=t=>{i.contentWindow?(i.contentWindow.contents=t,b.running_test()&&(i.contents=t),i.src='javascript:window["contents"]'):a=e.instance.setTimeout((()=>o(t)),100)};return _((()=>{o(t()),l((()=>e.instance.clearTimeout(a)))})),(()=>{let e=n.cloneNode(!0),t=i;return"function"==typeof t?(0,r.use)(t,e):i=e,e.style.setProperty("width","100%"),e.style.setProperty("height","100%"),(0,r.effect)((()=>(0,r.setAttribute)(e,"sandbox",u.should_block_cookies()?"allow-scripts allow-same-origin":void 0))),e})()}return(0,r.createComponent)(o,{get when(){return e.useIframe},get fallback(){return(()=>{let n=i.cloneNode(!0);(0,r.use)(g,n,(()=>t())),(0,r.use)(h,n,(()=>e.instance));let a=e.ref;return"function"==typeof a?(0,r.use)(a,n):e.ref=n,(0,r.effect)((t=>{let i=e.id,a=e.style,o=e.classList,s=v?e.html:void 0;return i!==t._v$4&&(0,r.setAttribute)(n,"id",t._v$4=i),t._v$5=(0,r.style)(n,a,t._v$5),t._v$6=(0,r.classList)(n,o,t._v$6),s!==t._v$7&&(n.innerHTML=t._v$7=s),t}),{_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),n})()},get children(){let t=i.cloneNode(!0);(0,r.use)(h,t,(()=>e.instance));let n=e.ref;return"function"==typeof n?(0,r.use)(n,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(c,{})),(0,r.effect)((n=>{let i=e.id,a=e.style,o=e.classList;return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t}})}),(e=>({deferDrawing:e.get_static_property("defer_drawing")})),((e,t)=>{let{deferDrawing:r}=t;return{properties:{html:new m((e=>y.evaluate_property(e,"html")),{noWaitVisible:!r}),useIframe:new m((e=>y.evaluate_property(e,"useiframe")),{noWaitVisible:!0})},styles:d.placedStyling(e)}}))})),cA=u((()=>{"use strict";f(),Ue();var e=Lo(),t=gm(),r=Kt(),n=vv(),i=_y(),a=Lv(),o=Fh(),{PADDING_VERSION:s}=af(),l=uA();function _(e){return e()}i.make_element("HTML",{category:"visual elements",glyph_id:"html",list_order:8,keyboard_shortcut:null,defaults:{border_style:"none",border_color:"#6B6B6B",border_width:0,padding_vertical:2,padding_horizontal:2,width:200,height:100},updated_default_sizing:{width:280,height:150},field_names:{html:{default:"<i>edit me...</i>"},useiframe:{default:!1},stretch_to_fit:{default:!1,no_states:!0},keep_proportion_resize:{no_states:!0},defer_drawing:{no_states:!0}},property_applications:e=>[new t.Dimensions,new t.Padding,new t.PaddingFields({minimum_element_version:s,allow_legacy:!0}),new t.Border,new t.BoxShadow,new t.ResponsiveElement(e),new t.Opacity],uses_css_responsive:!0,solid_component:l,use_legacy_in_editor:!0,use_legacy_in_thumbnail:!0,get_html:()=>"<div></div>",wrapped_canvas_append:(e,t)=>_((()=>e.append(t))),get_min_width:()=>0,can_fit_width:e=>!e.get_static_property("useiframe",!0),can_fit_height:e=>!e.get_static_property("useiframe",!0),add_an_invisible_div_on_the_top:!0,change_cursor_style_if_clickable:!1,can_defer_drawing:e=>e.get_static_property("defer_drawing"),register(t){var n;if(t.run_mode()&&null!=(n=window)&&n.bubble_safe_mode)return r.owner_warn(new e.OwnerError("This HTML element is not rendered in safe mode",{element_instance:t}))},initialize(e){function t(){if(e.run_mode()&&window.bubble_safe_mode)return;let t=e.get_canvas(),i=null,s=null,l=!1;o.pre_cache(e,["html","useiframe"]),e.autorun((()=>{let u={};for(let t of["html","useiframe"])u[t]=o.evaluate_property(e,t);let{html:c,useiframe:d}=u;if(null!=c||(c=""),e.run_mode())if(d){let r=n=>{e.clearTimeout(i),s||(s=$('<iframe src="about:blank"></iframe>'),a.should_block_cookies()&&s.attr("sandbox","allow-scripts allow-same-origin"),t.append(s)),s[0].style.width="100%",s[0].style.height="100%",s[0].contentWindow?(l!==n&&(s[0].contentWindow.contents=n,l=n),s[0].src='javascript:window["contents"]'):i=e.setTimeout((()=>r(n)),100)};r(c),t.css("height",e.element.get_height())}else try{l!==c&&(_((()=>t.html(c))),l=c)}catch(t){r.owner_only_error("html bug",{display:"Bug in custom html:\n"+t.stack,element_instance:e,prop_name:"html"})}else{t.empty();let r=$('          <iframe\n              sandbox="allow-scripts"\n              id=\'user_preview_iframe\'\n              width="100%"\n              height="100%"\n          >\n              (this browser does not support HTML element preview rendering)\n          </iframe>          ');r[0].srcdoc=c,t.append(r),n.do_add_an_invisible_div_on_the_top(e)}}))}e.get_static_property("defer_drawing")?e.wait_for_visible_lite(t):t()},is_input:!1,contains_group_data:!1})})),dA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.ICONS_CONTENT=void 0;var t={"fa-superscript":"ï«","fa-delicious":"ï¥","fa-bathtub":"ï","fa-s15":"ï","fa-bath":"ï","fa-podcast":"ï","fa-hdd-o":"ï ","fa-vcard-o":"ï¼","fa-address-card-o":"ï¼","fa-odnoklassniki":"ï£","fa-openid":"ï","fa-joomla":"ïª","fa-neuter":"ï¬","fa-angle-double-up":"ï","fa-deviantart":"ï½","fa-sliders":"ï","fa-viadeo-square":"ïª","fa-lock":"ï£","fa-quora":"ï","fa-safari":"ï§","fa-drivers-license":"ï","fa-id-card":"ï","fa-circle":"ï","fa-bus":"ï","fa-glide":"ï¥","fa-bold":"ï²","fa-flag":"ï¤","fa-search-plus":"ï","fa-hotel":"ï¶","fa-bed":"ï¶","fa-linode":"ï¸","fa-trash":"ï¸","fa-snapchat-ghost":"ï¬","fa-cny":"ï","fa-rmb":"ï","fa-yen":"ï","fa-jpy":"ï","fa-subscript":"ï¬","fa-battery-4":"ï","fa-battery":"ï","fa-battery-full":"ï","fa-thumbs-o-up":"ï","fa-tint":"ï","fa-user-md":"ï°","fa-tripadvisor":"ï¢","fa-bitcoin":"ï","fa-btc":"ï","fa-file-word-o":"ï","fa-refresh":"ï¡","fa-cc-diners-club":"ï","fa-sort-alpha-desc":"ï","fa-mortar-board":"ï","fa-graduation-cap":"ï","fa-mars-double":"ï§","fa-text-width":"ïµ","fa-shopping-cart":"ïº","fa-minus-circle":"ï","fa-compass":"ï","fa-twitter-square":"ï","fa-genderless":"ï­","fa-leaf":"ï¬","fa-arrows-h":"ï¾","fa-window-maximize":"ï","fa-hand-o-down":"ï§","fa-free-code-camp":"ï","fa-arrow-circle-o-down":"ï","fa-hand-lizard-o":"ï","fa-asterisk":"ï©","fa-modx":"ï","fa-pie-chart":"ï","fa-square-o":"ï","fa-magic":"ï","fa-qrcode":"ï©","fa-yahoo":"ï","fa-gears":"ï","fa-cogs":"ï","fa-spotify":"ï¼","fa-bullseye":"ï","fa-twitch":"ï¨","fa-signal":"ï","fa-user-secret":"ï","fa-check-square":"ï","fa-spoon":"ï±","fa-cloud":"ï","fa-calculator":"ï¬","fa-camera":"ï°","fa-video-camera":"ï½","fa-gift":"ï«","fa-hourglass-2":"ï","fa-hourglass-half":"ï","fa-mercury":"ï£","fa-street-view":"ï","fa-chevron-circle-left":"ï·","fa-edit":"ï","fa-pencil-square-o":"ï","fa-terminal":"ï ","fa-dashcube":"ï","fa-github-alt":"ï","fa-volume-off":"ï¦","fa-headphones":"ï¥","fa-hourglass-o":"ï","fa-train":"ï¸","fa-send-o":"ï","fa-paper-plane-o":"ï","fa-subway":"ï¹","fa-500px":"ï®","fa-random":"ï´","fa-expand":"ï¥","fa-beer":"ï¼","fa-thumb-tack":"ï","fa-shirtsinbulk":"ï","fa-map-o":"ï¸","fa-fa":"ï´","fa-font-awesome":"ï´","fa-chevron-left":"ï","fa-hand-grab-o":"ï","fa-hand-rock-o":"ï","fa-slideshare":"ï§","fa-cc-stripe":"ïµ","fa-play-circle":"ï","fa-eercast":"ï","fa-wheelchair":"ï","fa-slack":"ï","fa-automobile":"ï¹","fa-car":"ï¹","fa-opencart":"ï½","fa-scribd":"ï","fa-remove":"ï","fa-close":"ï","fa-times":"ï","fa-object-group":"ï","fa-lastfm":"ï","fa-smile-o":"ï","fa-object-ungroup":"ï","fa-cloud-upload":"ï®","fa-align-right":"ï¸","fa-i-cursor":"ï","fa-circle-thin":"ï","fa-comment":"ïµ","fa-recycle":"ï¸","fa-wikipedia-w":"ï¦","fa-soccer-ball-o":"ï£","fa-futbol-o":"ï£","fa-cc-paypal":"ï´","fa-arrows-alt":"ï²","fa-turkish-lira":"ï","fa-try":"ï","fa-venus":"ï¡","fa-chevron-up":"ï·","fa-map":"ï¹","fa-flickr":"ï®","fa-bookmark-o":"ï","fa-user":"ï","fa-handshake-o":"ïµ","fa-y-combinator-square":"ï","fa-yc-square":"ï","fa-hacker-news":"ï","fa-arrow-circle-up":"ïª","fa-angle-left":"ï","fa-hand-peace-o":"ï","fa-building":"ï­","fa-envelope-open":"ï¶","fa-legal":"ï£","fa-gavel":"ï£","fa-moon-o":"ï","fa-play-circle-o":"ï","fa-thermometer-1":"ï","fa-thermometer-quarter":"ï","fa-level-up":"ï","fa-mail-reply-all":"ï¢","fa-reply-all":"ï¢","fa-folder":"ï»","fa-copy":"ï","fa-files-o":"ï","fa-mouse-pointer":"ï","fa-paperclip":"ï","fa-hand-o-left":"ï¥","fa-github":"ï","fa-exclamation":"ïª","fa-yc":"ï»","fa-y-combinator":"ï»","fa-flask":"ï","fa-eject":"ï","fa-forumbee":"ï","fa-hand-pointer-o":"ï","fa-stumbleupon-circle":"ï£","fa-calendar-o":"ï³","fa-stop-circle-o":"ï","fa-sort-amount-desc":"ï¡","fa-windows":"ïº","fa-meh-o":"ï","fa-toggle-off":"ï","fa-xing":"ï¨","fa-server":"ï³","fa-creative-commons":"ï","fa-toggle-down":"ï","fa-caret-square-o-down":"ï","fa-yoast":"ï±","fa-toggle-up":"ï","fa-caret-square-o-up":"ï","fa-arrows-v":"ï½","fa-gbp":"ï","fa-chevron-down":"ï¸","fa-underline":"ï","fa-print":"ï¯","fa-vimeo":"ï½","fa-flag-o":"ï","fa-pagelines":"ï","fa-vcard":"ï»","fa-address-card":"ï»","fa-exclamation-circle":"ïª","fa-user-plus":"ï´","fa-cc-visa":"ï°","fa-folder-open-o":"ï","fa-file-zip-o":"ï","fa-file-archive-o":"ï","fa-wpbeginner":"ï","fa-paypal":"ï­","fa-newspaper-o":"ïª","fa-sign-out":"ï","fa-bitbucket-square":"ï²","fa-text-height":"ï´","fa-align-center":"ï·","fa-google-wallet":"ï®","fa-plus-circle":"ï","fa-angle-double-left":"ï","fa-whatsapp":"ï²","fa-question":"ï¨","fa-italic":"ï³","fa-git-square":"ï","fa-opera":"ïª","fa-arrow-circle-left":"ï¨","fa-anchor":"ï½","fa-plug":"ï¦","fa-cubes":"ï³","fa-yelp":"ï©","fa-list-ul":"ï","fa-list-ol":"ï","fa-thumbs-up":"ï¤","fa-arrow-circle-o-up":"ï","fa-phone-square":"ï","fa-adjust":"ï","fa-volume-up":"ï¨","fa-unlock":"ï","fa-step-forward":"ï","fa-header":"ï","fa-drupal":"ï©","fa-comments":"ï","fa-amazon":"ï°","fa-caret-up":"ï","fa-fire-extinguisher":"ï´","fa-film":"ï","fa-dropbox":"ï«","fa-comment-o":"ï¥","fa-tencent-weibo":"ï","fa-internet-explorer":"ï«","fa-medium":"ïº","fa-arrow-right":"ï¡","fa-lastfm-square":"ï","fa-drivers-license-o":"ï","fa-id-card-o":"ï","fa-hand-o-up":"ï¦","fa-facebook-f":"ï","fa-facebook":"ï","fa-bell":"ï³","fa-gear":"ï","fa-cog":"ï","fa-minus":"ï¨","fa-globe":"ï¬","fa-retweet":"ï¹","fa-bullhorn":"ï¡","fa-mobile-phone":"ï","fa-mobile":"ï","fa-snapchat":"ï«","fa-sort-alpha-asc":"ï","fa-css3":"ï¼","fa-envira":"ï","fa-leanpub":"ï","fa-align-justify":"ï¹","fa-code-fork":"ï¦","fa-angle-double-right":"ï","fa-xing-square":"ï©","fa-bookmark":"ï®","fa-vine":"ï","fa-square":"ï","fa-stack-exchange":"ï","fa-houzz":"ï¼","fa-user-times":"ïµ","fa-get-pocket":"ï¥","fa-envelope":"ï ","fa-qq":"ï","fa-linkedin":"ï¡","fa-glide-g":"ï¦","fa-deafness":"ï¤","fa-hard-of-hearing":"ï¤","fa-deaf":"ï¤","fa-life-bouy":"ï","fa-life-buoy":"ï","fa-life-saver":"ï","fa-support":"ï","fa-life-ring":"ï","fa-digg":"ï¦","fa-keyboard-o":"ï","fa-snowflake-o":"ï","fa-suitcase":"ï²","fa-tty":"ï¤","fa-balance-scale":"ï","fa-ellipsis-h":"ï","fa-battery-3":"ï","fa-battery-three-quarters":"ï","fa-file-pdf-o":"ï","fa-circle-o":"ï","fa-pause-circle":"ï","fa-flag-checkered":"ï","fa-rotate-left":"ï¢","fa-undo":"ï¢","fa-send":"ï","fa-paper-plane":"ï","fa-cc-amex":"ï³","fa-contao":"ï­","fa-star-half":"ï","fa-google-plus-square":"ï","fa-indent":"ï¼","fa-angellist":"ï","fa-trash-o":"ï","fa-cart-arrow-down":"ï","fa-wpexplorer":"ï","fa-bandcamp":"ï","fa-music":"ï","fa-skype":"ï¾","fa-trello":"ï","fa-black-tie":"ï¾","fa-long-arrow-down":"ïµ","fa-google":"ï ","fa-stethoscope":"ï±","fa-caret-down":"ï","fa-battery-2":"ï","fa-battery-half":"ï","fa-cab":"ïº","fa-taxi":"ïº","fa-cc":"ï","fa-cc-mastercard":"ï±","fa-commenting-o":"ï»","fa-hashtag":"ï","fa-gitlab":"ï","fa-cc-jcb":"ï","fa-check":"ï","fa-user-circle-o":"ï¾","fa-history":"ï","fa-times-circle-o":"ï","fa-bar-chart-o":"ï","fa-bar-chart":"ï","fa-bell-slash":"ï¶","fa-clone":"ï","fa-briefcase":"ï±","fa-glass":"ï","fa-calendar-minus-o":"ï²","fa-arrow-left":"ï ","fa-pencil-square":"ï","fa-money":"ï","fa-fast-forward":"ï","fa-bicycle":"ï","fa-fighter-jet":"ï»","fa-download":"ï","fa-ticket":"ï","fa-exchange":"ï¬","fa-user-circle":"ï½","fa-map-pin":"ï¶","fa-mars-stroke-v":"ïª","fa-key":"ï","fa-imdb":"ï","fa-calendar-times-o":"ï³","fa-simplybuilt":"ï","fa-battery-0":"ï","fa-battery-empty":"ï","fa-arrow-up":"ï¢","fa-maxcdn":"ï¶","fa-pied-piper-pp":"ï§","fa-check-circle-o":"ï","fa-chevron-right":"ï","fa-heart":"ï","fa-eye":"ï®","fa-cut":"ï","fa-scissors":"ï","fa-quote-right":"ï","fa-sellsy":"ï","fa-wechat":"ï","fa-weixin":"ï","fa-search":"ï","fa-comments-o":"ï¦","fa-wordpress":"ï","fa-sort-numeric-desc":"ï£","fa-hand-spock-o":"ï","fa-gamepad":"ï","fa-fax":"ï¬","fa-list-alt":"ï¢","fa-youtube":"ï§","fa-sticky-note-o":"ï","fa-ge":"ï","fa-empire":"ï","fa-gittip":"ï","fa-gratipay":"ï","fa-toggle-left":"ï","fa-caret-square-o-left":"ï","fa-tumblr":"ï³","fa-stumbleupon":"ï¤","fa-tv":"ï¬","fa-television":"ï¬","fa-bell-o":"ï¢","fa-wifi":"ï«","fa-inbox":"ï","fa-eyedropper":"ï»","fa-hospital-o":"ï¸","fa-ravelry":"ï","fa-building-o":"ï·","fa-fort-awesome":"ï","fa-shopping-bag":"ï","fa-address-book":"ï¹","fa-fonticons":"ï","fa-feed":"ï","fa-rss":"ï","fa-toggle-right":"ï","fa-caret-square-o-right":"ï","fa-microphone-slash":"ï±","fa-git":"ï","fa-medkit":"ïº","fa-line-chart":"ï","fa-shopping-basket":"ï","fa-external-link-square":"ï","fa-times-rectangle":"ï","fa-window-close":"ï","fa-book":"ï­","fa-rocket":"ïµ","fa-caret-left":"ï","fa-wpforms":"ï","fa-chain":"ï","fa-link":"ï","fa-ioxhost":"ï","fa-quote-left":"ï","fa-github-square":"ï","fa-ban":"ï","fa-universal-access":"ï","fa-credit-card":"ï","fa-steam-square":"ï·","fa-id-badge":"ï","fa-html5":"ï»","fa-envelope-open-o":"ï·","fa-file-code-o":"ï","fa-mail-reply":"ï","fa-reply":"ï","fa-google-plus":"ï","fa-youtube-play":"ïª","fa-venus-double":"ï¦","fa-stop":"ï","fa-phone":"ï","fa-reddit-square":"ï¢","fa-reddit-alien":"ï","fa-product-hunt":"ï","fa-star-half-empty":"ï£","fa-star-half-full":"ï£","fa-star-half-o":"ï£","fa-long-arrow-up":"ï¶","fa-ambulance":"ï¹","fa-won":"ï","fa-krw":"ï","fa-heartbeat":"ï","fa-sign-in":"ï","fa-caret-right":"ï","fa-chrome":"ï¨","fa-save":"ï","fa-floppy-o":"ï","fa-female":"ï","fa-braille":"ï¡","fa-pinterest-square":"ï","fa-paragraph":"ï","fa-folder-open":"ï¼","fa-envelope-square":"ï","fa-codiepie":"ï","fa-birthday-cake":"ï½","fa-dot-circle-o":"ï","fa-sort-down":"ï","fa-sort-desc":"ï","fa-signing":"ï§","fa-sign-language":"ï§","fa-frown-o":"ï","fa-angle-right":"ï","fa-star-o":"ï","fa-angle-down":"ï","fa-space-shuttle":"ï","fa-arrow-circle-down":"ï«","fa-arrow-circle-right":"ï©","fa-soundcloud":"ï¾","fa-pause":"ï","fa-truck":"ï","fa-hand-stop-o":"ï","fa-hand-paper-o":"ï","fa-credit-card-alt":"ï","fa-file-photo-o":"ï","fa-file-picture-o":"ï","fa-file-image-o":"ï","fa-level-down":"ï","fa-backward":"ï","fa-eye-slash":"ï°","fa-euro":"ï","fa-eur":"ï","fa-behance":"ï´","fa-crosshairs":"ï","fa-certificate":"ï£","fa-copyright":"ï¹","fa-meetup":"ï ","fa-thumbs-o-down":"ï","fa-thermometer-0":"ï","fa-thermometer-empty":"ï","fa-meanpath":"ï","fa-arrows":"ï","fa-fast-backward":"ï","fa-vk":"ï","fa-map-marker":"ï","fa-bell-slash-o":"ï·","fa-venus-mars":"ï¨","fa-map-signs":"ï·","fa-filter":"ï°","fa-calendar-plus-o":"ï±","fa-language":"ï«","fa-warning":"ï±","fa-exclamation-triangle":"ï±","fa-bluetooth-b":"ï","fa-minus-square-o":"ï","fa-home":"ï","fa-plane":"ï²","fa-chevron-circle-up":"ï¹","fa-android":"ï»","fa-volume-down":"ï§","fa-institution":"ï","fa-bank":"ï","fa-university":"ï","fa-sort-amount-asc":"ï ","fa-tumblr-square":"ï´","fa-odnoklassniki-square":"ï¤","fa-bluetooth":"ï","fa-tag":"ï«","fa-th":"ï","fa-ellipsis-v":"ï","fa-percent":"ï","fa-adn":"ï°","fa-shekel":"ï","fa-sheqel":"ï","fa-ils":"ï","fa-weibo":"ï","fa-chevron-circle-down":"ïº","fa-mars":"ï¢","fa-share-square":"ï","fa-search-minus":"ï","fa-child":"ï®","fa-ruble":"ï","fa-rouble":"ï","fa-rub":"ï","fa-compress":"ï¦","fa-thumbs-down":"ï¥","fa-check-circle":"ï","fa-heart-o":"ï","fa-tags":"ï¬","fa-facebook-square":"ï","fa-asl-interpreting":"ï£","fa-american-sign-language-interpreting":"ï£","fa-motorcycle":"ï","fa-paste":"ïª","fa-clipboard":"ïª","fa-question-circle":"ï","fa-cutlery":"ïµ","fa-hourglass-3":"ï","fa-hourglass-end":"ï","fa-clock-o":"ï","fa-archive":"ï","fa-times-rectangle-o":"ï","fa-window-close-o":"ï","fa-bug":"ï","fa-codepen":"ï","fa-mail-forward":"ï¤","fa-share":"ï¤","fa-mars-stroke":"ï©","fa-file-excel-o":"ï","fa-commenting":"ïº","fa-behance-square":"ïµ","fa-folder-o":"ï","fa-microphone":"ï°","fa-h-square":"ï½","fa-etsy":"ï","fa-vimeo-square":"ï","fa-ship":"ï","fa-google-plus-circle":"ï³","fa-google-plus-official":"ï³","fa-info-circle":"ï","fa-table":"ï","fa-shower":"ï","fa-buysellads":"ï","fa-dollar":"ï","fa-usd":"ï","fa-themeisle":"ï²","fa-user-o":"ï","fa-columns":"ï","fa-camera-retro":"ï","fa-star":"ï","fa-edge":"ï","fa-file-text-o":"ï¶","fa-rss-square":"ï","fa-laptop":"ï","fa-calendar-check-o":"ï´","fa-area-chart":"ï¾","fa-pinterest":"ï","fa-plus-square":"ï¾","fa-envelope-o":"ï","fa-window-restore":"ï","fa-eraser":"ï­","fa-trophy":"ï","fa-battery-1":"ï","fa-battery-quarter":"ï","fa-arrow-circle-o-left":"ï","fa-foursquare":"ï","fa-sitemap":"ï¨","fa-hourglass-1":"ï","fa-hourglass-start":"ï","fa-desktop":"ï","fa-gg":"ï ","fa-rotate-right":"ï","fa-repeat":"ï","fa-calendar":"ï³","fa-stop-circle":"ï","fa-intersex":"ï¤","fa-transgender":"ï¤","fa-firefox":"ï©","fa-file-text":"ï","fa-coffee":"ï´","fa-sort-up":"ï","fa-sort-asc":"ï","fa-steam":"ï¶","fa-hourglass":"ï","fa-road":"ï","fa-mixcloud":"ï","fa-lightbulb-o":"ï«","fa-arrow-circle-o-right":"ï","fa-flash":"ï§","fa-bolt":"ï§","fa-hand-scissors-o":"ï","fa-tree":"ï»","fa-ra":"ï","fa-resistance":"ï","fa-rebel":"ï","fa-audio-description":"ï","fa-spinner":"ï","fa-optin-monster":"ï¼","fa-facebook-official":"ï°","fa-jsfiddle":"ï","fa-tablet":"ï","fa-navicon":"ï","fa-reorder":"ï","fa-bars":"ï","fa-long-arrow-left":"ï·","fa-dribbble":"ï½","fa-volume-control-phone":"ï ","fa-diamond":"ï","fa-group":"ï","fa-users":"ï","fa-youtube-square":"ï¦","fa-usb":"ï","fa-minus-square":"ï","fa-first-order":"ï°","fa-sticky-note":"ï","fa-upload":"ï","fa-thermometer-3":"ï","fa-thermometer-three-quarters":"ï","fa-renren":"ï","fa-times-circle":"ï","fa-pinterest-p":"ï±","fa-linkedin-square":"ï","fa-cloud-download":"ï­","fa-wrench":"ï­","fa-file-sound-o":"ï","fa-file-audio-o":"ï","fa-linux":"ï¼","fa-instagram":"ï­","fa-snapchat-square":"ï­","fa-apple":"ï¹","fa-bitbucket":"ï±","fa-align-left":"ï¶","fa-viacoin":"ï·","fa-long-arrow-right":"ï¸","fa-share-alt-square":"ï¡","fa-fire":"ï­","fa-font":"ï±","fa-twitter":"ï","fa-circle-o-notch":"ï","fa-angle-up":"ï","fa-th-list":"ï","fa-list":"ïº","fa-location-arrow":"ï¤","fa-hand-o-right":"ï¤","fa-plus-square-o":"ï","fa-toggle-on":"ï","fa-crop":"ï¥","fa-paw":"ï°","fa-file-movie-o":"ï","fa-file-video-o":"ï","fa-dashboard":"ï¤","fa-tachometer":"ï¤","fa-at":"ïº","fa-male":"ï","fa-th-large":"ï","fa-sun-o":"ï","fa-address-book-o":"ïº","fa-window-minimize":"ï","fa-forward":"ï","fa-pied-piper":"ï®","fa-code":"ï¡","fa-thermometer-4":"ï","fa-thermometer":"ï","fa-thermometer-full":"ï","fa-registered":"ï","fa-connectdevelop":"ï","fa-share-square-o":"ï","fa-expeditedssl":"ï¾","fa-barcode":"ïª","fa-external-link":"ï","fa-check-square-o":"ï","fa-pause-circle-o":"ï","fa-question-circle-o":"ï","fa-industry":"ïµ","fa-chevron-circle-right":"ï¸","fa-transgender-alt":"ï¥","fa-thermometer-2":"ï","fa-thermometer-half":"ï","fa-grav":"ï","fa-paint-brush":"ï¼","fa-pencil":"ï","fa-skyatlas":"ï","fa-trademark":"ï","fa-lemon-o":"ï","fa-assistive-listening-systems":"ï¢","fa-sort-numeric-asc":"ï¢","fa-pied-piper-alt":"ï¨","fa-power-off":"ï","fa-cube":"ï²","fa-telegram":"ï","fa-umbrella":"ï©","fa-viadeo":"ï©","fa-file-o":"ï","fa-file-powerpoint-o":"ï","fa-angle-double-down":"ï","fa-plus":"ï§","fa-database":"ï","fa-arrow-down":"ï£","fa-microchip":"ï","fa-unsorted":"ï","fa-sort":"ï","fa-photo":"ï¾","fa-image":"ï¾","fa-picture-o":"ï¾","fa-wheelchair-alt":"ï","fa-mars-stroke-h":"ï«","fa-magnet":"ï¶","fa-file":"ï","fa-step-backward":"ï","fa-unlink":"ï§","fa-chain-broken":"ï§","fa-strikethrough":"ï","fa-reddit":"ï¡","fa-superpowers":"ï","fa-bomb":"ï¢","fa-cart-plus":"ï","fa-cc-discover":"ï²","fa-gg-circle":"ï¡","fa-share-alt":"ï ","fa-stack-overflow":"ï¬","fa-unlock-alt":"ï¾","fa-play":"ï","fa-low-vision":"ï¨","fa-binoculars":"ï¥","fa-puzzle-piece":"ï®","fa-blind":"ï","fa-dedent":"ï»","fa-outdent":"ï»","fa-shield":"ï²","fa-info":"ï©","fa-tasks":"ï®","fa-rupee":"ï","fa-inr":"ï"};e.ICONS_CONTENT=t})),pA=u((e=>{"use strict";f(),Ft();var t=dA(),r=Nt(),n=e;r.safe_register("./core/core_elements/shared/icons",n);var i=null;function a(){let e=document.createElement("iframe");document.body.appendChild(e);let t=e.contentWindow.getComputedStyle;return e.remove(),t}function o(e){let t=function(){let e=$("#bubble-icon-retriever")[0];return null!=e||(e=$('<div id="bubble-icon-retriever" style="display: none; position: absolute;"></div>')[0],document.body.appendChild(e)),e}();return t.setAttribute("class",e),function(){return null!=i||(i=a()),i.apply(window,arguments)}(t,":before").content.replace(/"/g,"")}n.get_static_icon=function(e){return t.ICONS_CONTENT[e]};var s={};n.get_icon_svg=function(e,t){var r;let i=null!=(r=s[t])?r:s[t]=o(t);return n.get_svg_canvas(e,i)},n.get_svg_canvas=function(e,t,r){null!=r||(r=-18);let n=$(`<svg viewbox="0 ${r} 50 50">\n    <text class="${e}" x="50%" y="50%" text-anchor="middle" style="font-size: 50px;fill: currentColor;">\n        ${t}\n    </text>\n</svg>`);return n.css({width:"100%",height:"100%"}),n}})),fA=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=(0,r.template)('<button><svg viewbox="0 -18 50 50"><text class="fa" x="50%" y="50%" text-anchor="middle"></text></svg></button>',6),i=pA(),{createElement:a}=Lw(),o=Tg(),{defaultEventHandlers:s}=Pw(),{Property:l,Style:_}=Eg(),u=Fh();t.exports=a((function(e){return(()=>{let t=n.cloneNode(!0),i=t.firstChild,a=i.firstChild;(0,r.use)(s,t,(()=>e.instance));let o=e.ref;return"function"==typeof o?(0,r.use)(o,t):e.ref=t,i.style.setProperty("width","100%"),i.style.setProperty("height","100%"),a.style.setProperty("font-size","50px"),a.style.setProperty("fill","currentColor"),(0,r.insert)(a,(()=>e.icon)),(0,r.effect)((n=>{let i=e.id,a={display:"flex",...e.style},o={...e.classList,"fa-spin":e.spin},s=e.tabIndex;return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),s!==n._v$4&&(0,r.setAttribute)(t,"tabindex",n._v$4=s),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),t})()}),null,(e=>({properties:{icon:new l((e=>{let t=u.evaluate_property(e,"icon");if(null==t)return;let r=`${t.split(" ")[1]}`;return i.get_static_icon(r)})),spin:new l((e=>u.evaluate_property(e,"spin_icon"))),tabIndex:new l((e=>u.evaluate_property(e,"button_disabled")?"-1":""))},styles:[new _((e=>({color:u.evaluate_property(e,"icon_color")}))),...o.placedStyling(e)]})))})),hA=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=_y(),n=pv(),i=pA(),a=Fh(),o=fA();r.make_element("Icon",{category:"visual elements",glyph_id:"icon",list_order:3,keyboard_shortcut:"I",defaults:{font_alignment:"center",color:"#6676F2",background_style:"none",border_style:"none",border_roundness:4,border_width:2,border_color:"#6B6B6B",boxshadow_style:"none",width:80,height:80},updated_default_sizing:{width:30,height:30},default_states:[],properties_for_new:{icon:"fa fa-bars"},field_names:e.extend({icon:{default:"fa fa-flag-checkered"},icon_color:{default:"#6676F2",in_style:!0},spin_icon:{}},n.start_workflow_field_names),property_applications:e=>[new t.Dimensions,new t.FontShadow,new t.Border,new t.BoxShadow,new t.Background,new t.ResponsiveElement(e),new t.ToolTip,new t.PaddingFields,new t.Opacity],uses_css_responsive:!0,solid_component:o,get_html:e=>"<button></button>",get_min_width:e=>0,change_cursor_style_if_clickable:!0,can_defer_drawing:()=>!0,initialize(e){e.wait_for_visible_lite((()=>{let r=e.get_canvas();t.patch_user_agent_styles(r),r.css("display","flex"),$(document).ready((()=>{e.autorun((()=>{r.empty();let t=a.evaluate_property(e,"icon");r.append(i.get_icon_svg("fa",t)),a.evaluate_property(e,"button_disabled")&&r.attr("tabindex","-1")}))})),a.on_property_change(e,"icon_color",(e=>{r[0].style.color=e})),a.on_property_change(e,"spin_icon",(e=>{e||(e=!1),r.toggleClass("fa-spin",e)}))}))},transition_properties:{icon_color:"color"},is_input:!1,contains_group_data:!1,events:["ButtonClicked"],add_an_invisible_div_on_the_top:!1,css_files:["css/optional/font-awesome.min.css"]})})),gA=u((e=>{"use strict";f();var t=pn(),r=e;r.structure_fixed_aspect_ratio=function(e,r){let n=t.div("",r);e.autorun((()=>{if(e.element.has_fixed_aspect_ratio()){let t=e.element.get_static_property("aspect_ratio_height")/e.element.get_static_property("aspect_ratio_width");n.css({position:"relative","padding-top":100*t+"%"}),n.show()}else n.hide()}))},r.element_css=function(e){return{position:e?"absolute":"relative",top:0,left:0,display:"block","margin-top":"","margin-left":"",width:"100%",height:"100%"}}})),mA=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=(0,r.template)('<div class="aspect-ratio"></div>',2),i=(0,r.template)("<div><img></div>",3),{Show:a,createSignal:o,createEffect:s,createMemo:l,onCleanup:_}=(Ca(),p(xn)),{createElement:u}=Lw(),c=Tg(),{defaultEventHandlers:d}=Pw(),{Property:h,Style:g}=Eg(),m=pm(),{createWatcher:v}=jh(),y=Qt(),b=vl(),w=Po(),A=Fh(),E=hf(),M=" .aspect-ratio",x=" img";function O(e){let t=e.property("src");return!t.is_empty()&&t.is_static()&&""!==e.get_static_property("src",!0)}t.exports=u((function(e){let t=e.instance,[u,c]=o(m.transparent_image()),p=v((()=>t.current_width())),f=v((()=>t.current_height())),h=v((()=>E.is_fitting_height(t))),g=null;s((r=>{if(null==p()||null==f())return;let n;if(n=!t.run_mode()&&e.editorPreviewImage&&e.src?e.editorPreviewImage:e.src,!n||y.is_empty(n))return c(m.transparent_image()),null;function i(e,n,i,a){let o=m.optimize_image(e,n,i,a);function s(){g=o,m.download_image(o,t,(e=>{g===o&&c(e)}))}if(e!==r||m.downloaded_images[o]||b.is_test(w.appname()))s();else{let e=t.setTimeout(s,300);_((()=>{t.clearTimeout(e)}))}}if(e.isStatic)i(n,p(),f(),{});else{if(null==h())return;!e.useAspectRatio&&h()?i(n,p()):i(n,p(),f())}return n}),null);let A=l((()=>e.isStatic&&e.cropData?{"margin-top":e.cropData.top_offset*f()+"px"}:{}));return(()=>{let t=i.cloneNode(!0),o=t.firstChild;(0,r.use)(d,t,(()=>e.instance));let s=e.ref;return"function"==typeof s?(0,r.use)(s,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(a,{get when(){return e.useAspectRatio},get children(){let t=n.cloneNode(!0);return(0,r.effect)((n=>(0,r.style)(t,e.childStyles[M],n))),t}}),o),(0,r.effect)((n=>{let i=e.id,a=e.style,s=e.classList,l=u(),_=e.altTag,c={...e.childStyles[x],...A()};return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,s,n._v$3),l!==n._v$4&&(0,r.setAttribute)(o,"src",n._v$4=l),_!==n._v$5&&(0,r.setAttribute)(o,"alt",n._v$5=_),n._v$6=(0,r.style)(o,c,n._v$6),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),t})()}),(e=>({isStatic:O(e),useAspectRatio:e.has_fixed_aspect_ratio()})),((e,t)=>{let{isStatic:r,useAspectRatio:n}=t;return{properties:{altTag:new h((e=>A.evaluate_property(e,"alt_tag"))),src:new h((e=>A.evaluate_property(e,"src"))),cropData:new h((e=>A.evaluate_property(e,"crop_data"))),editorPreviewImage:new h((e=>A.evaluate_property(e,"editor_preview_image")))},styles:[new g((e=>{let t={top:"0px",left:"0px",display:"block",width:"100%",height:"100%"};if(r){t.position="absolute";let r=A.evaluate_property(e,"crop_data");if(null!=r){let e=function(e){return`${Math.floor(100*e)}%`};Object.assign(t,{width:e(r.width_factor),height:e(r.height_factor),"margin-left":e(r.left_offset)})}}else{let r={rescale:"contain",adjust_height:"contain",stretch:"fill",zoom:"cover"},i=A.evaluate_property(e,"stretch_or_rescale");t["object-fit"]=r[i],!n&&E.is_fitting_height(e)?(t.position="relative",t.height="auto"):t.position="absolute"}return t}),{selector:x}),new g((e=>{if(!A.evaluate_property(e,"four_border_style"))return{"border-radius":`${A.evaluate_property(e,"border_roundness")}px`};{let t={};for(let r in["top","right","bottom","left"])t[`border-radius-${r}`]=`${A.evaluate_property(e,`border_roundness_${r}`)}px`}}),{selector:x}),new g((e=>n?{position:"relative",height:0,"padding-top":e.get_static_property("aspect_ratio_height")/e.get_static_property("aspect_ratio_width")*100+"%"}:{}),{selector:M}),...c.placedStyling(e)]}}))})),vA=u((()=>{"use strict";f(),Ue();var e=Lo(),t=gm(),r=vl(),n=Po(),i=_y(),a=pv(),o=pm(),s=gA(),l=Fh(),_=hf(),u=mA();function c(e){let t=e.property("src");if(!t.is_empty()&&t.is_static()&&""!==e.get_static_property("src",!0))return!0}i.make_element("Image",{category:"visual elements",glyph_id:"image",list_order:4,keyboard_shortcut:null,defaults:{width:320,height:240},collapse_margin:500,keep_proportion_resize:!0,field_names:e.extend({src:{},stretch_or_rescale:{default:"rescale",no_states:!0},crop_data:{no_states:!0},keep_proportion_resize:{no_states:!0},alt_tag:{},editor_preview_image:{no_states:!0,only_edit_mode:!0}},a.start_workflow_field_names),uses_css_responsive:!0,solid_component:u,use_legacy_in_editor:!0,can_fix_aspect_ratio:()=>!0,can_fit_height:e=>!c(e),property_applications:e=>[new t.Dimensions,new t.Border,new t.BoxShadow,new t.ResponsiveElement(e),new t.ToolTip,new t.Rotation,new t.Opacity],get_html:()=>"<div></div>",can_defer_drawing:()=>!0,initialize(t){let i=t.get_canvas();t.wait_for_visible_lite((()=>{let a,u=e.img(void 0,i);t.run_mode()||(a=e.div("display_text",i));let d=null,p=null;t.run_mode()&&l.on_property_change(t,"alt_tag",(e=>{u[0].alt=null!=e?e:""})),l.pre_cache(t,["src","stretch_or_rescale","crop_data","editor_preview_image"]),s.structure_fixed_aspect_ratio(t,i);let f=null,h=null;if(t.autorun((()=>{let g={};for(let e of["src","stretch_or_rescale","crop_data","keep_proportion_resize","editor_preview_image"])g[e]=l.evaluate_property(t,e);let m=c(t.element);if(u.css(s.element_css(m||t.element.has_fixed_aspect_ratio()||!_.is_fitting_height(t))),!t.run_mode()){var v;if(!m&&!g.editor_preview_image)return a.html(null!=(v=g.src)?v:""),a.show(),a.css({display:"block",overflow:"hidden",width:"100%",color:"grey",position:"absolute"}),i.css("overflow","hidden"),void u.hide();a.hide(),u.show()}function y(i,a,s,l){let _;function c(e){d===_&&o.download_image(e,t,(e=>{d===_&&(p=i,u[0].src=e)}))}d=_=e.LUID();let f=o.optimize_image(i,a,s,l),h=i===p&&!o.downloaded_images[f];h&&r.is_test(n.appname())&&(h=!1),h?t.setTimeout(c.bind(null,f),300):c(f)}if(null!=f||(f=e.Box(i.width())),null!=h||(h=e.Box(i.height())),!t.run_mode()&&g.editor_preview_image&&g.src)t.autorun((()=>{y(g.editor_preview_image,f(),h())}));else if(g.src&&!e.is_empty(g.src))if(u[0].src||(u[0].src=o.transparent_image(),o.reset_img_settings(u)),o.reset_img_settings(u),m){let e;if(e=g.keep_proportion_resize?{fit:"crop"}:{},null!=g.crop_data){let e=e=>`${Math.floor(100*e)}%`;u.css({width:e(g.crop_data.width_factor),height:e(g.crop_data.height_factor),"margin-left":e(g.crop_data.left_offset)})}t.autorun((()=>{y(g.src,f(),h(),e),null!=g.crop_data&&u.css("margin-top",g.crop_data.top_offset*h())}))}else{let e={rescale:"contain",adjust_height:"contain",stretch:"fill",zoom:"cover"};u.css({"object-fit":e[g.stretch_or_rescale]}),!t.element.has_fixed_aspect_ratio()&&_.is_fitting_height(t)?(u.css("height","auto"),t.autorun((()=>{y(g.src,f())}))):t.autorun((()=>{y(g.src,f(),h())}))}else u[0].src=o.transparent_image(),p=null,o.reset_img_settings(u)})),typeof ResizeObserver<"u"&&null!==ResizeObserver&&!t.thumbnail_mode()){let e=new ResizeObserver((e=>{var t,r;null==(t=f)||t(e[0].contentRect.width),null==(r=h)||r(e[0].contentRect.height)}));e.observe(i[0]),t.on_destroy((()=>e.disconnect()))}t.autorun((()=>{if(l.evaluate_property(t,"four_border_style"))for(let e of["top","right","bottom","left"])u[0].style[`border-radius-${e}`]=l.evaluate_property(t,"border_roundness_"+e)+"px";else u[0].style["border-radius"]=l.evaluate_property(t,"border_roundness")+"px"}))}))},get_min_width:e=>0,change_cursor_style_if_clickable:!0,add_an_invisible_div_on_the_top:!1,is_input:!1,contains_group_data:!1,events:["ButtonClicked"]})})),yA=u((e=>{"use strict";f();var t=Lo(),r=$r(),n=qr(),i=r.require_moment(),a=e;a.file="jquery_plugins/jquery.inputmask";var o=class{constructor(e,t){this.caption=e,this.mask=t,this.btype="text"}format_val(e,t){return this.format_text(e)}get_val(e,t){var r,n;return this.parse_val(null!=(r=null==(n=e.inputmask)?void 0:n.call(e,"unmaskedvalue"))?r:e.val(),t)}parse_val(e,t){return e}is_valid_text(e){let t=this.format_text(e);return window.Inputmask.isValid(t,this.get_mask())}get_mask(e){return null!=e||(e={}),t.extend({greedy:!1},this.mask,e)}format_text(e,t){return window.Inputmask.format(null!=e?e:"",this.get_mask(t))}},s=class extends o{constructor(e,t,r){super(e,r),this.type=t,this.btype="number"}get_mask(e){null!=e||(e={});let{decimal_separator:r,group_separator:i}=n().locale().get_regional_separators();return t.extend({greedy:!1,radixPoint:r,groupSeparator:i},this.mask,e)}format_val(e,t){if(null!=e){let r=n().locale().format_number(e,t.digits);return this.format_text(r,t)}return""}parse_val(e){let t=n().locale().parse_float(e);if(isNaN(t))return null;if("integer"===this.type){let e=parseInt(t);return isNaN(e)?null:e}return t}is_valid_text(e){if("integer"===this.type){let t=this.parse_val(e);return null!=t&&!isNaN(t)&&(0===t||String(t)===e)}return!0}},l=class extends o{constructor(e,t){let{separator:r,order:n}=t,i=n.join(r);super(e,{alias:"datetime",inputFormat:i,placeholder:i}),this.btype="date",this.date_format=i,this.separator=r,this.order=n}format_val(e,t){return r.format_date(r.mk_date(e),this.date_format,null,t.timezone)}parse_val(e,t){if(e){var r;let a,o,s,l=e.split(this.separator);for(let e=0;e<this.order.length;e++){let t=this.order[e];"m"===t[0]?o=l[e]:"d"===t[0]?a=l[e]:s=l[e]}let _=null!=(r=null==t?void 0:t.timezone)?r:n().current_timezone();return i.tz([s,o-1,a],_).toDate()}return null}is_valid_text(e){return!!r.mk_date(e)}};a.masks={us_phone:new class extends o{format_val(e){return""===e||null==e?"":this.format_text(e)}}("US Phone",{mask:"(999) 999-9999",placeholder:"_",inputmode:"tel"}),us_ssn:new o("US SSN",{alias:"ssn"}),percentage:new class extends s{format_val(e,t){if(null==e)return"";let r=n().locale().parse_float(e);if(isNaN(r)||(e*=100,e=parseFloat(e.toPrecision(12))),null!=e){let r=n().locale().format_number(e,t.digits);return this.format_text(r,t)}return""}parse_val(e){let t=super.parse_val(e);return null==t?t:t/100}}("Percentage","float",{alias:"decimal",suffix:"%",placeholder:"0",inputmode:"text"}),currency:new s("Currency","float",{alias:"currency",digits:2,inputmode:"decimal"}),date:new l("Date",{separator:"/",order:["mm","dd","yyyy"]}),date_2:new l("Euro date",{separator:".",order:["dd","mm","yyyy"]}),time:new o("Time",{alias:"datetime",inputFormat:"HH:MM:ss",placeholder:"hh:mm:ss"}),date_time:new o("Date/Time",{alias:"datetime",inputFormat:"mm/dd/yyyy HH:MM:ss",placeholder:"mm/dd/yyyy hh:mm:ss"}),date_time_no_seconds:new o("Date/Time (no seconds)",{alias:"datetime",inputFormat:"mm/dd/yyyy hh:MM tt",placeholder:"mm/dd/yyyy hh:mm xm"}),numerical_ref:new o("Text (numbers only)",{placeholder:"",mask:"9{1,30}",inputmode:"numeric"}),credit_card_number:new o("Credit card number",{placeholder:"",mask:"9999 9999 9999 [9][9][9][9]"}),credit_card_cvc:new o("Credit card CVC",{placeholder:"",mask:"9{3,4}"}),credit_card_exp_month:new o("Credit card exp month",{placeholder:"",mask:"9[9]"}),credit_card_exp_year:new o("Credit card exp year",{placeholder:"",mask:"9999"}),bank_routing_number:new o("Routing number",{placeholder:"",mask:"999999999"}),int_number:new s("Integer","integer",{alias:"numeric",digits:0,placeholder:"",autoGroup:!0,_radixDance:!1}),float_number:new s("Decimal","float",{alias:"numeric",placeholder:"",autoGroup:!0,_radixDance:!1,inputmode:"text"})}})),bA=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf)),n=(0,r.template)("<input>",1),i=pn(),a=dt(),o=qa(),s=T_(),l=yA(),_=Fl(),u=qr(),c=Kl(),d=E_(),h=$r(),g=Fh(),{createElement:m}=Lw(),v=Tg(),{defaultEventHandlers:y,inputChangeKeyupHandlers:b,enterHandler:w}=Pw(),{Property:A}=Eg(),{onMount:E,onCleanup:M}=(Ca(),p(xn)),{has_input_timezone_controls_on:x}=A_();function O(e){return x()?d.get_custom_tz({static_eval:t=>e.get_static_property(t),dynamic_eval:t=>g.evaluate_property(e,t),not_overridden:!0}):u().current_timezone()}function k(e){return"date"===e||"date_2"===e}t.exports=m((function(e){let t=e.instance;function a(e){let r={clearMaskOnLostFocus:!0,showMaskOnHover:!1,greedy:!1,rightAlign:!1,inputEventOnly:!0};if("currency"===e&&(r.prefix=g.evaluate_property(t,"currency_symbol"),t.get_static_property("always_show_decimals")?(r.digitsOptional=!1,r.placeholder="0"):(r.digitsOptional=!0,r.placeholder="")),"float_number"===e||"percentage"===e){let n=t.get_static_property("decimal_place");null!=n&&n>=0&&(r.digits=n,r.digitsOptional=!1,r.placeholder="0",r._radixDance=!0,r.inputEventOnly=!1),"float_number"===e&&!t.get_static_property("show_thousands")&&(r.autoGroup=!1,r.groupSeparator="")}return k(e)&&(r.timezone=O(t)),r}let d=()=>t.get_static_property("show_thousands"),p=()=>null!=t.get_static_property("decimal_place");function f(){let e=t.get_static_property("content_format");if(e in l.masks){let r={};return k(e)&&(r.timezone=t.state("current_tz")),l.masks[e].get_val(t.get_canvas(),r)}return function(e,t){let r,n=e.get_static_property("content_format");switch(n){case"int_number":r=parseInt(u().locale().parse_float(t));break;case"float_number":case"percentage":case"currency":r=u().locale().parse_float(t);break;case"geographic_address":r=function(){return c.from_address(t)};break;case"date":case"date_2":{let n=O(e);r=h.mk_date(t,n);break}default:if(r=t,(null==n||"text"===n||"numerical_ref"===n)&&e.get_static_property("limit_number_of_characters")){let t=e.get_static_property("character_limit");null!=t&&null!=r&&r.length>t&&(r=r.slice(0,t))}}return"number"==typeof r&&isNaN(r)?null:r}(t,t.get_canvas().val())}return E((()=>{let e=t.autorun((()=>{let e=t.get_static_property("content_format"),r=t.state("current_tz");if(t.state("has_been_changed")&&void 0===r||t.state("is_focused"))return;let n=t.state("value");var i;"geographic_address"===e?n=_.get("geographic_address").runmode_display(n):t.run_mode()&&((i=e)in l.masks&&("int_number"===i?d():"float_number"!==i||d()||p())?n=l.masks[e].format_val(n,a(e)):"number"==typeof n&&("int_number"===e?n=parseInt(n).toString():"float_number"===e&&(n=u().locale().format_decimal(n)))),t.canvas.val(null!=n?n:"")}));M((()=>{e.destroy()}))})),E((()=>{if(t.run_mode()){t.on_message("set_focus",(()=>{t.canvas.focus()}));let e=t.get_static_property("content_format");if(k(e)){let e=t.autorun((()=>{t.state("current_tz",O(t))}));M((()=>{e.destroy()}))}if("password"===e&&t.canvas.passMeter({events:"keyup input change",afterTest:e=>{0===e&&""===t.canvas.val()&&(e=null),t.state("pw_strength",e)}}),"int_number"!==e||d())if("float_number"!==e||d()||p()){if(e in l.masks){let r=o.autorun((function(){let r=l.masks[e].get_mask(a(e));t.canvas.inputmask(r),t.canvas.off("click.inputmask"),t.canvas.on("click.inputmask",(e=>{$(e.target).trigger("inputmaskclick")}))}));M((()=>{r.destroy()}))}}else i.make_numeric(t.canvas);else i.make_numeric(t.canvas,!0)}})),E((()=>{t.canvas.blur((()=>{s.input_focused(!1)})),t.canvas.focus((()=>{s.input_focused(!0)}))})),(()=>{let i=n.cloneNode(!0);(0,r.use)(w,i,(()=>[t,e.needsMetaKey])),(0,r.use)(b,i,(()=>[t,f])),(0,r.use)(y,i,(()=>e.instance));let a=e.ref;return"function"==typeof a?(0,r.use)(a,i):e.ref=i,(0,r.effect)((n=>{let a=e.id,o=e.style,s=e.classList,l="number"===e.type?"input":e.type,_=e.placeholder,u=!t.run_mode(),c=e.maxlength,d=e.disabled,p="number"===e.type?"decimal":void 0,f="password"===e.type?"new-password":void 0;return a!==n._v$&&(0,r.setAttribute)(i,"id",n._v$=a),n._v$2=(0,r.style)(i,o,n._v$2),n._v$3=(0,r.classList)(i,s,n._v$3),l!==n._v$4&&(0,r.setAttribute)(i,"type",n._v$4=l),_!==n._v$5&&(0,r.setAttribute)(i,"placeholder",n._v$5=_),u!==n._v$6&&(i.readOnly=n._v$6=u),c!==n._v$7&&(0,r.setAttribute)(i,"maxlength",n._v$7=c),d!==n._v$8&&(i.disabled=n._v$8=d),p!==n._v$9&&(0,r.setAttribute)(i,"inputmode",n._v$9=p),f!==n._v$10&&(0,r.setAttribute)(i,"autocomplete",n._v$10=f),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),i})()}),null,(e=>({properties:{type:new A((e=>function(e){if(a.is_on_mobile_or_tablet()){if("int_number"===e||"us_phone"===e||"numerical_ref"===e)return"tel";if("float_number"===e)return"number"}switch(e){case"password":return"password";case"email":return"email";default:return"input"}}(e.get_static_property("content_format"))),{alwaysDynamic:!0}),placeholder:new A((e=>g.evaluate_property(e,"placeholder"))),maxlength:new A((e=>{if(e.get_static_property("limit_number_of_characters")){let t=g.evaluate_property(e,"character_limit"),r=g.evaluate_property(e,"content_format");if(t&&[null,void 0,"text","numerical_ref"].includes(r))return t}return null})),disabled:new A((e=>g.evaluate_property(e,"disabled"))),needsMetaKey:new A((e=>g.evaluate_property(e,"not_submit_on_enter"))),tz_dynamic:new A((e=>g.evaluate_property(e,"tz_dynamic")))},styles:v.placedStyling(e)})))})),wA=u((()=>{"use strict";f(),Ue();var e,t=Lo(),r=Kl(),n=yA(),i=gm(),a=Fl(),o=Ra(),s=$y(),l=qr(),_=vv(),u=_y(),c=hv(),d=T_(),{PADDING_VERSION:p}=af(),h=$r(),g=E_(),m=bA(),v=Fh(),{has_input_timezone_controls_on:y}=A_();function b(e){return y()?g.get_custom_tz({static_eval:t=>e.get_static_property(t),dynamic_eval:t=>v.evaluate_property(e,t),not_overridden:!0}):l().current_timezone()}function w(e){return"date"===e||"date_2"===e}function A(e,t){let n,i=e.get_static_property("content_format");switch(i){case"int_number":{let e=parseFloat(t);n=Number.isNaN(e)?null:Math.round(e);break}case"float_number":case"percentage":case"currency":n=t;break;case"geographic_address":n=()=>r.from_address(t);break;case"date":case"date_2":{let r=b(e);n=h.mk_date(t,r)}break;default:if(n=t,[null,void 0,"text","numerical_ref"].includes(i)&&e.get_static_property("limit_number_of_characters")){let t=e.get_static_property("character_limit");null!=t&&null!=n&&n.length>t&&(n=n.slice(0,t))}}return"number"==typeof n&&isNaN(n)?null:n}for(let r of["us_phone","percentage","currency","date","date_2","numerical_ref"]){if(!(r in n.masks))throw new t.UnexpectedError(`${r} should be a valid mask`);c.input_content_options[r]=null!=(e=n.masks[r].caption)?e:t.toTitleCase(r)}u.make_element("Input",{category:"input forms",glyph_id:"text_input",list_order:1,keyboard_shortcut:null,defaults:t.extend({},c.default_for_inputs,{width:250,height:45,use_max_width:!0,max_width:150}),updated_default_sizing:{height:48},default_states:c.default_states_for_inputs,field_names:t.extend({placeholder:{default:"Type here..."},content:{},content_format:{default:"text",no_states:!0},currency_symbol:{default:"$"},show_thousands:{no_states:!0},always_show_decimals:{no_states:!0},decimal_place:{no_states:!0},have_a_numerical_range:{no_states:!0},min_range_value:{},max_range_value:{},check_password_policy:{no_states:!0}},c.additional_field_names_for_text_inputs,g.custom_tz_field_names),property_applications:e=>[new i.Dimensions,new i.Background,new i.Border,new i.BoxShadow,new i.Font,new i.FontSpacing(null,["line_height"]),new i.InputPadding,new i.PaddingFields({minimum_element_version:p,allow_legacy:!0}),new i.PlaceholderColor,new i.ResponsiveElement(e),new i.Opacity],uses_css_responsive:!0,solid_component:m,use_legacy_in_editor:!0,use_legacy_in_thumbnail:!0,can_defer_drawing:()=>!0,get_html(e){let t=this._format_to_type(e.get_static_property("content_format"));return"number"===t?'<input type="input" inputmode="decimal"></input>':"password"===t?'<input type="'+t+'" autocomplete="new-password"></input>':'<input type="'+t+'"></input>'},_format_to_type(e){if(t.is_on_mobile_or_tablet()){if(["int_number","us_phone","numerical_ref"].includes(e))return"tel";if("float_number"===e)return"number"}switch(e){case"password":return"password";case"email":return"email";default:return"input"}},get_min_width:e=>0,is_secure:e=>["password","us_ssn","bank_routing_number","credit_card_number","credit_card_cvc","credit_card_exp_month","credit_card_exp_year"].includes(e.get_static_property("content_format")),initialize(e){e.wait_for_visible_lite((()=>{var r;let i=e.get_canvas();function o(t){let r={clearMaskOnLostFocus:!0,showMaskOnHover:!1,greedy:!1,rightAlign:!1,inputEventOnly:!0};if("currency"===t&&(r.prefix=v.evaluate_property(e,"currency_symbol"),e.get_static_property("always_show_decimals")?(r.digitsOptional=!1,r.placeholder="0"):(r.digitsOptional=!0,r.placeholder="")),["float_number","percentage"].includes(t)){let t=e.get_static_property("decimal_place");null!=t&&t>=0&&(r.digits=t,r.digitsOptional=!1,r.placeholder="0",r._radixDance=!0,r.inputEventOnly=!1)}return["float_number","int_number"].includes(t)&&!e.get_static_property("show_thousands")&&(r.autoGroup=!1,r.groupSeparator=""),w(t)&&(r.timezone=b(e)),r}c.reset_input_div(i),i.focus((()=>{d.input_focused(!0)})),i.on("blur",(()=>{d.input_focused(!1)})),0===(null==(r=e.element.root())?void 0:r.get_responsive_version())&&_.register_tab_index_listener(e,(e=>{i.attr("tabindex",e)}));let s;if(e.autorun((()=>{let t=v.evaluate_property(e,"placeholder");i.attr("placeholder",t),null!=i.get()[0].inputmask&&(i.get()[0].inputmask.originalPlaceholder=t)})),c.set_character_limit_on_input(e),e.run_mode()||i.attr("readonly","true"),e.autorun((()=>{var t;let r=e.get_static_property("content_format"),i=e.state("current_tz");if(e.state("has_been_changed")&&i===s||(s=i,e.state("is_focused")))return;let l=e.state("value");"geographic_address"===r?l=a.get("geographic_address").runmode_display(l):e.run_mode()&&(e=>e in n.masks)(r)&&(l=n.masks[r].format_val(l,o(r))),e.get_canvas().val(null!=(t=l)?t:"")})),e.run_mode()){let r=function(){if(a in n.masks){let t={};return w(a)&&(t.timezone=e.state("current_tz")),n.masks[a].get_val(e.get_canvas(),t)}return A(e,e.get_canvas().val())};e.on_message("set_focus",(()=>i.focus()));let a=e.get_static_property("content_format");w(a)&&e.autorun((()=>{e.state("current_tz",b(e))})),c.assign_change_keyup_handlers(e,r),c.switch_disabled_or_not(e),e.autorun((()=>{let t=v.evaluate_property(e,"not_submit_on_enter");return c.assign_enter_handler_in_input(e,t)})),"password"===a&&i.passMeter({events:"keyup input change",afterTest:t=>{0===t&&""===i.val()&&(t=null),e.state("pw_strength",t)}}),a in n.masks&&t.autorun((()=>{let e=n.masks[a].get_mask(o(a));i.inputmask(e),i.off("click.inputmask"),i.on("click.inputmask",(e=>$(e.target).trigger("inputmaskclick")))}))}}))},content_validated(e,i){var a;let s=i.get_static_property("content_format");function l(e){var t,r;if(!i.get_static_property("have_a_numerical_range"))return!0;let n=null!=(t=v.evaluate_property(i,"min_range_value"))?t:-1/0,a=null!=(r=v.evaluate_property(i,"max_range_value"))?r:1/0;return a<n||n<=e&&e<=a}if(["",null,void 0].includes(e)||""===(null==e||null==(a=e.trim)?void 0:a.call(e)))return!v.evaluate_property(i,"mandatory");switch(s){case"email":return t.is_email(e);case"geographic_address":return null!=r.from_address(e);case"password":return!i.get_static_property("check_password_policy")||c.is_pw_valid(e);case"appname_validate":return o.is_appname_valid(null==e?void 0:e.toLowerCase());default:if(s in n.masks){let t=n.masks[s];if("string"==typeof e&&!t.is_valid_text(e)||"date"===t.btype&&isNaN(Date.parse(e)))return!1;if("number"===t.btype){if("number"==typeof e)return l(e);let r=t.parse_val(e);return null!=r&&l(r)}return!0}return!0}},get_starting_content(e){if(e.run_mode()&&e.get_static_property("auto_binding")){let{type:t,thing:r}=c.get_input_autobind_thing(e),n=e.get_static_property("bind_field"),i=A(e,a.get(t).get_message(n).evaluate(r));return"function"==typeof i?i():i}{let a,_=e.get_static_property("content_format");if(a=e.run_mode()?A(e,v.evaluate_property(e,"content")):e.get_static_property("auto_binding")?"":"geographic_address"!==_||e.element.property("content").is_static()?v.evaluate_property(e,"content"):{address:v.evaluate_property(e,"content")},"function"==typeof a)return a();if(e.run_mode()&&!a&&"email"===_){var r;let a=null==(r=t.local_storage_get(s.get_remember_email_key()))?void 0:r.email;if(a&&!l().current_user().is_logged_in())for(let t of null!=(n=null==(i=(o=e.element).get_visible_workflows)?void 0:i.call(o))?n:[]){var n,i,o;let r,s=!1;for(r of t.actions())if("LogIn"===r.type()){s=!0;break}if(s&&r.find_my_expressions("GetElement.element_id="+e.element_id()).length)return a}}return a}},get_state_value(e,t){if("value"===t){let t=e.get_static_property("content_format");return t in n.masks?n.masks[t].btype:"geographic_address"===t?"geographic_address":"text"}if("pw_strength"===t&&"password"===e.get_static_property("content_format"))return"number"},add_specific_messages(e,r){"password"===r.get_static_property("content_format")&&t.extend(e,{get_pw_strength:{description:"'s password strength",section:"States",ret_btype:"number",fn(e){var t;return null!=(t=null==e?void 0:e.state("pw_strength"))?t:this.ret_btype_null()}}})},change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,is_input:!0,contains_group_data:!1,jquery_plugins:()=>["jquery_plugins/pass-meter.min"],only_send_to_client_in_runmode:!0})})),AA=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=(0,r.template)("<a></a>",2),i=pn(),a=Qt(),o=ot(),s=bv(),l=Ov(),{createEffect:_,onCleanup:u,onMount:c}=(Ca(),p(xn)),{createElement:d}=Lw(),h=Tg(),{Property:g,Style:m}=Eg(),{defaultEventHandlers:v}=Pw(),y=Dg(),b=Jm(),w=Po(),A=i_(),E=qr(),M=Al(),x=Ql(),O=Bl(),k=Fh(),S=kv(),T=St(),{createWatcher:N}=jh();t.exports=d((function(e){let t=e.instance;_((()=>{!e.showIcon&&"image"!==e.backgroundStyle&&e.useDotDotDot&&(s.apply_dotdotdot(t,t.edit_mode()?"letter":"words"),u((()=>s.remove_dotdotdot(t))))})),_((()=>{let r=t.canvas;if("image"!==e.backgroundStyle){if(e.showIcon){r.empty();let t=i.div(e.icon+" inner-element");t.css({"font-family":"FontAwesome","padding-left":"3px"}),r.append(t)}else r.html((r=>e.verticalCenter||t.run_mode()&&e.useDotDotDot?`<div>${r}</div>`:r)(e.noHtml?i.bbcode_to_html(e.text,!0).trim():e.text));t.canvas[0].addEventListener("click",(e=>{S.internal_navigation_handler(e)}))}else r.text("")}));let d=N((()=>function(e){if("pagelink"===k.evaluate_property(e,"linktype")){var t;let r=null!=(t=function(e){var t,r;return null!=(t=b.page_id_to_name(e))?t:null==(r=w.get_page_by_name(e))?void 0:r.name()}(k.evaluate_property(e,"page")))?t:"",n=k.evaluate_property(e,"data_to_send");if(n){let e=w.get_page_by_name(r);if(null!=e){let t=A.get_data_to_send(n,e.get_static_property("readable_field"));t&&(r+="/"+t)}}let i={};if(e.get_static_property("keep_current_page_params")&&Object.assign(i,E().location.get_query()),o.is_debug_mode()&&(i.debug_mode=!0),k.evaluate_property(e,"add_parameters")){let t=e.element.property("url_parameters");O.with_eval_node(t,(function(){let r=x.evaluate_properties(t.json._raw(),e.prop_eval_context(),M.DETECT_FIELD_NAMES,[],t.json._path());for(let{key:e,value:t}of Object.values(r))l.forbidden_url_keys.includes(e)||(i[e]=t)}))}"index"===r&&(r="");let s=E().location.get_server_base()+r;return a.is_empty(i)||(s+="?"+T.stringify(i)),s}{var r;let t=k.evaluate_property(e,"url");return-1===(null==(r=t)?void 0:r.indexOf("//"))&&!l.href_attributes.includes(t.split(":")[0])&&"#"!==t[0]&&(t="//"+t),t}}(t)));return t.run_mode()&&(c((()=>{k.on_property_change(t,"link_disabled",(e=>{t.state("link_disabled",e)}))})),c((()=>{o.on_phonegap()&&(t.canvas.on("touchend",(()=>{window.open(d(),"_blank","location=yes,enableViewportScale=yes")})),t.canvas.on("click",(e=>(e.preventDefault(),!1))))}))),(()=>{let t=n.cloneNode(!0);(0,r.use)(v,t,(()=>e.instance));let i=e.ref;return"function"==typeof i?(0,r.use)(i,t):e.ref=t,(0,r.effect)((n=>{let i=e.id,a=e.style,o={...e.classList,[y.CLICKABLE_ELEMENT]:!0,"bubble-r-vertical-center":e.verticalCenter},s=e.target,l=e.rel,_=d();return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),s!==n._v$4&&(0,r.setAttribute)(t,"target",n._v$4=s),l!==n._v$5&&(0,r.setAttribute)(t,"rel",n._v$5=l),_!==n._v$6&&(0,r.setAttribute)(t,"href",n._v$6=_),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),t})()}),(e=>({showIcon:e.get_styleable_static_property("show_icon")})),((e,t)=>{let{showIcon:r}=t;return{properties:{...r?{icon:new g((e=>k.evaluate_property(e,"icon")))}:{text:new g((e=>k.evaluate_property(e,"text"))),useDotDotDot:new g(s.could_clip),noHtml:new g((e=>k.evaluate_property(e,"no_html")))},backgroundStyle:new g((e=>k.evaluate_property(e,"background_style"))),verticalCenter:new g((e=>k.evaluate_property(e,"vertical_centering"))),target:new g((e=>k.evaluate_property(e,"open_in_new_tab")?"_blank":"_self")),rel:new g((e=>k.evaluate_property(e,"nofollow")?"nofollow":null))},styles:[new m((e=>({"word-break":"break-word",..."none"===k.evaluate_property(e,"background_style")?{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","user-select":"none"}:{}}))),new m((e=>k.evaluate_property(e,"link_disabled")?{cursor:"not-allowed","pointer-events":"none"}:{cursor:"pointer","pointer-events":"auto"})),...h.placedStyling(e)]}}))})),EA=u((()=>{"use strict";f(),Ue();var e=Lo(),t=gm(),r=Dg(),n=Jm(),i=Po(),a=i_(),o=Al(),s=Ql(),l=Bl(),_=qr(),u=St(),c=vv(),d=_y(),p=bv(),h=Ov(),g=Fh(),{PADDING_VERSION:m}=af(),v=kv(),y=AA();d.make_element("Link",{category:"visual elements",glyph_id:"link",keyboard_shortcut:"L",defaults:{font_alignment:"left",font_color:"#4083a9",width:150,height:20,min_width:80,use_max_width:!0,max_width:120},field_names:{text:{default:"...edit me..."},show_icon:{no_states:!0,in_style:!0},icon:{default:"fa fa-facebook-official"},linktype:{default:"pagelink",no_states:!0},page:{default:"index",no_states:!0},data_to_send:{no_states:!0},url:{},link_disabled:{default:!1},open_in_new_tab:{default:!1},add_parameters:{no_states:!0},url_parameters:{optional:!0,no_states:!0},keep_current_page_params:{no_states:!0},wrap_when_squizzed:{no_states:!0,default:!0},no_html:{no_states:!0},nofollow:{no_states:!0}},property_applications:e=>[new t.Dimensions,new t.Font,new t.FontShadow,new t.FontSpacing,new t.PaddingText,new t.PaddingFields({minimum_element_version:m,no_vertical_if_legacy_center:!0,allow_legacy:!0}),new t.Border,new t.BoxShadow,new t.Background,new t.ResponsiveElement(e),new t.ToolTip,new t.Opacity],solid_component:y,use_legacy_in_editor:!0,use_legacy_in_thumbnail:!0,uses_css_responsive:!0,can_fit_width:!0,can_fit_height:!0,change_cursor_style_if_clickable:!1,get_min_width:e=>0,get_html:e=>e.run_mode()?"<a></a>":"<div></div>",can_defer_drawing:()=>!0,initialize(d){let f=d.get_canvas();d.wait_for_visible_lite((()=>{f.addClass(r.CLICKABLE_ELEMENT),t.apply_css_style(f,{"white-space":"pre-wrap","text-decoration":"none","word-break":"break-word"});let m=!1;g.pre_cache(d,["text","font_size","icon","show_icon","background_style","no_html"]),d.autorun((()=>{let r={};for(let e of["text","font_size","icon","show_icon","background_style","no_html"])r[e]=g.evaluate_property(d,e);let{text:n,icon:i,show_icon:a,background_style:o,no_html:s}=r;if("image"===o)f.text("");else if(a){var l;m=!1,p.remove_dotdotdot(d),null==(l=f.trigger)||l.call(f,"destroy"),f.empty();let r=e.div(i+" inner-element");t.apply_css_style(r,{"font-family":"FontAwesome","padding-left":"3px"}),f.append(r)}else{(function(e){g.evaluate_property(d,"vertical_centering")||d.run_mode()&&p.could_clip(d)?f.html(`<div>${e}</div>`):f.html(e)})(s?e.bbcode_to_html(n,!0).trim():n),!m&&p.could_clip(d)&&(m=!0,p.apply_dotdotdot(d,d.edit_mode()?"letter":"words")),d.run_mode()||c.do_add_an_invisible_div_on_the_top(d)}if("none"===o)return(new t.NoSelect)._apply(!0,f)})),d.run_mode()&&(g.on_property_change(d,"open_in_new_tab",(e=>{f[0].target=e?"_blank":"_self"})),g.on_property_change(d,"link_disabled",(e=>{d.state("link_disabled",e),e?(d.get_canvas()[0].style.cursor="not-allowed",d.get_canvas()[0].style["pointer-events"]="none"):(d.get_canvas()[0].style.cursor="pointer",d.get_canvas()[0].style["pointer-events"]="auto")})),g.on_property_change(d,"nofollow",(e=>{e&&(f[0].rel="nofollow")})),d.canvas[0].addEventListener("click",(e=>{v.internal_navigation_handler(e)})),d.autorun((()=>{let t;if("pagelink"===g.evaluate_property(d,"linktype")){var r;let c=null!=(r=function(e){var t;let r=n.page_id_to_name(e);return null!=r||(r=null==(t=i.get_page_by_name(e))?void 0:t.name()),r}(g.evaluate_property(d,"page")))?r:"",p=g.evaluate_property(d,"data_to_send");if(p){let e=i.get_page_by_name(c);null!=e&&(p=a.get_data_to_send(p,e.get_static_property("readable_field")),p&&(c+="/"+p))}let f={};if(d.get_static_property("keep_current_page_params")&&e.extend(f,_().location.get_query()),e.is_debug_mode()&&(f.debug_mode=!0),g.evaluate_property(d,"add_parameters")){let e=d.element.property("url_parameters");l.with_eval_node(e,(()=>{let t=s.evaluate_properties(e.json._raw(),d.prop_eval_context(),o.DETECT_FIELD_NAMES,[],e.json._path());for(let{key:e,value:r}of Object.values(t))h.forbidden_url_keys.includes(e)||(f[e]=r)}))}"index"===c&&(c=""),t=_().location.get_server_base()+c,e.is_empty(f)||(t+="?"+u.stringify(f))}else{var c;t=g.evaluate_property(d,"url"),-1===(null==(c=t)?void 0:c.indexOf("//"))&&!h.href_attributes.includes(t.split(":")[0])&&"#"!==t[0]&&(t="//"+t)}f[0].href=t,e.on_phonegap()&&(f.on("touchend",(()=>window.open(t,"_blank","location=yes,enableViewportScale=yes"))),f.on("click",(e=>(e.preventDefault(),!1))))}))),d.on_destroy((()=>{p.remove_dotdotdot(d)}))}))},is_input:!1,contains_group_data:!1,add_an_invisible_div_on_the_top:!1,css_files:["css/optional/font-awesome.min.css"]})})),MA=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=qr(),n=_y(),i=hv(),a=T_(),o=Fl(),s=Fh(),l=hf(),{PADDING_VERSION:_}=af();n.make_element("MultiLineInput",{display:"Multiline Input",category:"input forms",glyph_id:"multiline_input",list_order:2,keyboard_shortcut:null,defaults:{font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_width:1,border_color:"#BDBDBD",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#BDBDBD",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,padding_horizontal:4,padding_vertical:4,width:300,height:100},updated_default_sizing:{width:226},default_states:i.default_states_for_inputs,field_names:e.extend({placeholder:{default:"Type here..."},content:{},stretch_to_fit:{default:!1,no_states:!0}},i.additional_field_names_for_text_inputs),property_applications:e=>[new t.Dimensions,new t.Background,new t.Border,new t.BoxShadow,new t.Font,new t.FontSpacing,new t.Padding,new t.PaddingFields({minimum_element_version:_,allow_legacy:!0}),new t.PlaceholderColor,new t.ResponsiveElement(e),new t.Opacity],uses_css_responsive:!0,can_fit_height:!0,get_html:e=>"<textarea></textarea>",get_min_width:e=>0,can_defer_drawing:()=>!0,initialize(t){t.wait_for_visible_lite((()=>{let n=t.get_canvas();i.reset_input_div(n),n.focus((()=>{a.input_focused(!0)})),n.on("blur",(()=>{a.input_focused(!1)})),n.attr("data-gramm_editor","false"),t.run_mode()||(n.attr("readonly","true"),n[0].style.resize="none"),i.set_character_limit_on_input(t),t.autorun((()=>{i.assign_enter_handler_in_input(t,!0)}));let o=!1,_="";function u(){window.optional_modules.autosize.update(n),_=n[0].style.cssText}t.autorun((()=>{n.attr("placeholder",s.evaluate_property(t,"placeholder")),u()}));let c=e.Box(0);if(i.input_change_autorun(t,(e=>{t.state("is_focused")||(n.val(null!=e?e:""),o&&(n[0].disabled?(c(c.dangerously_peek()+1),t.setTimeout((()=>{u(),c(c.dangerously_peek()-1)}),5)):u()))})),t.run_mode()){t.on_message("set_focus",(()=>n.focus())),i.assign_change_keyup_handlers(t,(()=>t.get_canvas().val())),t.autorun((()=>{c()>0?n[0].disabled=!1:n[0].disabled=s.evaluate_property(t,"disabled")})),i.switch_disabled_or_not(t);let e=null;t.autorun((()=>{l.is_fitting_height(t)?(o||(r().bubble_version()>=8&&n.attr("rows",1),window.optional_modules.autosize(n),t.wait_for_visible(u),e=new MutationObserver((()=>{_!==n[0].style.cssText&&u()})),e.observe(n[0],{attributes:!0,attributeFilter:["style"]}),o=!0),t.autorun((()=>{t.current_width(),u()}))):o&&(window.optional_modules.autosize.destroy(n),e.disconnect(),o=!1)})),t.on_destroy((()=>{var t;window.optional_modules.autosize.destroy(n),null==(t=e)||t.disconnect()})),n.on("blur",(()=>{t.setTimeout((()=>{u()}),20)}))}}))},content_validated:(e,t)=>!(!e&&s.evaluate_property(t,"mandatory")),get_starting_content(e){if(e.get_static_property("auto_binding")){if(e.run_mode())return i.get_input_autobind_thing_field(e);{let{type:t}=i.get_input_autobind_thing(e,!0),r=e.get_static_property("bind_field");if(null==t||null==r)return"Parent Thing's field";let n=o.get(t).custom_type();if(null==n)return"Cannot autobind on parent Thing";let a=n.field(r);return`Parent ${n.display()}'s ${a.display()}`}}return s.evaluate_property(e,"content")},get_state_value(e,t){if("value"===t)return"text"},change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,is_input:!0,contains_group_data:!1,jquery_plugins:()=>["jquery_plugins/autosize.min"],only_send_to_client_in_runmode:!0})})),xA=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=(0,r.template)("<div></div>",2),i=qr(),{createEffect:a,createSignal:o,onCleanup:s,onMount:l}=(Ca(),p(xn)),_=T_(),u=ot(),c=dt(),d=vn(),h=pm(),{createElement:g}=Lw(),m=Tg(),{defaultEventHandlers:v}=Pw(),{containerStyling:y,containerProperties:b,ChildWrapper:w}=tA(),A=Fh(),{Property:E,Style:M}=Eg(),{style:x}=(kh(),p(vf)),{AT_ROOT:O}=wg(),{createAutorun:k}=jh(),{load_font_tokens_default:S,load_font_tokens_user:T}=Og(),N=`${O} body`,C=["background_style","bgcolor","background_gradient_direction","background_gradient_from","background_gradient_mid","background_gradient_to","background_image","center_background","background_size_cover","repeat_background_vertical","repeat_background_horizontal","background_color_if_empty_image","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos","background_gradient_custom_angle"],L=e=>{let t={};for(let r of C)t[r]=A.evaluate_property(e,"backdrop_"+r);return e.run_mode()&&(t.backdrop_paralax_speed=A.evaluate_property(e,"backdrop_paralax_speed"),t.backdrop_image_paralax=A.evaluate_property(e,"backdrop_image_paralax")),{is_backdrop:!0,...t}},P=e=>[null,void 0,"linear"].includes(e.background_gradient_style);t.exports=g((function(e){let t,i=e.instance,[d,p]=o(),f=(e,t,r)=>{e.data("_last_downloaded_image",t),h.download_image(t,r,(()=>{t===e.data("_last_downloaded_image")&&p(`url("${t}")`)})),e.css("background-image",d())};return l((()=>{i.run_mode()&&(i.register_workflows(i.element.events()),_.page_width($(window).width()),$(window).on("resize",(()=>{_.page_width($(window).width())})),_.page_current_scroll_position($(window).scrollTop()),$(window).on("scroll wheel touchmove",(()=>{_.page_current_scroll_position($(window).scrollTop())})))})),a((()=>{i.run_mode()&&e.title&&(window.document.title=e.title)})),l((()=>{u.is_debug_mode()&&("fixed"===i.element.container_layout()?i.canvas.css("height",i.canvas.height()+300):i.canvas.css("padding-bottom",300))})),a((()=>{if("video"===e.backdropBackgroundData.background_style)if(i.run_mode()&&!c.is_on_mobile_or_tablet()){t||(t=new $.BigVideo,t.init()),$("#big-video-wrap").css("background","black");let e=$("#big-video-wrap video");e.attr("muted","");let r=h.optimize_image(A.evaluate_property(i,"backdrop_video_source"),void 0,void 0,void 0,!0);Promise.resolve().then((()=>{t.show(r,{forceAutoplay:!0,doLoop:!0,ambient:!0})}));let n=i.autorun((function(){A.evaluate_property(i,"backdrop_video_silence")?(e.attr("muted",""),t.getPlayer().muted(!0)):(t.getPlayer().volume(.8),e.removeAttr("muted"),t.getPlayer().muted(!1))}));s((()=>{n.destroy()}))}else{let e=i.get_canvas();e.css("background","black");let t=A.evaluate_property(i,"backdrop_video_image_fallback");t&&e.css({"background-image":`url(${h.optimize_image(t,e.width())})`,"background-position":"center top"})}})),a((()=>{let t=i.canvas,r=i.element;if("image"===e.backdropBackgroundData.background_style&&e.backdropBackgroundData.background_image){if(e.backdropBackgroundData.background_size_cover){if(!e.backdropBackgroundData.backdrop_image_paralax){let r=h.optimize_image(e.backdropBackgroundData.background_image,t.width());f(t,r,i)}}else if(e.backdropBackgroundData.crop_responsive){if(i.run_mode()){let e,n,a=i.autorun((function(){let a=A.evaluate_property(i,"width"),o=A.evaluate_property(i,"height"),s=A.evaluate_property(i,"background_image"),l=i.responsive_mode()&&a===r.get_width();function _(){let e=h.optimize_image(s,a,o,{fit:"crop"});f(t,e,i)}e=h.optimize_image(s,a,o),s===n&&!h.downloaded_images[e]||l?i.setTimeout((()=>{e===h.optimize_image(s,a,o)&&_()}),300):(n=s,_())}));s((()=>{a.destroy()}))}}else if(!e.backdropBackgroundData.backdrop_image_paralax){let r=h.optimize_image(e.backdropBackgroundData.background_image);f(t,r,i)}if(e.backdropBackgroundData.backdrop_image_paralax)if(c.is_on_mobile_or_tablet())f(t,h.optimize_image(e.backdropBackgroundData.background_image),i);else{let r=h.optimize_image(e.backdropBackgroundData.background_image,t.width());t.parallax({imageSrc:r,speed:e.backdropBackgroundData.backdrop_paralax_speed}),$(".parallax-slider").attr({src:r})}}})),l((()=>{i.run_mode()&&$("html, body").css("height","100%")})),i.edit_mode()&&k((()=>{S(),T()})),a((t=>{let r=e.childStyles[N];return x(document.body,r,t),r})),a((t=>{let r=e.childStyles[O];return x(document.documentElement,r,t),r})),(()=>{let t=n.cloneNode(!0);(0,r.use)(v,t,(()=>e.instance));let a=e.ref;return"function"==typeof a?(0,r.use)(a,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(w,(0,r.mergeProps)(e,{get children(){return e.children}}))),(0,r.effect)((n=>{let a=e.id,o=e.style,s={...e.classList,[e.containerClass]:!0,"main-page":!0,"page-element":i.edit_mode()};return a!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=a),n._v$2=(0,r.style)(t,o,n._v$2),n._v$3=(0,r.classList)(t,s,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}),(e=>({shouldAddWrapper:e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;return{properties:{title:new E((e=>A.evaluate_property(e,"title")),{mayContainDynamic:!0}),backdropBackgroundData:new E((e=>L(e)),{fallback:{}}),...b(r)},styles:[new M((t=>{let r=L(t);if("video"!==r.background_style){let t={};if("bgcolor"===r.background_style)t["background-color"]=r.bgcolor;else if("none"===r.background_style)t["background-color"]="transparent";else if("image"===r.background_style&&(r.backdrop_image_paralax||(t["background-color"]=r.background_color_if_empty_image),r.background_image)){var n;t["background-repeat"]=(e=>e.repeat_background_vertical&&e.repeat_background_horizontal?"repeat":e.repeat_background_vertical?"repeat-y":e.repeat_background_horizontal?"repeat-x":"no-repeat")(r),r.center_background?r.is_backdrop?t["background-position"]="center top":t["background-position"]="center":t["background-position"]="",r.background_size_cover||null!=(n=e.root())&&n.use_responsive_algorithm()&&r.crop_responsive?(t["background-size"]="cover",t["-webkit-background-size"]="cover",t["-moz-background-size"]="cover",t["-o-background-size"]="cover"):t["background-size"]="",r.backdrop_image_paralax&&(c.is_on_mobile_or_tablet()||(t["background-image"]="none"))}return t}return{}})),new M((e=>{let t=L(e);if("gradient"===t.background_style){let e,r,[n,i,a,o]=(e=>{let t,r,n,i,a;if(t=e.background_gradient_from,r=e.background_gradient_to,P(e))if("custom"===e.background_gradient_direction){var o;i=(null!=(o=e.background_gradient_custom_angle)?o:45)+"deg"}else{var s;i=null!=(s=e.background_gradient_direction)?s:"top","top"===i||"bottom"===i?(n=0,"bottom"===i&&(a=t,t=r,r=a,i="top")):("left"===i||"right"===i)&&(n=1,"right"===i&&(a=t,t=r,r=a,i="left"))}return[t,r,n,i]})(t),s=t.background_gradient_mid,l=["-webkit-","-moz-","-o-","-ms-",""];if(e=s?`${n} 0%, ${s} 50%, ${i} 100%`:`${n} 0%, ${i} 100%`,P(t))r=`linear-gradient(${o}, ${e})`;else l=["","-webkit-","-moz-","-o-","-ms-"],null!=t.background_radial_gradient_shape||(t.background_radial_gradient_shape="ellipse"),null!=t.background_radial_gradient_size||(t.background_radial_gradient_size="farthest-corner"),null!=t.background_radial_gradient_xpos||(t.background_radial_gradient_xpos=10),null!=t.background_radial_gradient_ypos||(t.background_radial_gradient_ypos=10),r=`radial-gradient(${t.background_radial_gradient_shape} ${t.background_radial_gradient_size} at ${t.background_radial_gradient_xpos}% ${t.background_radial_gradient_ypos}%, ${e})`;let _=[];for(let e of l)_.push(e+r);return _.push(n),{background:_,filter:`progid:DXImageTransform.Microsoft.gradient( startColorstr='${d.RGBA_to_ARGB(n)}', endColorstr='${d.RGBA_to_ARGB(i)}',GradientType=${a})`}}return{}})),new M((t=>{var r,n;let a={"min-width":e.root_min_width(),"max-width":null!=(r=e.root_max_width())?r:"","min-height":e.root_min_height(),"max-height":null!=(n=e.root_max_height())?n:""};if(t.run_mode()){let e=t.element.root_min_height();Object.assign(a,{width:"fixed"===t.element.container_layout()?`${t.element.get_width()}px`:"100%","min-height":[`max(${e}px, 100%)`,"100%"],"margin-right":"auto","margin-left":"auto",position:"relative","z-index":2}),"column"===t.element.container_layout()&&(a.height="max-content",a["flex-shrink"]=0)}else a.width=i().visual_edit.root_width();return a}),{noWaitVisible:!0,outerPositioning:!0}),new M((e=>{if(e.run_mode()){let t={height:"100%"};return"column"===e.element.container_layout()&&(t.display="flex",t["flex-direction"]="column"),t}return{}}),{noWaitVisible:!0,selector:N}),m.tokenStyling(),...y(r),...m.basicStyling(e)]}}))})),OA=u((()=>{"use strict";f(),Ue();var e=Lo(),t=gm(),r=pm(),n=T_(),i=_y(),a=jm(),o=Sg(),s=Og(),l=Fh(),_=xA();i.make_element("Page",{can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),field_names:{page_item_type:{no_states:!0},readable_field:{no_states:!0},title:{default:"My Page"},native_app:{no_states:!0},native_app_name:{no_states:!0,default:"App"},mobile_page:{no_states:!0},delete_page:{no_states:!0},meta_title:{in_pageservice:!0,no_states:!0},meta_description:{in_pageservice:!0,no_states:!0},meta_image:{in_pageservice:!0,no_states:!0},backdrop_background_style:{default:"bgcolor",no_states:!0,in_style:!0},backdrop_bgcolor:{default:"#FFFFFF",in_style:!0},backdrop_background_gradient_direction:{default:"top",in_style:!0},backdrop_background_gradient_custom_angle:{default:45,in_style:!0},backdrop_background_gradient_from:{default:"#FFFFFF",in_style:!0},backdrop_background_gradient_to:{default:"#AAAAAA",in_style:!0},backdrop_background_gradient_mid:{in_style:!0,optional:!0},backdrop_background_gradient_style:{in_style:!0,default:"linear"},backdrop_background_radial_gradient_shape:{in_style:!0,default:"ellipse"},backdrop_background_radial_gradient_size:{in_style:!0,default:"farthest-corner"},backdrop_background_radial_gradient_xpos:{in_style:!0,default:10},backdrop_background_radial_gradient_ypos:{in_style:!0,default:10},backdrop_background_image:{in_style:!0},backdrop_center_background:{in_style:!0},backdrop_background_size_cover:{in_style:!0},backdrop_repeat_background_vertical:{in_style:!0},backdrop_repeat_background_horizontal:{in_style:!0},backdrop_image_paralax:{no_states:!0,default:!1,in_style:!0},backdrop_paralax_speed:{no_states:!0,default:.2,in_style:!0},backdrop_background_color_if_empty_image:{default:"rgba(255, 255, 255, 0.0)",no_states:!0,in_style:!0},backdrop_video_source:{default:"http://vjs.zencdn.net/v/oceans.mp4",in_style:!0},backdrop_video_image_fallback:{in_style:!0},backdrop_video_silence:{default:!0,in_style:!0},stripes:{no_states:!0,in_style:!0},preset_width:{no_states:!0,default:"custom",in_style:!1},html_header:{no_states:!0,in_pageservice:!0},new_responsive:{no_states:!0},responsive_version:{no_states:!0},element_version:{default:0,no_states:!0},upgrade_responsive_version:{no_states:!0},fixed_width:{no_states:!0,default:!1},min_width:{default:0,no_states:!0},backdrop_crop_responsive:{no_states:!0},page_folder:{optional:!0,no_states:!0,only_edit_mode:!0},tz_type:{no_states:!0},tz_static:{no_states:!0},tz_type_overridden:{no_states:!0},tz_static_overridden:{no_states:!0}},always_visible:!0,uses_css_responsive:!0,solid_component:_,attach_to_body:()=>!1,property_applications:e=>[new t.RootSizing,new t.ShortDimensions,new t.ResponsiveContainer(e),new t.Opacity],get_html:e=>'<div class="main-page"></div>',position_canvas(e,r){if(r.run_mode()){t.apply_css_style(e,{width:"fixed"===r.element.container_layout()?`${r.element.get_width()}px`:"100%","margin-right":"auto","margin-left":"auto",position:"relative","z-index":2}),$("html, body").css("height","100%"),$(window.document.body).append(e);let n=r.element.root_min_height();e[0].style["min-height"]=`max(${n}px, 100%)`,"column"===r.element.container_layout()&&($("body").css({display:"flex","flex-direction":"column"}),e.css({height:"max-content","flex-shrink":0}))}else $(".canvas").append(e)},transition_properties:{backdrop_background_style:"background"},get_min_width:()=>0,not_max_adjustable:!0,can_register_workflows:()=>e.FakeKey(),initialize(i){function _(e,t){let r=e.get_static_property("preset_width");for(let n in a.preset_page_widths){if(t===a.preset_page_widths[n].width)return void(r!==n&&e.element.set_property("preset_width",n))}"custom"!==r&&e.element.set_property("preset_width","custom")}i.run_mode()&&i.register_workflows(i.element.events()),l.on_property_change(i,"title",(e=>{i.edit_mode()?$(".edit-date").text(e):i.run_mode()&&$(document).ready((()=>window.document.title=e))}));let u=document.documentElement;i.edit_mode()&&(i.autorun((()=>{s.load_font_tokens_default(),s.load_font_tokens_user()})),l.on_property_change(i,"preset_width",(e=>{null!=a.preset_page_widths[e].width&&(i.element.set_property("width",a.preset_page_widths[e].width),i.element.set_property("default_width",a.preset_page_widths[e].width),i.element.commit_merge())})),l.on_property_change(i,["width","default_width"],(e=>{let{width:t,default_width:r}=e;i.element.get_responsive_version()<1||"fixed"===i.element.container_layout()?_(i,t):_(i,r),i.element.commit_merge()}))),i.autorun((()=>{let e=o.default_color_tokens_to_property();for(let t in e){let r=e[t];u.style.setProperty(t,r)}})),i.autorun((()=>{let e=o.user_color_tokens_to_property();for(let t in e){let r=e[t];u.style.setProperty(t,r)}})),i.autorun((()=>{let e=s.default_font_tokens_to_property();for(let t in e){let r=e[t];u.style.setProperty(t,r)}})),i.autorun((()=>{let e=s.user_font_tokens_to_property();for(let t in e){let r=e[t];u.style.setProperty(t,r)}})),i.run_mode()&&(n.page_width($(window).width()),$(window).on("resize",(()=>n.page_width($(window).width()))),n.page_current_scroll_position($(window).scrollTop()),$(window).on("scroll wheel touchmove",(()=>n.page_current_scroll_position($(window).scrollTop()))));let c=["background_style","bgcolor","background_gradient_direction","background_gradient_from","background_gradient_mid","background_gradient_to","background_image","center_background","background_size_cover","repeat_background_vertical","repeat_background_horizontal","background_color_if_empty_image","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos","background_gradient_custom_angle"];function d(){let n=i.get_canvas();i.thumbnail_mode()?n.css({"z-index":1,position:"absolute",top:0,width:i.element.get_width(),height:i.element.get_height(),overflow:"hidden"}):t.apply_css_style(n,{"z-index":1});let a=null;l.pre_cache(i,c.map((e=>`backdrop_${e}`))),l.pre_cache(i,["backdrop_paralax_speed","backdrop_image_paralax"]),i.autorun((()=>{let o,s={is_backdrop:!0};for(o of c)s[o]=l.evaluate_property(i,"backdrop_"+o);if(i.run_mode())for(o of["backdrop_paralax_speed","backdrop_image_paralax"])s[o]=l.evaluate_property(i,o);if("video"===s.background_style)if(i.run_mode()&&!e.is_on_mobile_or_tablet()){null==a&&(a=new $.BigVideo,a.init()),$("#big-video-wrap").css("background","black");let e=$("#big-video-wrap video");e.attr("muted","");let t=r.optimize_image(l.evaluate_property(i,"backdrop_video_source"),void 0,void 0,void 0,!0);a.show(t,{forceAutoplay:!0,doLoop:!0,ambient:!0}),i.autorun((()=>l.evaluate_property(i,"backdrop_video_silence")?(e.attr("muted",""),a.getPlayer().muted(!0)):(a.getPlayer().volume(.8),e.removeAttr("muted"),a.getPlayer().muted(!1))))}else{n.css("background","black");let e=l.evaluate_property(i,"backdrop_video_image_fallback");e&&n.css({"background-image":`url(${r.optimize_image(e,n.width())})`,"background-position":"center top"})}else(new t.Background)._apply(s,n)}))}i.edit_mode()?(l.pre_cache(i,c),i.autorun((()=>{i.autorun((()=>{if(!i.is_destroyed()){let e={};for(let t of c)e[t]=l.evaluate_property(i,t);(new t.Background)._apply(e,i.get_canvas())}})),d()}))):i.thumbnail_mode()?i.autorun(d):d()},is_input:!1,contains_group_data:!1,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,get_private_messages:()=>["movement_in_stripe","child_movement"],not_draggable:()=>!0})})),kA=u((()=>{"use strict";f();var e=Lo(),t=Kt(),r=gm(),n=Dg(),i=Vr(),a=gw(),o=Qm(),s=vv(),l=_y(),_=hv(),u=Yw(),c=Kw(),d=pm(),p=Fh(),h=qr();l.make_element("PictureInput",{display:"Picture Uploader",category:"input forms",glyph_id:"picture_uploader",list_order:9,keyboard_shortcut:null,defaults:{font_size:14,bold:!0,background_style:"bgcolor",border_style:"solid",border_width:1,border_roundness:0,border_color:"#A6A6A6",border_style_top:"solid",border_width_top:1,border_roundness_top:0,border_color_top:"#A6A6A6",border_style_left:"solid",border_width_left:1,border_roundness_left:0,border_color_left:"#A6A6A6",border_style_bottom:"solid",border_width_bottom:1,border_roundness_bottom:0,border_color_bottom:"#A6A6A6",border_style_right:"solid",border_width_right:1,border_roundness_right:0,border_color_right:"#A6A6A6",padding_horizontal:0,padding_vertical:0,bgcolor:"#EBEBEB",font_alignment:"center",width:130,height:140},updated_default_sizing:{width:150,height:150},default_states:_.default_states_for_inputs,field_names:e.extend({src:{},placeholder:{default:"Click to upload an image"},mandatory:{},private:{no_states:!0},attach_to:{},service:{no_states:!0},destination:{},keep_proportion_resize:{no_states:!0},limit_image_width:{no_states:!0}},_.get_disabled_field_name,_.get_auto_binding_field_names),property_applications(e){var t;return[new r.Font(".button_for_file_uploader"),new r.Dimensions,new r.Border,new r.Background(".button_for_file_uploader"),new r.BoxShadow,new r.ResponsiveElement(e),new r.FontSpacing(".button_for_file_uploader",["line_height"]),new r.PaddingFields((null==(t=h())?void 0:t.app().get_public_setting("bubble_version"))<18?{}:{selector:"button,img"}),new r.Opacity]},get_html:e=>"<div></div>",get_min_width:()=>0,can_defer_drawing:()=>!0,initialize(l){l.wait_for_visible_lite((()=>{var f;u.show_message_for_ios_8_upload_bug(),l.state("src_version",0);let h=l.get_canvas(),g=e.img(void 0,h),m={width:"100%",height:"100%","z-index":5,position:"absolute"};r.apply_css_style(g,m),(null==(f=l.element.root())?void 0:f.get_responsive_version())>0&&g.css({"object-fit":"contain"}),h.append(g);let v=$('<button class="button_for_file_uploader"></button>');_.reset_input_div(v);let y={"z-index":4,position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%"};function b(e){return e?d.optimize_image(e,p.evaluate_property(l,"width"),p.evaluate_property(l,"height")):null}r.apply_css_style(v,y),h.append(v),p.on_property_change(l,"width",(e=>{e<80&&r.apply_css_style(v,{padding:0})}));let w=null;function A(t){if(t){var r,n;(null==(r=l.element.root())?void 0:r.get_responsive_version())>0?d.download_image(t,l,(e=>{g[0].src=e})):l.autorun((()=>{let r=e.autorun_top((()=>l.state("src_version")));r+=1,l.state("src_version",r),d.rescale_image({src:t,img:g,instance:l,ref_version:r,cb(){g[0].src=t}})}));let i=t.split("%2F"),a=i[-1+i.length].split("?w=")[0];null==(n=w)||n.attr("title",a),v.css("opacity",0),g.css("opacity",1)}else{var i;g[0].src=d.transparent_image(),v.css("opacity",1),g.css("opacity",0),null==(i=w)||i.attr("title",null)}}if(l.run_mode()){let u=function(t){e.run_once(30,(()=>c.process_upload_security(l)),((e,r)=>{e?t(e):t(null,r)}))},d=function(){l.state("loading",!0)},f=function(e){o.handle_uncaught_error({original_error:e,caught_from:i.ERROR_SOURCES.ELEMENT,cb(e){e&&window.alert(t.human_friendly(e)),l.state("loading",!1)}})};var E;h.addClass(n.CLICKABLE_ELEMENT),w=$('<input type="file" accept="image/*"></input>'),h.append(w),r.apply_css_style(w,{opacity:0,position:"absolute","z-index":1+g.css("z-index"),left:"0px",width:"100%",height:"100%","font-size":0});let m=e=>{var t,r;l.state("file_size",null!=(t=null==(r=w[0].files[0])?void 0:r.size)?t:null),l.state("loading",!1),A(b(e)),l.message("user_submit",e),w[0].value=null};a.MakeImageUploader({input:w,get_additional_data:u,cb_success:m,cb_start:d,cb_fail:f,limit_size:l.get_static_property("limit_image_width")}),0===(null==(E=l.element.root())?void 0:E.get_responsive_version())&&s.register_tab_index_listener(l,(e=>{w.attr("tabindex",e)})),p.on_property_change(l,"disabled",(e=>{w[0].disabled=e,r.apply_css_style(w,{cursor:e?"default":"pointer"}),r.apply_css_style(v,{cursor:e?"default":"pointer"})})),_.register_focus(l,w),l.on_message("set_focus",(()=>w.focus()))}p.on_property_change(l,"placeholder",(e=>{v.text(e)})),_.input_change_autorun(l,(e=>{var t,r,n,i;A(e=l.run_mode()||l.element.property("src").is_static()?b(e):""),l.state("file_size",null!=(t=null==(r=w)||null==(n=r[0])||null==(i=n.files[0])?void 0:i.size)?t:null)}))}))},get_starting_content:e=>e.run_mode()&&e.get_static_property("auto_binding")?_.get_input_autobind_thing_field(e):p.evaluate_property(e,"src"),get_state_value(e,t){if("value"===t)return"image"},get_states:e=>["loading","file_size"],uses_css_responsive:!0,add_specific_messages:(t,r)=>e.extend(t,c.file_inputs_additional_messages),need_to_wait_before_checking_validity:!0,content_validated:(e,t)=>e||!p.evaluate_property(t,"mandatory"),change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,is_input:!0,contains_group_data:!1})})),SA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.INITIAL_POPUP_TOP=e.HORIZONTAL_SPACING=e.FILL_POPUP_BOTTOM=void 0;e.HORIZONTAL_SPACING=10;e.INITIAL_POPUP_TOP=20;e.FILL_POPUP_BOTTOM=50})),TA=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=(0,r.template)('<div class="greyout"></div>',2),i=(0,r.template)("<div></div>",2),{createElement:a}=Lw(),o=Tg(),{defaultEventHandlers:s}=Pw(),{containerStyling:l,containerProperties:_,ChildWrapper:u}=tA(),{Style:c}=Eg(),{HORIZONTAL_SPACING:d,INITIAL_POPUP_TOP:h,FILL_POPUP_BOTTOM:g}=SA(),m=Dg(),{createAutorun:v,onAfterMount:y}=jh(),b=Fv(),w=qa(),A=Ag(),E=Fh(),M=hf(),{onMount:x,onCleanup:O}=(Ca(),p(xn)),k=Nw(),{remove_blur_effect_to_greyout:S}=Fv(),T=".greyout";t.exports=a((function(e){let t=e.instance;x((()=>{if(t.run_mode())t.canvas.css({display:"none",top:h,position:"fixed"}),t.manual_position=!1,t.on_message("position_element",(e=>{t.manual_position=!0,t.state("manual_position",{top:`${e.Y}px`,left:`${e.X}px`,position:e.position})}));else if(!t.thumbnail_mode()){let e=t.canvas;t.edit_mode()&&(e=e.parent()),e.css({top:h,position:"absolute"})}t.state("greyout").css("display","none")})),O((()=>{"destroyed"!==t.canvas&&S(t)})),t.run_mode()&&(v((()=>{if(t.is_visible()){let e=t.current_height();w.autorun_top((()=>b.get_popup_positioning(t,e)))}})),y((()=>{let e=null;return $(window).on("resize.popup_"+t.element_id(),(()=>{let r=window.innerHeight;e!==r&&(e=r,b.get_popup_positioning(t))})),()=>{$(window).off("resize.popup_"+t.element_id())}})));let a=()=>(()=>{let i=n.cloneNode(!0);return(0,r.use)((e=>t.state("greyout",$(e))),i),(0,r.effect)((n=>{let a={[A.toClass(t.element.ssr_key())]:!0},o=e.childStyles[T];return n._v$=(0,r.classList)(i,a,n._v$),n._v$2=(0,r.style)(i,o,n._v$2),n}),{_v$:void 0,_v$2:void 0}),i})(),o=()=>(()=>{let t=i.cloneNode(!0);(0,r.use)(s,t,(()=>e.instance));let n=e.ref;return"function"==typeof n?(0,r.use)(n,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(u,e)),(0,r.effect)((n=>{let i=e.id,a=e.style,o={...e.classList,[e.containerClass]:!0};return i!==n._v$3&&(0,r.setAttribute)(t,"id",n._v$3=i),n._v$4=(0,r.style)(t,a,n._v$4),n._v$5=(0,r.classList)(t,o,n._v$5),n}),{_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})();return t.edit_mode()?[(0,r.createComponent)(k,{get children(){return a()}}),(0,r.memo)(o)]:[(0,r.memo)(a),(0,r.memo)(o)]}),(e=>({shouldAddWrapper:e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;return{properties:_(r),styles:[...l(r),...o.basicStyling(e),new c((e=>{var t;return{left:0,right:0,"z-index":m.POPUP_ZINDEX+(null!=(t=e.state("popup_zindex"))?t:0),"margin-left":"auto","margin-right":"auto",width:`calc(100% - ${2*d}px)`,height:e.element.fit_height()?"auto":"initial",bottom:e.element.fit_height()?"":g,"overflow-y":"auto","grid-template-rows":e.element.fit_height()?"minmax(100%, max-content)":void 0}}),{noWaitVisible:!0,outerPositioning:!0}),new c((e=>{var t,r;return{"min-width":M.min_width_css(e),"max-width":null!=(t=M.max_width_css(e))?t:"","min-height":M.min_height_css(e),"max-height":null!=(r=M.max_height_css(e))?r:""}}),{outerPositioning:!0}),new c((e=>{var t;return null!=(t=e.state("manual_position"))?t:{}}),{alwaysDynamic:!0}),new c((e=>{var t;return{position:e.run_mode()?"fixed":"absolute",top:"0px",left:"0px",width:"100%",height:"100%","background-color":E.evaluate_property(e,"greyout_color"),"z-index":e.run_mode()?m.POPUP_ZINDEX+(null!=(t=e.state("popup_zindex"))?t:0):m.POPUP_ZINDEX-1}}),{selector:T})]}}))})),NA=u((()=>{"use strict";f(),R_(),Ue();var e=Lo(),t=Kt(),r=qr(),n=Sm(),i=gm(),a=jp(),o=Qm(),s=_y(),l=pv(),_=Vr(),u=Dg(),c=Fv(),d=Zw(),p=TA(),h=Fh(),g=hf(),m=Xh(),{HORIZONTAL_SPACING:v,INITIAL_POPUP_TOP:y,FILL_POPUP_BOTTOM:b}=SA();s.make_element("Popup",{category:"containers",glyph_id:"popup",list_order:4,keyboard_shortcut:null,defaults:{bgcolor:"#FFFFFF",background_style:"bgcolor",border_style:"none",border_roundness:3,boxshadow_style:"outset",boxshadow_horizontal:2,boxshadow_vertical:2,boxshadow_blur:4,boxshadow_color:"#000000",width:500,height:350},updated_default_sizing:{width:320,height:320},field_names:e.extend({},l.start_workflow_field_names,c.greyout_field_names,d.container_field_names),not_draggable:()=>!0,property_applications:e=>[new i.ShortDimensions,new i.Border,new i.BoxShadow,new i.Background,new i.ResponsiveElement(e),new i.ResponsiveContainer(e),new i.PaddingFields,new i.Opacity],get_min_width:()=>0,not_max_adjustable_legacy:!0,uses_css_responsive:!0,no_margins:()=>!0,can_fit_height:!0,get_html:e=>"<div></div>",change_cursor_style_if_clickable:!0,can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),goes_on_document:()=>!0,can_animate:e=>!0,can_defer_drawing:()=>!0,solid_component:p,register(e){function n(n){e.start_child_drawing();let i=e.element.get_related_workflows(n),s={element:e},l=r().workflow.run_workflows(s,i,!0),u=a.show_progress_line(l);l.then((()=>u()),(e=>{u(),o.handle_uncaught_error({original_error:e,caught_from:_.ERROR_SOURCES.ELEMENT_WORKFLOW,cb(e){e&&window.alert(t.human_friendly(e))}})}))}e.on_message("popup_closed",(()=>n("PopupClosed"))),e.on_message("popup_opened",(()=>n("PopupOpened"))),e._has_been_hidden=!0},initialize(e){e.wait_for_visible_lite((()=>{h.on_property_change(e,"greyout_color",(t=>c.apply_greyout_color(e,t))),h.on_property_change(e,"greyout_blur",(t=>{[null,void 0,0].includes(t)||e.wait_for_visible((()=>{c.apply_blur_effect_to_greyout(e,t)}))})),e.on_destroy((()=>{(![null,void 0,0].includes(e.get_static_property("greyout_blur"))||e.edit_mode())&&c.remove_blur_effect_to_greyout(e)}))}))},check_for_errors:(e,t)=>d._check_for_errors_datasource_set_to_self(e,"get_group_data",t),is_input:!1,contains_group_data:!0,add_an_invisible_div_on_the_top:!1,events:["ButtonClicked","PopupClosed","PopupOpened"],get_state_value:(e,t)=>d.state_value_helper_for_group(e,t),position_canvas(e,t){let r;if(t.edit_mode()?($(".canvas").append(e),r="absolute"):($(window.document.body).append(e),r="fixed"),e.css({top:y,left:0,right:0,position:r,"margin-left":"auto","margin-right":"auto"}),t.autorun((()=>{var r,n,i;e.css({width:`calc(100% - ${2*v}px)`,"min-width":g.min_width_css(t),"max-width":null!=(r=g.max_width_css(t))?r:"","min-height":g.min_height_css(t),"max-height":null!=(n=g.max_height_css(t))?n:"",height:t.element.fit_height()?"auto":"initial",bottom:t.element.fit_height()?"":b,"overflow-y":"auto","z-index":u.POPUP_ZINDEX+(null!=(i=t.state("popup_zindex"))?i:0)})})),t.edit_mode()&&t.container.setup_padding(t),t.run_mode()){e.css("display","none");let r=null;$(window).on("resize.popup_"+t.element_id(),(()=>{let e=$(window).height();r!==e&&(r=e,c.get_popup_positioning(t))}));let n=null;queueMicrotask((()=>{t.autorun((()=>{let e=t.current_height();e!==n&&(n=e,c.get_popup_positioning(t,e))}))})),t.on_destroy((()=>{$(window).off("resize.popup_"+t.element_id())}))}},do_show(t,r,i,a){t.with_canvas((o=>{t.state("has_been_absolutely_positioned",null),c.add_layer(t);let s=c.get_greyout(t);var l,_,d;t.run_mode()&&s.css("z-index",u.POPUP_ZINDEX+(null!=(l=t.state("popup_zindex"))?l:0));((![null,void 0,0].includes(t.get_static_property("greyout_blur"))||t.edit_mode())&&c.apply_blur_effect_to_greyout(t,t.get_static_property("greyout_blur")),t.run_mode())?(c.get_popup_positioning(t),o.css({"-webkit-filter":"none",filter:"none"}),null==(_=o.velocity)||_.call(o,"stop"),null==(d=s.velocity)||d.call(s,"stop"),o.css("display",""),a?(n.perform_animate_in(t,r,i),setImmediate((()=>{c.resize_popup_if_legacy(t,o.innerWidth())}))):(r={animation:"transition.fadeIn"},i={duration:300},n.perform_animate_in(t,r,i),setImmediate((()=>{c.resize_popup_if_legacy(t,o.innerWidth())}))),s.css("opacity",0),s.show(),e.velocity(s,"fadeIn",{duration:300,complete_cb:()=>(s[0].style.top="-1px",t.setTimeout((()=>s[0].style.top="0px"),151))}),t.setTimeout((()=>{let e=[],r=!1;if(function t(n){for(let a of null!=(i=n.children)?i:[]){var i;if(a.element.get_messages().includes("set_focus")){if(!a.get_canvas())continue;if(a.get_canvas().is(":focus"))return void(r=!0);e.push(a)}t(a)}}(t),!r){e=e.filter((e=>e.state("tab_index")&&e.is_visible())),e.sort(((e,t)=>e.state("tab_index")<=t.state("tab_index")?-1:1));for(let t of e)if(t.is_visible()){"DateInput"!==t.element.type()&&t.message("set_focus");break}}}),400),t.get_static_property("prevent_user_from_closing_through_esc")||($(document).off("keydown.escape"),$(document).on("keydown.escape",(e=>{27===e.keyCode&&(t.do_hide(),$(document).off("keydown.escape"))})),s.off("click"),s.on("click",(()=>t.do_hide()))),t.message("popup_opened")):(o.css("display",""),t._display_me(),t._is_visible_me=!0,t._update_visible(),t.thumbnail_mode()||s.show())}))},do_hide(t,r,n,i){var a,o;if(!t.is_drawn)return;t.set_animating(!0),e.on_phonegap()&&$(window).off("touchmove.popup_opened");let s=t.get_canvas(),l=c.get_greyout(t);if((![null,void 0,0].includes(t.get_static_property("greyout_blur"))||t.edit_mode())&&c.remove_blur_effect_to_greyout(t),null==(a=s.velocity)||a.call(s,"stop"),null==(o=l.velocity)||o.call(l,"stop",!0),t.run_mode()&&s.is(":visible")&&"hidden"!==s.css("visibility"))if(i)n.transform="",m.perform_animate_out(t,r,n),e.velocity(l,"fadeOut",{duration:300,complete_cb(){l.hide()}}),t.message("popup_closed");else{t.set_animating(!0);let i=300;r={animation:"transition.fadeOut"},n={duration:i},m.perform_animate_out(t,r,n,(()=>{s.css("display","none")})),e.velocity(l,"fadeOut",{duration:i,complete_cb(){l.hide()}}),t.message("popup_closed")}else s.css("display","none"),l.hide(),t.set_animating(!1);t._is_visible_me=!1,t._update_visible(),c.remove_layer(t),c.set_body_overflow()},get_private_messages:e=>["popup_opened","popup_closed","child_movement","position_element"],starts_hidden:!0,modal:()=>!0})})),CA=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=_y(),n=Fh();r.make_element("PoweredByBubble",{category:"visual elements",display:"Built on Bubble",glyph_id:"bubble_logo",list_order:10,keyboard_shortcut:null,defaults:{width:79,height:42},field_names:{element_type:{default:"image_black",no_states:!0},add_border:{in_style:!0,no_states:!0},text_color:{default:"#C9C9C9",in_style:!0,no_states:!0}},property_applications:e=>[new t.PositionOnly,new t.ResponsiveElement(e),new t.Opacity],uses_css_responsive:!0,get_html:e=>e.run_mode()?"<a></a>":"<div></div>",can_defer_drawing:()=>!0,initialize(t){t.wait_for_visible_lite((()=>{let{element:r}=t,i=t.get_canvas(),a=e.div("powered-by-bubble",i);t.run_mode()&&(i[0].href="https://bubble.io?utm_source=user_icon",i[0].target="_blank");let o={image_blue:"#0205D3",image_white:"#FFFFFF",image_grey:"#C9C9C9",image_black:"#000000"},s=[];for(let e in o)s.push(e);return n.on_property_change(t,["element_type","add_border","text_color"],(e=>{let{element_type:t,add_border:r,text_color:n}=e;a.empty();let i={"border-radius":"3px",padding:"3px",height:"100%",width:"100%","text-align":"center"};switch(t){case"text":a.text("Built without code on Bubble"),i["font-family"]="Arial",i["font-size"]=10,i.color=n;break;default:s.includes(t)&&a.html((e=>`<?xml version="1.0" encoding="utf-8"?>\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n width="71px" height="100px" viewBox="0 0 612 792" enable-background="new 0 0 612 792" xml:space="preserve">\n<path fill="${e}" d="M298.97,123.2c-12.343,0-24.549,5.294-33.832,15.747V87.511h-18.395v86.608l0,0\nc0,28.125,22.795,50.92,50.92,50.92s50.919-22.795,50.919-50.92C348.583,145.995,327.095,123.2,298.97,123.2z M297.629,205.407\nc-17.294,0-31.288-14.028-31.288-31.288s14.028-31.288,31.288-31.288c17.293,0,31.288,14.028,31.288,31.288\nS314.924,205.407,297.629,205.407z"/>\n<path fill="${e}" d="M413.016,123.2c-12.344,0-24.549,5.294-33.832,15.747V87.511h-18.395v86.608l0,0\nc0,28.125,22.795,50.92,50.92,50.92c28.124,0,50.92-22.795,50.92-50.92C462.629,145.995,441.105,123.2,413.016,123.2z\n M411.675,205.407c-17.295,0-31.288-14.028-31.288-31.288s14.028-31.288,31.288-31.288c17.294,0,31.287,14.028,31.287,31.288\nS428.969,205.407,411.675,205.407z"/>\n<path fill="${e}" d="M143.185,183.024V125.95h19.735v56.902c0,14.543,8.424,23.861,22.624,23.861\nc14.372,0,22.623-8.974,22.623-23.861V125.95h19.907v57.074c0,26.371-15.987,41.98-42.53,41.98\nC159.688,225.039,143.185,208.88,143.185,183.024z"/>\n<path fill="${e}" d="M498.214,222.701h-19.735V87.511h19.735V222.701z"/>\n<path fill="${e}" d="M609.955,181.958h-75.537c2.889,15.06,13.443,25.306,32.113,25.306c10.934,0,24.239-4.126,32.835-10.418\nl8.251,14.544c-9.867,7.357-25.477,13.443-41.809,13.443c-36.238,0-51.848-25.306-51.848-50.782c0-14.544,4.47-26.543,13.649-36.067\nc9.146-9.524,21.18-14.372,35.723-14.372c13.822,0,25.306,4.298,34.107,13.1s13.271,20.629,13.271,35.723\nC610.644,175.15,610.472,178.383,609.955,181.958z M534.384,165.799h56.353c-1.616-15.266-12.928-25.133-27.472-25.133\nC548.377,140.666,537.271,150.74,534.384,165.799z"/>\n<path fill="${e}" d="M80.507,123.2c-12.343,0-24.549,5.294-33.832,15.747V87.511H28.246v86.608l0,0\nc0,28.125,22.795,50.92,50.92,50.92s50.919-22.795,50.919-50.92C130.085,145.995,108.597,123.2,80.507,123.2z M79.166,205.407\nc-17.294,0-31.288-14.028-31.288-31.288s14.028-31.288,31.288-31.288c17.294,0,31.288,14.028,31.288,31.288\nS96.46,205.407,79.166,205.407z"/>\n<g>\n<ellipse fill="${"#000000"===e?"#0205D3":e}" cx="14.872" cy="212.421" rx="12.584" ry="12.584"/>\n</g>\n<rect x="6.206" y="4.5" fill="none" width="602" height="63"/>\n<text transform="matrix(1 0 0 1 15.8643 58.4595)" fill="${e}" font-family="Arial" font-size="76">Built without code</text>\n</svg>`)(o[t]))}if(r){let e;switch(t){case"text":e=n;break;default:s.includes(t)&&(e=o[t])}i.border="1px solid "+e}else i.border="1px solid transparent";return a.css(i)}))}))},is_input:!1,contains_group_data:!1,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,not_resizable:()=>!0})})),LA=u((()=>{"use strict";f(),Ue();var e=Zt(),t=qa(),r=gm(),n=Dg(),i=fl(),a=Fl(),o=_y(),s=hv(),l=ey(),_=ty(),u=Fh();o.make_element("RadioButtons",{category:"input forms",display:"Radio Buttons",glyph_id:"radio_buttons",list_order:6,keyboard_shortcut:null,defaults:{width:200,height:75},field_names:{choices_style:{default:"static",no_states:!0},choices:{no_states:!0,default:"Choice 1"},dynamic_type:{no_states:!0},data_source:{},option_display_expression:{},default:{},mandatory:{},columns:{no_states:!0,default:1},use_dynamic_columns:{default:!1,no_states:!0},min_column_width_px:{no_states:!0,default:100},color:{default:"black",in_style:!0},computed_value:{optional:!0,no_states:!0},...s.get_disabled_field_name,...s.get_auto_binding_field_names},property_applications:e=>[new r.Dimensions,new r.Font,new r.Background,new r.ResponsiveElement(e),new r.FontSpacing(null,["line_height"]),new r.Opacity],can_fit_width:!0,can_fit_height:!0,get_html:e=>"<div></div>",get_min_width:e=>0,_get_display_option:l._get_display_option,can_defer_drawing:()=>!0,register(e){let r=t.Watcher((()=>{if(!e.state("has_been_changed"))return!1;let t=e.state("value");return null!=t&&!this._choice_list_contains(e,t)}));e.on_destroy((()=>r.destroy())),r.on_value((t=>{t&&e.message("reset_input")}))},initialize(r){r.wait_for_visible_lite((()=>{let a=e.LUID(),o=r.get_canvas();o.addClass("radio"),r.autorun((()=>{if(r.get_static_property("use_dynamic_columns")){let e=Math.max(20,r.get_static_property("min_column_width_px")-20);o.css("grid-template-columns",`repeat(auto-fill, minmax(${e}px, 1fr))`)}else o.css("grid-template-columns",`repeat(${r.get_static_property("columns")}, 1fr)`)})),r.run_mode()&&o.addClass(n.CLICKABLE_ELEMENT),r.on_message("set_focus",(()=>o.find("input:first").focus())),u.on_property_change(r,"color",(e=>{for(let e of _.bootstrap_colors)o.removeClass(`radio-${e}`);o.addClass(`radio-${e}`)}));let c={};let d=()=>{if(r.edit_mode()&&"dynamic"===u.evaluate_property(r,"choices_style")){let e=["Dynamic choice 1","Dynamic choice 2","Dynamic choice 3","Dynamic choice 4"];return r.get_canvas().data("Dynamic choice 1"),e.map((e=>({display:e,value:e})))}let e=this._get_raw_choice_list(r),n=this._get_display_option(r),i=e.get_children(0,50);return t.run_once(30,(()=>i.map((e=>n(e))))),i.map((e=>({display:n(e),value:e})))},p=null;function f(e){var t,n;if(p=e,c=o.data("options_div_mapping"),!e)if(r.edit_mode())for(let e of Object.values(null!=(a=c)?a:{})){var a;return void(e[0].checked=!0)}else for(let e of Object.values(null!=(s=c)?s:{})){var s;e[0].checked=!1}let l=i.dehydrate_tree_to_string_safe(e),_=null==(t=c)||null==(n=t[l])?void 0:n[0];null!=_&&(_.checked=!0)}let h=()=>{o.empty(),c={},d().forEach(((e,t)=>{let r=function(e,t){let r=i.dehydrate_tree_to_string_safe(e.value),n=$(`<input type="radio" value="${r}" name="${a}" id="${a}_option_${t}"><label for="${a}_option_${t}">${e.display}</label>`);return n.data("bubble_val",r),c[r]=n,n}(e,t);o.append(r)})),o.data("options_div_mapping",c),o.find("input[type=radio]").on("change",(function(){let e=l.rehydrate_dropdown_value($(this).data("bubble_val"));r.message("user_submit",e),f(e)})),f(p);let e=u.evaluate_property(r,"disabled");for(let r of Object.values(null!=(t=c)?t:{})){var t;r[0].disabled=e}};s.input_change_autorun(r,(e=>f(e))),r.autorun((()=>{let e=u.evaluate_property(r,"disabled");for(let r of Object.values(null!=(t=c)?t:{})){var t;r[0].disabled=e}})),r.autorun((()=>{r.is_visible()&&h()}))}))},_get_raw_btype:e=>l._get_raw_btype_dropdown(e),_get_raw_choice_list(e){return l._get_raw_choice_list_dropdown(e,this)},_choice_list_contains(e,t){let r=a.get(this._get_raw_btype(e.element));return this._get_raw_choice_list(e).contains(t,r)},get_starting_content(e){let t;return t=e.run_mode()&&e.get_static_property("auto_binding")?s.get_input_autobind_thing_field(e):u.evaluate_property(e,"default"),null!=t&&this._choice_list_contains(e,t)?t:null},get_state_value(e,t){if("value"===t)return this._get_raw_btype(e)},get_injected_value:e=>e.get_static_property("dynamic_type"),get_injected_display:()=>"Current option",use_injected_datasource:e=>l.use_injected_datasource("option_display_expression",e),content_validated:(e,t)=>null!=e||!u.evaluate_property(t,"mandatory"),css_files:["css/optional/radio.css"],uses_css_responsive:!0,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!0,is_input:!0,contains_group_data:!1,no_is_focused:!0})})),PA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var p,f;let g=e.instance,m=null!=(p=e.dataInstance)?p:g,v=e.layout,y=null!=(f=e.dataInstance)?f:g,[b,w]=(0,r.createSignal)(!1),A=(0,d.Dependency)();(0,r.createEffect)((()=>{if(!e.turnedVisible)return;g.run_mode()&&v.compute_extra_fields();let t=()=>{let t=g.autorun((()=>{if(!e.fixedList)if(e.showAllItems){var t;let e=null==(t=y.state("list_data"))?void 0:t.length(),r=Math.min(null!=e?e:0,5e3);g.state("max_index",r)}else(0,_.autorun_once)((()=>{g.state("max_index",Math.min(2*v.guess_number_of_cells(g),100))}))}));v.init_raw_list_watcher((()=>(()=>{var t;return e.fixedList&&null!=(t=g.state("show_range"))?t:0})()),(()=>(()=>{if(e.fixedList)return e.totalCells;{var t;let r=null!=(t=g.state("max_index"))?t:0;return e.showAllItems?r:r+1}})())),A.invalidate();let n=g.autorun((()=>{void 0!==y.state("list_data")&&((0,_.wait_for_updates)((()=>{g.mark_children_registered(),g.get_children_drawn_key().turn()})),g.setTimeout((()=>n.destroy())))})),i=g.autorun((()=>{v.add_spinner(),v.raw_list_data(),v.remove_spinner()}));(0,r.onCleanup)((()=>{t.destroy(),n.destroy(),i.destroy()})),w(!0)};o.on_server()?t():queueMicrotask(t)}));let E=n.createWatcher((()=>{var e,t;return A.register(),null!=(e=null==(t=v.raw_list_data())?void 0:t.filter((e=>null!=e)))?e:[]}),{fallback:[]});g.children=[],null!=g.child_container||(g.child_container=g.container.create_child(g));function M(e){let t=g.state("max_index");g.state("loading_cells",!0),(0,_.run_once)(30,(()=>{var r,n,i;return null!=(r=null==(n=y.state("list_data"))||null==(i=n.with_extra_fields)?void 0:i.call(n,v.extra_fields).get_children(t,e))?r:[]}),((r,n)=>{if(r)return s.log((0,l.ensure_bubble_error)(r)),void g.state("loading_cells",!1);if(null!=n&&n.length){let r=Math.min(n.length,e);g.state("max_index",t+r),(0,_.wait_for_updates)((()=>{g.state("loading_cells",!1)}))}else g.state("loading_cells",!1)}))}function x(t){if(g.state("loading_cells"))return;let r,n;if("horizontal"!==e.scrollDirection){let e;n=v.estimate_one_row(),e=t?3*window.innerHeight-m.canvas[0].getBoundingClientRect().bottom:3*m.canvas[0].clientHeight-(m.canvas[0].scrollHeight-m.canvas[0].scrollTop);let i=g.children[0].canvas.height();r=Math.ceil(Math.max(e/i,1))+2}else{let i;r=e.rows,i=t?2*window.innerWidth-m.canvas[0].getBoundingClientRect().right:3*m.canvas[0].clientWidth-(m.canvas[0].scrollWidth-m.canvas[0].scrollLeft);let a=g.children[0].canvas.width();n=Math.ceil(Math.max(i/a,1))+2}M(r*n)}let O=()=>null;if(!t.isServer){let t=(0,r.createMemo)((()=>{if(!g.run_mode()||0===E().length||e.fixedList||e.showAllItems)return null;let t;return t="horizontal"!==e.scrollDirection?m.canvas[0].scrollHeight>m.canvas[0].clientHeight:m.canvas[0].scrollWidth>m.canvas[0].clientWidth,t?"self":"root"}));O=(0,r.createMemo)((()=>null==t()?null:"self"===t()?new IntersectionObserver((e=>{e[0].isIntersecting&&x()}),{root:m.canvas[0],rootMargin:"100%"}):new IntersectionObserver((e=>{e[0].isIntersecting&&x(!0)}),{rootMargin:"100%"})))}n.onAfterMount((()=>{g.on_message("draw_till",(t=>{e.fixedList||g.state("max_index")>t||M(t+1-g.state("max_index"))}))}));let k=n.createWatcher((()=>!g.state("loading_cells")));return(0,t.createComponent)(r.For,{get each(){return(()=>{if(!b())return!e.fixedList&&!e.showAllItems&&(g.children.length<1&&r(),g.children[0].state("group_data",a.default.STATE_NOT_READY)),g.children;function r(){let r,n=g.children.length,o=new i.default(g,0,n,e.dataInstance);r=t.isServer?a.default.ServerElementInstance(o):a.default.ElementInstance(o,g.mode),r._is_visible_me=!0,o.instance=r,g.children.push(r),r.state("cell_index",n+1),r.register(y),r.set_containers(y.child_container),r.start_draw_tree()}for(v.set_loading(!0),(0,_.wait_for_updates)((()=>{let[e,t]=v._raw_list_data_watcher.get_current_status_array();v.set_loading(!t||null!=e)}));g.children.length<E().length;)r();return E().forEach(((e,t)=>{let r=g.children[t];o.on_client()&&(0,u.WaitFor)(c.page_loaded_key,(()=>{var e;return null==(e=r.can_register_workflows())?void 0:e.turn()})),r.message("set_group_data",e)})),g.children})()},children:(n,i)=>{let{output:a,disposer:o}=(0,r.createRoot)((r=>(n.on_destroy(r),{disposer:r,output:(0,t.createComponent)(h.RenderElement,(0,t.mergeProps)({instance:n},(()=>{var t;return null==(t=e.childProps)?void 0:t.call(e,i)}),{get cellSizing(){return e.cellSizing},get hidden(){return i()>=E().length},get intersectionObserver(){return(0,t.memo)((()=>!(!k()||i()!==E().length-1)))()?O():null}}))})));return(0,r.onCleanup)((()=>o())),a}})};var t=(kh(),p(vf));Ue();var r=(Ca(),p(xn)),n=v(jh()),i=g(Wv()),a=g(Sm()),o=v(ot()),s=v(Kt()),l=it(),_=qa(),u=Dr(),c=pn(),d=$a(),h=Uh();function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}})),RA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.createIndexFns=function(e){return(0,t.createWatcher)((()=>{if("vertical"===e.scrollDirection){let t=e.columns;return{indexToRow:e=>Math.floor(e/t),indexToColumn:e=>e%t}}if("horizontal"===e.scrollDirection){let t=e.rows;return{indexToRow:e=>e%t,indexToColumn:e=>Math.floor(e/t)}}return{indexToRow:()=>0,indexToColumn:()=>0}}),{fallback:{indexToRow:e=>0,indexToColumn:e=>0}})};var t=jh()})),zA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){let i=e.instance,a=i.repeating_group_layout;if(!a)return[];let o=()=>a.is_masonry(),s=()=>a.scroll_direction(),l=()=>a.rows(),_=(0,n.createIndexFns)({get rows(){return l()},get columns(){return a.columns()},get scrollDirection(){return s()}});return(0,t.createComponent)(r.default,(0,t.mergeProps)(e,{layout:a,get fixedList(){return a.fixed_list()},get showAllItems(){return i.get_static_property("show_all_items")},get scrollDirection(){return s()},get rows(){return l()},get totalCells(){return a.total_number_of_cells()},childProps:t=>({get hasTopBorder(){return!o()&&_().indexToRow(t())>0},get hasLeftBorder(){return!o()&&_().indexToColumn(t())>0},get firstRow(){return o()&&0===_().indexToRow(t())},get cellSizing(){return e.cellSizing},separatorStyle:e.separatorStyle,separatorWidth:e.separatorWidth,separatorColor:e.separatorColor})}))};var t=(kh(),p(vf)),r=function(e){return e&&e.__esModule?e:{default:e}}(PA()),n=RA()})),IA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ThumbnailContext=void 0;var t=(0,(Ca(),p(xn)).createContext)();e.ThumbnailContext=t;var r=t;e.default=r})),DA=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=w(ff()),i=w(qv()),a=Lw(),o=b(Tg()),s=Pw(),l=Eg(),_=b(hf()),u=b(Fh()),c=(Ca(),p(xn)),d=w(Bh()),h=w(zA()),g=w($h()),m=Lo(),v=w(IA());function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function w(e){return e&&e.__esModule?e:{default:e}}var A=(0,r.template)("<div></div>",2),E="> .group-item";t.exports=(0,a.createElement)((function(e){var t,n,i,a;let o=e.instance,l=o.repeating_group_layout;if(!l)throw new m.UnexpectedError("Repeating group layout not found");let _=()=>l.is_rg_flex(),u=null!=(t=null!=(n=null==(i=(0,c.useContext)(d.default))?void 0:i.repeatingGroupImplementation)?n:null==(a=(0,c.useContext)(v.default))?void 0:a.repeatingGroupImplementation)?t:h.default;return(()=>{let t=A.cloneNode(!0);(0,r.use)(s.defaultEventHandlers,t,(()=>e.instance));let n=e.ref;return"function"==typeof n?(0,r.use)(n,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(u,(0,r.mergeProps)(e,{get cellSizing(){return e.childStyles[E]},get children(){return e.children}}))),(0,r.effect)((n=>{let i=e.id,a={...e.classList,"bubble-rg":!_(),"bubble-rg-flex-row":_(),masonry:l.is_masonry()},s={overflow:o.run_mode()?"auto":void 0,"-webkit-overflow-scrolling":o.run_mode()?"auto":void 0,...e.style};return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.classList)(t,a,n._v$2),n._v$3=(0,r.style)(t,s,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}),void 0,(e=>({properties:{separatorWidth:new l.Property((e=>i.default._get_separator_width(e.element)),{fallback:0}),separatorColor:new l.Property((e=>e.get_static_property("separator_color")),{fallback:""}),separatorStyle:new l.Property((e=>e.get_static_property("separator_style")),{fallback:"none"})},styles:[new l.Style((e=>{let t=e.get_static_property("fixed_rows"),r=e.get_static_property("fixed_columns"),a=t||r?r?"vertical":"horizontal":e.get_static_property("scroll_direction"),o=e.get_static_property("auto_fit_row"),s=e.get_static_property("auto_fit_column"),l=o?"auto-fit":"auto-fill",c=s?"auto-fit":"auto-fill",d="flex_row"===a,p=!t&&"vertical"===a&&!e.get_static_property("auto_fit_row")&&e.get_static_property("masonry"),f={};if(d||p){var h,g;if(f["column-gap"]=`${null!=(h=u.evaluate_property(e,"column_cell_gap"))?h:0}px`,!p||!e.run_mode())f["row-gap"]=`${null!=(g=u.evaluate_property(e,"row_cell_gap"))?g:0}px`;if(d)return f["align-content"]=o?"stretch":"flex-start",f}else f.gap=`${i.default._get_separator_width(e.element)}px`;if(t){var m;let t=null!=(m=u.evaluate_property(e,"rows"))?m:0;_.is_fitting_height(e)?f["grid-template-rows"]=`repeat(${t}, minmax(max-content, auto))`:f["grid-template-rows"]=`repeat(${t}, minmax(0, 1fr))`}else if("vertical"===a)if(o)f["grid-auto-rows"]="minmax(max-content, 1fr)";else{var v;f["grid-auto-rows"]=p&&e.run_mode()?"1px":`minmax(max-content, ${null!=(v=u.evaluate_property(e,"cell_min_height_css"))?v:"0px"})`}else{var y;f["grid-template-rows"]=`repeat(${l}, minmax(${null!=(y=u.evaluate_property(e,"cell_min_height_css"))?y:"1fr"}, 1fr))`}if(r){var b;let t=null!=(b=u.evaluate_property(e,"columns"))?b:0;_.is_fitting_width(e)?f["grid-template-columns"]=`repeat(${t}, minmax(max-content, auto))`:f["grid-template-columns"]=`repeat(${t}, minmax(0, 1fr))`}else if("horizontal"===a)if(e.element.container_layout()===n.default.FIXED_LAYOUT)f["grid-auto-columns"]=u.evaluate_property(e,"cell_min_width_css");else if(s)f["grid-auto-columns"]="minmax(max-content, 1fr)";else{var w;f["grid-auto-columns"]=`minmax(max-content, ${null!=(w=u.evaluate_property(e,"cell_min_width_css"))?w:"0px"})`}else{var A;f["grid-template-columns"]=`repeat(${c}, minmax(${null!=(A=u.evaluate_property(e,"cell_min_width_css"))?A:"1fr"}, 1fr))`}return f["grid-auto-flow"]="vertical"===a?"row":"column",f})),new l.Style((e=>{var t;let r=e.get_static_property("fixed_rows"),n=e.get_static_property("fixed_columns"),i=r||n?n?"vertical":"horizontal":e.get_static_property("scroll_direction"),a="flex_row"===i,o=!r&&"vertical"===i&&!e.get_static_property("auto_fit_row")&&e.get_static_property("masonry");return{"min-width":(()=>{if(n||"vertical"===i)return"";let t=u.evaluate_property(e,"cell_min_width_css");if(a)return t;if(null!=t&&t.includes("%")){if(_.is_fitting_width(e))return"";let n,i=Math.max(parseInt(t),1);if(e instanceof g.default){e.dynamic_catcher=!0;let t=_.min_width_css(e);if(!t.includes("px"))return"";n=parseInt(t)}else{var r,o,s;null==(r=e.repeating_group_layout)||r.register_resize(),n=null!=(o=null==(s=e.canvas)?void 0:s.width())?o:0}return`${Math.floor(n*i/100)}px`}return t})(),"min-height":(()=>{var t;if(r||"horizontal"===i)return"";let n=null!=(t=u.evaluate_property(e,"cell_min_height_css"))?t:"";if(a)return n;if(null!=n&&n.includes("%")){if(_.is_fitting_height(e))return"";let t,r=Math.max(parseInt(n),1);if(e instanceof g.default){e.dynamic_catcher=!0;let r=_.min_height_css(e);if(!r.includes("px"))return"";t=parseInt(r)}else{var o,s,l;null==(o=e.repeating_group_layout)||o.register_resize(),t=null!=(s=null==(l=e.canvas)?void 0:l.height())?s:0}return`${Math.floor(t*r/100)}px`}return n})(),"padding-top":o?`${null!=(t=u.evaluate_property(e,"row_cell_gap"))?t:0}px`:void 0,"box-sizing":a?"border-box":"content-box","flex-grow":a?e.get_static_property("auto_fit_column")?1:0:void 0}}),{selector:E,alwaysDynamic:!0}),...o.placedStyling(e)]})))})),jA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.RepeatingGroupLayoutStyle=void 0,Ue(),R_();var t=Lo(),r=Sm(),n=gm(),i=qr(),a=Tp(),o=jp(),s=Kt(),l=Cd(),_=Fl(),u=vv(),c=Ia(),d=fn(),p=La(),h=Bv(),g=qv(),m=Wv(),v=(ff(),df(),Fh()),y=Qt(),b=hf(),w="#CCCCCC",A=p.SPANS.rg_display_data_in_cells,E=p.SPANS.rg_add_cells;var M=class extends d.EventEmitter{constructor(e,t){super(),this.owner_instance=e,this.container_canvas=t,this.children=[]}destroy(){for(let e of this.children)e.destroy();this.children=[]}resize_width(){}add_to_instances(e){}ready_key(){return this.flow_created}get_canvas(){return this.container_canvas}get_owner(){return this.owner_instance}render(e){let t=$(e);return t.addClass("bubble-element"),t}to_canvas(e){}set_height(e,t){e.canvas.css("height",t)}add(e){this.container_canvas.append(e.get_canvas())}create_child(e,t){let r=this.owner_instance.container.create_child(e,t);return this.children.push(r),r}initialize(){}detach(e){}};e.RepeatingGroupLayoutStyle=class{constructor(e){let{instance:r}=e;this.type="RepeatingGroup",r.repeating_layout_type="RepeatingGroup",this.instance=r,this.mode=this.instance.mode,this.has_written_a_list=!1,this.max_index=this.add_cells=null,this.previous_search=null,this.started_adding_cells=!1,this.spinner=null,this.list_item=null,this.old_max_index=0,this.last_cell_add_timeout=null,this.first_unused_cell=null,this.finished_loading_switch=t.MakeSwitch(null,"loading_switch"),this.extra_fields=[]}instance_children(){return this.instance.children}is_on_window(){var e,t;return"Windows"===(null==(e=window)||null==(t=e.BrowserDetect)?void 0:t.OS)}is_rtl(){return a.is_rtl(i().app_language())}separator_width(){return this.instance.get_static_property("separator_width")}separator_style(){return this.instance.get_static_property("separator_style")}separator_color(){return this.instance.get_static_property("separator_color")}is_fixed_width(){return this.instance.get_static_property("fixed_width")}stable_pagination(){return this.instance.get_static_property("stable_pagination")}group_type(){return this.instance.get_static_property("group_type")}show_all_items(){return this.instance.get_static_property("show_all_items")}auto_fit_row(){return this.instance.get_static_property("auto_fit_row")}auto_fit_column(){return this.instance.get_static_property("auto_fit_column")}scroll_direction(){return this.fixed_rows()||this.fixed_columns()?this.fixed_columns()?"vertical":"horizontal":this.instance.get_static_property("scroll_direction")}is_rg_flex(){return"flex_row"===this.scroll_direction()}is_masonry(){return!this.fixed_rows()&&"vertical"===this.scroll_direction()&&!this.instance.get_static_property("auto_fit_row")&&!!this.instance.get_static_property("masonry")}row_cell_gap(){return v.evaluate_property(this.instance,"row_cell_gap")}column_cell_gap(){return v.evaluate_property(this.instance,"column_cell_gap")}fixed_rows(){return this.instance.get_static_property("fixed_rows")}fixed_columns(){return this.instance.get_static_property("fixed_columns")}fixed_list(){return this.fixed_rows()&&this.fixed_columns()}columns(){return null!=this._column_watcher||(this._column_watcher=t.Watcher((()=>this.fixed_columns()?v.evaluate_property(this.instance,"columns"):(this.register_resize(),v.evaluate_property(this.instance,"cell_min_width_css"),this.instance.get_static_property("scroll_direction"),this.instance.canvas.css("grid-template-columns").split(" ").length)))),this._column_watcher.get()}rows(){return null!=this._row_watcher||(this._row_watcher=t.Watcher((()=>this.fixed_rows()?v.evaluate_property(this.instance,"rows"):(this.register_resize(),v.evaluate_property(this.instance,"cell_min_height_css"),this.instance.get_static_property("scroll_direction"),this.instance.canvas.css("grid-template-rows").split(" ").length)))),this._row_watcher.get()}estimate_one_row(){let e=this.scroll_direction();if("vertical"===e)return this.columns();if("horizontal"===e)return this.rows();{let e=this.instance_children()[0].canvas.width();return this.instance.canvas.width()/e}}data_source(){return v.evaluate_property(this.instance,"data_source")}total_number_of_cells(){return this.rows()*this.columns()}guess_number_of_cells(){if(this.fixed_list())return this.total_number_of_cells();let e=e=>{let t=v.evaluate_property(this.instance,`cell_min_${e}_css`);if(this.instance.run_mode()&&-1!==t.indexOf("%")){let e=Math.max(parseInt(t),1);return Math.max(Math.ceil(100/e),1)}{let r;if(this.instance.run_mode()){let n=this.instance_children()[0];if(n){let t=[];if("height"===e&&this.auto_fit_row()||"width"===e&&this.auto_fit_column()){let e=document.createElement("div");for(let r=0;r<50;r++)t.push(e.cloneNode());this.instance.canvas[0].append(...t)}let i=!n.is_visible();n.do_show(),r="height"===e?n.canvas.outerHeight():n.canvas.outerWidth(),i&&n.do_hide();for(let e of t)this.instance.canvas[0].removeChild(e)}else r=parseInt(t)}else this.register_first_cell_resize(),r=this.list_item[e]();r=Math.max(r,1),this.register_resize();let n=0;if("height"===e?(this.instance.run_mode()&&b.is_fitting_height(this.instance)&&(n=Math.max(window.innerHeight-this.instance.canvas[0].getBoundingClientRect().top,0)),n=Math.max(n,this.instance.canvas.innerHeight()),b.min_height_css(this.instance)):(this.instance.run_mode()&&b.is_fitting_width(this.instance)&&(n=Math.max(window.innerWidth-this.instance.canvas[0].getBoundingClientRect().left,0)),n=Math.max(n,this.instance.canvas.innerWidth()),b.min_width_css(this.instance)),this.instance.run_mode())return Math.max(Math.ceil(n/r),1);{let t;return t=this.is_rg_flex()?"width"===e?this.column_cell_gap():this.row_cell_gap():this.separator_width(),Math.max(Math.floor((n+t)/(r+t)),1)}}};if("vertical"===this.scroll_direction()){let t;return t=this.fixed_rows()?this.rows():e("height"),this.columns()*t}if("horizontal"===this.scroll_direction()){let t;return t=this.fixed_columns()?this.columns():e("width"),this.rows()*t}return e("width")*e("height")}value_id(){var e;return null!=(e=this.group_type())?e:"user"}floating_group_parents(){return this.instance.element.parents("FloatingGroup")}show_range(){return this.instance.state("show_range")}list_data(){return this.instance.state("list_data")}loading(){return this.instance.state("loading")}set_list_data(e){this.instance.state("list_data",e)}set_show_range(e){this.instance.state("show_range",e)}set_loading(e){this.instance.state("loading",e),e?this.finished_loading_switch.turn_off():this.finished_loading_switch.turn_on()}register_resize(){null!=this._rg_resize_observer||(this._rg_resize_observer=function(e,r){let n,i=t.Dependency();return typeof ResizeObserver<"u"&&(n=new ResizeObserver((e=>{i.invalidate()})),n.observe(e[0],r)),{register:()=>i.register(),disconnect(){var e;return null==(e=n)?void 0:e.disconnect()}}}(this.instance.canvas)),this._rg_resize_observer.register()}num_to_row(e){return"vertical"===this.scroll_direction()?Math.floor((e-1)/this.columns())+1:(e-1)%this.rows()+1}num_to_col(e){return"vertical"===this.scroll_direction()?(e-1)%this.columns()+1:Math.floor((e-1)/this.rows())+1}has_top_border(e){return!this.is_rg_flex()&&this.num_to_row(e)>1}has_left_border(e){return!this.is_rg_flex()&&this.num_to_col(e)>1}cell_width_px(){return null!=this._cell_width_watcher||(this._cell_width_watcher=t.Watcher((()=>{let e=v.evaluate_property(this.instance,"cell_min_width_css");if(-1!==e.indexOf("%")){if(b.is_fitting_width(this.instance))return"";let t=Math.max(parseInt(e),1);return this.register_resize(),`${Math.floor(this.instance.canvas.width()*t/100)}px`}return e}))),this._cell_width_watcher.get()}cell_height_px(){return null!=this._cell_height_watcher||(this._cell_height_watcher=t.Watcher((()=>{let e=v.evaluate_property(this.instance,"cell_min_height_css");if(-1!==e.indexOf("%")){if(b.is_fitting_height(this.instance))return"";let t=Math.max(parseInt(e),1);return this.register_resize(),`${Math.floor(this.instance.canvas.height()*t/100)}px`}return e}))),this._cell_height_watcher.get()}cell_sizing(e){v.on_property_change(this.instance,"container_layout",(t=>{"fixed"===t?e.addClass("fixed"):e.removeClass("fixed")})),this.instance.autorun((()=>{this.is_rg_flex()?e.css({"box-sizing":"border-box","min-width":v.evaluate_property(this.instance,"cell_min_width_css"),"min-height":v.evaluate_property(this.instance,"cell_min_height_css"),"flex-grow":this.auto_fit_column()?1:0}):e.css({"box-sizing":"content-box","min-width":this.fixed_columns()||"horizontal"!==this.scroll_direction()?"":this.cell_width_px(),"min-height":this.fixed_rows()||"vertical"!==this.scroll_direction()?"":this.cell_height_px()})}))}observe_masonry_cell(e){null!=this._masonry_resize_observer||(this._masonry_resize_observer=new ResizeObserver((e=>{for(let t of e){let e;e=t.borderBoxSize&&t.borderBoxSize.length>0?t.borderBoxSize[0].blockSize:t.target.offsetHeight;let r=`span ${Math.ceil(e)}`;t.target.style.setProperty("grid-row-end",r)}}))),this._masonry_resize_observer.observe(e,{box:"border-box"})}create_cell(e,n){let i=new m(this.instance,0,e),a=r.ElementInstance(i,this.instance.mode);a.state("group_data",r.STATE_NOT_READY),a.drawn_key=t.MakeKey(null,"cell_drawn"),i.instance=a,this.instance_children().push(a),a.state("cell_index",e),a._is_visible_me=!1,a.register(this.instance),a.create_skeleton(this.container),a.start_draw_tree(),this.cell_sizing(a.canvas),this.add_sep(e,a.canvas),a.do_hide(),a.drawn_key.turn(),this.instance.run_mode()&&this.is_masonry()&&this.observe_masonry_cell(a.canvas[0])}add_spinner(){var e;this.instance.is_visible()?this.spinner||(this.spinner=o.spinner(this.instance)):null==(e=this.spinner)||e.call(this)}remove_spinner(){var e;null==(e=this.spinner)||e.call(this),this.spinner=null}init_raw_list_watcher(e,r){var n;let i;null==(n=this._raw_list_data_watcher)||n.destroy(),this._raw_list_data_watcher=t.Watcher((()=>{var t,n,i,a,o;let s=e(),l=r();return null!=(t=null==(n=this.list_data())||null==(i=n.with_extra_fields)||null==(a=(o=i.call(n,this.extra_fields)).get_children)?void 0:a.call(o,s,l))?t:[]})),this._raw_list_data_watcher.on_value((e=>{this.set_loading(!y.compare(e,i)),i=e}))}raw_list_data(){var e;return null==(e=this._raw_list_data_watcher)?void 0:e.get()}send_data_to_children(){this.add_spinner();let e=this.raw_list_data();this.remove_spinner(),"responsive"!==this.mode&&(e=e.filter((e=>null!=e)));for(let r=0;r<e.length;r++){let n=e[r];null==this.instance_children()[r]&&t.autorun_top((()=>{this.create_cell(r+1,this.instance.canvas)}));let i=this.instance_children()[r];t.WaitFor(t.page_loaded_key,(()=>i.can_register_workflows().turn())),i.message("set_group_data",n),i.do_show()}return this.first_unused_cell=e.length,this.instance.last_cell=e.length,e.length}hide_unused_cells(){this.instance.autorun((()=>{let e=this.instance_children();for(let r=this.first_unused_cell;r<e.length;r++){var t;null==(t=e[r])||t.do_hide()}}))}end_of_list(){var e;null!=this.list_data()&&this.fixed_list()&&1===this.columns()&&1===this.rows()&&(this.show_range()===(null==(e=this.list_data())?void 0:e.length())&&this.list_data().length()>1&&this.set_show_range(this.list_data().length()-1))}display_data_in_cells(e){c.traceSpan(A.name,A.type,(()=>{this.instance.autorun((()=>{if(!this.instance.is_visible())return;let r,n;this.set_loading(!0),t.is_on_mobile_or_tablet()||(r=$("html"),n=r[0].scrollTop);let i=this.send_data_to_children();t.is_on_mobile_or_tablet()||r.scrollTop(n),this.hide_unused_cells(),this.end_of_list(),this.has_written_a_list&&t.wait_for_updates((()=>{this.instance.mark_children_registered(),this.instance.get_children_drawn_key().turn()})),t.wait_for_updates((()=>{let[t,r]=this._raw_list_data_watcher.get_current_status_array();this.set_loading(!r||null!=t),e&&this.watch_lazy_loader(i-1)}))}))}))}show_border_outline(){return"edit"===this.mode&&this.instance.state("show_borders")&&(0===this.separator_width()||"none"===this.separator_style())}get_separator_width(){return this.show_border_outline()?1:g._get_separator_width(this.instance.element)}add_sep(e,t){this.instance.autorun((()=>{t.css({"border-top-style":"none","margin-top":""}),this.has_top_border(e)&&(this.is_masonry()?this.instance.run_mode()&&t.css({"padding-top":`${this.row_cell_gap()}px`}):t.css({"border-top-width":this.get_separator_width()+"px","border-top-color":this.show_border_outline()?w:this.separator_color(),"border-top-style":this.show_border_outline()?"solid":this.separator_style(),"margin-top":-this.get_separator_width()+"px"}))})),this.instance.autorun((()=>{if(!this.is_masonry()&&this.has_left_border(e)){let e;e=this.is_rtl()?{"border-right":this.get_separator_width()+"px","border-right-color":this.show_border_outline()?w:this.separator_color(),"border-right-style":this.show_border_outline()?"solid":this.separator_style(),"margin-right":-this.get_separator_width()+"px"}:{"border-left":this.get_separator_width()+"px","border-left-color":this.show_border_outline()?w:this.separator_color(),"border-left-style":this.show_border_outline()?"solid":this.separator_style(),"margin-left":-this.get_separator_width()+"px"},n.apply_css_style(t,e)}else this.is_rtl()?t.css({"border-right-style":"none","margin-right":""}):t.css({"border-left-style":"none","margin-left":""})}))}get_edit_mode_dummies(){let e=this.instance.get_canvas();return $("> .list-dummy",e)}setup_grid_css(){let e=this.instance.get_canvas();this.instance.autorun((()=>{e.removeClass("bubble-rg bubble-rg-flex-row"),this.is_rg_flex()?(e.addClass("bubble-rg-flex-row"),this.instance.autorun((()=>{e.css({"row-gap":`${this.row_cell_gap()}px`,"column-gap":`${this.column_cell_gap()}px`,"align-content":this.auto_fit_row()?"stretch":"flex-start"})}))):(e.addClass("bubble-rg"),this.instance.autorun((()=>{e.toggleClass("masonry",this.is_masonry()),this.is_masonry()?e.css({"column-gap":`${this.column_cell_gap()}px`,"row-gap":this.instance.run_mode()?"":`${this.row_cell_gap()}px`}):e.css({gap:this.get_separator_width()});let t=this.auto_fit_row()?"auto-fit":"auto-fill",r=this.auto_fit_column()?"auto-fit":"auto-fill";this.fixed_rows()?b.is_fitting_height(this.instance)?e.css({"grid-template-rows":`repeat(${this.rows()}, minmax(max-content, auto))`,"grid-auto-rows":""}):e.css({"grid-template-rows":`repeat(${this.rows()}, minmax(0, 1fr))`,"grid-auto-rows":""}):"vertical"===this.scroll_direction()?this.auto_fit_row()?e.css({"grid-template-rows":"","grid-auto-rows":"minmax(max-content, 1fr)"}):e.css({"grid-template-rows":"","grid-auto-rows":this.is_masonry()&&this.instance.run_mode()?"1px":`minmax(max-content, ${v.evaluate_property(this.instance,"cell_min_height_css")})`}):e.css({"grid-template-rows":`repeat(${t}, minmax(${v.evaluate_property(this.instance,"cell_min_height_css")}, 1fr))`,"grid-auto-rows":""}),this.fixed_columns()?b.is_fitting_width(this.instance)?e.css({"grid-template-columns":`repeat(${this.columns()}, max-content)`,"grid-auto-columns":""}):e.css({"grid-template-columns":`repeat(${this.columns()}, minmax(0, 1fr))`,"grid-auto-columns":""}):"horizontal"===this.scroll_direction()?this.auto_fit_column()?e.css({"grid-template-columns":"","grid-auto-columns":"minmax(max-content, 1fr)"}):e.css({"grid-template-columns":"","grid-auto-columns":`minmax(max-content, ${v.evaluate_property(this.instance,"cell_min_width_css")})`}):e.css({"grid-template-columns":`repeat(${r}, minmax(${v.evaluate_property(this.instance,"cell_min_width_css")}, 1fr))`,"grid-auto-columns":""}),e.css({"grid-auto-flow":"vertical"===this.scroll_direction()?"row":"column"})})))}))}create_provisional_cell(){this.instance.autorun((()=>{let e=this.instance.get_canvas();"run"!==this.mode&&(0===e.find(".list-item").length?this.list_item=t.div("list-item",e):this.list_item=e.find(".list-item"))}))}setup_scrolling(){this.instance.get_canvas().css({overflow:"auto","overflow-scrolling":"touch","-webkit-overflow-scrolling":"touch"})}add_cells_cb(e,r){null!=e||(e=1),this.started_adding_cells=!0,t.run_once(30,(()=>{var t,r,n;return null!=(t=null==(r=this.list_data())||null==(n=r.with_extra_fields)?void 0:n.call(r,this.extra_fields).get_children(this.max_index(),e))?t:[]}),((n,i)=>{if(n)return s.log(n),void(this.started_adding_cells=!1);if(i.length){let r=Math.min(i.length,e),n=this.estimate_one_row();this.add_cells(this.max_index()+r+n),this.max_index(this.max_index()+r+n-1),t.wait_for_updates((()=>{this.started_adding_cells=!1}))}else this.started_adding_cells=!1,null==r||r()}))}full_display_add_cells(){this.max_index=t.Box(null,!0),this.init_raw_list_watcher((()=>0),(()=>this.max_index())),this.display_data_in_cells(),this.instance.autorun((()=>{var e,r;let n=Math.min(null!=(e=null==(r=this.list_data())?void 0:r.length())?e:0,5e3);n>100&&s.owner_warn(new t.OwnerError("repeating group showing more than 100 items",{display:"This repeating group is showing more than 100 items, which can considerably slow down your page. You should consider not showing all items at once",element_instance:this.instance})),t.autorun_top((()=>{this.add_cells(n),this.max_index(n)}))}))}page_style_add_cells(){let e=this.total_number_of_cells();for(let t=1;t<=e;t++)this.create_cell(t,this.instance.canvas);this.init_raw_list_watcher((()=>this.show_range()),(()=>this.total_number_of_cells())),this.display_data_in_cells()}load_more_cells(e){let t,r;if("horizontal"!==this.scroll_direction()){let n;t=this.estimate_one_row(),n=e?3*window.innerHeight-this.instance.canvas[0].getBoundingClientRect().bottom:3*this.instance.canvas[0].clientHeight-(this.instance.canvas[0].scrollHeight-this.instance.canvas[0].scrollTop);let i=this.instance_children()[0].canvas.height();r=Math.ceil(Math.max(n/i,1))+2}else{let n;r=this.rows(),n=e?2*window.innerWidth-this.instance.canvas[0].getBoundingClientRect().right:3*this.instance.canvas[0].clientWidth-(this.instance.canvas[0].scrollWidth-this.instance.canvas[0].scrollLeft);let i=this.instance_children()[0].canvas.width();t=Math.ceil(Math.max(n/i,1))+2}this.add_cells_cb(r*t)}watch_lazy_loader(e){var t,r,n;let i,a;var o,s;(null==(t=this._root_intersection_observer)||t.disconnect(),null==(r=this._canvas_intersection_observer)||r.disconnect(),i="horizontal"!==this.scroll_direction()?this.instance.canvas[0].scrollHeight>this.instance.canvas[0].clientHeight&&this.instance.canvas[0].clientHeight<window.innerHeight:this.instance.canvas[0].scrollWidth>this.instance.canvas[0].clientWidth&&this.instance.canvas[0].clientWidth<window.innerWidth,i)?a=null!=(o=this._canvas_intersection_observer)?o:this._canvas_intersection_observer=new IntersectionObserver((e=>{!this.started_adding_cells&&e[0].isIntersecting&&this.load_more_cells()}),{root:this.instance.canvas[0],rootMargin:"100%"}):a=null!=(s=this._root_intersection_observer)?s:this._root_intersection_observer=new IntersectionObserver((e=>{!this.started_adding_cells&&e[0].isIntersecting&&this.load_more_cells(!0)}),{rootMargin:"100%"});let l=null==(n=this.instance_children()[e])?void 0:n.canvas;null!=l&&a.observe(l[0])}populate_data(){t.autorun_once((()=>{this.setup_scrolling(),this.fixed_list()?this.page_style_add_cells():this.show_all_items()?this.full_display_add_cells():(this.started_adding_cells=!1,this.add_cells(1),this.max_index=t.Box(Math.min(this.guess_number_of_cells(),100)),this.add_cells(this.max_index()+1),this.init_raw_list_watcher((()=>0),(()=>this.max_index()+1)),this.display_data_in_cells(!0))}))}do_scroll(e,t){let r=this.instance_children()[e];if("horizontal"===this.scroll_direction()){let e,n=this.instance.get_canvas();for(;n.length&&(n[0].scrollWidth<=n[0].clientWidth||["hidden","visible"].includes(n.css("overflow-x")))&&(n=n.parent(),!n.is("body")););0===n.length||n.is("body")?(n=$("html"),e=r.get_canvas().offset().left+t.offset):e=r.get_canvas().offset().left-n.offset().left+n[0].scrollLeft+t.offset,t.animate?n.animate({scrollLeft:e},300):n.scrollLeft(e)}else{let e,n=this.instance.get_canvas();for(;n.length&&(n[0].scrollHeight<=n[0].clientHeight||["hidden","visible"].includes(n.css("overflow-y")))&&(n=n.parent(),!n.is("body")););0===n.length||n.is("body")?(n=$("html"),e=r.get_canvas().offset().top+t.offset):e=r.get_canvas().offset().top-n.offset().top+n[0].scrollTop+t.offset,t.animate?n.animate({scrollTop:e},300):n.scrollTop(e)}}setup_messages(){this.set_list_data(r.STATE_NOT_READY);let e=new Map;this.instance.autorun((()=>{this.instance.state("datasource_changed_by_workflow_action")||(g.check_astable_loop(this.instance,this.data_source(),e),this.write_data(this.data_source()))})),this.instance.on_message("set_list_data",(e=>{this.instance.state("datasource_changed_by_workflow_action",!0),this.write_data(e)})),this.instance.on_message("clear_list",(()=>{var e,t;(this.instance.state("datasource_changed_by_workflow_action",!1),this.fixed_list())?this.set_show_range(0):(null==(e=this.instance.get_canvas())||e.scrollLeft(0),null==(t=this.instance.get_canvas())||t.scrollTop(0));for(let e of null!=(r=this.instance_children())?r:[]){var r;u.reset_inputs_and_groups(e)}})),this.instance.on_message("show_next",(e=>{null!=e||(e=!1),t.run_once(30,(()=>{var e;return null==(e=this.list_data())?void 0:e.length()}),((t,r)=>{if(t)return void s.log(t);let n=this.show_range();if(n+=this.total_number_of_cells(),this.stable_pagination()){let t=n>=r;if(t&&e)n=0;else if(t)return}else{let t=n===r,i=n+this.total_number_of_cells()>r;t&&e?n=0:i&&(n=Math.max(r-this.total_number_of_cells(),0))}this.set_show_range(n)}))})),this.instance.on_message("show_previous",(e=>{null!=e||(e=!1),t.run_once(30,(()=>{var e;return null==(e=this.list_data())?void 0:e.length()}),((t,r)=>{if(t)return void s.log(t);let n=this.show_range();n=0===n&&e?this.stable_pagination()?Math.max(r-this.total_number_of_cells()+r%this.total_number_of_cells(),0):Math.max(r-this.total_number_of_cells(),0):Math.max(n-this.total_number_of_cells(),0),this.set_show_range(n)}))})),this.instance.on_message("go_to_page",(e=>{t.run_once(30,(()=>{var e;return null==(e=this.list_data())?void 0:e.length()}),((t,r)=>{if(t)return void s.log(t);let n=(e-1)*this.total_number_of_cells();n+this.total_number_of_cells()>r&&!this.stable_pagination()&&(n=Math.max(0,r-this.total_number_of_cells())),this.set_show_range(n)}))})),this.instance.on_message("scroll_to",(e=>{this.fixed_list()||t.WaitFor(this.instance.get_children_drawn_key(),(()=>{t.run_once(30,(()=>{var t;return null!=this.list_data()||this.loading()?null==(t=this.list_data())?void 0:t.position(e.entry,_.get(this.group_type())):-1}),((r,n)=>{var i,a;r?s.log(r):-1!==n&&(null!=(i=this.instance_children())&&null!=(a=i[n])&&a.is_visible()?this.do_scroll(n,e):t.wait_for_updates((()=>{this.instance.message("draw_till",n);let t=()=>{this.instance.setTimeout((()=>{var r,i,a;null!=(r=this.instance_children())&&null!=(i=r[n])&&i.is_visible()&&null!=(a=this.instance_children())&&a[n].canvas.is(":visible")?this.do_scroll(n,e):t()}),50)};t()})))}))}))}))}populate_sample_list(){setImmediate((()=>{this.write_data(i().db_instance().static_list(this.value_id(),[new l.SampleObject(this.value_id())]))}))}write_data(e){let t;void 0!==e&&(this.has_written_a_list=!0),e&&e.dehydrate?t=e.dehydrate():(t="no data",e=null),t!==this.previous_search&&(this.previous_search=t,this.set_list_data(e),this.set_show_range(0))}reset_class_data(){let e=this.instance.get_canvas();this.instance.children=[],this.add_cells=t=>{c.traceSpan(E.name,E.type,(()=>{for(let r=this.old_max_index+1;r<=t;r++)this.create_cell(r,e);this.old_max_index<t&&(this.old_max_index=t,this.instance.last_cell=this.old_max_index)}))}}do_register(){"run"===this.mode&&this.setup_messages()}do_create_container(){this.container=new M(this.instance,this.instance.canvas)}compute_extra_fields(){this.extra_fields=h.evaluate_extra_fields(this.instance.element)}do_initialize(){this.instance.on_message("draw_till",(e=>{"none"===this.scroll_style||!this.max_index||this.max_index()>e||(this.add_cells(e+1),this.max_index(e))})),this.reset_class_data(),this.setup_grid_css(),this.create_provisional_cell(),this.instance.wait_for_visible_lite((()=>{this.instance.run_mode()&&this.compute_extra_fields(),["run","responsive"].includes(this.mode)?this.populate_data():this.thumbnail_and_edit_mode_logic()}))}destroy(){var e,t,r,n,i,a,o,s,l,_,u;null==(e=this._root_intersection_observer)||e.disconnect(),null==(t=this._canvas_intersection_observer)||t.disconnect(),null==(r=this._rg_resize_observer)||r.disconnect(),null==(n=this._cell_resize_observer)||n.disconnect(),null==(i=this._masonry_resize_observer)||i.disconnect(),null==(a=this._row_watcher)||a.destroy(),null==(o=this._column_watcher)||o.destroy(),null==(s=this._cell_width_watcher)||s.destroy(),null==(l=this._cell_height_watcher)||l.destroy(),null==(_=this._item_watcher)||_.destroy(),null==(u=this.container)||u.destroy()}}})),BA=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=B_(),n=_y(),i=Zw(),a=qv(),o=DA(),s=Fh(),l=Wh(),_=xr(),u=jA();n.make_element("RepeatingGroup",{display:"Repeating Group",category:"containers",glyph_id:"repeating_group",list_order:2,keyboard_shortcut:null,defaults:{width:300,height:350,fixed_columns:!0,fixed_rows:!0},updated_default_sizing:{width:280},field_names:{group_type:{no_states:!0},data_source:{},rows:{default:4},columns:{default:1},separator_style:{default:"dashed",no_states:!0,in_style:!0},separator_width:{default:1,no_states:!0,in_style:!0},separator_color:{default:"#969696",no_states:!0,in_style:!0},row_cell_gap:{default:0},column_cell_gap:{default:0},layout_style:{default:"infinite_scroll",no_states:!0},cell_min_width:{no_states:!0,default:100},fixed_width:{no_states:!0},use_max_width:{no_states:!0,default:!1},max_width:{default:100,optional:!0,no_states:!0},allow_more_than_one_colum:{default:!1,no_states:!0},responsive_alignment:{default:"center",no_states:!0},fixed_columns:{default:!1,no_states:!0},fixed_rows:{default:!1,no_states:!0},cell_min_width_css:{default:"100px"},cell_min_height_css:{default:"100px"},auto_fit_row:{default:!1,no_states:!0},auto_fit_column:{default:!1,no_states:!0},scroll_direction:{default:"vertical",no_states:!0},show_all_items:{default:!1,no_states:!0},masonry:{default:!1,no_states:!0}},property_applications:e=>[new t.Dimensions,new t.Border,new t.BoxShadow,new t.Background,new t.ResponsiveElement(e),new t.ResponsiveContainer(e),new t.Opacity],uses_css_responsive:!0,solid_component:o,no_fixed_sizing:!0,can_fit_width:e=>e.get_static_property("fixed_columns")||e.get_static_property("fixed_rows")||"vertical"!==e.get_static_property("scroll_direction"),can_fit_height:e=>e.get_static_property("fixed_columns")||e.get_static_property("fixed_rows")||"horizontal"!==e.get_static_property("scroll_direction"),get_html:e=>"<div></div>",change_cursor_style_if_clickable:!0,is_input:!1,contains_group_data:!1,add_an_invisible_div_on_the_top:!1,show_overflow_on_drag:!0,get_states:e=>["list_data","show_range","loading"],new_namespace:!0,use_element_search_data(){},show_borders:e=>e.state("show_borders",!0),hide_borders:e=>e.state("show_borders",!1),is_list:!0,can_have_children:()=>!0,register_children(e){},create_child_skeletons(e){var t;null==(t=e.repeating_group_layout)||t.do_create_container()},draws_own_children:()=>!0,draw_children(e){},can_defer_drawing:()=>!0,register(e){e.repeating_group_layout=new u.RepeatingGroupLayoutStyle({instance:e}),e.repeating_group_layout.do_register(),e.repeating_layout_type="RepeatingGroup",e.on_destroy((()=>{var t;null==(t=e.repeating_group_layout)||t.destroy()}))},initialize(e){e.repeating_group_layout.do_initialize()},get_children_canvas:e=>$("> .list-item",e.get_canvas()),get_min_width(e){if(e.get_static_property("fixed_width"))return e.get_width();{let t=e.get_static_property(null!="cell_min_width"?"cell_min_width":0),r=a._get_cell_width(e);return t>r?r:t}},get_state_value(e,t){if("list_data"===t){let t=e.get_static_property("group_type");return t?_.list_type(t):"null"}},check_for_errors(e,t){var r;if((null==(r=e.root())?void 0:r.get_responsive_version())<1&&"vertical_extendable"===e.get_static_property("layout_style")){let r=function(n){var i,a;let o=n.parent();null==o||"Page"===(null==(i=o.type)?void 0:i.call(o))||("RepeatingGroup"===(null==(a=o.type)?void 0:a.call(o))?"vertical_extendable"===o.get_static_property("layout_style")&&t(e.get_name()+": extendible vertical scrolling repeating group cannot be nested"):r(o))};r(e)}i._check_for_errors_datasource_set_to_self(e,"get_list_data",t)},add_specific_messages(t,n){if(null!=n.E.get_state_value(n,"list_data")){let e=n.E.get_state_value(n,"list_data").split(".");if(e[e.length-1]===n.id())return t}let i=n.get_state_value("list_data");var o;i&&(e.extend(t,{get_list_data:{description:"'s "+i.display(),section:"States",ret_btype:i,fn(e,t){var n,a,o,s;return null!=(n=null==e||null==(a=e.state("list_data"))?void 0:a.list_cast(null==(o=i.inner())?void 0:o.id()))?n:new r([],null,null==(s=i.inner())?void 0:s.id())}},get_loading_status:{description:" is loading",section:"States",ret_btype:"boolean",fn(e,t){var r;return null!=(r=null==e?void 0:e.state("loading"))?r:this.ret_btype_null()}}}),(null==(o=n.root())?void 0:o.get_responsive_version(!0))>0?n.get_static_property("fixed_rows")&&n.get_static_property("fixed_columns")&&e.extend(t,{page_number:{description:"'s page number",section:"States",ret_btype:"number",fn(e){let t,r,i=null==e?void 0:e.state("show_range");e instanceof l?(r=s.evaluate_property(e,"rows"),t=s.evaluate_property(e,"columns")):(r=n.get_static_property("rows",!0),t=n.get_static_property("columns",!0));let a=r*t;return null==i||null==r||null==t?null:Math.ceil(i/a)+1}},is_first_page:{description:" is on the first page",section:"States",ret_btype:"boolean",fn:(e,t)=>0===(null==e?void 0:e.state("show_range"))},is_last_page:{description:" is on the last page",section:"States",ret_btype:"boolean",fn(e){var t;let r=null==e?void 0:e.state("show_range");return s.evaluate_property(e,"rows")*s.evaluate_property(e,"columns")+r>=(null==e||null==(t=e.state("list_data"))?void 0:t.length())}}}):"limit_items"===n.get_static_property("layout_style")&&e.extend(t,{page_number:{description:"'s page number",section:"States",ret_btype:"number",fn(e){let t=null==e?void 0:e.state("show_range");if(null==t)return null;let r=s.evaluate_property(e,"rows")*a.get_fixed_cell_rg_column_count(e,1);return Math.ceil(t/r+1)}},is_first_page:{description:" is on the first page",section:"States",ret_btype:"boolean",fn(e,t){var r;return null!=(r=0===(null==e?void 0:e.state("show_range")))?r:this.ret_btype_null()}},is_last_page:{description:" is on the last page",section:"States",ret_btype:"boolean",fn(e){var t,r,i;let o=null!=(t=n.get_static_property("rows",!0))?t:1,s=null==e?void 0:e.state("show_range");return null!=(i=o*a.get_fixed_cell_rg_column_count(e,1)+s>=(null==e||null==(r=e.state("list_data"))?void 0:r.length()))?i:this.ret_btype_null()}}}))},get_messages:e=>["set_list_data","clear_list","show_previous","show_next","draw_till","scroll_to","go_to_page","resize_cell","resize_dummies"]})})),qA=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=(Ca(),p(xn)),i=function(e){return e&&e.__esModule?e:{default:e}}(Lw()),a=Pw(),o=Tg(),s=Eg();var l=(0,r.template)('<div class="aspect-ratio"></div>',2),_=(0,r.template)("<div></div>",2),u=" .aspect-ratio";t.exports=(0,i.default)((e=>(()=>{let t=_.cloneNode(!0);(0,r.use)(a.defaultEventHandlers,t,(()=>e.instance));let i=e.ref;return"function"==typeof i?(0,r.use)(i,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(n.Show,{get when(){return e.useAspectRatio},get children(){let t=l.cloneNode(!0);return(0,r.effect)((n=>(0,r.style)(t,e.childStyles[u],n))),t}})),(0,r.effect)((n=>{let i=e.id,a=e.style,o=e.classList;return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()),void 0,(e=>({properties:{useAspectRatio:new s.Property((e=>e.element.has_fixed_aspect_ratio()),{fallback:!1})},styles:[new s.Style((e=>e.element.has_fixed_aspect_ratio()?{height:0,"padding-top":e.get_static_property("aspect_ratio_height")/e.get_static_property("aspect_ratio_width")*100+"%"}:{}),{selector:u}),...(0,o.placedStyling)(e)]})))})),UA=u((()=>{"use strict";f();var e=Lo(),t=gm(),r=_y(),n=pv(),i=gA(),a=qA();r.make_element("Shape",{category:"visual elements",glyph_id:"rectangle",list_order:5,keyboard_shortcut:"R",defaults:{bgcolor:"#DEDEDE",background_style:"bgcolor",width:150,height:150},field_names:e.extend({keep_proportion_resize:{no_states:!0}},n.start_workflow_field_names),property_applications:e=>[new t.Dimensions,new t.Background,new t.Border,new t.BoxShadow,new t.Rotation,new t.ResponsiveElement(e),new t.Opacity],uses_css_responsive:!0,can_fix_aspect_ratio:()=>!0,solid_component:a,change_cursor_style_if_clickable:!0,get_min_width:e=>0,get_html:e=>"<div></div>",can_defer_drawing:()=>!0,initialize(e){i.structure_fixed_aspect_ratio(e,e.canvas)},is_input:!1,contains_group_data:!1,add_an_invisible_div_on_the_top:!1,events:["ButtonClicked"]})})),WA=u((()=>{"use strict";f(),Ue(),R_();var e=Dr(),t=pn(),r=gm(),n=Dg(),i=_y(),a=hv(),o=Fh();i.make_element("SliderInput",{display:"Slider Input",category:"input forms",glyph_id:"slider",list_order:7,keyboard_shortcut:null,defaults:{width:200,height:45},field_names:{min_value:{default:0},max_value:{default:10},step:{default:1},range_type:{default:"simple",no_states:!0,in_style:!0},content:{},orientation:{no_states:!0,default:"horizontal"},border_color:{default:"#aaa",in_style:!0},background_color:{default:"#fff",in_style:!0},handle_color:{default:"#e6e6e6",in_style:!0},range_area_color:{default:"#cccccc",in_style:!0},...a.get_disabled_field_name,...a.get_auto_binding_field_names},property_applications:e=>[new r.Dimensions,new r.ResponsiveElement(e),new r.Opacity],get_html:e=>"<div></div>",get_min_width:e=>0,can_defer_drawing:()=>!0,initialize(r){r.wait_for_visible_lite((()=>{let i=r.get_canvas(),s=e.MakeKey(null,"slider_init"),l=t.div("",i);l.slider(),i.css("padding",8);let _=()=>l.slider("instance");r.on_destroy((()=>{_()&&l.slider("destroy")})),r.run_mode()||l.off(),r.run_mode()&&(i.addClass(n.CLICKABLE_ELEMENT),r.wait_for_visible((()=>{e.WaitFor(s,(()=>{o.on_property_change(r,"disabled",(e=>{l.slider("option","disabled",e)})),r.on_message("set_focus",(()=>i.find(".ui-slider-handle").focus()))}))}))),o.pre_cache(r,["min_value","max_value","step","range_type","orientation","handle_color","range_area_color","border_color","background_color"]),r.autorun((()=>{var e,t;let n;n="range"===r.element.get_styleable_static_property("range_type")?"values":"value";let i={};for(let e of["min_value","max_value","step","range_type","orientation","handle_color","range_area_color","border_color","background_color"])i[e]=o.evaluate_property(r,e);let u={min:null!=(e=i.min_value)?e:0,max:null!=(t=i.max_value)?t:9,step:i.step,range:"range"===i.range_type,orientation:i.orientation,slide:(e,t)=>(setImmediate((()=>{r.message("user_change",l.slider(n))})),!0),stop:(e,t)=>(setImmediate((()=>{r.message("user_submit",l.slider(n))})),!0)};if(!r.thumbnail_mode()||_())for(let[e,t]of Object.entries(u))l.slider("option",e,t);let c={"margin-left":3,"margin-right":3,cursor:o.evaluate_property(r,"disabled")?"default":"pointer",background:i.background_color,"border-color":i.border_color},d={cursor:o.evaluate_property(r,"disabled")?"default":"pointer",outline:"none","border-color":i.border_color};"horizontal"===i.orientation?(c.height="100%",c.width="calc(100% - 7px)",d.top=-8,d.height="calc(100% + 16px)",d.width=19,l.find(".ui-slider-range").css({height:"100%"})):(c.width="calc(100% - 6px)",c.height="calc(100% - 2px)",d.width="calc(100% + 11px)",d.height=19,l.find(".ui-slider-range").css({width:"100%"})),d.background=i.handle_color,"range"===i.range_type&&l.find(".ui-slider-range").css({background:i.range_area_color}),l.css(c),l.find(".ui-slider-handle").css(d),s.turn(),(!r.thumbnail_mode()||_())&&a.input_change_autorun(r,(e=>{"values"===n&&null==e&&(e=[]),l.slider(n,e)}))}))}))},get_starting_content(e){let t;if(t=e.run_mode()&&e.get_static_property("auto_binding")?a.get_input_autobind_thing_field(e):o.evaluate_property(e,"content"),"range"===e.element.get_styleable_static_property("range_type")){var r,n,i,s,l,_;if(t=null!=(r=null==(n=t)||null==(i=n.all)?void 0:i.call(n))?r:t,null!=(s=t)&&s.length)return t;return[null!=(l=o.evaluate_property(e,"min_value"))?l:0,null!=(_=o.evaluate_property(e,"max_value"))?_:9]}var u,c;return null!=(u=null!=(c=t)?c:o.evaluate_property(e,"min_value"))?u:0},get_state_value(e,t){if("value"===t)return"range"===e.get_styleable_static_property("range_type")?"number_range":"number"},uses_css_responsive:!0,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!0,is_input:!0,contains_group_data:!1,jquery_plugins:()=>["jquery_plugins/jquery-ui-slider-draggable.min","jquery_plugins/jquery.ui.touch-punch.min.js"],css_files:["css/optional/jquery-ui.slider.css"],only_send_to_client_in_runmode:!0})})),$A=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Ue();var t=(kh(),p(vf)),r=(Ca(),p(xn)),n=Ng(),i=Pw(),a=c(Lw()),o=Tg(),s=Eg(),l=Fh(),_=c(Bh()),u=jh();function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,t.template)("<div></div>",2);var h=(0,a.default)((function(e){var a,o;let s=(0,r.useContext)(n.TableContext);if(null==s)return;let l=e.instance,c=(0,u.createWatcher)((()=>l.is_visible_me()),{fallback:!0}),p=s.registerMainAxis(l.element_id(),{get index(){return e.index},get minLength(){return e.minLength},get maxLength(){return e.maxLength},get mode(){return e.mode},get visible(){return c()}});(0,r.onCleanup)((()=>{s.deregisterMainAxis(l.element_id())}));let f=(0,r.createMemo)((()=>({"z-index":n.MAIN_AXIS_ZINDEX,position:"absolute",display:c()?"":"none",...p()}))),h=null!=(a=e.wrapper)?a:e=>e.children,g=null==(o=(0,r.useContext)(_.default))?void 0:o.tableMainAxisDividers,m=void 0!==g?(0,t.createComponent)(g,{get tableElement(){return l.element.parent()},get id(){return e.id},get placementStyling(){return f()}}):[];return[(0,t.createComponent)(h,{get style(){return{...f()}},get children(){let r=d.cloneNode(!0);(0,t.use)(i.defaultEventHandlers,r,(()=>e.instance));let n=e.ref;return"function"==typeof n?(0,t.use)(n,r):e.ref=r,(0,t.effect)((n=>{let i=e.id,a={...e.style,...l.edit_mode()?{}:f()},o=e.classList;return i!==n._v$&&(0,t.setAttribute)(r,"id",n._v$=i),n._v$2=(0,t.style)(r,a,n._v$2),n._v$3=(0,t.classList)(r,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r}}),m]}),void 0,(e=>{let t=()=>(0,n.isTableDirectionHorizontal)(e.parent())?"height":"width";return{properties:{minLength:new s.Property((e=>{let r="height"===t()?"min_height_css":"min_width_css";return(0,l.evaluate_property)(e,r)}),{fallback:"0px"}),maxLength:new s.Property((e=>{var r;let n="height"===t()?"max_height_css":"max_width_css";return null!=(r=(0,l.evaluate_property)(e,n))?r:null}),{fallback:null}),mode:new s.Property((r=>e.get_static_property(`single_${t()}`)?"fixed":e.get_static_property(`fit_${t()}`)?"fit":"stretch"),{fallback:"fixed",noWaitVisible:!0}),index:new s.Property((e=>(0,l.evaluate_property)(e,"axis_index")),{fallback:0,noWaitVisible:!0})},styles:[...(0,o.basicStyling)(e)]}}));e.default=h})),FA=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Ue();var t=(kh(),p(vf)),r=(Ca(),p(xn)),n=Pw(),i=tA(),a=Ng(),o=function(e){return e&&e.__esModule?e:{default:e}}(Lw()),s=Tg();var l=(0,t.template)("<div></div>",2);var _=(0,o.default)((function(e){var o;let s=(0,r.useContext)(a.TableContext);if(null==s)return(()=>{let r=l.cloneNode(!0),n=e.ref;return"function"==typeof n?(0,t.use)(n,r):e.ref=r,(0,t.insert)(r,(0,t.createComponent)(i.ChildWrapper,e)),(0,t.effect)((n=>{let i=e.id,a={...e.style},o={...e.classList,[e.containerClass]:!0};return i!==n._v$&&(0,t.setAttribute)(r,"id",n._v$=i),n._v$2=(0,t.style)(r,a,n._v$2),n._v$3=(0,t.classList)(r,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})();let _=e.instance;(0,r.onMount)((()=>{s.registerTableCell(_),(0,r.onCleanup)((()=>{s.deregisterTableCell(_)}))}));let u=(0,r.createMemo)((()=>{let t="border-"+("horizontal"===s.direction?"bottom":"right");return{position:"relative","box-sizing":"border-box",display:e.hidden?"none":"",[t]:s.lastMainAxis===e.mainAxisId?"none":s.mainAxesSeparator.css,"z-index":a.CELL_ZINDEX,...s.mainAxisSizingStyling(e.mainAxisId),...s.tableCellSizing(e.instance)}})),c=null!=(o=e.wrapper)?o:e=>e.children;return(0,t.createComponent)(c,{get style(){return{...u()}},get children(){let r=l.cloneNode(!0);(0,t.use)(n.defaultEventHandlers,r,(()=>_));let a=e.ref;return"function"==typeof a?(0,t.use)(a,r):e.ref=r,(0,t.insert)(r,(0,t.createComponent)(i.ChildWrapper,e)),(0,t.effect)((n=>{let i=e.id,a={...e.style,..._.edit_mode()?{}:{...u()}},o={...e.classList,[e.containerClass]:!0};return i!==n._v$4&&(0,t.setAttribute)(r,"id",n._v$4=i),n._v$5=(0,t.style)(r,a,n._v$5),n._v$6=(0,t.classList)(r,o,n._v$6),n}),{_v$4:void 0,_v$5:void 0,_v$6:void 0}),r}})}),(e=>{var t,r;return{shouldAddWrapper:e.should_add_extra_wrapper(),mainAxisId:e.get_static_property("cell_main_axis_id"),crossAxisId:null!=(t=null==(r=e.parent())?void 0:r.id())?t:"auto"}}),((e,t)=>{let{shouldAddWrapper:r}=t;return{properties:(0,i.containerProperties)(r),styles:[...(0,i.containerStyling)(r),...(0,s.basicStyling)(e)]}}));e.default=_})),GA={};function XA(e,t){let r=e[na];if(!r&&(Object.defineProperty(e,na,{value:r=new Proxy(e,hE)}),!Array.isArray(e))){let t=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,a=t.length;i<a;i++){let a=t[i];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(r)})}}return r}function HA(e){let t;return null!=e&&"object"==typeof e&&(e[na]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function VA(e,t=new Set){let r,n,i,a;if(r=null!=e&&e[dE])return r;if(!HA(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,a=e.length;r<a;r++)i=e[r],(n=VA(i,t))!==i&&(e[r]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);let r=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let s=0,l=r.length;s<l;s++)a=r[s],!o[a].get&&(i=e[a],(n=VA(i,t))!==i&&(e[a]=n))}return e}function YA(e){let t=e[pE];return t||Object.defineProperty(e,pE,{value:t={}}),t}function KA(e,t,r){return e[t]||(e[t]=eE(r))}function JA(e,t){let r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===na||t===pE||t===fE||(delete r.value,delete r.writable,r.get=()=>e[na][t]),r}function ZA(e){if(Xn()){let t=YA(e);(t._||(t._=eE()))()}}function QA(e){return ZA(e),Reflect.ownKeys(e)}function eE(e){let[t,r]=Cn(e,{equals:!1,internal:!0});return t.$=r,t}function tE(e,t,r,n=!1){if(!n&&e[t]===r)return;let i=e[t],a=e.length;void 0===r?delete e[t]:e[t]=r;let o,s=YA(e);(o=KA(s,t,i))&&o.$((()=>r)),Array.isArray(e)&&e.length!==a&&(o=KA(s,"length",a))&&o.$(e.length),(o=s._)&&o.$()}function rE(e,t){let r=Object.keys(t);for(let n=0;n<r.length;n+=1){let i=r[n];tE(e,i,t[i])}}function nE(e,t,r=[]){let n,i=e;if(t.length>1){n=t.shift();let a=typeof n,o=Array.isArray(e);if(Array.isArray(n)){for(let i=0;i<n.length;i++)nE(e,[n[i]].concat(t),r);return}if(o&&"function"===a){for(let i=0;i<e.length;i++)n(e[i],i)&&nE(e,[i].concat(t),r);return}if(o&&"object"===a){let{from:i=0,to:a=e.length-1,by:o=1}=n;for(let n=i;n<=a;n+=o)nE(e,[n].concat(t),r);return}if(t.length>1)return void nE(e[n],t,[n].concat(r));i=e[n],r=[n].concat(r)}let a=t[0];"function"==typeof a&&(a=a(i,r),a===i)||void 0===n&&null==a||(a=VA(a),void 0===n||HA(i)&&HA(a)&&!Array.isArray(a)?rE(i,a):tE(e,n,a))}function iE(...[e,t]){let r=VA(e||{}),n=Array.isArray(r);return[XA(r),function(...e){qn((()=>{n&&1===e.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=VA(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){let n=t[r];e[r]!==n&&tE(e,r,n)}tE(e,"length",n)}else rE(e,t)}(r,e[0]):nE(r,e)}))}]}function aE(e,t){let r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||r.set||!r.configurable||t===na||t===pE||t===fE||(delete r.value,delete r.writable,r.get=()=>e[na][t],r.set=r=>e[na][t]=r),r}function oE(e,t){let r=e[na];if(!r){Object.defineProperty(e,na,{value:r=new Proxy(e,gE)});let t=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,a=t.length;i<a;i++){let a=t[i];if(n[a].get){let t=n[a].get.bind(r);Object.defineProperty(e,a,{get:t})}if(n[a].set){let t=n[a].set;Object.defineProperty(e,a,{set:e=>qn((()=>t.call(r,e)))})}}}return r}function sE(e,t){return oE(VA(e||{}))}function lE(e,t){qn((()=>t(VA(e))))}function _E(e,t,r,n,i){let a=t[r];if(e===a)return;if(r!==mE&&(!HA(e)||!HA(a)||i&&e[i]!==a[i]))return void tE(t,r,e);if(Array.isArray(e)){if(e.length&&a.length&&(!n||i&&e[0]&&null!=e[0][i])){let t,r,o,s,l,_,u,c;for(o=0,s=Math.min(a.length,e.length);o<s&&(a[o]===e[o]||i&&a[o]&&e[o]&&a[o][i]===e[o][i]);o++)_E(e[o],a,o,n,i);let d=new Array(e.length),p=new Map;for(s=a.length-1,l=e.length-1;s>=o&&l>=o&&(a[s]===e[l]||i&&a[o]&&e[o]&&a[s][i]===e[l][i]);s--,l--)d[l]=a[s];if(o>l||o>s){for(r=o;r<=l;r++)tE(a,r,e[r]);for(;r<e.length;r++)tE(a,r,d[r]),_E(e[r],a,r,n,i);return void(a.length>e.length&&tE(a,"length",e.length))}for(u=new Array(l+1),r=l;r>=o;r--)_=e[r],c=i&&_?_[i]:_,t=p.get(c),u[r]=void 0===t?-1:t,p.set(c,r);for(t=o;t<=s;t++)_=a[t],c=i&&_?_[i]:_,r=p.get(c),void 0!==r&&-1!==r&&(d[r]=a[t],r=u[r],p.set(c,r));for(r=o;r<e.length;r++)r in d?(tE(a,r,d[r]),_E(e[r],a,r,n,i)):tE(a,r,e[r])}else for(let t=0,r=e.length;t<r;t++)_E(e[t],a,t,n,i);return void(a.length>e.length&&tE(a,"length",e.length))}let o=Object.keys(e);for(let t=0,r=o.length;t<r;t++)_E(e[o[t]],a,o[t],n,i);let s=Object.keys(a);for(let t=0,r=s.length;t<r;t++)void 0===e[s[t]]&&tE(a,s[t],void 0)}function uE(e,t={}){let{merge:r,key:n="id"}=t,i=VA(e);return e=>{if(!HA(e)||!HA(i))return i;let t=_E(i,{[mE]:e},mE,r,n);return void 0===t?e:t}}function cE(e){return t=>{if(HA(t)){let r;(r=vE.get(t))||vE.set(t,r=new Proxy(t,yE)),e(r)}return t}}c(GA,{$RAW:()=>dE,DEV:()=>bE,createMutable:()=>sE,createStore:()=>iE,modifyMutable:()=>lE,produce:()=>cE,reconcile:()=>uE,unwrap:()=>VA});var dE,pE,fE,hE,gE,mE,vE,yE,bE,wE=_((()=>{f(),Ca(),dE=Symbol("store-raw"),pE=Symbol("store-node"),fE=Symbol("store-name"),hE={get(e,t,r){if(t===dE)return e;if(t===na)return r;if(t===ia)return ZA(e),r;let n=YA(e),i=n.hasOwnProperty(t),a=i?n[t]():e[t];if(t===pE||"__proto__"===t)return a;if(!i){let r=Object.getOwnPropertyDescriptor(e,t);Xn()&&("function"!=typeof a||e.hasOwnProperty(t))&&(!r||!r.get)&&(a=KA(n,t,a)())}return HA(a)?XA(a):a},has(e,t){return t===dE||t===na||t===ia||t===pE||"__proto__"===t||(this.get(e,t,e),t in e)},set:()=>!0,deleteProperty:()=>!0,ownKeys:QA,getOwnPropertyDescriptor:JA},gE={get(e,t,r){if(t===dE)return e;if(t===na)return r;if(t===ia)return ZA(e),r;let n=YA(e),i=n.hasOwnProperty(t),a=i?n[t]():e[t];if(t===pE||"__proto__"===t)return a;if(!i){let i=Object.getOwnPropertyDescriptor(e,t),o="function"==typeof a;if(!Xn()||o&&!e.hasOwnProperty(t)||i&&i.get){if(null!=a&&o&&a===Array.prototype[t])return(...e)=>qn((()=>Array.prototype[t].apply(r,e)))}else a=KA(n,t,a)()}return HA(a)?oE(a):a},has(e,t){return t===dE||t===na||t===ia||t===pE||"__proto__"===t||(this.get(e,t,e),t in e)},set:(e,t,r)=>(qn((()=>tE(e,t,VA(r)))),!0),deleteProperty:(e,t)=>(qn((()=>tE(e,t,void 0,!0))),!0),ownKeys:QA,getOwnPropertyDescriptor:aE},mE=Symbol("store-root"),vE=new WeakMap,yE={get(e,t){if(t===dE)return e;let r,n=e[t];return HA(n)?vE.get(n)||(vE.set(n,r=new Proxy(n,yE)),r):n},set:(e,t,r)=>(tE(e,t,VA(r)),!0),deleteProperty:(e,t)=>(tE(e,t,void 0,!0),!0)},bE=void 0})),AE=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(kh(),p(vf));Ue();var r=(Ca(),p(xn)),n=Pw(),i=h(Lw()),a=Tg(),o=Eg(),s=Ng(),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(Bh()),_=(wE(),p(GA)),u=h(Po()),c=Fh();function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,t.template)("<div></div>",2);var m=(0,i.default)((function(e){var i,a;let[o,c]=(0,r.createSignal)({}),[d,p]=(0,_.createStore)({}),[f,h]=(0,r.createSignal)({}),[m,v]=(0,_.createStore)({}),y=(0,r.useContext)(l.default);function b(t,r){return null==t?"":q()===r?t:`calc(${t} + ${"vertical"===e.direction?E.width:M.width}px)`}let w=(0,r.createMemo)((()=>`${e.verticalSeparatorStyle} ${e.verticalSeparatorWidth}px ${e.verticalSeparatorColor}`)),A=(0,r.createMemo)((()=>`${e.horizontalSeparatorStyle} ${e.horizontalSeparatorWidth}px ${e.horizontalSeparatorColor}`)),E={get css(){return w()},get width(){return e.verticalSeparatorWidth},get color(){return e.verticalSeparatorColor},get style(){return e.verticalSeparatorStyle}},M={get css(){return A()},get width(){return e.horizontalSeparatorWidth},get color(){return e.horizontalSeparatorColor},get style(){return e.horizontalSeparatorStyle}},[x,O]=(0,_.createStore)({[l.FIRST_DIVIDER]:{show:!1,type:"DraggingIndicator"}}),k=!1,S=t=>{if(!k)for(let s of Object.keys(o())){var r,n,i,a;let o=null==y||null==(r=y.state.elements[s].instance)||null==(n=r.canvas)?void 0:n[0],l=null==(i=e.instance)||null==(a=i.canvas)?void 0:a[0];if(void 0===o||void 0===l)return;let _=null==y?void 0:y.state.descendantSelected(e.id);if("horizontal"===e.direction){let e=o.getBoundingClientRect().bottom,r=l.getBoundingClientRect().left-40;_&&t.clientX>r&&t.clientY>e-10&&t.clientY<e+10?O({[s]:{show:!0,type:"AddDivider"}}):O({[s]:{show:!1,type:"AddDivider"}})}else{let e=o.getBoundingClientRect().right,r=l.getBoundingClientRect().top-40;_&&t.clientY>r&&t.clientX>e-10&&t.clientX<e+10?O({[s]:{show:!0,type:"AddDivider"}}):O({[s]:{show:!1,type:"AddDivider"}})}}};(0,r.onMount)((()=>{e.instance.edit_mode()&&(document.addEventListener("mousemove",S),(0,r.onCleanup)((()=>{document.removeEventListener("mousemove",S)})))}));let T=null==(i=(0,r.useContext)(l.default))?void 0:i.tableMainAxisDividers,N=null==(a=(0,r.useContext)(l.default))?void 0:a.tableIndexMarkers,C=[];function L(){return"horizontal"===e.direction?"height":"width"}let P=new Map;function R(e){let t=L(),r={};for(let[n,i]of P.entries())if(null==e||e.has(i)){let e=n.getBoundingClientRect()[t];(null==r[i]||Math.floor(100*r[i].max)<100*e)&&(r[i]={max:e,cell:n})}for(let[e,t]of Object.entries(r))p(e,t.max),v(e,t.cell)}let z=new ResizeObserver((e=>{let t=L(),n=new Set;(0,r.batch)((()=>{for(let i of e){let e=P.get(i.target);if(null==e)return;let a=i.target.getBoundingClientRect()[t],s=o()[e];if("fit"===(null==s?void 0:s.mode)){var r;let t=null!=(r=d[e])?r:0;(i.target===m[e]||Math.floor(100*a)>100*t)&&(p(e,a),v(e,i.target),a<t&&n.add(e))}else null!=i.target.offsetParent&&(p(e,a),v(e,i.target))}})),n.size>0&&R(n)}));e.instance.edit_mode()&&(0,r.createEffect)((()=>{let e=L();Object.keys(o()).forEach((t=>{u.default.element(t).get_static_property(`fit_${e}`)})),R()}));let[I,D]=(0,_.createStore)({}),j=(0,r.createMemo)((()=>Object.entries(o()).sort(((e,t)=>e[1].index-t[1].index)))),B=(0,r.createMemo)((()=>Object.entries(f()).sort(((e,t)=>e[1].index-t[1].index)))),q=(0,r.createMemo)((()=>{let e=j();for(let t=e.length-1;t>=0;t--){let[r,n]=e[t];if(n.visible)return r}})),U=(0,r.createMemo)((()=>{let e=B();for(let t=e.length-1;t>=0;t--){let[r,n]=e[t];if(n.visible&&n.count>0)return r}}));return(0,t.createComponent)(s.TableContext.Provider,{value:{get direction(){return e.direction},get shouldShowDivider(){return x},setShouldShowDivider:O,registerMainAxis:(t,r)=>(c((e=>({...e,[t]:r}))),()=>{var n;let i="vertical"===e.direction?e.verticalSeparatorWidth:e.horizontalSeparatorWidth,a=Object.entries(o()).filter((e=>{let[,t]=e;return t.index<r.index})).reduce(((e,t)=>{var r;let[n]=t;return e+(null!=(r=d[n])?r:i)}),0),s=(null!=(n=d[t])?n:i)-(t!==q()?i:0);return"horizontal"===e.direction?{top:`${a+e.paddingTop}px`,height:`${s}px`,width:`calc(100% - ${e.paddingLeft+e.paddingRight}px)`}:{left:`${a+e.paddingLeft}px`,width:`${s}px`,height:`calc(100% - ${e.paddingTop+e.paddingBottom}px)`}}),deregisterMainAxis(e){c((t=>Object.fromEntries(Object.entries(t).filter((t=>t[0]!==e)))))},get mainAxes(){return o()},registerTableCell(e){let t=e.get_outer_canvas()[0],r=e.get_static_property("cell_main_axis_id");P.set(t,r),z.observe(t,{box:"border-box"}),null!=N&&D(r,{[e.element_id()]:e})},deregisterTableCell(e){let t=e.get_outer_canvas()[0];z.unobserve(t),P.delete(t),D(e.get_static_property("cell_main_axis_id"),{[e.element_id()]:void 0})},tableCellSizing(e){var t;let r=e.get_static_property("cell_main_axis_id"),n=e.get_outer_canvas();return"fit"!==(null==(t=o()[r])?void 0:t.mode)||null!=n&&m[r]===n[0]||null==d[r]?{}:{[`min-${L()}`]:`max(${b(o()[r].minLength,r)}, ${d[r]}px)`}},registerCrossAxis(e,t){h((r=>({...r,[e]:t})))},setMainAxisDragging(e){k=e},deregisterCrossAxis(e){h((t=>Object.fromEntries(Object.entries(t).filter((t=>{let[r]=t;return r!==e})))))},mainAxisSizingStyling:function(e){let t=o()[e];if(null==t||!t.visible)return{display:"none"};let r=L(),n=b(t.minLength,e);return{[`min-${r}`]:n,[`max-${r}`]:"fixed"===t.mode?n:b(t.maxLength,e),[r]:"fit"===t.mode?"max-content":n,"flex-grow":"stretch"===t.mode?1:0,"flex-shrink":0}},get mainAxesSeparator(){return"vertical"===e.direction?E:M},get crossAxesSeparator(){return"vertical"===e.direction?M:E},get lastMainAxis(){return q()},get lastCrossAxis(){return U()}},get children(){let i=g.cloneNode(!0);i.$$mousemove=t=>{if(e.instance.run_mode()){let e=document.elementsFromPoint(t.clientX,t.clientY).filter((e=>e.classList.contains("TableMainAxis")));for(let t of C)e.includes(t)||$(t).mouseleave();for(let t of e)C.includes(t)||$(t).mouseenter();C=e}},(0,t.use)(n.defaultEventHandlers,i,(()=>e.instance));let a=e.ref;return"function"==typeof a?(0,t.use)(a,i):e.ref=i,(0,t.insert)(i,(0,t.createComponent)(r.Show,{get when(){return function(){var t,r,n,i,a;if(!e.instance.edit_mode())return!1;let o=null!=(t=null==y||null==(r=y.state.elements[e.id])?void 0:r.hovered)&&t,s=null!=(n=null==y?void 0:y.state.descendantSelected(e.id))&&n,l=null!=(i=null==y||null==(a=y.state.elements[e.id])?void 0:a.descendantDraggedOver())&&i;return o||s||l}()},get children(){return void 0!==N&&(0,t.createComponent)(N,{mainAxesSizes:d,mainAxesCells:I,get sortedMainAxes(){return j()},get sortedCrossAxes(){return B()},get tableInstance(){return e.instance}})}}),null),(0,t.insert)(i,(()=>{let r=(0,t.memo)((()=>!(!e.instance.edit_mode()||void 0===T)));return()=>r()&&(0,t.createComponent)(T,{id:l.FIRST_DIVIDER,get tableElement(){return e.instance.element},get placementStyling(){return{position:"absolute",left:"0px",top:"0px",["horizontal"===e.direction?"width":"height"]:"100%"}}})})(),null),(0,t.insert)(i,(()=>e.children),null),(0,t.effect)((r=>{let n=e.id,a=e.style,o={...e.classList,"bubble-table":!0};return n!==r._v$&&(0,t.setAttribute)(i,"id",r._v$=n),r._v$2=(0,t.style)(i,a,r._v$2),r._v$3=(0,t.classList)(i,o,r._v$3),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),i}})}),void 0,(e=>({properties:{direction:new o.Property((e=>e.get_static_property("table_direction")),{fallback:"vertical"}),verticalSeparatorStyle:new o.Property((e=>e.get_static_property("vertical_separator_style")),{fallback:"none"}),verticalSeparatorWidth:new o.Property((e=>e.get_static_property("vertical_separator_width")),{fallback:0}),verticalSeparatorColor:new o.Property((e=>e.get_static_property("vertical_separator_color")),{fallback:"black"}),horizontalSeparatorStyle:new o.Property((e=>e.get_static_property("horizontal_separator_style")),{fallback:"none"}),horizontalSeparatorWidth:new o.Property((e=>e.get_static_property("horizontal_separator_width")),{fallback:0}),horizontalSeparatorColor:new o.Property((e=>e.get_static_property("horizontal_separator_color")),{fallback:"black"}),paddingLeft:new o.Property((e=>(0,c.evaluate_property)(e,"padding_left")),{fallback:0}),paddingRight:new o.Property((e=>(0,c.evaluate_property)(e,"padding_right")),{fallback:0}),paddingTop:new o.Property((e=>(0,c.evaluate_property)(e,"padding_top")),{fallback:0}),paddingBottom:new o.Property((e=>(0,c.evaluate_property)(e,"padding_bottom")),{fallback:0})},styles:[...(0,a.placedStyling)(e),new o.Style((t=>({"flex-direction":(0,s.isTableDirectionHorizontal)(e)?"row":"column"})))]})));e.default=m,(0,t.delegateEvents)(["mousemove"])})),EE=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var o;let s=e.instance.parent(),l=(0,r.useContext)(n.TableContext);if(!s||!l)return[];null==(o=s.canvas)||o.css({overflow:"auto","overflow-scrolling":"touch","-webkit-overflow-scrolling":"touch"});let _=s.table_element_layout;if(!_)return[];return(0,t.createComponent)(i.default,(0,t.mergeProps)(e,{layout:_,get fixedList(){return e.instance.get_static_property("fixed_number_repeating_axis")},showAllItems:!1,get scrollDirection(){return l.direction},rows:1,get totalCells(){return null!=(t=(0,a.evaluate_property)(e.instance,"fixed_number_repeating_axis_count"))?t:0;var t},dataInstance:s,childProps:t=>({get hasTopBorder(){return"vertical"===l.direction&&t()>0},get hasLeftBorder(){return"horizontal"===l.direction&&t()>0},get firstRow(){return 0===t()},get cellIndex(){return t()},separatorStyle:e.separatorStyle,separatorWidth:e.separatorWidth,separatorColor:e.separatorColor})}))};var t=(kh(),p(vf)),r=(Ca(),p(xn)),n=Ng(),i=function(e){return e&&e.__esModule?e:{default:e}}(PA()),a=Fh()})),ME=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(kh(),p(vf));Ue();var r=(Ca(),p(xn)),n=Pw(),i=u(Lw()),a=Ng(),o=Eg(),s=u(EE()),l=u(Bh()),_=u(IA());function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,t.template)("<div></div>",2);var d=(0,i.default)((function(e){var i,o,u,d;let p=(0,r.useContext)(a.TableContext);if(null==p)return;let f=e.instance,[h,g]=(0,r.createSignal)(1);(0,r.onMount)((()=>{p.registerCrossAxis(f.element_id(),{get size(){return f["current_"+("horizontal"===p.direction?"width":"height")]()},get index(){return e.index},get repeating(){return e.repeating},get count(){return e.repeating?h():1},get visible(){return f.is_visible_me()}}),(0,r.onCleanup)((()=>{p.deregisterCrossAxis(f.element_id())}))}));let m=(0,r.createMemo)((()=>({["border-"+("vertical"===p.direction?"bottom":"right")]:p.lastCrossAxis===f.element_id()&&1===h()?"none":p.crossAxesSeparator.css}))),v=(0,r.createMemo)((()=>e.stickyAxis?{position:"sticky",["vertical"===p.direction?"top":"left"]:"0px","z-index":a.CELL_ZINDEX+1}:{})),y=null!=(i=e.wrapper)?i:e=>e.children,b=null!=(o=null==(u=(0,r.useContext)(l.default))?void 0:u.editRepeatingTable)?o:null==(d=(0,r.useContext)(_.default))?void 0:d.editRepeatingTable,w=null!=b,A=(t,r)=>{let n=(0,a.crossAxisStyling)(e.instance.element).filter((e=>t.run_mode()||null==r||e.outerPositioning===r)).map((e=>e.createClientWatcher(t,void 0,{turnedVisible:!0})));return()=>Object.assign({},...n.map((e=>e())))},E=A(e.instance,!0),M=A(e.instance,!f.edit_mode()&&void 0);return[(0,t.createComponent)(y,{get style(){return{...m(),...e.repeating?E():{},"box-sizing":"content-box"}},get children(){let r=c.cloneNode(!0);(0,t.use)(n.defaultEventHandlers,r,(()=>e.instance));let i=e.ref;return"function"==typeof i?(0,t.use)(i,r):e.ref=r,(0,t.insert)(r,(()=>!e.repeating||w?e.children:void 0)),(0,t.effect)((n=>{let i=e.id,a={position:"relative",...e.style,...e.instance.edit_mode()||!w&&e.repeating?{}:m(),...w&&e.repeating?M():e.instance.edit_mode()||e.repeating?{}:v(),["vertical"===p.direction?"min-width":"min-height"]:"fit-content"},o={...e.classList,"bubble-cross-axis":!0};return i!==n._v$&&(0,t.setAttribute)(r,"id",n._v$=i),n._v$2=(0,t.style)(r,a,n._v$2),n._v$3=(0,t.classList)(r,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),r}}),(0,t.memo)((()=>{let r=(0,t.memo)((()=>!!e.repeating));return()=>r()?null!=b?(0,t.createComponent)(b,(0,t.mergeProps)({get dummySeparatorCss(){return p.mainAxesSeparator.css},get separatorStyle(){return p.crossAxesSeparator.style},get separatorColor(){return p.crossAxesSeparator.color},get separatorWidth(){return p.crossAxesSeparator.width},get cellSizing(){return{...E(),...M()}},setNumDummies:e=>g(e+1)},e)):(0,t.createComponent)(s.default,{get instance(){return e.instance},get separatorStyle(){return p.crossAxesSeparator.style},get separatorColor(){return p.crossAxesSeparator.color},get separatorWidth(){return p.crossAxesSeparator.width},get turnedVisible(){return e.turnedVisible},cellSizing:{}}):void 0})())]}),void 0,(e=>{let t=e.get_static_property("cross_axis_repeat");return{properties:{index:new o.Property((t=>e.get_static_property("axis_index")),{fallback:0,noWaitVisible:!0}),repeating:new o.Property((e=>t),{fallback:!1,noWaitVisible:!0}),stickyAxis:new o.Property((t=>e.get_static_property("make_sticky")),{fallback:!1})},styles:t?[]:(0,a.crossAxisStyling)(e)}}));e.default=d})),xE=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.TableLayout=void 0,Ue();var t=qa(),r=u(Fh()),n=l(Sm()),i=u(hf()),a=l(jp()),o=Lo(),s=Qt();function l(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}e.TableLayout=class{constructor(e){this.instance=void 0,this._raw_list_data_watcher=void 0,this.extra_fields=void 0,this.previous_search=void 0,this.type=void 0,this.spinner=void 0,this.finished_loading_switch=void 0,this.type="Table",this.instance=e,e.repeating_layout_type="Table",this.finished_loading_switch=(0,o.MakeSwitch)(void 0,"loading_switch"),this.extra_fields=[],this.spinner=null,this.setup_messages()}add_spinner(){var e;this.instance.is_visible()?this.spinner||(this.spinner=a.default.spinner(this.instance)):null==(e=this.spinner)||e.call(this)}remove_spinner(){var e;null==(e=this.spinner)||e.call(this),this.spinner=null}estimate_one_row(){return 1}compute_extra_fields(){this.extra_fields=[]}set_loading(e){this.instance.state("loading",e),e?this.finished_loading_switch.turn_off():this.finished_loading_switch.turn_on()}columns(){return 1}table_direction(){return this.instance.get_static_property("table_direction")}guess_number_of_cells(e){let t=t=>{var n;let a;var o,s,l,_;"height"===t?a=null!=(o=null==(s=this.instance.canvas)?void 0:s.innerHeight())?o:0:a=null!=(l=null==(_=this.instance.canvas)?void 0:_.innerWidth())?l:0;let u=0;for(let n of this.instance.children)if("TableCrossAxis"===n.element.type()&&n!==e&&n.is_visible_me())if(n.get_static_property(`single_${t}`)||!n.get_static_property(`fit_${t}`)){var c;let e=null!=(c=r.evaluate_property(n,`min_${t}_css`))?c:"0px";if(e.includes("%")){u+=parseInt(e)/100*a}else u+=parseInt(e)}else{var d,p;u+=null!=(d=null==(p=n.canvas)?void 0:p.outerHeight())?d:0}let f=this.instance.edit_mode()?e:e.children[0],h=null!=(n=r.evaluate_property(e,`min_${t}_css`))?n:"100%";if(this.instance.run_mode()&&h.includes("%")){let e=Math.max(parseInt(h),1);return Math.max(Math.ceil(100-u/a*100/e),1)}{var g;let n;if(e.get_static_property(`single_${t}`))n=parseInt(h);else if(null!=f&&e.get_static_property(`fit_${t}`)){let e=!f.is_visible();var m,v;if(f.do_show(),"height"===t)n=null==(m=f.canvas)?void 0:m.outerHeight();else n=null==(v=f.canvas)?void 0:v.outerWidth();e&&f.do_hide()}else n=parseInt(h);n=Math.max(null!=(g=n)?g:1,1);let o=0;if("height"===t){var y,b;if(this.instance.run_mode()&&i.is_fitting_height(this.instance))o=Math.max(window.innerHeight-(null!=(y=null==(b=e.canvas)?void 0:b[0].getBoundingClientRect().top)?y:0),0);i.min_height_css(this.instance)}else{var w,A;if(this.instance.run_mode()&&i.is_fitting_width(this.instance))o=Math.max(window.innerWidth-(null!=(w=null==(A=e.canvas)?void 0:A[0].getBoundingClientRect().left)?w:0),0);i.min_width_css(this.instance)}if(o=Math.max(o,a-u),this.instance.run_mode())return Math.max(Math.ceil(o/n),1);{var E;let e="height"===t?"horizontal_separator":"vertical_separator",i="none"===r.evaluate_property(this.instance,`${e}_style`)?0:null!=(E=r.evaluate_property(this.instance,`${e}_width`))?E:0;return Math.max(Math.floor((o+i)/(n+i)),1)}}};return"vertical"===this.table_direction()?t("height"):t("width")}data_source(){return r.evaluate_property(this.instance,"data_source")}set_list_data(e){this.instance.state("list_data",e)}set_show_range(e){this.instance.state("show_range",e)}write_data(e){var t;let r;null!=(t=e)&&t.dehydrate?r=e.dehydrate():(r="no data",e=null),r!==this.previous_search&&(this.previous_search=r,this.set_list_data(e),this.set_show_range(0))}setup_messages(){this.set_list_data(n.default.STATE_NOT_READY),this.instance.autorun((()=>{this.instance.state("datasource_changed_by_workflow_action")||this.write_data(this.data_source())})),this.instance.on_message("set_list_data",(e=>{this.instance.state("datasource_changed_by_workflow_action",!0),this.write_data(e)}))}list_data(){return this.instance.state("list_data")}init_raw_list_watcher(e,r){var n;let i;return null==(n=this._raw_list_data_watcher)||n.destroy(),this._raw_list_data_watcher=(0,t.Watcher)((()=>{var t,n,i,a,o;let s=e(),l=r();return null!=(t=null==(n=this.instance.state("list_data"))||null==(i=n.with_extra_fields)||null==(a=(o=i.call(n,this.extra_fields)).get_children)?void 0:a.call(o,s,l))?t:[]})),this._raw_list_data_watcher.on_value((e=>{this.set_loading(!(0,s.compare)(e,i)),i=e})),this._raw_list_data_watcher}raw_list_data(){var e;return null==(e=this._raw_list_data_watcher)?void 0:e.get()}}})),OE=u((()=>{"use strict";f(),Ue();var e=_(Po()),t=_(gm()),r=_($A()),n=_(FA()),i=_(AE()),a=_(_y()),o=_(ME()),s=Ng(),l=xE();_(Zm());function _(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return null==e?t.get_name():`${e.get_name()}'s ${t.get_name()}`}a.default.make_element("Table",{display:"Table",category:"containers",glyph_id:"table",list_order:3,keyboard_shortcut:null,condition(t){var r;return null!=(r=e.default.get_public_setting("bubble_version")>=21||20===e.default.get_public_setting("bubble_version")&&(null==t?void 0:t.get_static_property("page_version_21_upgrade")))&&r&&null!=t&&t.get_responsive_version()>0},defaults:{width:s.NUM_DEFAULT_COLUMNS*s.DEFAULT_COLUMN_WIDTH,height:s.NUM_DEFAULT_ROWS_EDITOR*s.DEFAULT_REPEATING_ROW_HEIGHT+s.DEFAULT_HEADER_ROW_HEIGHT},generate_default_children(){function t(e,t,r){return{id:e,type:"TableMainAxis",properties:{axis_index:t},default_name:r}}let r=Array.from({length:s.NUM_DEFAULT_COLUMNS},(()=>e.default.uid()));function n(t,n,i){let a={fixed_number_repeating_axis:!0,fixed_number_repeating_axis_count:s.NUM_DEFAULT_ROWS_EDITOR};return{id:e.default.uid(),type:"TableCrossAxis",properties:{axis_index:t,cross_axis_repeat:n,min_height_css:`${n?s.DEFAULT_REPEATING_ROW_HEIGHT:s.DEFAULT_HEADER_ROW_HEIGHT}px`,...n?a:{},min_width_css:`${n?s.DEFAULT_REPEATING_ROW_HEIGHT:s.DEFAULT_HEADER_ROW_HEIGHT}px`},default_name:i,elements:Object.fromEntries(r.map((t=>[e.default.uid(),{id:e.default.uid(),type:"TableCell",properties:{cell_main_axis_id:t,container_layout:"row"},default_name:"Cell"}])))}}return{...Object.fromEntries(r.map(((r,n)=>[e.default.uid(),t(r,n,`Column ${(0,s.getLetterIndex)(n)}`)]))),[e.default.uid()]:n(0,!1,"Row 0"),[e.default.uid()]:n(1,!0,"Row 1 (Repeating)")}},standard_container_layout:"table",field_names:{table_direction:{no_states:!0,default:"vertical"},group_type:{no_states:!0},data_source:{},vertical_separator_style:{no_states:!0,default:"solid",in_style:!0},vertical_separator_width:{default:1,in_style:!0,no_states:!0},vertical_separator_color:{default:"#ECECEC",in_style:!0,no_states:!0},horizontal_separator_style:{default:"solid",in_style:!0,no_states:!0},horizontal_separator_width:{default:1,in_style:!0,no_states:!0},horizontal_separator_color:{default:"#ECECEC",in_style:!0,no_states:!0}},uses_css_responsive:!0,can_fit_width:!0,can_fit_height:!0,property_applications:e=>[new t.default.Dimensions,new t.default.Border,new t.default.BoxShadow,new t.default.Background,new t.default.ResponsiveElement(e),new t.default.PaddingFields,new t.default.Opacity],change_cursor_style_if_clickable:!0,can_defer_drawing:()=>!0,get_min_width:()=>0,register(e){e.table_element_layout=new l.TableLayout(e)},get_html:e=>"<div></div>",initialize(e){let t=e.canvas;t.addClass("bubble-legacy-table"),t.append('<span class="incompatible-message">Incompatible: Table Element</span>')},contains_group_data:!0,is_restricted_container:!0,can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),is_input:!1,add_an_invisible_div_on_the_top:!1,solid_component:i.default}),a.default.make_element("TableMainAxis",{field_names:{axis_index:{no_states:!0}},property_applications:e=>[new t.default.ResponsiveElement(e)],uses_css_responsive:!0,can_fit_width:!0,can_fit_height:!0,is_input:!1,contains_group_data:!1,should_not_be_brought_to_front_when_selected:!0,hide_from_elements_tree:!0,get_min_width:()=>0,not_draggable:()=>!0,no_margins:()=>!0,is_pseudo:!0,no_thumbnail:!0,cant_delete:e=>(0,s.getAxes)(e.parent(),"TableMainAxis").length<=1,generate_name(e){let t=(0,s.getRelativeIndex)(e);return`${(0,s.isTableDirectionHorizontal)(e.parent())?"Row":"Column"} ${(0,s.getLetterIndex)(t)}`},name_for_datasource:e=>u(e.parent(),e),get_type_display:e=>(0,s.isTableDirectionHorizontal)(e.parent())?"Row":"Column",manual_wrapper:!0,change_cursor_style_if_clickable:!0,add_an_invisible_div_on_the_top:!1,get_html:e=>"<div></div>",initialize(e){},compute_initial_properties(t,r,n){if(void 0!==(null==n?void 0:n.neighborId)){let r=e.default.element(n.neighborId).type();t.properties.axis_index=(0,s.updateIndicesOnCreate)(n.neighborId,r,n.direction)}},solid_component:r.default}),a.default.make_element("TableCrossAxis",{field_names:{axis_index:{no_states:!0},cross_axis_repeat:{no_states:!0,default:!1},fixed_number_repeating_axis:{no_states:!0,default:!1},fixed_number_repeating_axis_count:{default:1}},property_applications:e=>[new t.default.ResponsiveElement(e),new t.default.Opacity,new t.default.Background],no_margins:()=>!0,get_states:()=>["list_data"],register(e){e.repeating_layout_type="Table"},uses_css_responsive:!0,can_fit_width:!0,can_fit_height:!0,is_input:!1,contains_group_data:!0,is_restricted_container:!0,can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),get_min_width:()=>0,not_draggable:()=>!0,is_pseudo:!0,no_thumbnail:!0,cant_delete:e=>e.get_static_property("cross_axis_repeat"),generate_name(e){let t=(0,s.getRelativeIndex)(e);return`${(0,s.isTableDirectionHorizontal)(e.parent())?"Column":"Row"} ${t}${e.get_static_property("cross_axis_repeat")?" (Repeating)":""}`},name_for_datasource:e=>u(e.parent(),e),get_type_display:e=>(0,s.isTableDirectionHorizontal)(e.parent())?"Column":"Row",manual_wrapper:!0,standard_container_layout:"table_cross_axis",change_cursor_style_if_clickable:!0,add_an_invisible_div_on_the_top:!1,can_reference:e=>!e.get_static_property("cross_axis_repeat"),register_children(e){e.get_static_property("cross_axis_repeat")&&e.run_mode()||e._default_register_children(e.element.elements())},draws_own_children:e=>e.get_static_property("cross_axis_repeat"),draw_children(e){},get_html:e=>"<div></div>",initialize(e){},solid_component:o.default,get_messages:e=>["draw_till"]}),a.default.make_element("TableCell",{display:"Cell",field_names:{cell_main_axis_id:{no_states:!0}},property_applications:e=>[new t.default.ResponsiveContainer(e),new t.default.PaddingFields,new t.default.Opacity,new t.default.Background],uses_css_responsive:!0,always_visible:!0,is_input:!1,contains_group_data:!1,can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),get_min_width:()=>0,not_draggable:()=>!0,show_overflow_on_drag:!0,not_resizable:()=>!0,no_margins:()=>!0,is_pseudo:!0,cant_delete:()=>!0,generate_name(t){let r=t.parent();if(null==r)return"Cell";let n=(0,s.getRelativeIndex)(r),i=t.get_static_property("cell_main_axis_id"),a=(0,s.getRelativeIndex)(e.default.element(i));return`Cell ${n}${(0,s.getLetterIndex)(a)}`},name_for_datasource(e){var t;return u(null==(t=e.parent())?void 0:t.parent(),e)},manual_wrapper:!0,change_cursor_style_if_clickable:!0,add_an_invisible_div_on_the_top:!1,can_fit_height:!0,can_fit_width:!0,get_html:e=>"<div></div>",initialize(e){},solid_component:n.default})})),kE=u(((e,t)=>{"use strict";f();var{ssr:r}=(kh(),p(vf));t.exports=function(e){return r(e.html)}})),SE=u(((e,t)=>{"use strict";f();var r=(kh(),p(vf));Ue();var n=Po(),i=pn(),a=bv(),{createEffect:o,onCleanup:s,onMount:l}=(Ca(),p(xn)),_=kE(),{createElement:u}=Lw(),c=Tg(),{defaultEventHandlers:d}=Pw(),{Property:h,Style:g}=Eg(),{Dynamic:m,isServer:v}=(kh(),p(vf)),y=Fh(),b=kv();function w(e){let t,r=n.get_public_setting("bubble_version")>=10,o=e.get_static_property("recognize_links"),s=e.get_static_property("no_bbcode"),l={};for(let t of["text","editor_preview_text","link_color","nofollow"])l[t]=y.evaluate_property(e,t);if(t=e.run_mode()||!l.editor_preview_text||!l.text||e.element.property("text").is_static()?l.text:l.editor_preview_text,s)return o&&!i.has_bbcode(t)?{html:i.bbcode_to_html(a.replace_links_emails(e,l),r)}:{text:t,cssStyle:{"white-space":"pre-wrap"}};{let n=t;return o&&(n=a.replace_links_emails(e,l)),{html:i.bbcode_to_html(n,r)}}}t.exports=u((function(e){var t;let n=e.instance;o((()=>{e.useDotDotDot&&(a.apply_dotdotdot(n,n.edit_mode()?"letter":"words"),s((()=>a.remove_dotdotdot(n))))}));let i=()=>e.verticalCenter||n.run_mode()&&e.useDotDotDot?`<div>${e.textData.html}</div>`:e.textData.html;o((()=>{if(null!=e.textData.html)n.canvas.html(i()),b.add_internal_navigation_handlers(n.canvas[0]);else if(n.run_mode()&&e.useDotDotDot){let t=document.createElement("div");t.innerText=e.textData.text,n.canvas.html(t.outerHTML)}else n.canvas.text(e.textData.text)}));let u=n.edit_mode()?"div":null!=(t=e.tagName)?t:null;l((()=>{d(n.canvas[0],(()=>n))}));let c=()=>({...e.classList,"bubble-r-vertical-center":e.verticalCenter});return v?(0,r.createComponent)(m,{get id(){return e.id},component:u,get style(){return{...e.style,...e.textData.cssStyle}},get classList(){return c()},get children(){return(0,r.memo)((()=>!!e.textData.html))()?(0,r.createComponent)(_,{get html(){return i()}}):e.textData.text}}):(0,r.createComponent)(m,{get id(){return e.id},component:u,ref(t){let r=e.ref;"function"==typeof r?r(t):e.ref=t},get style(){return{...e.style,...e.textData.cssStyle}},get classList(){return c()}})}),(e=>{let t=e.get_styleable_static_property("tag_type");return{tagName:"normal"!==t&&n.get_public_setting("expose_text_tags")&&null!=t?t:"div"}}),(e=>({properties:{textData:new h(w,{fallback:{text:""}}),useDotDotDot:new h(a.could_clip),verticalCenter:new h((e=>y.evaluate_property(e,"vertical_centering")))},styles:[new g((e=>({"white-space":n.get_public_setting("bubble_version")>=10?"pre-wrap":"",overflow:e.edit_mode()?"hidden":"visible"}))),...c.placedStyling(e)]})))})),TE=u((()=>{"use strict";f(),Ue();var e=Lo(),t=Po(),r=gm(),n=vv(),i=_y(),a=pv(),o=bv(),s=Fh(),{PADDING_VERSION:l}=af(),_=SE();i.make_element("Text",{category:"visual elements",glyph_id:"type",list_order:1,keyboard_shortcut:"T",defaults:{width:200,height:45},field_names:e.extend({text:{default:"...edit me..."},editor_preview_text:{no_states:!0,only_edit_mode:!0},stretch_to_fit:{default:!1,no_states:!0},cut_off_content:{no_states:!0},shrink_if_less_high:{no_states:!0},tag_type:{no_states:!0,default:"normal",in_style:!0},recognize_links:{no_states:!0},link_color:{optional:!0,no_states:!0},nofollow:{no_states:!0},no_bbcode:{no_states:!0}},a.start_workflow_field_names),property_applications:e=>[new r.Dimensions,new r.Font,new r.FontShadow,new r.FontSpacing,new r.PaddingText,new r.PaddingFields({minimum_element_version:l,no_vertical_if_legacy_center:!0,allow_legacy:!0}),new r.Border,new r.BoxShadow,new r.Background,new r.ResponsiveElement(e),new r.ToolTip,new r.Rotation,new r.Opacity],uses_css_responsive:!0,can_fit_width:!0,can_fit_height:!0,solid_component:_,change_cursor_style_if_clickable:!0,get_html(e){if(!e.run_mode()||"normal"===e.get_static_property("tag_type")||!t.get_public_setting("expose_text_tags"))return"<div></div>";{let t=e.get_static_property("tag_type");return"<"+t+"></"+t+">"}},get_min_width:e=>0,can_defer_drawing:()=>!0,register(){},attempt_size_only_draw:e=>e.element.no_size_when_hidden(),initialize(e){let i=e.get_canvas();e.autorun((()=>{t.get_public_setting("bubble_version")>=10?r.apply_css_style(i,{"white-space":"pre-wrap"}):r.apply_css_style(i,{"white-space":""})})),e.wait_for_visible_lite((()=>{let t;e.edit_mode()?(t="letter",i[0].style.overflow="hidden"):(t="words",i[0].style.overflow="visible"),s.pre_cache(e,["text","font_size","padding_vertical","line_height","word_spacing","letter_spacing","rotation_angle","vertical_centering","editor_preview_text"]),function(e){let t=e.get_canvas();e.autorun((()=>{let i=["text","font_size","font_face","padding_vertical","line_height","link_color","nofollow","vertical_centering","editor_preview_text"],a={};for(let t of i)a[t]=s.evaluate_property(e,t);if(!e.is_animating())if(e.run_mode()){var _;if(e.element.element_version(!0)<l)t[0].style["padding-bottom"]=(null!=(_=a.padding_vertical)?_:0)+"px";if(!e.is_visible())return;r.apply_css_style(t,{"word-break":"break-word"}),o.apply_text(e,t,a)}else o.apply_text(e,t,a),n.do_add_an_invisible_div_on_the_top(e)}))}(e),e.autorun((()=>{o.could_clip(e)?o.apply_dotdotdot(e,t):o.remove_dotdotdot(e)})),e.on_destroy((()=>{o.remove_dotdotdot(e)}))}))},is_input:!1,contains_group_data:!1,add_an_invisible_div_on_the_top:!1,events:["ButtonClicked"],css_files:["css/optional/font-awesome.min.css"]})})),NE=u((()=>{"use strict";f(),Ue(),Ft();var e=vn(),t=Lm(),r=Dr(),n=pn(),i=gm(),a=m_(),o=_y(),s=Lv(),l=pm(),{PADDING_VERSION:_}=af(),u=gA(),c=Fh(),d=Lo(),p=qr(),h=bg(),g=xg(),m="https://www.youtube.com/iframe_api",v=r.MakeKey(null,"always turned");v.turn(),o.make_element("Video",{category:"visual elements",glyph_id:"video",list_order:7,keyboard_shortcut:null,defaults:{width:320,height:240,collapse_margin:500,use_max_width:!0,max_width:100},field_names:{video_source:{default:"youtube",no_states:!0},video_id:{},auth_token:{optional:!0,no_states:!0},autoplay:{default:!1,no_states:!0},loop:{default:!1,no_states:!0},control_color_vimeo:{default:"#00adef",no_states:!0,in_style:!0}},can_fix_aspect_ratio:()=>!0,property_applications:e=>[new i.Dimensions,new i.Padding,new i.PaddingFields({minimum_element_version:_,allow_legacy:!0}),new i.Border,new i.BoxShadow,new i.ResponsiveElement(e),new i.Opacity],uses_css_responsive:!0,get_html:e=>"<div></div>",get_min_width:()=>0,notify_width:(e,t)=>l.keep_proportions(e,t,!0),add_an_invisible_div_on_the_top:!0,change_cursor_style_if_clickable:!1,can_defer_drawing:()=>!0,initialize(o){o.wait_for_visible_lite((()=>{let l="youtube_uuid_"+d.LUID(),_=o.get_canvas();o.setTimeout((()=>{c.pre_cache(o,["video_source","video_id","autoplay","control_color_vimeo","padding_horizontal","padding_vertical","loop","auth_token"]);let d={};o.autorun((()=>{let f={},y={};for(let e of["video_source","video_id","autoplay","control_color_vimeo","padding_horizontal","padding_vertical","loop","auth_token"])y[e]=c.evaluate_property(o,e),y[e]!==d[e]&&(f[e]=y[e],d[e]=y[e]);y.width_to_subtract=2*y.padding_horizontal+i.calculate_border_width(o),y.height_to_subtract=2*y.padding_vertical+i.calculate_border_height(o);for(let e of["width_to_subtract","height_to_subtract"])y[e]!==d[e]&&(f[e]=y[e],d[e]=y[e]);let A,E=`<iframe allow="autoplay; fullscreen" width="100% - ${y.width_to_subtract}" height=" 100% - ${y.height_to_subtract}" `;var M;(s.should_block_cookies()&&(E+=' sandbox="allow-same-origin allow-presentation allow-scripts" '),"youtube"===y.video_source)&&(E+=`id = ${l} `,null!=(null==(M=y.video_id)?void 0:M.indexOf)&&-1!==y.video_id.indexOf("watch?v=")&&(y.video_id=y.video_id.split("watch?v=")[1]),A=`//www.youtube.com/embed/${y.video_id}?rel=0`,A+="&enablejsapi=1",y.autoplay&&o.run_mode()&&(A+="&autoplay=1"),y.loop&&o.run_mode()&&(A+="&loop=1&playlist="+y.video_id),E+=' frameborder="0" allowfullscreen modestbranding="1" autohide="1"');if("vimeo"===y.video_source){var x;null!=(null==(x=y.video_id)?void 0:x.indexOf)&&-1!==y.video_id.indexOf("https://vimeo.com/")&&(y.video_id=y.video_id.split("https://vimeo.com/")[1]);let t=e.rgb_to_hex(y.control_color_vimeo).code.slice(1);A="//player.vimeo.com/video/"+y.video_id+"?title=0&byline=0&portrait=0&color="+t,y.autoplay&&o.run_mode()&&(A+="&autoplay=1"),y.loop&&o.run_mode()&&(A+="&loop=1"),E+=' frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'}let O,k;if(y.video_source===t.ZIGGEO){let e=a.get_hardcoded_plugin(t.ZIGGEO);if(k=y.auth_token||(null==e?void 0:e.get_key(e.key_for_html_header)),k){var S,T,N;O=$("<ziggeoplayer/>"),O.attr({video:null!=(S=y.video_id)?S:"no_video",application:k,auth:"true",width:"100%",height:"100%",autoplay:null!=(T=y.autoplay)?T:"false",loop:null!=(N=y.loop)?N:"false",theme:"modern"}),E+=` frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen\nstyle='overflow:hidden'\nsrcdoc="\n<html style='overflow:hidden'>\n<head style='overflow:hidden'>\n    <meta http-equiv='Content-Security-Policy' content='upgrade-insecure-requests'>\n    <link rel='stylesheet' href='https://assets.ziggeo.com/v2-stable/ziggeo.css' />\n    <script src='https://assets.ziggeo.com/v2-stable/ziggeo.js'><\/script>\n</head>\n<body style='margin:0px'>\n    ${O[0].outerHTML.replace(/"/g,"'")}\n</body>\n</html>\n"`}else A=`https://ziggeo.io/p/${y.video_id}`,E+=`height="100%"\nframeborder="0"\nscrolling="no"\nreferrerpolicy="no-referrer"\nallowspeakers ${y.autoplay?"allowautoplay":""} allowfullscreen\nallow="${y.autoplay?"autoplay *; ":""}  fullscreen *"\nstyle="width:100%;height:100%" `}E+="></iframe>",("ziggeo"!==y.video_source||!k)&&(O=$(E),O.attr("src",A));let C="ziggeo"!==y.video_source,L={width_to_subtract:!0,height_to_subtract:!0};for(let e in f)if(!L[e]){C=!1;break}let P=o.element.has_fixed_aspect_ratio();if(o.run_mode()){if(C)return u.structure_fixed_aspect_ratio(o,_),void _.children().attr(u.element_css(P));y.video_id?function(e,t){let n=r.MakeKey(null,"next video");r.WaitFor(v,(()=>setTimeout((()=>{null!=t&&t.is_destroyed()||e(),n.turn()}),10))),v=n}((()=>{_.empty(),O.css(u.element_css(P)),O.css("position","absolute"),u.structure_fixed_aspect_ratio(o,_),_.append(O)}),o):(_.empty(),u.structure_fixed_aspect_ratio(o,_))}else _.empty(),n.img("",_,"//s3.amazonaws.com/appforest_uf/f1665093563671x395094029933674050/video.png").css(u.element_css(P)),u.structure_fixed_aspect_ratio(o,_);"meta"===p().appname()&&"youtube"===y.video_source&&o.run_mode()&&function(e,t,r){(function(e){return new Promise(((t,r)=>{let n=document.createElement("script");n.src=e,n.addEventListener("load",t),n.addEventListener("error",(e=>r(e.error))),document.head.appendChild(n)}))})(m).then((()=>{let e;function n(){e=new window.YT.Player(t,{videoId:r,events:{onStateChange:o,onPlaybackQualityChange:i,onPlaybackRateChange:a}})}function i(t){let n=w(r,e,"onPlaybackQualityChange");h.track(g.YOUTUBE_VIDEO_QUALITY_CHANGED,n)}function a(t){let n=w(r,e,"onPlaybackRateChange");h.track(g.YOUTUBE_VIDEO_RATE_CHANGED,n)}function o(t){let n=w(r,e,"onStateChange"),i=b(t.data);h.track(i,n)}window.YT.ready((function(){n()}))})).catch((e=>{console.error(e)}))}(0,l,y.video_id)}))}),20)}))},is_input:!1,contains_group_data:!1});var y={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video cued"},b=function(e){switch(A(e)){case"ended":return g.YOUTUBE_VIDEO_ENDED;case"playing":return g.YOUTUBE_VIDEO_PLAYING;case"paused":return g.YOUTUBE_VIDEO_PAUSED;case"buffering":return g.YOUTUBE_VIDEO_BUFFER;case"video cued":return g.YOUTUBE_VIDEO_CUED;default:return`Youtube video: unknown event ${e}`}};function w(e,t,r){return{video_id:e,video_title:t.videoTitle,video_timestamp_in_secs:t.getCurrentTime(),video_total_duration:t.getDuration(),video_playback_rate:t.getPlaybackRate(),video_playback_quality:t.getPlaybackQuality(),event_name:r,current_user_id:p().current_user()._id(),current_user_email:p().current_user().get_email()}}var A=function(e){return y[null==e?void 0:e.toString()]}})),CE=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.createBorderStyle=function(e){return(0,t.createMemo)((()=>{let t={};return e.hasTopBorder&&(t["border-top-width"]=`${e.separatorWidth}px`,t["border-top-color"]=e.separatorColor,t["border-top-style"]=e.separatorStyle,e.includeMargin&&(t["margin-top"]=-e.separatorWidth+"px")),e.hasLeftBorder&&(r.default.is_rtl(n.default.or_throw().app_language())?(t["border-right-width"]=`${e.separatorWidth}px`,t["border-right-color"]=e.separatorColor,t["border-right-style"]=e.separatorStyle,e.includeMargin&&(t["margin-right"]=-e.separatorWidth+"px")):(t["border-left-width"]=`${e.separatorWidth}px`,t["border-left-color"]=e.separatorColor,t["border-left-style"]=e.separatorStyle,e.includeMargin&&(t["margin-left"]=-e.separatorWidth+"px"))),e.hasBottomBorder&&(t["border-bottom-width"]=`${e.separatorWidth}px`,t["border-bottom-color"]=e.separatorColor,t["border-bottom-style"]=e.separatorStyle),e.hasRightBorder&&(t["border-right-width"]=`${e.separatorWidth}px`,t["border-right-color"]=e.separatorColor,t["border-right-style"]=e.separatorStyle),e.firstRow&&(t["padding-top"]="0px"),t}))};var t=(Ca(),p(xn)),r=i(Tp()),n=i(qr());function i(e){return e&&e.__esModule?e:{default:e}}})),LE=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=m(jh()),i=Lw(),a=(Ca(),p(xn)),o=tA(),s=CE(),l=m(ot()),_=jA(),u=Lo(),c=Eg(),d=Ng(),h=Pw();function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}var v=(0,r.template)("<div></div>",2);t.exports=(0,i.createElement)((function(e){var t;let i=e.instance,c="Table"===i.element.repeating_instance.repeating_layout_type,d=c?null==(t=i.element.data_instance)?void 0:t.table_element_layout:i.element.repeating_instance.repeating_group_layout;if(!d)throw new u.UnexpectedError("Layout not found");let p=n.createWatcher((()=>`entry-${i.state("cell_index")}`),{fallback:""}),f=(0,s.createBorderStyle)((0,a.mergeProps)({includeMargin:!c},e));return(0,a.createEffect)((()=>{l.on_server()?e.hidden?i.do_hide():i.do_show():e.hidden?queueMicrotask((()=>i.do_hide())):queueMicrotask((()=>i.do_show()))})),i.parent().add_to_namespace(i),(0,a.createEffect)((()=>{let t=e.intersectionObserver;null!=t&&(t.observe(i.canvas[0]),(0,a.onCleanup)((()=>{t.unobserve(i.canvas[0])})))})),(0,a.onMount)((()=>{var e,t;i.run_mode()&&d instanceof _.RepeatingGroupLayoutStyle&&null!=(e=d.is_masonry)&&e.call(d)&&(null==(t=d.observe_masonry_cell)||t.call(d,i.canvas[0]))})),(()=>{let t=v.cloneNode(!0);(0,r.use)(h.defaultEventHandlers,t,(()=>e.instance));let n=e.ref;return"function"==typeof n?(0,r.use)(n,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(o.ChildWrapper,e)),(0,r.effect)((n=>{let i={display:e.hidden?"none":"",...e.cellSizing,...f(),...e.style,[c&&"vertical"===d.table_direction()?"min-width":c?"min-height":"null"]:"fit-content"},a={"bubble-element":!0,"group-item":!0,[p()]:!0,[e.containerClass]:!0};return n._v$=(0,r.style)(t,i,n._v$),n._v$2=(0,r.classList)(t,a,n._v$2),n}),{_v$:void 0,_v$2:void 0}),t})()}),(e=>({shouldAddWrapper:"Table"===e.repeating_layout&&e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;return"Table"===e.repeating_layout?{properties:{containerClass:new c.Property((()=>"bubble-cross-axis"),{fallback:"bubble-cross-axis"})},styles:(0,d.crossAxisStyling)(e)}:{properties:(0,o.containerProperties)(r),styles:(0,o.containerStyling)(r)}}))})),PE=u((()=>{"use strict";f(),Ue();var e=Lo(),t=Kt(),r=Sm(),n=gm(),i=Fh(),a=_y(),o=LE(),s={},l={};a.make_element("GroupItem",{get_html:()=>"<div></div>",default_group_data:()=>r.STATE_NOT_READY,can_register_workflows:t=>(null!=t._can_register_workflow_key||(t._can_register_workflow_key=e.MakeKey(null,"_can_register_workflow_key")),t._can_register_workflow_key),uses_css_responsive:!0,always_visible:!0,solid_component:o,register(e){e.split_namespace(),e.autorun((()=>{let t=e.element_id();e.parent().add_to_namespace(e),t&&e.canvas&&(e.canvas[0].key=t)}))},initialize(r){var a;r.canvas.addClass("group-item entry-"+r.element.num+" ");let o=r.element.repeating_instance;if((null==(a=o.element.root())?void 0:a.get_responsive_version())<1){let a=function(){if(null!=o.columns)return o.columns;if("show_all"===d&&o.children.length>0&&o.children[0].canvas.width()>0){let e=o.canvas.width(),t=o.children[0].canvas.width();return Math.floor(e/t)||1}return i.evaluate_property(o,"columns")},_=function(e){if(e>1){let e=o.get_static_property("separator_width",!0),t=o.get_static_property("separator_style",!0);return[void 0,null,"none"].includes(t)?0:e}return 0},u=function(){return"horizontal_scroll"===d?1:Math.floor((p-1)/a())+1},c=function(){return"limit_items"===d?i.evaluate_property(o,"rows"):["show_all","vertical_extendable"].includes(d)?Math.ceil(o.last_cell/a()):"horizontal_scroll"===d?1:void 0},d=o.get_static_property("layout_style"),{num:p}=r.element,f=null;r.autorun((()=>{var e;f=o.toUniqueString(),null!=l[e=f]||(l[e]={});let t=u();var n;r.is_visible()&&!l[f][t]&&(l[f][t]=Math.max(null!=(n=l[f][t])?n:0,r.get_canvas().height()))}));let h=()=>e.run_once(30,(()=>{let e=c();if(!e)return 0;let t=0;for(let n=1;n<=e;n++){var i;t+=_(n)+((null==(i=l[f])?void 0:i[n])||r.element.get_height())}return t+n.calculate_border_height(o,!0)}),((e,r)=>{e&&t.log(e),o.set_height(r)})),g=null;r.on_message("child_movement",(t=>(g=t,e.WaitFor(r.drawn_key,(()=>r.wait_for_visible((()=>{var e;let t,n=r.element_id();null!=s[e=f]||(s[e]={}),null==g?t=s[f][n]:(t=r.element.get_height()+g,r.get_canvas().height(t),s[f][n]=t),r.get_canvas()[0].key=n;let i=(u()-1)*a()+1,c="horizontal_scroll"===d?o.last_cell:i+a()-1,p=[],m=t-_(u());for(let e=i;e<=c;e++){var v;let t=null==(v=o.children[e-1])?void 0:v.canvas;if(t){p.push(t);let e=s[f][t[0].key];e&&e>m&&(m=e)}}for(let e of p)e.height(m);if("infinite_scroll"!==d)return l[f][u()]=m,h()}))))))),r.on_message("child_shown",(()=>{if("infinite_scroll"!==d)return h()})),r.on_resize((e=>{if("show_all"===d)return h()}))}},do_show(e,t,r,n){e.canvas.show(),e._is_visible_me=!0,e._update_visible()},do_hide(e,t,r,n){e._is_visible_me=!1,e._update_visible(),e.canvas.hide()},position_canvas:(e,t)=>t.container.get_canvas().append(e),added_to_container:()=>!0,contains_group_data:!0,can_have_children:()=>!0,get_children_canvas:e=>e.get_canvas(),get_private_messages:()=>["child_movement","child_shown"],is_input:!1,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,property_applications:[]})})),RE=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=(Ca(),p(xn)),i=wg(),a=h(qr()),o=tA(),s=Lw(),l=d(Tg()),_=Pw(),u=Eg();jh(),Og(),Fh(),qa(),h(Po()),d(Kt()),it();function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,r.template)("<div></div>",2);t.exports=(0,s.createElement)((function(e){let t=e.instance;return(0,n.createEffect)((t=>{let n=e.childStyles[i.AT_ROOT];return(0,r.style)(document.documentElement,n,t),n})),(()=>{let n=g.cloneNode(!0);(0,r.use)(_.defaultEventHandlers,n,(()=>e.instance));let i=e.ref;return"function"==typeof i?(0,r.use)(i,n):e.ref=n,(0,r.insert)(n,(0,r.createComponent)(o.ChildWrapper,(0,r.mergeProps)(e,{get children(){return e.children}}))),(0,r.effect)((i=>{let a=e.id,o=e.style,s={...e.classList,[e.containerClass]:!0,"page-element":t.edit_mode()};return a!==i._v$&&(0,r.setAttribute)(n,"id",i._v$=a),i._v$2=(0,r.style)(n,o,i._v$2),i._v$3=(0,r.classList)(n,s,i._v$3),i}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()}),(e=>({shouldAddWrapper:e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;return{properties:(0,o.containerProperties)(r),styles:[new u.Style((t=>{let r=e.root_max_width(),n=e.root_max_height(),i={"min-width":`${e.root_min_width()}px`,"max-width":null!=r?`${r}px`:"","min-height":`${e.root_min_height()}px`,"max-height":null!=n?`${n}px`:""};return i.width=`${a.default.or_throw().visual_edit.root_width()}px`,i}),{noWaitVisible:!0,outerPositioning:!0}),l.tokenStyling(),...(0,o.containerStyling)(r),...l.basicStyling(e)]}}))})),zE=u((()=>{"use strict";f(),Ue();var e=Lo(),{GROUP_TYPES:t}=(Kt(),vm()),{default_color_tokens_to_property:r,user_color_tokens_to_property:n,variable_to_token_variant:i,token_variant_to_properties:a}=Sg(),o=(Og(),kg()),{CUSTOM_PROP_IDENTIFIER:s}=vm(),l=gm(),_=_y(),u=Uv(),c=(Fh(),Qw()),d=Zw(),p=RE(),h=xr(),{FirstLetterCapitalize:g}=Sr(),m=Ql(),v=xl(),y=Fl(),b=(qr(),Po(),_.transform_element("Custom Element",{field_names:e.extend({element_type:{default:"Group",no_states:!0},group_type:{no_states:!0},delete_custom_definition:{no_states:!0},new_responsive:{no_states:!0},responsive_version:{no_states:!0},upgrade_responsive_version:{no_states:!0,only_edit_mode:!0},element_version:{default:0,no_states:!0},min_width:{no_states:!0,default:0,optional:!0},use_max_width:{no_states:!0},max_width:{no_states:!0,default:100,optional:!0},page_folder:{optional:!0,no_states:!0,only_edit_mode:!0}},c.floating_field_names),can_defer_drawing:()=>!0,initialize(e){},property_applications:e=>[new l.ShortDimensions,new l.Background,new l.Border,new l.BoxShadow,new l.RootSizing,new l.ResponsiveContainer(e),new l.PaddingFields,new l.Opacity],uses_css_responsive:!0,solid_component:p,attach_to_body:()=>!1,no_margins:()=>!0,defaults:{bgcolor:"#FFFFFF",background_style:"bgcolor"},get_html:()=>"<div></div>",get_min_width:e=>0,position_canvas(e,t){if(!t.responsive_mode())return $(".canvas").append(e),t.element.get_responsive_version()<1?e.css({"margin-right":"auto","margin-left":"auto",position:"relative"}):void 0;t.container.add(t)},always_visible:!0,can_have_children:()=>!0,add_specific_messages(t,r){var n,l,_;let u=null!=(n=null==(l=(_=r.property("parameters")).entries)?void 0:l.call(_))?n:[];for(let r of u){var c;let n=r.raw(),l=null!=(c=n.btype_id)?c:"Checkbox"===n.editor_type?"boolean":"text";n.is_list&&(l=h.list_type(l)),e.extend(t,{[`${s}${n.param_id}`]:{description:()=>"'s "+r.raw().param_name,section:"Properties",ret_btype:l,get caption(){let t=r.property("default_value").get_tree_display();var s,l,_,u;if("Color"===n.editor_type)if(null!=(s=t)&&null!=(l=s.includes)&&l.call(s,o.VAR_IDENTIFIER)){let{token_set:r,variant:n}=i(t),{rgba:o}=a(r,n);t=e.rgb_to_hex(o).code.toUpperCase()}else null!=(_=t)&&null!=(u=_.includes)&&u.call(_,"rgb")&&(t=e.rgb_to_hex(t).code.toUpperCase());return t},fn(e){var t,r;return null!=(t=null!=(r=e.state(`${s}${n.param_id}`))?r:e.run_mode()?null:m.evaluate(v.shrink_object(n.default_value),e.prop_eval_context())[0])?t:y.get(l).get_bubble_null()},filter_context(e){let t=e.node,r="";for(;null!=t;){var i,a;if(null!=(null==(i=t.json.parent())?void 0:i.child("param_id").get())&&null!=(null==(a=t.json.parent())?void 0:a.child("param_name").get())){var o;r=`param_${null==(o=t.json.parent())?void 0:o.child("param_id").get()}`;break}t=t.parent_expression()}return r!==`param_${n.param_id}`},filter_context_new:e=>e.custom_param_name!==`param_${n.param_id}`}})}},get_children_canvas:e=>e.get_canvas(),get_state_value:(e,t)=>d.state_value_helper_for_group(e,t),is_input:!1,contains_group_data:!0,change_cursor_style_if_clickable:!1,add_an_invisible_div_on_the_top:!1,not_draggable:()=>!0}));u.registered_elements.CustomDefinition=b})),IE=u(((e,t)=>{"use strict";f(),Ue();var r=(kh(),p(vf)),n=_(Lw()),i=Tg(),a=Pw(),o=tA(),s=(Ca(),p(xn)),l=_(Nt());function _(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.template)("<div></div>",2);t.exports=(0,n.default)((function(e){return(0,s.onMount)((()=>{var t,r;return null==(t=(r=e.instance.element.E).legacy_container_mount)?void 0:t.call(r,e.instance)})),(()=>{let t=u.cloneNode(!0);(0,r.use)(a.defaultEventHandlers,t,(()=>e.instance));let n=e.ref;return"function"==typeof n?(0,r.use)(n,t):e.ref=t,(0,r.insert)(t,(0,r.createComponent)(o.ChildWrapper,e)),(0,r.effect)((n=>{let i=e.id,a=e.style,o={...e.classList,[e.containerClass]:!0};return i!==n._v$&&(0,r.setAttribute)(t,"id",n._v$=i),n._v$2=(0,r.style)(t,a,n._v$2),n._v$3=(0,r.classList)(t,o,n._v$3),n}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}),(e=>({shouldAddWrapper:e.should_add_extra_wrapper()})),((e,t)=>{let{shouldAddWrapper:r}=t;return{properties:(0,o.containerProperties)(r),styles:[...(0,o.containerStyling)(r),...(0,i.placedStyling)(e)]}})),l.default.safe_register("./core/core_elements/components/LegacyContainerComponent",t.exports)})),DE=u((()=>{"use strict";f(),Ue();var e=vg(),t=Uv(),r=Sw();null!=r.optional_modules||(r.optional_modules={}),zw(),Iw(),jw(),Uw(),Hw(),Vw(),Jw(),nA(),iA(),oA(),lA(),_A(),cA(),hA(),vA(),wA(),EA(),MA(),OA(),kA(),NA(),CA(),LA(),BA(),UA(),WA(),OE(),TE(),NE(),PE(),zE(),IE();for(let r of Object.values(t.registered_elements))if(r.field_names)for(let[t,n]of Object.entries(r.field_names))n.in_style&&e.register_style_property(t)})),jE=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.WRONG_PASSWORD=e.WORKOS_AUTH_URL=e.NO_SUCH_USER=e.INVALID_LOGIN_CREDENTIALS=e.EMPLOYEE_ACCESSING_ORGANIZATION_FREE_APP=void 0,function(e){return e&&e.__esModule?e:{default:e}}(Nt()).default.safe_register("./constants/auth",e);e.INVALID_LOGIN_CREDENTIALS="INVALID_LOGIN_CREDENTIALS";e.NO_SUCH_USER="NO_SUCH_USER";e.WRONG_PASSWORD="WRONG_PASSWORD";e.EMPLOYEE_ACCESSING_ORGANIZATION_FREE_APP="EMPLOYEE_ACCESSING_ORGANIZATION_FREE_APP";e.WORKOS_AUTH_URL="https://api.workos.com/sso"})),BE=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Nt(),n=ig(),i=p_(),a=y_(),{UnexpectedError:o}=it(),s=e,l=null,_={element:{},event:{},action:{},btype:{},datasource:{}};s.type_to_prefix={element:"Element",event:"Event",action:"Action",btype:"Btype",datasource:"Datasource",module:"Module"};var u={};for(let[e,t]of Object.entries(s.type_to_prefix))u[t]=e;s.load_plugin=function(e,c,d){if(null!=c||(c=!1),!l)throw new o("Loading a plugin before the loader was initialized");if(e.slice(0,7)===s.type_to_prefix.module+":")return function(e){return r.safe_require("./optional/"+e)}(e.slice(7));let p=l[e];if(!p){let[t,...r]=e.split(":"),n=r.join(":"),i=u[t];var f;if(i)p=null==(f=_[i])?void 0:f[n],p&&(l[e]=p)}if(!p){let t=s.type_to_prefix.element+":",r=s.type_to_prefix.action+":",n=s.type_to_prefix.event+":";if(e.startsWith(t)){let r=e.split(t)[1],[n,o]=i.get_plugin_and_type(r);var h;if(o)p=null==(h=a.get_plugin(n))?void 0:h.get_element(r,d)}else if(e.startsWith(r)){let t=e.split(r)[1],[n,o]=i.get_plugin_and_type(t);var g;if(o)p=null==(g=a.get_plugin(n))?void 0:g.get_action(t)}else if(e.startsWith(n)){let t=e.split(n)[1],[r]=i.get_plugin_and_type(t);var m;if(t)p=null==(m=a.get_plugin(r))?void 0:m.get_event(t)}}if(!p){if(c)return null;throw new t.UnexpectedError(n.MISSING_PLUGIN+" "+e)}return p.plugin_retrieved_name=e,p},s.inject_dependencies=function(e){if(!l){_=e,l={};for(let[e,t]of Object.entries(_)){let r=s.type_to_prefix[e];for(let[e,n]of Object.entries(t))l[`${r}:${e}`]=n}}}})),qE=u((()=>{"use strict";f(),Ue();Lo()})),UE=u((e=>{"use strict";f(),Ft(),Ue();var t=Lo(),r=Po(),n=(qE(),xr()),i=cl(),a=Kt(),o=a_(),s=i_(),l=Fl(),_=qr(),u=Cd(),c=fl(),d=Zh(),p=Jh(),h=vw(),g=(Jm(),e);function m(e){if("function"==typeof(null==e?void 0:e._id))return e._id();if("function"==typeof(null==e?void 0:e.get)){let t=e.get();if("function"==typeof(null==t?void 0:t.replace))return t.replace(i.HYDRATE_STRING,"")}}function v(e,t){return m(e)===m(t)}g.add_basic_displays=function(e){return"export_to_string"in e||(e.export_to_string=e.runmode_display),"debugging_display"in e||(e.debugging_display=e.runmode_display),e},g.build_simple=function(e,t){let{messages:r}=t,n=e;return"bool"===n&&(n="sys.bool"),["null","geographic_address","key_combination"].includes(n)||(r.is_not_contained_by_list=d.build_is_not_contained_by_list(n)),delete t.messages,t.get_message_names=()=>Object.keys(r),t.get_message=e=>r[e],t.name=e,null!=t.is_simple||(t.is_simple=!0),null!=t.get_bubble_null||(t.get_bubble_null=()=>null),g.add_basic_displays(t),t},g.create_custom_btype=function(e,d,f,g,m){let y,b={};if(f){let[e,r]=f();y=r,t.extend(b,e)}if(m||t.extend(b,{"Created By":{description:"'s Creator",ret_btype:"user",section:"Data Fields",is_lookup:!0},Slug:{description:"'s Slug",ret_btype:"text",section:"Other Operators",is_lookup:!0},equals:{description:" is ",ret_btype:"sys.bool",section:"Operators",arg_btype:e,fn:(e,t)=>v(e,t),build_pg_constraint:p.equals,build_pg_r_constraint:p.equals,build_pg_relationship:p.equals_both},not_equals:{description:" is not ",ret_btype:"sys.bool",section:"Operators",arg_btype:e,fn:(e,t)=>!v(e,t),build_pg_constraint:p.not_equals,build_pg_r_constraint:p.not_equals,build_pg_relationship:p.not_equals_both},is_empty:{description:" is empty",ret_btype:"sys.bool",section:"Other Operators",fn(e,t){var r;return!(null!=e&&null!=(r=e.exists)&&r.call(e))},build_pg_constraint:p.is_empty},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",fn(e,t){var r,n;return null!=(r=null==e||null==(n=e.exists)?void 0:n.call(e))&&r},build_pg_constraint:p.is_not_empty},slug_can_be:{description:" can have the slug value ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:"text",fn(e,t){var r;if(null!=e&&null!=(r=e.exists)&&r.call(e))return o.is_slug_valid(_().appname(),_().app_version(),e._type(),t,e)}},slug_cannot_be:{description:" cannot have the slug value ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:"text",fn(e,t){var r;if(null!=e&&null!=(r=e.exists)&&r.call(e))return!o.is_slug_valid(_().appname(),_().app_version(),e._type(),t,e)}},"Created Date":{description:"'s Creation Date",section:"Data Fields",ret_btype:"date",is_lookup:!0,privacy_condition_okay:!1},"Modified Date":{description:"'s Modified Date",section:"Data Fields",ret_btype:"date",is_lookup:!0,privacy_condition_okay:!1},_id:{description:"'s unique id",section:"Data Fields",public_for_plugins:!0,ret_btype:"text",fn(e,t){var r,n;return null!=e&&null!=(r=e.exists)&&r.call(e)?null==e||null==(n=e._id)?void 0:n.call(e):""}},id_link:{ret_btype:"text",section:"Data Fields",field_names:{element_id:{}},spot_data:"SlidableAtom",description:"'s link",fn(e,t,n){var i;if(!(null==e||null==(i=e._id)?void 0:i.call(e)))return this.ret_btype_null();let a=r.element(n.element_id);if(!a||null==a.name)return this.ret_btype_null();let o=a.get_static_property("readable_field"),l=s.get_data_to_send(e,o);return _().location.get_page_url(a.name()+"/"+l)}},convert_to_list:{description:":converted to list",section:"Other Operators",ret_btype:n.list_type(e),fn:(t,r,n)=>null==(t=l.get(e).cast(t))?_().db_instance().static_list(e,[]):_().db_instance().static_list(e,[t])}}),g)for(let e of g())delete b[e];function w(){return!d.exists()&&n.is_custom_type(e)?`[missing type: ${e.slice(7)}]`:null==d.display()?`[Type with missing display: ${e.slice(7)}]`:d.display()}let A=null;function E(e){var t,r,n,i,a,o;let s=b[e];if(s)return s;let _=d.field(e);if(!_)return{description:"[missing: "+e+"]",ret_btype:"null",fn(){}};let u="",c=null==(t=_.value())?void 0:t.replace(/^list\./,"");c&&null!=(r=l.get(c))&&null!=(n=r.custom_type)&&null!=(i=n.call(r))&&i.deleted()&&(u=" (deleted)");let p=null!=(a=_.value())?a:"null";return{description:null!=(o="'s "+_.display()+u)?o:e,section:"Data Fields",ret_btype:p,is_lookup:!0,delete_cb(){window.confirm("Delete field "+_.display()+"?")&&_.set_deleted(!0)}}}return!d.exists()&&n.is_custom_type(e)&&(A=e=>`(Value is of an unknown type ${w()} and cannot be displayed)`),{get_message_names(){var e,t,r,n;let i=d.fields().filter((e=>!e.deleted())).map((e=>e.name()));return d.no_special_messages?i:["equals","not_equals",...i,...null!=(e=null==(t=y)?void 0:t.filter((e=>e.high_priority)).map((e=>e.value)))?e:[],"Created By","Slug","Created Date","Modified Date","_id","id_link",...null!=(r=null==(n=y)?void 0:n.filter((e=>!e.high_priority)).map((e=>e.value)))?r:[],"is_empty","is_not_empty","slug_can_be","slug_cannot_be","convert_to_list"].filter((e=>i.includes(e)||Object.keys(b).includes(e)))},get_message:E,display:w,custom_type:()=>d,equals:v,from_human(e){return this.JS_to_bubble(e)},get_sample:()=>new u.SampleObject(e),get_bubble_null:()=>null,storable:!0,bindable:!0,debugging_display:A,export_to_string(t,n){var i;if(!n.custom_use_primary_field)return"user"===e||null!=t&&t.exists()?null==t?void 0:t._id():"";if(null!=n.visited_field_types||(n.visited_field_types=new Map),"user"===e){var a,o;let e=_().db_instance(r.appname(),r.app_version());if(t.id===e.get_admin_user_id()||null!=(a=(o=_()).app_owners)&&a.call(o)[t.id])return"(App admin)"}if(null==t||null==(i=t.exists)||!i.call(t))return"(deleted thing)";let s=n.get_primary_field(e),u=new l.Message(s,E(s),e),c=u.ret_btype();if(n.visited_field_types.get(e)){let t=n.visited_field_types.keys().next().value;return`(Circular reference between primary fields for ${l.get(t).display()} and ${l.get(e).display()}. Change primary fields)`}return n.visited_field_types.set(e,!0),c.export_to_string(u.evaluate(t),n)},get_JS_object(r){if(null==r)return null;if("string"==typeof r)return t.starts_with(r,i.HYDRATE_STRING)&&(r=r.replace(i.HYDRATE_STRING,"")),r;let n={};for(let t of this.get_message_names())if(h.can_use_message(e,t)){let i=new l.Message(t,this.get_message(t),e),a=i.evaluate_without_cast(r);if(a){let e=i.ret_btype();e.is_missing()?n[t]=null:e.custom_type()?n[t]=a._id():e.is_list()&&e.inner().custom_type()?n[t]=a.all().map((e=>e._id())):n[t]=l.get(e).get_JS_object(a)}}return n._type=e,n},JS_to_bubble:e=>"string"==typeof e&&""!==e?_().db_instance().get(e):null,cast(e){return"function"==typeof(null==e?void 0:e.child)?e:"string"==typeof e&&t.starts_with(e,i.HYDRATE_STRING)?(a.error("Got dehydrated object in cast; should probably be hydrated here",{val:e}),this.cast(c.rehydrate_tree(_().db_instance(),e))):null}}}})),WE=u((e=>{"use strict";f();var t=qr(),r=e;r.format_boolean_message={section:"Other Operators",ret_btype:"text",arg_btype:null,fn(e,t,r){var n,i;return e?null!=(n=r.formatting_for_true)?n:"":null!=(i=r.formatting_for_false)?i:""},spot_data:"SlidableAtom",description:e=>":formatted as text",field_names:{formatting_for_true:{default:"yes"},formatting_for_false:{default:"no"}}},r.format_boolean_number_message={section:"Other Operators",ret_btype:"number",arg_btype:null,fn(e,t,r){var n,i;return e?null!=(n=r.formatting_for_true)?n:0:null!=(i=r.formatting_for_false)?i:0},spot_data:"SlidableAtom",description:e=>":formatted as number",field_names:{formatting_for_true:{default:1},formatting_for_false:{default:0}}},r.to_bool=function(e){if("boolean"==typeof e)return e;if("string"!=typeof e)return null;switch(e=e.toLowerCase()){case"yes":case"true":return!0;case"no":case"false":return!1;default:return null}},r.render_bool=function(e){return null==(e=r.to_bool(e))?"":e?t().get_text("BUILT_IN","YES"):t().get_text("BUILT_IN","NO")},r.bool_equals=(e,t)=>r.to_bool(e)===r.to_bool(t)})),$E=u((e=>{"use strict";f(),Ft(),Ue();var t,r=Lo(),n=Vt(),i=ot(),a=Sr(),o=um(),s=Jh(),_=Et(),u=pv(),c=Fl(),d=qr(),p=Pp(),h=T_(),g=Fh(),m=e;i.on_server()&&(t=l("./../../../server/fileupload")),m.generate_JS_to_bubble_error=function(e,t){throw new r.UnexpectedError(`Expected a ${e}, but got a `+typeof t+" (original data: "+r.json_stringify(t,!0)+")")},m.get_json_encode_msg=e=>({description:":formatted as JSON-safe",section:"Other Operators",ret_btype:"text",fn(t){let n=c.get(e).cast(t);return null!=n||(n=null),r.json_stringify(n)}}),m.get_file_messages=function(e){return{is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:s.is_empty,fn:(e,t)=>null==e||""===e},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:s.is_not_empty,fn:(e,t)=>null!=e&&""!==e},file_name:{description:"'s file name",section:"Operators",ret_btype:"text",arg_btype:null,fn(e,t){if(null==e||!e.split)return this.ret_btype_null();let r=e.split("/");return decodeURIComponent(r[r.length-1])}},url:{description:"'s URL",section:"Operators",ret_btype:"text",arg_btype:null,fn:(e,t)=>a.cast_to_string(e)},saved_s3:{description:":saved to S3",section:"Other Operators",ret_btype:e,arg_btype:null,spot_data:"SlidableAtom",field_names:{file_name_override:{optional:!0}},filter_context:e=>"Workflow"===e.owner_type||"BackendWorkflow"===e.owner_type,fn(e,a,s){if(null==e||!e.split)return this.ret_btype_null();if(-1!==(e=e.replace("/../","/")).indexOf(n.user_file_url)||e.includes(o.get_file_cdn_url(d().appname())))return e;if(!r.is_url(e))return this.ret_btype_null();if(0===e.indexOf("blob:"))return this.ret_btype_null();if(!i.on_server()||i.running_test())return e;let l,u=d().KeyValueDB().get(_.INSTANCE_NAMES.SMALL,e);if(null!=u)return u;l=s.file_name_override?s.file_name_override.split("/").pop():e.split("/").pop();let c={file_url:e,filename:l,appname:d().appname(),app_version:d().app_version()},p=t.upload_by_url(c);return d().KeyValueDB().put(_.INSTANCE_NAMES.SMALL,e,p,300),p}},to_base64:{description:":encoded in base64",section:"Other Operators",ret_btype:"text",arg_btype:null,filter_context:e=>"Workflow"===e.owner_type||"BackendWorkflow"===e.owner_type,fn(e,t){if(null==e||!e.split)return this.ret_btype_null();if(!i.on_server())return this.ret_btype_null();if("//"===e.slice(0,2)&&(e="http:"+e),0!==e.indexOf("http"))return this.ret_btype_null();let n=d().http_request({url:e,encoding:null}).block().body;return r.base64(n)}},not_equals:{description:" is not ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:"date",no_composer:()=>!0,fn:(e,t)=>e!==t}}};var v={},y={};m.add_basic_element_messages=function(e,t,n){if(n){let e=function(e){return v[e.element_id()]||(v[e.element_id()]=e.element.get_related_workflows("ButtonClicked")),v[e.element_id()]};r.extend(t,{isnt_clickable:{description:" isn't clickable",section:"States",ret_btype:"boolean",fn(t,r){if(!t)return this.ret_btype_null();if(i.on_server())return t.state("client_eval_isnt_clickable");let n=function(){if(g.evaluate_property(t,"button_disabled"))return!0;{let r=!1,n=t.toUniqueString();y[n]&&(delete y[n],r=!0),y[n]=!0;let i={element:t,datasources:h.get_basic_datasources(t.element.root())},a=e(t),o=u.find_inputs_to_check(t,a,i,r);for(let e of o.input_instances)if(e.element.get_states().includes("is_invalid")&&e.state("is_invalid"))return!0;return!1}}();var a,o;t.is_fake_instance||(null==(a=p.dehydrate_context)||null==(o=a.save_to_state)||o.call(a,t,"client_eval_isnt_clickable",n));return n},filter_context:e=>"State"===e.owner_type||("Workflow"===e.owner_type||"BackendWorkflow"===e.owner_type)&&e.in_event_condition}})}if(e.includes("is_link_disabled")&&r.extend(t,{is_clickable:{description:" is clickable",section:"States",ret_btype:"sys.bool",fn:(e,t)=>!(null!=e&&e.state("link_disabled"))},isnt_clickable:{description:" isn't clickable",section:"States",ret_btype:"sys.bool",fn:(e,t)=>null==e?void 0:e.state("link_disabled")}}),e.includes("display_invalid")&&r.extend(t,{is_valid:{description:" is valid",section:"States",ret_btype:"sys.bool",fn:(e,t)=>!(null!=e&&e.state("display_invalid"))},isnt_valid:{description:" isn't valid",section:"States",ret_btype:"sys.bool",fn:(e,t)=>null==e?void 0:e.state("display_invalid")}}),r.extend(t,{get_width:{description:"'s width",section:"States",ret_btype:"number",fn:(e,t)=>null==e?void 0:e.state("current_width")},get_height:{description:"'s height",section:"States",ret_btype:"number",fn:(e,t)=>null==e?void 0:e.state("current_height")}}),e.includes("is_hovered")&&r.extend(t,{is_hovered:{description:" is hovered",section:"States",ret_btype:"sys.bool",fn:(e,t)=>null==e?void 0:e.state("is_hovered"),filter_context(e){if("State"===e.owner_type)return!0;return"Workflow"===e.owner_type&&e.in_event_condition&&["ConditionTrue","DoInterval","interactions-PageScrolled"].includes(e.owner_node.type())}},isnt_hovered:{description:" isn't hovered",section:"States",ret_btype:"sys.bool",fn:(e,t)=>!(null!=e&&e.state("is_hovered")),filter_context(e){if("State"===e.owner_type)return!0;return"Workflow"===e.owner_type&&e.in_event_condition&&["ConditionTrue","DoInterval","interactions-PageScrolled"].includes(e.owner_node.type())}},is_pressed:{description:" is pressed",section:"States",ret_btype:"sys.bool",fn:(e,t)=>null==e?void 0:e.state("is_pressed"),filter_context:e=>"State"===e.owner_type},isnt_pressed:{description:" isn't pressed",section:"States",ret_btype:"sys.bool",fn:(e,t)=>!(null!=e&&e.state("is_pressed")),filter_context:e=>"State"===e.owner_type}}),e.includes("is_focused"))return r.extend(t,{is_focused:{description:" is focused",section:"States",ret_btype:"sys.bool",fn:(e,t)=>null==e?void 0:e.state("is_focused"),filter_context:e=>"State"===e.owner_type},isnt_focused:{description:" isn't focused",section:"States",ret_btype:"sys.bool",fn:(e,t)=>!(null!=e&&e.state("is_focused")),filter_context:e=>"State"===e.owner_type}})}})),FE=u(((e,t)=>{"use strict";f();var r=Jh(),n=qr(),{render_bool:i,bool_equals:a,to_bool:o,format_boolean_message:s,format_boolean_number_message:l}=WE(),{build_simple:_}=UE(),{get_json_encode_msg:u,generate_JS_to_bubble_error:c}=$E(),{COMPOSER_INPUT_TYPES:d}=cw();t.exports=_("boolean",{messages:{is_true:{description:" is yes",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:r.is_true,fn:(e,t)=>o(e)},is_false:{description:" is no",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:r.is_false,fn:(e,t)=>!o(e)},and_:{description:" and ",section:"Operators",no_composer:()=>!0,ret_btype:"sys.bool",arg_btype:"sys.bool",fn:(e,t)=>o(e)&&o(t)},or_:{description:" or ",section:"Operators",no_composer:()=>!0,ret_btype:"sys.bool",arg_btype:"sys.bool",fn:(e,t)=>o(e)||o(t)},format_boolean:s,format_boolean_number:l,format_json_encode:u("boolean")},display:()=>"yes / no",composer_input_type:d.BOOLEAN,runmode_display:i,export_to_string:(e,t)=>t.booleans_yes_no?i(e):null!=e&&e,equals:a,get_sample:()=>!0,from_human(e){if("string"!=typeof e)return o(e);switch(e.toLowerCase()){case n().get_text("BUILT_IN","YES").toLowerCase():return!0;case n().get_text("BUILT_IN","NO").toLowerCase():return!1;default:return o(e)}},cast:e=>o(e),get_JS_object(e){var t;return null!=(t=this.cast(e))&&t},JS_to_bubble(e){return void 0===(e=this.cast(e))&&c("boolean",e),e},convert_to_bubble_instance:o,storable:!0,bindable:!1})})),GE=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=(Po(),Jh()),{build_simple:i}=UE(),{generate_JS_to_bubble_error:a,get_json_encode_msg:o}=$E(),s=$r(),l=E_(),{has_rounding_operator_timezone_controls_on:_}=A_(),u=ot(),c=qr(),d=r.require_moment();function p(e){let t,{date:r,properties:n,context:i}=e;t=_()||u.running_test()?l.get_custom_tz({static_eval:e=>n[e]}):c().current_timezone();let a=s.to_moment(r,t);return a.isValid()?a.clone().startOf(n.component_to_extract).toDate():null}function h(e,t){var r,n;return(null==(r=s.mk_date(e))?void 0:r.valueOf())===(null==(n=s.mk_date(t))?void 0:n.valueOf())}t.exports=i("date",{messages:{equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",no_composer:()=>!0,fn:(e,t)=>h(e,t),build_pg_constraint:n.equals,build_pg_r_constraint:n.equals,build_pg_relationship:n.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",no_composer:()=>!0,fn:(e,t)=>!h(e,t),build_pg_constraint:n.not_equals,build_pg_r_constraint:n.not_equals,build_pg_relationship:n.not_equals_both},format_date:{section:"Operators",ret_btype:"text",arg_btype:null,field_names:{formatting_type:{default:"m/dd/yy"},custom_format:{default:"ddd, m/dd/yy, mmmm (mmm) dS, yyyy, h:MM tt, HH:MM:ss.L"},...l.custom_tz_field_names},spot_data:"SlidableAtom",description(e){var t;let r,n={formatting_type:null!=(t=null==e?void 0:e.property("formatting_type").raw())?t:"m/dd/yy",custom_format:null==e?void 0:e.property("custom_format").raw()};return r=n?" "+this.fn(new Date,void 0,n):"...",":formatted as"+r},fn(e,t,n,i,a){let o=null==n?void 0:n.formatting_type;if("custom"===o&&(o=n.custom_format),e=s.mk_date(e)){let t,i=l.get_custom_tz({static_eval:e=>n[e],not_overridden:!0});return t=i&&d.tz.zone(i)?i:d.tz.guess(),"iso_date"===o?e.toISOString():r.format_date(e,o,c().get_text("BUILT_IN","DATE_FORMAT"),t)}return""}},greater_than:{description:" > ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",fn:(e,t)=>s.mk_date(e)>s.mk_date(t)},less_than:{description:" < ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",fn:(e,t)=>s.mk_date(e)<s.mk_date(t)},minus:{description:" - ",section:"Operators",ret_btype:"dateinterval",arg_btype:"date",fn:(e,t)=>s.mk_date(e)-s.mk_date(t)},to_range:{description:"<- range ->",section:"Other Operators",arg_btype:"date",ret_btype:"date_range",fn:(e,t)=>(e=s.mk_date(e),t=s.mk_date(t),e&&t?[s.mk_date(Math.min(e,t)),s.mk_date(Math.max(e,t))]:[])},max:{description:" <- max -> ",section:"Other Operators",ret_btype:"date",arg_btype:"date",fn(e,t){var r,n,i,a;return e=s.mk_date(e),t=s.mk_date(t),(null==(r=e)||null==(n=r.getTime)?void 0:n.call(r))>=(null==(i=t)||null==(a=i.getTime)?void 0:a.call(i))||!t?e:t}},min:{description:" <- min -> ",section:"Other Operators",ret_btype:"date",arg_btype:"date",fn(e,t){var r,n,i,a;return e=s.mk_date(e),t=s.mk_date(t),(null==(r=e)||null==(n=r.getTime)?void 0:n.call(r))<=(null==(i=t)||null==(a=i.getTime)?void 0:a.call(i))||!t?e:t}},plus_seconds:{description:"+ seconds: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.plus_seconds(e,t,r,n,i)},plus_minutes:{description:"+ minutes: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.plus_minutes(e,t,r,n,i)},plus_hours:{description:"+ hours: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.plus_hours(e,t,r,n,i)},plus_days:{description:"+ days: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.plus_days(e,t,r,n,i)},plus_months:{description:"+ months: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.plus_months(e,t,r,n,i)},plus_years:{description:"+ years: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.plus_years(e,t,r,n,i)},change_seconds:{description:" change seconds to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.change_seconds(e,t,r,n,i)},change_minutes:{description:" change minutes to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.change_minutes(e,t,r,n,i)},change_hours:{description:" change hours to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.change_hours(e,t,r,n,i)},change_date:{description:" change date to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.change_date(e,t,r,n,i)},change_month:{description:" change month to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.change_month(e,t,r,n,i)},change_years:{description:" change years to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:(e,t,r,n,i)=>c().bv().date_code.change_years(e,t,r,n,i)},extract_from_date:{ret_btype:"number",section:"Other Operators",field_names:{component_to_extract:{},...l.custom_tz_field_names},spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.property("component_to_extract");return t=r&&!r.is_empty()?" "+r.get_static():"...",":extract"+t},fn:(e,t,r,n,i)=>c().bv().date_code.extract_from_date(e,t,r,n,i)},rounded_down:{ret_btype:"date",section:"Other Operators",field_names:r.extend({component_to_extract:{}},l.custom_tz_field_names),spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.property("component_to_extract");return t=r&&!r.is_empty()?" "+r.get_static():"...",":rounded down to"+t+" "},fn:(e,t,r,n,i)=>p({date:e,properties:r,context:i})},equals_rounded_down:{ret_btype:"sys.bool",section:"Other Operators",arg_btype:"date",field_names:r.extend({component_to_extract:{}},l.custom_tz_field_names),spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.property("component_to_extract");return t=r&&!r.is_empty()?" "+r.get_static():"...",`equals rounded down to ${t} `},fn:(e,t,r,n,i)=>h(e=p({date:e,properties:r,context:i}),t=p({date:t,properties:r,context:i}))},is_empty:{description:" is empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:n.is_empty,fn:(e,t)=>null==e||""===e},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:n.is_not_empty,fn:(e,t)=>null!=e&&""!==e},format_json_encode:o("date")},display:()=>"date",runmode_display:(e,t)=>r.format_date(s.mk_date(e),"mmm d, yyyy h:MM tt",null,c().current_timezone()),export_to_string:(e,t)=>t.date_formatting&&"spreadsheet_compatible"!==t.date_formatting?"universal"===t.date_formatting?s.mk_date(e):r.format_date(s.mk_date(e),t.date_formatting):r.format_date(s.mk_date(e),"mmm d, yyyy h:MM tt",null,c().current_timezone()),equals(e,t){var r,n;return(null==(r=s.mk_date(e))?void 0:r.valueOf())===(null==(n=s.mk_date(t))?void 0:n.valueOf())},get_sample:()=>new Date,cast:e=>s.mk_date(e),from_human(e,t){return""===e?this.get_bubble_null():s.mk_date(e,c().current_timezone())},get_JS_object(e){var t,r;return 1===(null==(t=(r=c()).api_version)?void 0:t.call(r))?e:s.mk_date(e)},JS_to_bubble(e){if(null==e)return this.get_bubble_null();let t=this.cast(e);return t||a("date",e),t},convert_to_bubble_instance:s.mk_date,can_sort:!0,storable:!0,bindable:!1})})),XE=u(((e,t)=>{"use strict";f();var r=Lo(),{build_simple:n}=UE(),{generate_JS_to_bubble_error:i}=$E(),a=Gr();t.exports=n("dateinterval",{messages:{to_days:{description:"formatted as days",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:(e,t)=>r.format_date_interval(e,"days")},to_hours:{description:"formatted as hours",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:(e,t)=>r.format_date_interval(e,"hours")},to_minutes:{description:"formatted as minutes",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:(e,t)=>r.format_date_interval(e,"minutes")},to_seconds:{description:"formatted as seconds",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:(e,t)=>r.format_date_interval(e,"seconds")}},display:()=>"date interval",runmode_display:null,export_to_string:e=>r.print_date_interval(e),debugging_display:e=>r.print_date_interval(e),equals:a.num_equals,get_sample:()=>252e8,cast:e=>r.to_num(e),get_JS_object(e){return this.cast(e)},JS_to_bubble(e){return null==e?this.get_bubble_null():("number"!=typeof e&&i("date interval",e),e)},storable:!0,bindable:!1})})),HE=u((e=>{"use strict";f();var t=od(),r=Fl(),n=e;n.get_array_from_range=function(e){return null==e?null:e.all?e.all():0===e.length?[]:[e[0],e[1]]},n.create_range_btype_messages=function(e,i,a){let o,s,l=e+"_range",_={equals:{description:" is ",ret_btype:"sys.bool",arg_btype:e,no_composer:()=>!0,fn:(e,t)=>r.get(l).equals(e,t)},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:e,no_composer:()=>!0,fn:(e,t)=>!r.get(l).equals(e,t)},min:{description:"date"===e?":start":":min",ret_btype:e,fn(e,t){if(e)return e=n.get_array_from_range(e),a(Math.min(i(e[0]),i(e[1])))}},max:{description:"date"===e?":end":":max",ret_btype:e,fn(e,t){if(e)return e=n.get_array_from_range(e),a(Math.max(i(e[0]),i(e[1])))}},average:{description:"date"===e?":center":":average",ret_btype:e,fn:(e,t)=>{if(e)return e=n.get_array_from_range(e),a((i(e[0])+i(e[1]))/2)}},is_empty:{description:" is empty",ret_btype:"sys.bool",fn:(e,t)=>null==(e=n.get_array_from_range(e))||0===e.length},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",fn:(e,t)=>null!=(e=n.get_array_from_range(e))&&0!==e.length}};"date"===e?(s="before",o="after"):(s="smaller than",o="greater than");let u={range_contains:{description:" contains range "},range_contains_point:{description:` contains ${e} `},range_contained_by:{description:" is contained by "},range_overlaps:{description:" overlaps with "},range_greater_than:{description:` is ${o} range `},range_greater_than_point:{description:` is ${o} ${e} `},range_less_than:{description:` is ${s} range `},range_less_than_point:{description:` is ${s} ${e} `}};for(let r in u){let a=u[r],o=r.endsWith("_point");_[r]={description:a.description,ret_btype:"sys.bool",arg_btype:o?e:e+"_range",fn:(e,a)=>{if(!e)return!1;function s(e){let t=i(null==e?void 0:e[0]),r=i(null==e?void 0:e[1]);return[Math.min(t,r),Math.max(t,r)]}let l,_=s(e=n.get_array_from_range(e));return o?l=i(a):l=s(a=n.get_array_from_range(a)),t.all_search_constraints[r](l,_)}}}return _}})),VE=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),{get_array_from_range:n,create_range_btype_messages:i}=HE(),{build_simple:a}=UE(),{generate_JS_to_bubble_error:o}=$E(),s=qr(),l=$r();function _(e){var t;return null==(t=l.mk_date(e))?void 0:t.getTime()}function u(e){return r.format_date(e,"mmm d, yyyy h:MM tt",null,s().current_timezone())}t.exports=a("date_range",{messages:i("date",_,l.mk_date),display:()=>"date range",runmode_display:null,export_to_string(e){let[t,r]=this.cast(e);return JSON.stringify([u(t),u(r)])},debugging_display(e){let[t,r]=this.cast(e);return"("+u(t)+" -> "+u(r)+")"},equals(e,t){var r,i,a,o;e=n(e),t=n(t);let s=_(l.mk_date(null==(r=e)?void 0:r[0])),u=_(l.mk_date(null==(i=e)?void 0:i[1])),c=_(l.mk_date(null==(a=t)?void 0:a[0])),d=_(l.mk_date(null==(o=t)?void 0:o[1])),p=[s,u].sort(),f=[c,d].sort();return(null==p?void 0:p[0])===(null==f?void 0:f[0])&&(null==p?void 0:p[1])===(null==f?void 0:f[1])},get_sample(){let e=new Date,t=(new Date).setDate(e.getDate()-2);return[e,t]},get_bubble_null:()=>[],cast(e){if(!e)return this.get_bubble_null();e=n(e);let t=_(l.mk_date(e[0])),r=_(l.mk_date(e[1]));return null==t||null==r?this.get_bubble_null():[l.mk_date(Math.min(t,r)),l.mk_date(Math.max(t,r))]},get_JS_object(e){var t,r;return e?1===(null==(t=(r=s()).api_version)?void 0:t.call(r))?n(e):this.cast(e):null},JS_to_bubble(e){return null==e?this.get_bubble_null():((!Array.isArray(e)||null==l.mk_date(e[0])||null==l.mk_date(e[1]))&&o("date range",e),this.cast(e))},storable:!0,bindable:!1})})),YE=u(((e,t)=>{"use strict";f();var{build_simple:r}=UE(),{get_file_messages:n,generate_JS_to_bubble_error:i}=$E(),{COMPOSER_INPUT_TYPES:a}=cw(),o=Sr();t.exports=r("file",{messages:n("file"),display:()=>"file",equals:(e,t)=>e===t,get_sample:()=>"file_name.png",get_bubble_null:()=>"",cast:o.cast_to_string,runmode_display:o.cast_to_string,get_JS_object:e=>e?o.cast_to_string(e):null,JS_to_bubble(e){return e?("string"!=typeof e&&i("file url as a string",e),e):this.get_bubble_null()},convert_to_bubble_instance:o.cast_to_string,composer_input_type:a.TEXT,synonyms:["text","image"],storable:!0,bindable:!1,can_sort:!0})})),KE=u(((e,t)=>{"use strict";f(),Ft();var r=Lo(),n=ot(),i=Xl(),{build_simple:a}=UE(),{generate_JS_to_bubble_error:o}=$E(),s=qr(),l=Kl(),_=Hl(),u=S_(),{COMPOSER_INPUT_TYPES:c}=cw(),d=null;function p(e){return(e=l.ensure_valid_location(e))?l.get_address(e):d}function h(e){return(e=l.ensure_valid_location(e))?e.lat:d}function g(e){return(e=l.ensure_valid_location(e))?e.lng:d}t.exports=a("geographic_address",{display:()=>"geographic address",equals:(e,t)=>e===t||l.is_equal(e,t),get_bubble_null:()=>d,messages:{formatted_address:{description:"'s formatted address",section:"Operators",ret_btype:"text",fn:p},google_map_link:{description:"'s link to Google Maps",section:"Operators",ret_btype:"text",fn(e,t){if(!(e=l.ensure_valid_location(e)))return d;let r="https://www.google.com/maps/place";if(null!=e.placeId)return`${r}/?q=place_id:${e.placeId}`;let n=`${e.lat},${e.lng}`;if(null!=e.address){return`${r}/${e.address.split(" ").join("+").replace(",","")}/@${n},15z`}return`${r}/${n}`}},distance_from:{ret_btype:"number",section:"Operators",arg_btype:null,field_names:{origin_address:{},unit:{default:"miles"}},spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.property("origin_address");return t=r&&!r.is_empty()?" "+r.get_tree_display():"..."," distance from"+t},fn(e,t,r){if(!(e=l.ensure_valid_location(e))||(r.origin_address=l.ensure_valid_location(r.origin_address),!r.origin_address))return d;let n={lat:r.origin_address.lat,lng:r.origin_address.lng},i={lat:e.lat,lng:e.lng};return e&&r.origin_address?_.geographic_distance(i,n,r.unit):d}},equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:(e,t)=>l.is_equal(e,t)},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:(e,t)=>!l.is_equal(e,t)},extract_from_address:{ret_btype:"text",section:"Other Operators",arg_btype:null,field_names:{component_to_extract:{}},spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.property("component_to_extract");return t=r&&!r.is_empty()?" "+r.get_static():"...",":extract"+t},fn(e,t,r){var n;if(!(e=l.ensure_valid_location(e)))return d;let i=l.get_components(e);return null!=(n=null==i?void 0:i[r.component_to_extract])?n:""}},latitude:{description:"'s latitude",section:"Other Operators",ret_btype:"number",fn:h},longitude:{description:"'s longitude",section:"Other Operators",ret_btype:"number",fn:g},timezone:{description:"'s time zone ID",section:"Other Operators",ret_btype:"text",fn(e,t){var r;return e?(null==(r=u.get_timezone_for_location(e))?void 0:r.timeZoneId)||"":d}},timezone_name:{description:"'s time zone name",section:"Other Operators",ret_btype:"text",fn(e,t){var r;return(e=l.ensure_valid_location(e))?(null==(r=u.get_timezone_for_location(e))?void 0:r.timeZoneName)||"":d}},daysaving_offset:{description:"'s daylight saving time offset",section:"Other Operators",ret_btype:"number",fn(e,t){var r;return(e=l.ensure_valid_location(e))?null==(r=u.get_timezone_for_location(e))?void 0:r.dstOffset:d}},raw_offset:{description:"'s offset from UTC",section:"Other Operators",ret_btype:"number",fn(e,t){var r;if(!(e=l.ensure_valid_location(e)))return d;let n=null==(r=u.get_timezone_for_location(e))?void 0:r.rawOffset;return n?n/60:d}},is_empty:{description:" is empty",section:"Other Operators",ret_btype:"sys.bool",fn:(e,t)=>null==e||""===e},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",fn:(e,t)=>null!=e&&""!==e}},cast(e){var t;return null!=(null==(t=e)?void 0:t.raw)&&(e=e.raw()),"function"==typeof e&&(e=e()),l.from_address(e)},runmode_display(e){var t;return e?(null!=(null==(t=e)?void 0:t.raw)&&(e=e.raw()),l.get_address(e)):""},get_JS_object(e){var t,r;return e?1===(null==(t=(r=s()).api_version)?void 0:t.call(r))?l.convert_to_old_format(e):{address:p(e),lat:h(e),lng:g(e)}:null},JS_to_bubble(e){if(null==e)return this.get_bubble_null();let t;if("string"==typeof e)t=()=>l.from_address(e);else if("object"==typeof e)if("string"==typeof e.address)t=()=>l.from_address(e.address);else if("number"==typeof e.lat&&"number"==typeof e.lng){if(null==r.to_num(e.lat)||null==r.to_num(e.lng))return this.get_bubble_nul();t=()=>l.from_address({lat:e.lat,lng:e.lng})}else if(null==e.lat||null==e.lng)return this.get_bubble_null();return null!=t?n.on_server()?t():t:o("geographic address as either a string or an object with lat and lng",e)},get_sample:()=>i.SAMPLE_VALUE,synonyms:["text"],composer_input_type:c.GEOGRAPHIC_ADDRESS,can_sort:!1,storable:!0,bindable:!1})})),JE=u(((e,t)=>{"use strict";f();var r=Lo(),{build_simple:n}=UE(),{get_file_messages:i,generate_JS_to_bubble_error:a}=$E(),o=Sr(),s=(qr(),cm()),{COMPOSER_INPUT_TYPES:l}=cw();t.exports=n("image",{messages:{...i("file"),imgix_treatment:{ret_btype:"image",arg_btype:null,field_names:{auto_enhance:{},q:{default:75,optional:!0},fm:{optional:!0},extract_face:{default:!1},facepad:{default:!1},crop_to_fit:{default:!1},red_eye:{default:!1},blur:{default:!1},blur_level:{default:100},mask:{default:!1},pixel:{default:!1},pixel_level:{default:10},sepia:{default:!1},sepia_level:{default:50},mono:{default:!1},mono_level:{default:"#3498db"}},spot_data:"SlidableAtom",description:e=>":processed with Imgix",fn(e,t,r){return e&&"string"==typeof e?s.ignore_imgix_fn(e)?e:s.add_processing_options(e,r):this.ret_btype_null()}}},display:()=>"image",equals:(e,t)=>e===t,get_sample:()=>"image_name.png",get_bubble_null:()=>"",cast:o.cast_to_string,runmode_display:o.cast_to_string,export_to_string:(e,t)=>!t.always_return_text&&e?r.img("img-preview",void 0,t.optimize_image(e,30,30)):o.cast_to_string(e),get_JS_object:e=>e?o.cast_to_string(e):null,JS_to_bubble(e){return null==e?this.get_bubble_null():("string"!=typeof e&&a("image url as a string",e),e)},convert_to_bubble_instance:o.cast_to_string,composer_input_type:l.TEXT,synonyms:["text"],storable:!0,bindable:!1})})),ZE=u(((e,t)=>{"use strict";f();var{build_simple:r}=UE(),n=Sr(),{COMPOSER_INPUT_TYPES:i}=cw();t.exports=r("key_combination",{messages:{equals:{description:" is ",ret_btype:"sys.bool",arg_btype:"text",fn:(e,t)=>e===t}},display:()=>"keyboard shortcut",equals:(e,t)=>e===t,cast:n.cast_to_string,runmode_display:n.cast_to_string,get_sample:()=>"Shift",composer_input_type:i.KEY_COMBINATION,synonyms:["text"]})})),QE=u(((e,t)=>{"use strict";f();var{build_simple:r}=UE();t.exports=r("null",{messages:{},runmode_display:null,export_to_string:e=>"",debugging_display:e=>"(null)",get_sample:()=>null,equals:(e,t)=>null!=e==(null!=t),cast:e=>e,display:()=>"",get_JS_object:e=>null,JS_to_bubble:e=>null,storable:!1,bindable:!1,convert_to_bubble_instance:()=>null})})),eM=u(((e,t)=>{"use strict";f();var r=Lo(),{build_simple:n}=UE(),{generate_JS_to_bubble_error:i}=$E(),{get_array_from_range:a,create_range_btype_messages:o}=HE();t.exports=n("number_range",{messages:o("number",r.to_num,(e=>e)),display:()=>"numeric range",runmode_display:null,export_to_string(e){return JSON.stringify(this.cast(e))},debugging_display(e){return JSON.stringify(this.cast(e))},equals(e,t){var r,n,i,o;e=a(e),t=a(t);let s=null==(r=e)||null==(n=r.sort)?void 0:n.call(r),l=null==(i=t)||null==(o=i.sort)?void 0:o.call(i);return(null==s?void 0:s[0])===(null==l?void 0:l[0])&&(null==s?void 0:s[1])===(null==l?void 0:l[1])},get_sample:()=>[1,30],get_bubble_null:()=>[],cast(e){if(!e)return this.get_bubble_null();e=a(e);let t=r.to_num(e[0]),n=r.to_num(e[1]);return null==t||null==n?this.get_bubble_null():[Math.min(t,n),Math.max(t,n)]},get_JS_object(e){return e?this.cast(e):null},JS_to_bubble(e){return e?((!Array.isArray(e)||"number"!=typeof e[0]||"number"!=typeof e[1])&&i("number range",e),this.cast(e)):this.get_bubble_null()},storable:!0,bindable:!1})})),tM=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.legacy_currency_symbols=e.currency_symbols=void 0,Ue();var t={dollar:"$",euro:"â¬",pound:"Â£",yen:"Â¥",rand:"R",naira:"â¦",won:"â©",peso:"â±",bgn:"ÐÐ²"};e.legacy_currency_symbols=t;var r=[...Object.values(t),"Ø±.Ø³","Ø¯.Ø¥","kr","â¹"];e.currency_symbols=r})),rM=u((e=>{"use strict";f();tM(),qr();var t=e;Nt().safe_register("./core/core_btypes/utilities/numeric_format_utilities",t),t.thousand_separators={comma:",",space:"Space",dot:"."},t.decimal_separators={point:".",comma:","},t.format_number_names={formatting_type:{default:"number",no_states:!0},decimal_place:{},decimal_separator:{default:"point"},thousand_separator:{},currency_symbol:{},negative_parenthese:{}}})),nM=u(((e,t)=>{"use strict";f(),Ft();var r=Lo(),n=tM(),i=Jh(),a=qr(),{format_number_names:o,format_number_fields:s,thousand_separators:l,decimal_separators:_}=rM(),{build_simple:u}=UE(),{generate_JS_to_bubble_error:c}=$E(),d=Gr(),{COMPOSER_INPUT_TYPES:p}=cw(),h=x_(),g=1e30;t.exports=u("number",{messages:{format_number:{ret_btype:"text",fn(e,t,i){if(null==(e=r.to_num(e)))return this.ret_btype_null();let a=e=>i[e];"percentage"===a("formatting_type")&&(e*=100);let o,s=a("negative_parenthese")&&e<0,u=s?Math.abs(e):e,c=a("decimal_place");null!=c?(c=Math.max(Math.min(c,100),0),o=u.toFixed(c)):o=r.dec_to_string(u);let d=_[a("decimal_separator")];if(o=o.replace(".",d),a("thousand_separator")){let e=l[a("thousand_separator")];"Space"===e&&(e=" ");let t=o.split(d);t[0]=r.add_thousand_sep(t[0],e),o=t.join(d)}if("percentage"===a("formatting_type")&&(o+="%"),s&&(o="("+o+")"),"currency"===a("formatting_type")&&a("currency_symbol")){let t=a("currency_symbol"),r=n.legacy_currency_symbols[t];r&&(t=r),o=e<0&&!s?"-"+t+o.replace("-",""):t+o}return o},spot_data:"SlidableAtom",description(e){let t,r=h.evaluate_properties(e);return t=r?" "+this.fn("1028.58",void 0,r):"...",":formatted as"+t},field_names:o},equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"number",fn:(e,t)=>d.num_equals(e,t),build_pg_constraint:i.equals,build_pg_r_constraint:i.equals,build_pg_relationship:i.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"number",fn:(e,t)=>!d.num_equals(e,t),build_pg_constraint:i.not_equals,build_pg_r_constraint:i.not_equals,build_pg_relationship:i.not_equals_both},greater_than:{description:" > ",section:"Operators",ret_btype:"sys.bool",arg_btype:"number",fn:(e,t)=>!d.num_equals(e,t)&&r.to_num(e)>r.to_num(t)},greater_or_equal_than:{section:"Operators",description:" â¥ ",ret_btype:"sys.bool",arg_btype:"number",fn:(e,t)=>d.num_equals(e,t)||r.to_num(e)>=r.to_num(t)},less_than:{section:"Operators",description:" < ",ret_btype:"sys.bool",arg_btype:"number",fn:(e,t)=>!d.num_equals(e,t)&&r.to_num(e)<r.to_num(t)},less_or_equal_than:{section:"Operators",description:" â¤ ",ret_btype:"sys.bool",arg_btype:"number",fn:(e,t)=>d.num_equals(e,t)||r.to_num(e)<=r.to_num(t)},plus:{description:" + ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>r.to_num(r.to_num(e)+r.to_num(t))},minus:{description:" - ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>r.to_num(r.to_num(e)-r.to_num(t))},times:{description:" * ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>r.to_num(r.to_num(e)*r.to_num(t))},divide:{description:" / ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>r.to_num(r.to_num(e)/r.to_num(t))},power:{description:" ^ ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>r.to_num(Math.pow(r.to_num(e),r.to_num(t)))},round:{description:"rounded to ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>r.to_num(function(e,t){let r=Math.min(g,Math.max(-g,e)),n=Math.min(30,Math.max(-30,t));return Math.round(r*Math.pow(10,n))/Math.pow(10,n)}(r.to_num(e),r.to_num(t))),editor:{static:!0,default:1}},floor:{description:":floor ",section:"Operators",ret_btype:"number",fn:(e,t)=>Math.floor(r.to_num(e))},ceil:{description:":ceiling ",section:"Operators",ret_btype:"number",fn:(e,t)=>Math.ceil(r.to_num(e))},to_range:{description:"<- range ->",section:"Other Operators",arg_btype:"number",ret_btype:"number_range",fn:(e,t)=>(e=r.to_num(e),t=r.to_num(t),null==e||null==t?[]:[Math.min(e,t),Math.max(e,t)])},max:{description:" <- max -> ",section:"Other Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>Math.max(r.to_num(e),r.to_num(t))},min:{description:" <- min -> ",section:"Other Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>Math.min(r.to_num(e),r.to_num(t))},modulo:{description:" <- modulo -> ",section:"Other Operators",ret_btype:"number",arg_btype:"number",fn:(e,t)=>r.to_num(r.to_num(e)%r.to_num(t))},is_empty:{description:" is empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:i.is_empty,fn:(e,t)=>null==e||""===e},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:i.is_not_empty,fn:(e,t)=>null!=e&&""!==e}},composer_input_type:p.NUMBER,display:()=>"number",runmode_display:e=>null===(e=r.to_num(e))?"":a().locale().format_decimal(e),export_to_string:(e,t)=>t.preserve_numbers?e:null===(e=r.to_num(e))?"":a().locale().format_decimal(e),equals:d.num_equals,get_sample:()=>42,cast:e=>r.to_num(e),get_JS_object:e=>r.to_num(e),JS_to_bubble(e){if(null==e)return this.get_bubble_null();let t=r.to_num(e);return"number"!=typeof t&&c("number",e),t},convert_to_bubble_instance:r.to_num,can_sort:!0,storable:!0,bindable:!1})})),iM=u(((e,t)=>{"use strict";f(),Ft();var r,n,i=Lo(),a=qr(),o=Fl(),s=xr(),_=ot(),u=yA(),c=Jh(),{build_simple:d}=UE(),{generate_JS_to_bubble_error:p,get_json_encode_msg:h}=$E(),g=Sr(),{COMPOSER_INPUT_TYPES:m}=cw();if(_.on_server()){let e=l;r=e("crypto"),n=e("../../../server/utility/safe_regex")}t.exports=d("text",{messages:{equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:(e,t)=>e===t,build_pg_constraint:c.equals,build_pg_r_constraint:c.equals,build_pg_relationship:c.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:(e,t)=>e!==t,build_pg_constraint:c.not_equals,build_pg_r_constraint:c.not_equals,build_pg_relationship:c.not_equals_both},contains:{description:" contains ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn(e,t){var r,n;return null!=(r=null==e||null==(n=e.includes)?void 0:n.call(e,t))&&r}},not_contains:{description:" doesn't contain ",ret_btype:"sys.bool",section:"Operators",arg_btype:"text",fn(e,t){var r,n;return null==(r=!(null!=e&&null!=(n=e.includes)&&n.call(e,t)))||r}},is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:c.is_empty,fn:e=>null==e||""===e},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:c.is_not_empty,fn:(e,t)=>null!=e&&""!==e},to_capitalized_words:{description:":capitalized words",section:"Other Operators",ret_btype:"text",fn(e){var t,r;return null!=(t=null==(r=i.toTitleCase(e,!0))?void 0:r.toString())?t:this.ret_btype_null()}},to_uppercase:{description:":uppercase",section:"Other Operators",ret_btype:"text",fn(e){var t,r;return null!=(t=null==e||null==(r=e.toUpperCase)?void 0:r.call(e))?t:this.ret_btype_null()}},to_lowercase:{description:":lowercase",section:"Other Operators",ret_btype:"text",fn(e){var t,r;return null!=(t=null==e||null==(r=e.toLowerCase)?void 0:r.call(e))?t:this.ret_btype_null()}},format_text:{section:"Other Operators",ret_btype:"text",field_names:{formatting_type:{},replace_space:{default:!0},hmac_key:{},encode_b64:{}},spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.get_static_property("formatting_type");if(null!=r)switch(r){case"url_encode":t=" URL";break;case"md5_hash":t=" MD5 hash";break;case"hmac":t=" HMAC SHA256 digest";break;case"hmac_sha1":t=" HMAC SHA1 digest";break;default:t=" "+u.masks[r].caption}else t="...";return":formatted as"+t},fn(e,t,n){let{formatting_type:a}=n;if(null==e)return this.ret_btype_null();if("us_phone"===a){let t;if(11===e.length?(t=e[0],e=e.slice(1)):t=null,10===e.length){let r="("+e.slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6);return t&&(r=t+" "+r),r}return e}if("us_ssn"===a)return 9===e.length?e.slice(0,3)+"-"+e.slice(3,5)+"-"+e.slice(5):e;if("url_encode"===a)return n.replace_space?encodeURIComponent(e.replace(/\s/g,"+")):encodeURIComponent(e);if("md5_hash"===a)return i.digest(e);if(["hmac","hmac_sha1"].includes(a)){let t;if(!_.on_server())return"HMAC Digest computation on the client";if(!n.hmac_key)return"HMAC Secret missing";t="hmac"===a?"SHA256":"SHA1";let i=r.createHmac(t,n.hmac_key).update(e);return n.encode_b64?i.digest("base64"):i.digest("hex")}return"unrecognized format type: "+a}},use_text_as:{section:"Other Operators",ret_btype(e){var t,r;return null!=e||(e={}),null!=(t=null==(r=e["%p"])?void 0:r.data_type)?t:"text"},field_names:{data_type:{}},spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.get_static_property("data_type");if(null!=r)switch(r){case"file":t=" a file";break;case"image":t=" an image";break;default:t=" [invalid type]"}else t="...";return":used as"+t},fn(e,t,r){var n,i;return null!=(n=null==(i=o.get(r.data_type))?void 0:i.cast(e))?n:e}},trimmed:{description:":trimmed",section:"Other Operators",ret_btype:"text",arg_btype:null,fn(e,t){var r,n;return null!=(r=null==e||null==(n=e.trim)?void 0:n.call(e))?r:this.ret_btype_null()}},length:{description:":number of characters",section:"Other Operators",ret_btype:"number",arg_btype:null,fn:(e,t)=>e?e.length:0},extract_from_text:{ret_btype:"text",section:"Other Operators",field_names:{text_type:{},component_to_extract:{}},spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.property("component_to_extract");return t=r&&!r.is_empty()?" "+r.get_static():"...",":extract"+t},fn(e,t,r){if(!e)return this.ret_btype_null();switch(r.text_type){case"email":if(!i.is_email(e))return this.ret_btype_null();switch(r.component_to_extract){case"domain":return e.split("@")[1];case"alias":return e.split("@")[0];case"top domain":{let t=e.split("@")[1].split("."),{length:r}=t;return t[r-2]+"."+t[r-1]}}break;default:return this.ret_btype_null()}}},convert_to_number:{description:":converted to number",section:"Other Operators",ret_btype:"number",arg_btype:null,fn(e){var t;let r=i.remove_invalid_from_num(g.cast_to_string(e)),n=(null!=(t=a().browser_locale())?t:a().locale()).parse_float(r);return i.to_num(n)}},split_by:{ret_btype:s.list_type("text"),section:"Other Operators",field_names:{separator:{}},spot_data:"SlidableAtom",description(e){let t,r=null==e?void 0:e.property("separator").get_tree_display();return t=r?r.length>5?` (${r.slice(0,5)}â¦)`:` (${r})`:"...",":split by"+t},fn(e,t,r){if(!e||null==e.split)return a().db_instance().static_list("text",[]);let{separator:n}=r;return[void 0,null,""].includes(n)?a().db_instance().static_list("text",e.split("\n")):a().db_instance().static_list("text",e.split(n))}},find_replace:{ret_btype:"text",section:"Other Operators",field_names:{find:{},use_regex:{default:!1},replace:{optional:!0}},spot_data:"SlidableAtom",description:":find & replace",fn(e,t,r){var a;if(!e||null==e.split)return this.ret_btype_null();let{find:o}=r;if([void 0,null,""].includes(o))return e;let s=null!=(a=r.replace)?a:"";if(r.use_regex){let t;try{t=new RegExp(o,"g")}catch(e){throw new i.OwnerError("Bad regex format",{display:"Bad Regex format: "+e.message})}return _.on_server()?n.replace({regex_string:o,string:e,replace_with:s}):e.replace(t,s)}return e.split(o).join(s)}},extract_regex:{ret_btype:s.list_type("text"),section:"Other Operators",field_names:{regex:{}},spot_data:"SlidableAtom",description:":extract with Regex",fn(e,t,r){if(!e||"string"!=typeof e||[void 0,null,""].includes(r.regex))return a().db_instance().static_list("text",[]);let o;try{o=new RegExp(r.regex,"g")}catch(e){throw new i.OwnerError("Bad regex format",{display:"Bad Regex format: "+e.message})}let s=_.on_server()?n.match({regex_string:r.regex,string:e}):e.match(o);return a().db_instance().static_list("text",s)}},append:{description:"append",section:"Other Operators",ret_btype:"text",arg_btype:"text",fn:(e,t)=>[e,t].map((e=>g.cast_to_string(e))).join("")},defaulting_to:{description:"defaulting to ",section:"Other Operators",ret_btype:"text",arg_btype:"text",fn:(e,t)=>e||(null!=t?t:"")},truncated:{description:"truncated to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn(e,t){return"string"!=typeof e?this.ret_btype_null():t?e.slice(0,i.to_num(t)):e}},truncated_right:{description:"truncated from end to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn(e,t){if("string"!=typeof e)return this.ret_btype_null();if(t){let r=e.length-i.to_num(t);return r<0&&(r=0),e.slice(r)}return e}},format_json_encode:h("text")},display:()=>"text",equals:(e,t)=>e===t,get_sample:()=>"Lorem ipsum...",get_bubble_null:()=>"",cast:g.cast_to_string,runmode_display:g.cast_to_string,export_to_string:g.cast_to_string,debugging_display:g.cast_to_string,get_JS_object:e=>e?g.cast_to_string(e):null,JS_to_bubble(e){return null==e?this.get_bubble_null():("string"!=typeof e&&p("string",e),e)},can_sort:!0,composer_input_type:m.TEXT,convert_to_bubble_instance:g.cast_to_string,storable:!0,bindable:!1})})),aM=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Lr(),i=Po(),a=b_(),o=ky(),s=(uv(),ql()),{create_custom_btype:l}=UE();function _(){return["Created By"]}function u(){let e={email:{description:"'s email",section:"Data Fields",ret_btype:"text",public_for_plugins:!0,fn(e,t){var r,n;return e&&null!=(r=null==(n=e.get_email)?void 0:n.call(e))?r:""}},logged_in:{description(e,r){var n,i,a,o,s,l,_;null!=r||(r={});let{parent_node:u}=r,c="CurrentUser"===(null==e||null==(n=e.parent_expression)||null==(i=(a=n.call(e)).type)?void 0:i.call(a)),d="CurrentUser"===(null==u||null==(o=u.type)?void 0:o.call(u)),p=null==u||null==(s=u.json)||null==(l=s.raw)||null==(_=l.call(s))?void 0:_.condition,f=!1;return p&&(f=null!=p.next?"CurrentUser"===t(p):"CurrentUser"===p.type),c||d||f?" is logged in":" has an account"},section:"Other Operators",ret_btype:"sys.bool",fn(e,t){var r;return e?null==(r=e.is_logged_in)?void 0:r.call(e):this.ret_btype_null()},is_lookup:"user_signed_up"},not_logged_in:{description(e,t){var r,n,i,a;null!=t||(t={});let{parent_node:o}=t,s="CurrentUser"===(null==e||null==(r=e.parent_expression)||null==(n=(i=r.call(e)).type)?void 0:n.call(i)),l="CurrentUser"===(null==o||null==(a=o.type)?void 0:a.call(o));return s||l?" is logged out":" doesn't have an account"},section:"Other Operators",ret_btype:"sys.bool",fn(e,t){var r;return e?!(null!=(r=e.is_logged_in)&&r.call(e)):this.ret_btype_null()}}};function t(e){var r,n;let i=e;for(;null!=i.next;)i=i.next;return null!=(null==(r=i.args)?void 0:r.next)?t(i.args):null!=(null==(n=i.args)?void 0:n.type)?i.args.type:null}function l(t,n,i){var a;e[t]={ret_btype:n.get_value_id(),hidden:i,no_composer:e=>"CurrentUser"!==e.type()&&n.is_reflective,fn:o.make_call_fn(n),field_names:r.extend({},n.parameters,{element_id:{}}),description:null!=(a="'s "+n.display())?a:r.toTitleCase(t),section:"Data Fields"}}n.optional_pause();let _=a.get_user_calls();for(let e in _){l(e,_[e]),n.optional_pause("add_oauth_message "+e)}return r.extend(e,{email_confirmed:{description:"'s email confirmed",ret_btype:"boolean",section:"Data Fields",fn(e,t){var r;return e?[!0,"true"].includes(null==(r=e.child)?void 0:r.call(e,"authentication").child("email").child("email_confirmed").get()):this.ret_btype_null()}},uses_pw:{description:" uses password",ret_btype:"boolean",section:"Other Operators",fn(e,t){var r;return e?null!=(null==(r=e.child)?void 0:r.call(e,"authentication").child("email").child("email").get()):this.ret_btype_null()}},uses_2fa:{description:" uses 2FA",ret_btype:"boolean",section:"Other Operators",no_composer:()=>!i.get_public_setting("twofa_auth"),fn(e,t){return e&&e._id()!==s.NO_USER?"true"===(null==(r=e.child)||null==(n=r.call(e,"authentication"))||null==(i=n.child("2fa"))||null==(a=i.child("uses_2fa"))?void 0:a.get()):this.ret_btype_null();var r,n,i,a}},has_2fa_backup:{description:" has 2FA backup codes",ret_btype:"boolean",section:"Other Operators",no_composer:()=>!i.get_public_setting("twofa_auth"),fn(e,t){return e&&e._id()!==s.NO_USER?"true"===(null==(r=e.child)||null==(n=r.call(e,"authentication"))||null==(i=n.child("2fa"))||null==(a=i.child("has_codes"))?void 0:a.get()):this.ret_btype_null();var r,n,i,a}},is_using_cookies:{description:" is using cookies",ret_btype:"boolean",section:"Other Operators",no_composer:()=>!i.get_public_setting("cookie_opt_in"),fn(e,t){var r;return e?(null==(r=e._id)?void 0:r.call(e))!==s.NO_USER:this.ret_btype_null()}}}),[e,[...["email"].map((e=>({value:e,high_priority:!0}))),{value:"email_confirmed",high_priority:!1},{value:"logged_in",high_priority:!1},{value:"not_logged_in",high_priority:!1},{value:"uses_pw",high_priority:!1},{value:"uses_2fa",high_priority:!1},{value:"has_2fa_backup",high_priority:!1},{value:"is_using_cookies",high_priority:!1}]]}t.exports=function(){let e=i.custom_type("user");return l("user",e,u,_,!1)}})),oM=u(((e,t)=>{"use strict";f();var r=Po();t.exports={get(e){let t=e.split(".")[0],n=r.workflow_item(t);return null!=n&&n.exists()?n.get_value()[e]:null},list:()=>[],display:()=>"API Event data"}})),sM=u(((e,t)=>{"use strict";f(),Ft();var r=b_(),n=y_();t.exports={get(e){var t;let r=e.split(".")[0],i=e.split(".").slice(1).join(".");return null==(t=n.get_plugin(r))?void 0:t.get_values()[i]},list:()=>r.get_value_ids().map((e=>e.replace("api.",""))),display:()=>"external data"}})),lM=u(((e,t)=>{"use strict";f();var r=Lo(),n=xr(),i=Po(),{create_custom_btype:a}=UE();t.exports={get(e){if(!e)throw new r.UnexpectedError("custom btype created without id.  Namespace: custom");let t=i.custom_type(e),o=n.custom_type(e);return a(o,t)},list:()=>i.custom_types(void 0,void 0,!0).filter((e=>"user"!==e.id())).map((e=>e.id())),display:()=>"custom type"}})),_M=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Po(),i=xr(),{add_basic_element_messages:a}=$E(),o=Rp();t.exports={get(e){let t=n.element(e),s={};if(null!=t&&t.exists()){let e=t.get_states();t.add_specific_messages(s),a(e,s,o.has_event("ButtonClicked",t.type())),r.extend(s,{is_visible:{description:" is visible",section:"States",ret_btype:"sys.bool",fn:(e,t)=>null==e?void 0:e.is_visible(),filter_context:e=>"State"===e.owner_type||("Workflow"===e.owner_type||"BackendWorkflow"===e.owner_type)&&e.in_event_condition},isnt_visible:{description:" isn't visible",section:"States",ret_btype:"sys.bool",fn:e=>!(null!=e&&e.is_visible()),filter_context:e=>"State"===e.owner_type||("Workflow"===e.owner_type||"BackendWorkflow"===e.owner_type)&&e.in_event_condition}});for(let e of t.element_custom_states())s[e.name()]={description:"'s "+e.display(),section:"Custom States",ret_btype:e.value(),fn(t){var r;return null==t?this.ret_btype().get_bubble_null():this.ret_btype().cast(null!=(r=t.state(e.name()))?r:e.default_val())},delete_cb(){if(window.confirm(`Delete custom state ${e.display()}?`))return e.delete()}}}for(let e in s){let t=s[e];i.is_custom_type(e)?t.documentation_id="Documentation.Elements.GeneralConcepts.States.CustomStates":t.documentation_id="Documentation.Elements.GeneralConcepts.States."+e}return{display:()=>"element",get_message_names:()=>Object.keys(s),get_message:e=>s[e],cast:e=>e,get_bubble_null:()=>null,storable:!1,bindable:!1}},list:()=>[],display:()=>"element"}})),uM=u(((e,t)=>{"use strict";f();var r=Nt(),n=t.exports;r.safe_register("./core/core_datasources/utilities/core_ds_field_names",n),n.constraints_field_names={constraints:{}},n.sorting_field_names={sort_field:{},dynamic_sort_field:{},geo_reference:{},descending:{optional:!0},additional_sort_fields:{optional:!0}}})),cM=u(((e,t)=>{"use strict";f(),Ue();og(),t.exports})),dM=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Kt(),i=Fr(),a=ql(),o=Ul(),s=Jh(),l=Zh(),_=Jt(),u=jl(),c=cl(),d=xr(),p=r_(),h=q_(),g=W_(),m=U_(),v=$_(),y=F_(),b=Fl(),w=qr(),A=Cd(),E=xl(),M=Zm(),x=Ql(),O=Nl(),k=uM(),S=(cM(),og()),T=Al(),{S:N}=E,C=["greater_or_equal_than","greater_than","less_or_equal_than","less_than","not_equals","equals"];function L(e,t,r){var n,a;return"line_break"===r&&(r="\n"),(null!=(n=null==t||null==(a=t.all)?void 0:a.call(t))?n:[]).map((t=>(i.optional_pause_tick(10),e(t)))).join(r)}function P(e,t,r,n,i){var a,o;if("function"!=typeof(null==e?void 0:e.length))return 0;let s=null==n||null==(a=n["%n"])?void 0:a["%nm"];if(C.includes(s)){var l;let t=null==(l=n["%n"])?void 0:l["%a"];if("number"==typeof t){let r={greater_than:{true:1,false:-1},greater_or_equal_than:{true:1,false:-1},less_than:{true:-1,false:1},less_or_equal_than:{true:-1,false:1},equals:{true:0,false:-1},not_equals:{true:-1,false:0}};return(null==e?void 0:e["length_"+s](t,i))?t+r[s].true:t+r[s].false}}return null!=(o=e.length(i))?o:0}function R(e){let t=e["%n"],r=null==t?void 0:t["%nm"],n=null==t?void 0:t["%a"];return C.includes(r)&&"number"==typeof n?`${n}_${r}`:""}t.exports={list(){},display:()=>"list",get(e){let t=b.get(e),f=null;t.has_runmode_display()&&(f=e=>L((e=>t.runmode_display(e)),e,", "));let E=null;t.has_export_to_string()&&(E=function(e,n){var i,a;return n.always_return_text=!0,(null!=(i=null==e||null==(a=e.all)?void 0:a.call(e))?i:[]).map((e=>{let i=new Map(n.visited_field_types),a=r.extend({},n,{visited_field_types:i});return t.export_to_string(e,a)})).join(" , ")});let C=null;t.has_debugging_display()&&(C=e=>L((e=>t.debugging_display(e)),e,", "));let z=function(e){let t=e.id(),i=null,f={[T.LIST_OPERATOR_NAMES.Count]:{description:":count",section:"Operators",can_be_cached:!0,ret_btype:"number",fn:(e,t,r,n,i,a)=>P(e,t,r,n,a),message_cache_id:e=>{let{raw:t}=e;return R(t)}},[T.LIST_OPERATOR_NAMES.Contains]:{description:" contains ",section:"Operators",ret_btype:"sys.bool",arg_btype:t,build_pg_constraint:s.contains,build_pg_r_constraint:s.in,build_pg_relationship:s.contains_both,fn:(t,r)=>{var n;return!!t&&(null==(n=t.contains)?void 0:n.call(t,r,e))}},[T.LIST_OPERATOR_NAMES.NotContains]:{description:" doesn't contain ",section:"Operators",ret_btype:"sys.bool",arg_btype:t,build_pg_constraint:s.not_contains,build_pg_r_constraint:s.not_in,build_pg_relationship:s.not_contains_both,fn:(t,r)=>{var n;return!t||!(null!=(n=t.contains)&&n.call(t,r,e))}},[T.LIST_OPERATOR_NAMES.FirstElement]:{description:":first item",section:"Operators",ret_btype:t,fn(e){var t;return null!=e&&e.get_children&&null!=(t=e.get_children(0,1)[0])?t:this.ret_btype_null()}},[T.LIST_OPERATOR_NAMES.LastElement]:{description:":last item",section:"Operators",ret_btype:t,fn(e){var t;if(null==e||!e.get_children)return this.ret_btype_null();let r=e.length();return r&&null!=(t=e.get_children(r-1,1)[0])?t:this.ret_btype_null()}},[T.LIST_OPERATOR_NAMES.RandomElement]:{description:":random item",section:"Operators",ret_btype:t,fn(e,t,r,n,i){var a;if(null==e||!e.get_children||!e.length())return this.ret_btype_null();let o,s=e.length();o=null!=i&&i.random_generator?e=>i.random_generator.random(0,s):e=>Math.random()*s;let l=Math.floor(o());return null!=(a=e.get_children(l,1)[0])?a:this.ret_btype_null()}},[T.LIST_OPERATOR_NAMES.SpecificItem]:{description:":item #",section:"Operators",ret_btype:t,arg_btype:"number",fn(e,t,r,i){var a;if(null==e||!e.get_children||!t||t<1)return this.ret_btype_null();let o=Math.ceil(t-1);return o!==t-1&&n.verbose("user trying to offset list from decimal value",{b:t,b_string:String(t),_raw:i}),null!=(a=e.get_children(o,1)[0])?a:this.ret_btype_null()}},[T.LIST_OPERATOR_NAMES.LimitTo]:{description:":items until #",section:"Operators",ret_btype:d.list_type(t),arg_btype:"number",fn(e,r,i,a){if(null==e||!e.get_children||null==r)return w().db_instance().static_list(t,[]);let o=Math.floor(r);return o!==r&&n.verbose("user trying to cap list at decimal value",{b:r,b_string:String(r),_raw:a}),e.capped(o)}},[T.LIST_OPERATOR_NAMES.ListFrom]:{section:"Operators",description:":items from #",ret_btype:d.list_type(t),arg_btype:"number",fn(e,r,i,a){if(null==e||!e.get_children||null==r)return w().db_instance().static_list(t,[]);let o=Math.ceil(r-1);return o!==r-1&&n.verbose("user trying to offset list from decimal value",{b:r,b_string:String(r),_raw:a}),e.offset(o)}},[T.LIST_OPERATOR_NAMES.ContainsList]:{description:" contains list ",section:"Operators",ret_btype:"sys.bool",arg_btype:d.list_type(t),fn:(t,r)=>{for(let o of null!=(n=null==r||null==(i=r.all)?void 0:i.call(r))?n:[]){var n,i,a;if(null==t||null==(a=t.contains)||!a.call(t,o,e))return!1}return!0}},[T.LIST_OPERATOR_NAMES.Join]:{description:" join with ",section:"Operators",ret_btype:"text",arg_btype:"text",should_include:e.has_runmode_display(),fn:(r,n)=>(u.registry.is(r,u.LIST_WRAPPER)||(r=w().db_instance().static_list(t,[])),L((t=>e.runmode_display(t)),r,n)),editor:{static:!0,default:", "}},[T.LIST_OPERATOR_NAMES.Sum]:{description:":sum",section:"Operators",can_be_cached:!0,ret_btype:"number",should_include:e.matches("number"),fn:(e,r,n,i,a,o)=>(u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[])),e.sum(o))},[T.LIST_OPERATOR_NAMES.Product]:{description:":product",section:"Operators",can_be_cached:!0,ret_btype:"number",should_include:e.matches("number"),fn:(e,r,n,i,a,o)=>(u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[])),e.product(o))},[T.LIST_OPERATOR_NAMES.Average]:{description:":average",section:"Operators",can_be_cached:!0,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:(e,r,n,i,a,o)=>{u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[0]));let s=e.average(o);return null!=s?s:0===e.length()?0:s}},[T.LIST_OPERATOR_NAMES.Median]:{description:":median",section:"Operators",can_be_cached:!0,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:(e,r,n,i,a,o)=>{u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[0]));let s=e.median(o);return null!=s?s:0===e.length()?0:s}},[T.LIST_OPERATOR_NAMES.Min]:{description:":min",section:"Operators",can_be_cached:!0,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:(e,r,n,i,a,o)=>{u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[0]));let s=e.min(o);return null!=s?s:0===e.length()?0:s}},[T.LIST_OPERATOR_NAMES.Max]:{description:":max",section:"Operators",can_be_cached:!0,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:(e,r,n,i,a,o)=>{u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[0]));let s=e.max(o);return null!=s?s:0===e.length()?0:s}},...Object.fromEntries(e.get_messages().filter((e=>!e.M.arg_btype&&(!["function","object"].includes(typeof e.M.ret_btype)||[null,[]].includes(typeof e.M.ret_btype)))).map((e=>{let r,n={convert_to_list:!0},i=":each item";r=d.is_list(e.M.ret_btype)?e.M.ret_btype:d.list_type(e.M.ret_btype);let a={description(t,r){var n;if(null!=r||(r={}),r.for_consumer===_.DROPDOWN_DESCRIPTION_CONTEXT)return i+e.description(t);let a=null!=(n=r.parent_node)?n:null==t?void 0:t.prior();return a instanceof M.DataSource||null==a||!a.prior().get_value().is_list()?i+e.description(t):e.description(t)},ret_btype:r,spot_data:e.M.spot_data,description_for_sliding_palette:e.M.description_for_sliding_palette,field_names:e.M.field_names,section:e.M.section,fields:e.M.fields,compound_message:!0,no_composer:()=>n[e.name()],arg_btype:null,fn:(r,n,i,a)=>{u.registry.is(r,u.LIST_WRAPPER)||(r=w().db_instance().static_list(t,[]));let o=new h(r,{value_id:t,message:e.name(),properties:i,_raw:a,arg:n});return d.is_list(e.M.ret_btype)&&(o=o.flatten()),o}};return[e.name(),a]}))),[T.LIST_OPERATOR_NAMES.PlusElement]:{description:":plus item ",ret_btype:d.list_type(t),section:"Other Operators",arg_btype:t,fn:(r,n)=>(u.registry.is(r,u.LIST_WRAPPER)||(r=w().db_instance().static_list(t,[])),n=null==(n=e.cast(n))?w().db_instance().static_list(t,[]):w().db_instance().static_list(t,[n]),new v(new m(w().db_instance().static_list(d.list_type(t),[r,n]))))},[T.LIST_OPERATOR_NAMES.MinusElement]:{description:":minus item ",section:"Other Operators",should_include:"geographic_address"!==t,ret_btype:d.list_type(t),arg_btype:t,fn(n,i){if(u.registry.is(n,u.LIST_WRAPPER)||(n=w().db_instance().static_list(t,[])),null==(i=e.cast(i)))return n;let a;if(null!=i._id)a=[{key:o.UNIQUE_ID,constraint_type:"not equal",value:i._id()}];else{let n=!e.get_message("not_equals").is_not_found(),s="string"==typeof i&&null!=e.plugin.uid_field;if(!n&&!s)throw new r.UnexpectedError("minus_element called on a btype that doesn't have not_equals: "+t);a=[{key:o.ADVANCED_SEARCH_CONSTRAINT,value:{"%x":"InjectedValue","%n":{"%nm":"not_equals","%a":i,"%x":"Message"}},self:n?t:"text"}]}return n.filter(a)}},[T.LIST_OPERATOR_NAMES.MinusList]:{description:":minus list ",section:"Other Operators",should_include:"geographic_address"!==t,ret_btype:d.list_type(t),arg_btype:d.list_type(t),fn:(e,r)=>(e=l.process_list_arg(t,e),r=l.process_list_arg(t,r),e.minus_list(r))},[T.LIST_OPERATOR_NAMES.MergedWith]:{description:" merged with ",section:"Other Operators",ret_btype:d.list_type(t),arg_btype:d.list_type(t),fn:(e,r)=>(u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[])),u.registry.is(r,u.LIST_WRAPPER)||(r=w().db_instance().static_list(t,[])),new v(new m(w().db_instance().static_list(d.list_type(t),[e,r]))))},[T.LIST_OPERATOR_NAMES.IntersectWith]:{description:" intersect with ",section:"Other Operators",ret_btype:d.list_type(t),arg_btype:d.list_type(t),fn:(e,r)=>(u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[])),u.registry.is(r,u.LIST_WRAPPER)||(r=w().db_instance().static_list(t,[])),new g(w().db_instance().static_list(d.list_type(t),[e,r])))},[T.LIST_OPERATOR_NAMES.GroupBy]:{should_include:e.matches(b.compound),ret_btype(e){null!=e||(e={}),e=r.json_deep_copy(e);for(let i of["groupings","aggregations"])for(let a in null==(t=e["%p"])?void 0:t[i]){var t,n;let o=null==(n=e["%p"])?void 0:n[i][a];for(let e in o)"Empty"===o[e]["%x"]&&delete o[e];r.is_empty(o)&&delete e["%p"][i][a]}try{var i;let t=this.fn(void 0,void 0,null!=(i=e["%p"])?i:{});return d.list_type(t.get_item_btype_id())}catch{return"list.null"}},field_names:{groupings:{},aggregations:{}},spot_data:"SlidableAtom",description(t){var r;return null==t?":group by... ":":grouped by "+Object.values(null!=(r=t.property("groupings").raw())?r:{}).map((e=>e.message)).map((t=>e.get_message(t).description(void 0,!0))).join(", ")},section:"Other Operators",fn(e,r,n,i){u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[]));for(let e of O.object_values(n.groupings))a.CALENDAR_GROUPINGS.includes(e.fn)?(e.timezone_string=w().current_timezone(),"number"!=typeof e.start&&!(e.start instanceof Date)&&(null!=e.end?e.start=e.end-1:e.start=Date.now()),("number"!=typeof e.interval||e.interval<1)&&(e.interval=1)):"bucket"===e.fn&&"number"!=typeof e.start&&(e.start=0,("number"!=typeof e.interval||e.interval<=0)&&(e.interval=1));let o=O.object_values(n.aggregations);for(let e of o)p.can_aggregate_on(e.fn,t).includes(e.message)||delete e.message;let s=p.can_group_on(t),l={groupings:O.object_values(n.groupings).filter((e=>s.includes(e.message))),aggregations:o};return e.group_by(l)}},[T.LIST_OPERATOR_NAMES.Filtered]:{ret_btype:d.list_type(t),field_names:r.extend({ignore_empty_constraints:{}},k.constraints_field_names,k.sorting_field_names),spot_data:"SlidableAtom",description:":filtered",section:"Other Operators",fn(r,n,i,a,s){u.registry.is(r,u.LIST_WRAPPER)||(r=w().db_instance().static_list(t,[])),i.type_to_find=t;let l=!i.ignore_empty_constraints,_=O.object_values(i.constraints).map(((r,n)=>{if(r.key===o.ADVANCED_SEARCH_CONSTRAINT){let i=a[N.properties][N.constraints][n][N.value];r.value=x.reduce(i,s),e.matches(b.compound)||(r.self=t)}return r}));return r.filter(_,l).sort(S.get_sorts_list(i))},no_frozen_state:!0,properties_for_pre_evaluation(e){let{_properties:t}=e;if(null==t||!t[N.constraints])return t;let n=r.extend({},t);n[N.constraints]={};for(let e in t[N.constraints]){let i=t[N.constraints][e];null!=i&&("object"!=typeof i?n[N.constraints][e]=i:(n[N.constraints][e]=r.extend({},i),i[N.key]===o.ADVANCED_SEARCH_CONSTRAINT&&(n[N.constraints][e][N.value]=null)))}return n}},[T.LIST_OPERATOR_NAMES.Sorted]:{should_include:e.matches(b.compound)||null!=e.option_set()||e.can_sort(),ret_btype:d.list_type(t),field_names:e.matches(b.compound)||null!=e.option_set()?{...k.sorting_field_names}:{random:{},descending:{optional:!0}},spot_data:"SlidableAtom",description(e){let r=null==e?void 0:e.property("sort_field").raw(),n=":sorted";if(r===o.DYNAMIC_SORTING_FIELD)n+=" by dynamic field";else if(r===o.RANDOM_SORTING)n+=" randomly";else if(r){var i;let e,o=b.get(t);if(null!=o.custom_type())e=o.custom_type().field(r).display();else if(null!=o.option_set())e=o.option_set().attribute(r).display();else{var a,s;e=null==(a=o.get_message(r))||null==(s=a.description)?void 0:s.call(a,void 0,!0)}n+=" by "+(null!=(i=e)?i:r)}return n},section:"Other Operators",fn(r,n,i){if(Array.isArray(r))r=l.array_to_static_list(t,r);else if(!r||!r.all)return w().db_instance().static_list(t,[]);if(e.matches(b.compound)||null!=e.option_set()){i.type_to_find=t;let e=S.get_sorts_list(i);return new y(r,{sorts_list:e})}return null!=i||(i={}),i.sorts_list=[{sort_field:i.random?o.RANDOM_SORTING:void 0,descending:i.descending,self:!0}],new y(r,i)}},[T.LIST_OPERATOR_NAMES.RankedBy]:{should_include:e.matches(b.compound)||null!=e.option_set(),ret_btype:d.list_type(t),field_names:{target_item:{},method:{}},spot_data:"SlidableAtom",description(e){let t=null==e?void 0:e.property("target_item"),r=null==e?void 0:e.get_static_property("method"),n=":ranked by";return r?(n+=" ","similar"===r?n+="numerical similarity to ":"different"===r&&(n+="numerical difference from "),null!=t&&t.exists()?n+=t.get_tree_display():n+="..."):n+="...",n},section:"Other Operators",fn(e,r,n){var i,a;let o=null!=(i=null==e||null==(a=e.all)?void 0:a.call(e))?i:[];if(u.registry.is(e,u.LIST_WRAPPER)&&e.get_item_btype_id()!==t)return[];let s=b.get(t).option_set();if(null!=n.target_item&&(s||n.target_item.child)){let e=function(e){if(null==e||null==s&&!e.child)return 1/0;let t=0;for(let o of r){var n,a;let r=o.name(),l=null!=(n=null==s?void 0:s.value(e).attr(r))?n:null==e||null==(a=e.child)?void 0:a.call(e,r).get();if(null==l)return 1/0;t+=Math.pow(i[r]-l,2)}return t},r=b.get(t).get_messages().filter((e=>e.ret_btype().matches("number"))),i={};for(let e of r){let t=e.name();i[t]=s?s.value(n.target_item).attr(t):n.target_item.child(t).get()}let a="different"===n.method?-1:1;o.sort(((t,r)=>(e(t)-e(r))*a))}return w().db_instance().static_list(t,o)}},[T.LIST_OPERATOR_NAMES.Unique]:{description:":unique elements",section:"Other Operators",ret_btype:d.list_type(t),fn:(e,r)=>(u.registry.is(e,u.LIST_WRAPPER)||(e=w().db_instance().static_list(t,[])),new v(e))},[T.LIST_OPERATOR_NAMES.ApproximateCount]:{description:":approximate count",section:"Other Operators",can_be_cached:!0,ret_btype:"number",fn:(e,t,n,i,a,o)=>P(e,t,n,i,r.extend({should_approx:!0},o)),message_cache_id:e=>{let{raw:t}=e;return R(t)}},[T.LIST_OPERATOR_NAMES.CachedAggregation]:{description(e){let t=null==e?void 0:e.get_static_property("operation");return":cached "+(null!=t?t:"aggregation")},section:"Other Operators",field_names:{operation:{}},spot_data:"SlidableAtom",ret_btype:function(e){var t,r,n;let a=null==(t=i[null==e||null==(r=e[N.properties])?void 0:r.operation])?void 0:t.ret_btype;return null!=(n="function"==typeof a?a():a)?n:"null"},fn(e,t,r,n,a){var o;let s=r.operation;return null==(o=i[s])?void 0:o.fn(e,t,r,n,a,{cacheable:!0})},message_cache_id:e=>{var t,r;let{raw:n,properties:a}=e;return null==(t=i[a.operation])||null==(r=t.message_cache_id)?void 0:r.call(t,{raw:n})}},[T.LIST_OPERATOR_NAMES.FormatAsText]:{description:":format as text",section:"Other Operators",spot_data:"SlidableAtom",ret_btype:"text",field_names:{content:{prop_type:c.EVAL_TYPE.thunk},delimiter:{prop_type:c.EVAL_TYPE.thunk}},fn(e,t,n,i,a){if(null==e||!e.get_children||!e.length()||null==i)return this.ret_btype_null();let o="",s=e.length();return e.all().forEach(((t,l)=>{var _,u;let c=r.extend({},a);c.datasources=r.extend({},c.datasources),c.datasources.injected_value=()=>t;let d=null!=(_=e.get_item_btype_id())?_:"text";c.datasources.injected_value_btype=()=>d;let p,f=n.content(c),h=null==(u=i[N.properties])?void 0:u.delimiter;p=l!==s-1&&h?n.delimiter(c):"",o+=f+p})),o},no_frozen_state:!0},[T.LIST_OPERATOR_NAMES.MakeStatic]:{description:":make static ",section:"Other Operators",ret_btype:d.list_type(t),fn:(e,r)=>((!u.registry.is(e,u.LIST_WRAPPER)||!b.get(e.get_item_btype_id()).matches(t))&&(e=w().db_instance().static_list(t,[])),w().db_instance().static_list(t,e.all()))}},A=Object.entries(f).filter((e=>{var t;let[r,n]=e;return null==(t=n.should_include)||t}));return A.forEach((e=>{let[t,r]=e;r.compound_message||(r.documentation_id="Documentation.Data.Messages.list."+t),delete r.should_include})),i=Object.fromEntries(A),i}(t);return{get_message_names:()=>Object.keys(z),get_message:e=>z[e],display(){var e;let r=t.display();return"s"===(null==(e=r)?void 0:e.slice(-1))?r+="es":r+="s","List of "+r},inner:()=>t,is_list:!0,equals:(e,t)=>!1,get_sample:()=>new A.SampleList(e),get_bubble_null:l.list_get_bubble_null,cast:t=>l.cast_to_list(e,t),storable:!1,bindable:!1,runmode_display:f,export_to_string:E,debugging_display:C,get_JS_object(e){let r;return r=Array.isArray(e)?e:null!=(null==e?void 0:e.all)?e.all():[],r.map((e=>t.get_JS_object(e)))},JS_to_bubble(r){let n=[];for(let e of O.array_from(r)){i.optional_pause_tick(10);let r=t.JS_to_bubble(e);null!=r&&n.push(r)}return w().db_instance().static_list(e,n)}}}}})),pM=u((e=>{"use strict";f(),Ue(),Ft();Po();var t=Ol();xr();e.get_safe_id=function(e,r){var n,i;null!=r||(r={});let a=null!=(n=r.reserved)?n:[],o=null!=(i=r.exists)?i:()=>!1,s=function(e){let t=e.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase();return/^\d+$/.test(t)?`${t}_`:t}(e);let l=s,_=0;for(;u=l,t.PROTECTED_KEYS.has(u)||t.BUBBLE_RESERVED_KEYS.has(u)||a.includes(u)||o(u);)l=s+_,_++;var u;return l},e.sort_options_fn=(e,t)=>e.sort_factor()-t.sort_factor(),e.sort_attributes_fn=function(e,t){var r,n;return(null==(r=e.display())?void 0:r.toLowerCase())<(null==(n=t.display())?void 0:n.toLowerCase())?-1:1},e.sort_types_fn=function(e,t){var r,n;return(null==(r=e.display())?void 0:r.toLowerCase())<(null==(n=t.display())?void 0:n.toLowerCase())?-1:1}})),fM=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=Po(),i=(qE(),xr()),a=Jh(),o=Kt(),s=Zh(),l=pM(),_=Fl(),u=qr();function c(e,t){return e===t}t.exports={get:function(e){if(!e)throw new r.UnexpectedError("custom option set created without id.");return function(e,t){let n={};return r.extend(n,{display:{description:"'s Display",section:"Attributes",public_for_plugins:!0,ret_btype:"text",fn(e,r){var n,i;return e&&null!=(n=null==(i=t.value(e))?void 0:i.display())?n:""}},equals:{description:" is ",ret_btype:"sys.bool",section:"Operators",arg_btype:e,fn:(e,t)=>c(e,t),build_pg_constraint:a.equals,build_pg_r_constraint:a.equals,build_pg_relationship:a.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:e,fn:(e,t)=>!c(e,t),build_pg_constraint:a.not_equals,build_pg_r_constraint:a.not_equals,build_pg_relationship:a.not_equals_both},is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",fn:(e,t)=>!e,build_pg_constraint:a.is_empty},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",fn:(e,t)=>!!e,build_pg_constraint:a.is_not_empty},defaulting_to:{description:":defaulting to ",section:"Operators",ret_btype:e,arg_btype:e,fn:(e,t)=>e||t},is_not_contained_by_list:s.build_is_not_contained_by_list(e),convert_to_list:{description:":converted to list",section:"Operators",ret_btype:i.list_type(e),fn:(t,r,n)=>null==(t=_.get(e).cast(t))||""===t?u().db_instance().static_list(e,[]):u().db_instance().static_list(e,[t])}}),{get_message_names(){let e=Object.entries(n).filter((e=>{let[t,r]=e;return!r.hidden&&"display"!==t})).map((e=>{let[t,r]=e;return t}));return["display",...t.attributes().filter((e=>!e.deleted())).map((e=>e.name())),...e]},get_message(e){var r,a;let s=n[e];if(s)return s;let l=t.attribute(e);if(!l)return{description:"[missing: "+e+"]",ret_btype:"null",fn(){}};let c=null!=(r=l.value())?r:"null",d=!1,p=null;return{description:null!=(a="'s "+l.display())?a:e,section:"Attributes",ret_btype:c,public_for_plugins:!0,fn(r,n){var a,s;let l=null==(a=t.value(r))||null==(s=a.attr)?void 0:s.call(a,e);if(i.is_list(c)){let e=i.list_element_type(c);return u().db_instance().static_list(e,null!=l?l:[])}let f=_.get(c);return f?null!=l?f.cast(l):(d||(p=f.get_bubble_null(),d=!0),p):(o.owner_error("Missing field on option set",{display:"Missing field in Option Set used for dynamic property"}),null!=l?l:null)},delete_cb(){if(window.confirm("Delete attribute "+l.display()+"?"))return l.set_deleted(!0)}}},display:()=>t.display(),debugging_display(e){if(e=this.cast(e)){var r,n;let a=t.value(e);return null!=a&&null!=(r=a.deleted)&&r.call(a)?`(Deleted Option with ID: "${e}")`:null!=a&&null!=(n=a.display)&&n.call(a)?null==a||null==(i=a.display)?void 0:i.call(a):`(Option with invalid id "${e}" for option set "${t.display()}")`;var i}return""},option_set:()=>t,is_option_set:!0,equals:c,from_human(e){return this.JS_to_bubble(e)},get_sample(){var e,r;return null!=(e=null==(r=t.values()[0])?void 0:r.name())?e:null},get_bubble_null:()=>null,storable:!0,bindable:!1,export_to_string(e,r){let n=t.value(e);return null!=n&&n.deleted()&&r.option_show_if_deleted?"(deleted option)":null==n?void 0:n.display()},get_JS_object(e){var r,n,i;return"string"!=typeof e||""===e?null:null!=(r=null==(n=t.value(e))||null==(i=n.display)?void 0:i.call(n))?r:null},JS_to_bubble(e){if("string"!=typeof e||""===e)return null;for(let r of t.values())if(r.display()===e&&!r.deleted())return r.id();return null},cast(e){return null==e?null:"string"==typeof e?null!=(r=t.value(e))&&r.exists()?e:l.get_safe_id(e,{reserved:t.reserved_values()}):null;var r}}}(i.option_set_type(e),n.option_set(e))},list:()=>n.option_sets(void 0,!0).map((e=>e.name())),display:()=>"option set"}})),hM=u(((e,t)=>{"use strict";f();var r=Lo(),{generate_JS_to_bubble_error:n}=$E(),i=Zh(),a=fl(),o=D_(),s=Fl(),l=qr(),_=Nl();t.exports={list(){},display:()=>"struct",get(e){let{caption:t,definition:u}=JSON.parse(r.base64decode(e)),c="struct."+e;if("object"!=typeof u)throw new r.UnexpectedError("Bad struct val: "+e);let d={};for(let e in u){d[u[e][0]]=e}return{get_message_names:()=>_.object_keys(u),get_message(e){var t,r,n,i;return{description:null!=(t="'s "+(null==(r=u[e])?void 0:r[0]))?t:"[Missing: "+e,section:"Field Data",ret_btype:null!=(n=null==(i=u[e])?void 0:i[1])?n:"null",is_lookup:!0}},display:()=>t,equals(e,t){for(let r in u){let n=u[r],i=e.child(r).get(),a=t.child(r).get();if(!s.get(n[1]).equals(i,a))return!1}return!0},is_not_contained_by_list:i.build_is_not_contained_by_list(c),get_sample(){let e={};for(let t in u){let r=u[t];e[t]=s.get(r[1]).get_sample()}return new o(e,null,c)},get_bubble_null:()=>null,cast(e){if("object"!=typeof e||!e)return this.get_bubble_null();if("function"==typeof e.raw)return e.value_id===c?e:new o(e,e.db,c);try{return new o(JSON.parse(JSON.stringify(e)),null,c)}catch{return this.get_bubble_null()}},storable:!1,bindable:!0,is_aggregate:"Grouping"===t,get_JS_object(e){if("function"!=typeof(null==e?void 0:e.raw))return null;let t=e.raw();if("object"!=typeof t)return null;let r={};for(let e in u){let n=u[e],i=a.rehydrate_tree(l().db_instance(),t[e]);r[n[0]]=s.get(n[1]).get_JS_object(i)}return r},JS_to_bubble(e){if(null==e)return this.get_bubble_null();"object"!=typeof e&&n(this.display(),e);let t={};for(let n in e){let i=e[n];if(!u[n])throw new r.UnexpectedError("the key "+n+" is not part of the btype definition");t[n]=s.get(u[n][1]).JS_to_bubble(i)}return new o(t,null,c)}}}}})),gM=u(((e,t)=>{"use strict";f();var{add_basic_element_messages:r}=$E(),n=Uv(),i=Rp();t.exports={get(e){let t={},a=n.get_element_object(e);null!=a&&r(a.get_states(),t,i.has_event("ButtonClicked",e));for(let e in t){t[e].documentation_id="Documentation.Elements.GeneralConcepts.States."+e}return{display:()=>"style",get_message_names:()=>Object.keys(t),get_message:e=>t[e],cast:e=>e,storable:!1,bindable:!1}},list:()=>[],display:()=>"style"}})),mM=u(((e,t)=>{"use strict";f();var r=Lo(),n=Jh(),i=Sr(),a=D_(),{render_bool:o,bool_equals:s,to_bool:l,format_boolean_message:_,format_boolean_number_message:u}=WE(),{build_simple:c}=UE(),{COMPOSER_INPUT_TYPES:d}=cw();t.exports={get:e=>"error"===e?c(e,{messages:{code:{description:"'s code",section:"Data Fields",ret_btype:"text",fn:(e,t)=>null==e?void 0:e.child("code").get()},message:{description:"'s message",section:"Data Fields",ret_btype:"text",fn:(e,t)=>null==e?void 0:e.child("message").get()}},display:()=>"Error",runmode_display:e=>null==e?void 0:e.child("message").get(),equals:()=>!1,storable:!1,bindable:!1,get_sample:()=>new a({code:"SAMPLE",message:"THIS IS A SAMPLE"},null,"sys.error"),convert_to_bubble_instance:e=>e,cast:e=>e}):"json"===e?c(e,{display:()=>"json",runmode_display:e=>JSON.stringify(e),equals:(e,t)=>JSON.stringify(e)===JSON.stringify(t),storable:!1,bindable:!1,get_sample:()=>({}),cast:e=>e,messages:{}}):"bool"===e?c(e,{messages:{and_:{description:" and ",section:"Operators",ret_btype:"sys.bool",arg_btype:"sys.bool",fn:(e,t)=>l(e)&&l(t),can_shortcircuit_args(e){var t;return!1===(null!=(t=l(e))&&t)}},or_:{description:" or ",section:"Operators",ret_btype:"sys.bool",arg_btype:"sys.bool",fn:(e,t)=>l(e)||l(t),can_shortcircuit_args:e=>!0===l(e)},format_boolean:_,format_boolean_number:u},display:()=>"yes / no",composer_input_type:d.BOOLEAN,runmode_display:o,export_to_string:(e,t)=>t.booleans_yes_no?o(e):null!=e&&e,equals:s,storable:!1,bindable:!1,synonyms:["boolean"],get_sample:()=>!0,convert_to_bubble_instance:l,cast:e=>l(e),get_JS_object(e){var t;return null!=(t=this.cast(e))&&t}}):"uid"===e?c(e,{display:()=>"unique identifier",composer_input_type:d.TEXT,equals:(e,t)=>e===t,storable:!1,bindable:!1,synonyms:["text"],get_sample:()=>"asdf234sdz",cast:i.cast_to_string,runmode_display:i.cast_to_string,messages:{equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:(e,t)=>e===t,build_pg_constraint:n.equals,build_pg_r_constraint:n.equals,build_pg_relationship:n.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:(e,t)=>e!==t,build_pg_constraint:n.not_equals,build_pg_r_constraint:n.not_equals,build_pg_relationship:n.not_equals_both},is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:n.is_empty,fn:(e,t)=>null==e||""===e},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:n.is_not_empty,fn:(e,t)=>null!=e&&""!==e},trimmed:{description:":trimmed",section:"Other Operators",ret_btype:"text",arg_btype:null,fn(e,t){var r;return null==e||null==(r=e.trim)?void 0:r.call(e)}},length:{description:":number of characters",section:"Other Operators",ret_btype:"number",arg_btype:null,fn:(e,t)=>e?e.length:0},truncated:{description:"truncated to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn(e,t){return"string"!=typeof e?this.ret_btype_null():t?e.slice(0,r.to_num(t)):e}},truncated_right:{description:"truncated from end to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn(e,t){if("string"!=typeof e)return this.ret_btype_null();if(t){let n=e.length-r.to_num(t);return n<0&&(n=0),e.slice(n)}return e}}}}):void 0,list:()=>[],display:()=>"sys"}})),vM=u((e=>{"use strict";f(),Ue();var t=ng(),r=Wl(),n=UE(),i=e;i.plugins={},i.plugins.boolean=FE(),i.plugins.date=GE(),i.plugins.dateinterval=XE(),i.plugins.date_range=VE(),i.plugins.file=YE(),i.plugins.geographic_address=KE(),i.plugins.image=JE(),i.plugins.key_combination=ZE(),i.plugins.null=QE(),i.plugins.number_range=eM(),i.plugins.number=nM(),i.plugins.text=iM(),i.plugins.user=aM(),i.providers={},i.providers.api_wf_data=oM(),i.providers.api=sM(),i.providers.custom=lM(),i.providers.element=_M(),i.providers.list=dM(),i.providers.option=fM(),i.providers.struct=hM(),i.providers.style=gM(),i.providers.sys=mM();for(let e of t.SPECIAL_TYPES){let t=e.name(),r=()=>n.create_custom_btype(t,e,void 0,void 0,!0);r.dont_list=!0,i.plugins[t]=r}var a=["text","number","number_range","null","date","date_range","dateinterval","boolean","file","image","geographic_address","key_combination","user",...t.SPECIAL_TYPES.map((e=>e.name()))];i.all={};for(let e of a)r.plugins.add(e,i.plugins[e]),i.all[e]=i.plugins[e];for(let e of["sys","element","style","struct","list","custom","api","api_wf_data","option"])r.providers.add(e,i.providers[e]),i.all[e]=i.providers[e]})),yM=u(((e,t)=>{"use strict";f(),Ue();var r=qr(),n=xr(),i=Kt();t.exports={field_names:{parameter_name:{},type:{default:"parameter"},value:{default:"text"}},get_value(e){let t=e("value");return"path_segment"===e("type")?n.list_type(t):t},get_runmode_value(e){var t,r,i;let a=null!=(t=null==(r=e["%p"])?void 0:r["%v"])?t:"text";return"path_segment"===(null==(i=e["%p"])?void 0:i["%x"])?n.list_type(a):a},evaluate(e,t,n){var a,o;null!=t&&t.__investigate_post_changed_page_url_reads&&(i.warn("url data read after a change page",{properties:e,element:null==(a=t.element)||null==(o=a.id)?void 0:o.call(a)}),delete t.__investigate_post_changed_page_url_reads);let s;return r().pageparam._dependency.register(),s="path"===e.type?r().location.get_pieces().path[1]:"path_segment"===e.type?r().location.get_pieces().path:r().location.get_query()[e.parameter_name],function e(t,n){if(null!=t.custom_type())return"string"==typeof n&&n?r().db_instance().get(n):t.get_bubble_null();if(null!=t.option_set())return t.from_human(n);if(t.is_list()){let i=Array.isArray(n)?n.map((r=>e(t.inner(),r))):[];return r().db_instance().static_list(t.inner().id(),i)}return t.cast(n)}(n,s)},get_unique_string(e,t){}}})),bM=u(((e,t)=>{"use strict";f();var r=Zl();t.exports={field_names:{},light_evaluation:!0,allowed_when_restricted:!1,allowed_on_element:!0,allowed_on_workflow:!0,allowed_on_backend:!0,allowed_on_privacy_role:!0,allowed_in_style_conditionals:()=>!0,fields:e=>[],get_value:e=>"user",get_unique_string:(e,t)=>r.CurrentUser(),display:()=>"Current User",context_key:"current_user",evaluate(e,t,r){var n,i;return r.cast(null==(n=(i=t.datasources).current_user)?void 0:n.call(i,e,t))},get_runmode_value:()=>"user"}})),wM=u(((e,t)=>{"use strict";f();Sr();var r=T_(),n=Zl();t.exports={field_names:{name:{}},get_value(e){var t;return null!=(t=r.get_page_data_type(e("name")))?t:"null"},context_key:"page_data",evaluate(e,t,r){var n,i;return r.cast(null==(n=(i=t.datasources).page_data)?void 0:n.call(i,e,t))},get_runmode_value(e,t,r){var n,i,a;return null!=(n=null==(i=(a=t.datasources).page_data_btype)?void 0:i.call(a,r,t))?n:"null"},get_unique_string:(e,t)=>n.PageData(e.name)}})),AM=u(((e,t)=>{"use strict";f();var r=Fl(),n=Zl(),i=qr();t.exports={field_names:{},light_evaluation:!1,allowed_when_restricted:!1,allowed_on_element:!0,allowed_on_workflow:!0,allowed_on_backend:!1,allowed_in_style_conditionals:()=>!0,additional_context_filter(e,t){var r,n;return null==(null==(r=e.properties)?void 0:r.element_id)?"State"===t.owner_type:"Workflow"===t.owner_type&&(null==(n=t.owner_node.context_element())?void 0:n.id())===e.properties.element_id},get_unique_string:()=>n.ThisElement(),get_value(e,t){var n,i,a;return r.get(null!=(n=null==(i=(a=t.context_element()).get_value_id)?void 0:i.call(a))?n:"null")},evaluate(e,t,r){var n,a;return null!=(n=(a=i()).is_api)&&n.call(a)?r.get_bubble_null():t.element},get_runmode_value(e,t){var r,n,i;return null!=(r=null==(n=(i=t.element.element).get_value_id)?void 0:n.call(i))?r:"null"}}})),EM=u(((e,t)=>{"use strict";f();var r=Fl(),n=Zl();t.exports={field_names:{},context_key:"current_page_item",evaluate(e,t,r){var n,i;return r.cast(null==(n=(i=t.datasources).current_page_item)?void 0:n.call(i,e,t))},get_runmode_value(e,t,r){var n,i,a;return null!=(n=null==(i=(a=t.datasources).current_page_item_btype)?void 0:i.call(a,r,t))?n:"null"},get_value:(e,t)=>function(e){var t,n,i,a;return r.get(null!=(t=null==(n=(i=e.owner).root)||null==(a=n.call(i))?void 0:a.get_static_property("page_item_type"))?t:"null")}(t),get_unique_string:(e,t)=>n.CurrentPageItem()}})),MM=u(((e,t)=>{"use strict";f(),Ue();var r=Fl(),n=Jt(),i=Po(),a=Kt();function o(e,t){if(["OnError","OnPageError"].includes(null==e?void 0:e.type()))return"sys.error";let r=function(e,t){var r,n;let i=null!=(r=null==e||null==(n=e.get_custom_parameters)?void 0:n.call(e))?r:[];for(let{param_id:e,btype_id:r}of i)if(e===t)return r;return"null"}(e,t);var n;"null"===r&&(r=null!=(n=null==e?void 0:e.get_static_property("custom_event_data_type"))?n:"null");return r}t.exports={field_names:{param_id:{default:n.LEGACY_PARAM_ID}},get_value(e,t){var n,i;let a=null==(n=(i=t.owner).event)?void 0:n.call(i),s=e("param_id");return r.get(o(a,s))},evaluate(e,t,r){var n,i;return r.cast(null==(n=(i=t.datasources).get_wf_param)?void 0:n.call(i,e))},get_runmode_value(e,t,r){var n;if(!t.event_id&&!t.event)return"null";return t.event||a.verbose("Missing event!!",{event_id:t.event_id}),o(null!=(n=t.event)?n:i.workflow_item(t.event_id),r.param_id)},get_unique_string(e,t){}}})),xM=u(((e,t)=>{"use strict";f();var r=Fl();t.exports={field_names:{},get_value(e,t){var n,i;let a=null==(n=(i=t.owner).event)?void 0:n.call(i),o=a?["OnError","OnPageError"].includes(a.type())?"sys.error":a.get_static_property("data_trigger_type"):void 0;return null!=o||(o="null"),r.get(o)},context_key:"current_data_item",evaluate(e,t,r){var n,i;return r.cast(null==(n=(i=t.datasources).current_data_item)?void 0:n.call(i,e,t))},get_runmode_value(e,t,r){var n,i,a;return null!=(n=null==(i=(a=t.datasources).current_data_item_btype)?void 0:i.call(a,r,t))?n:"null"},get_unique_string(){}}})),OM=u(((e,t)=>{"use strict";f();var r=Fl();t.exports={field_names:{},get_value(e,t){var n,i;let a=null==(n=(i=t.owner).event)?void 0:n.call(i),o=a?["OnError","OnPageError"].includes(a.type())?"sys.error":a.get_static_property("data_trigger_type"):void 0;return r.get(null!=o?o:"null")},context_key:"old_data_item",evaluate(e,t,r){var n,i;return r.cast(null==(n=(i=t.datasources).old_data_item)?void 0:n.call(i,e,t))},get_runmode_value(e,t,r){var n,i,a;return null!=(n=null==(i=(a=t.datasources).old_data_item_btype)?void 0:i.call(a,r,t))?n:"null"},get_unique_string(e,t){}}})),kM=u(((e,t)=>{"use strict";f(),Ue();var r=Zl(),n=Po();function i(e,t){var r,n;let i=null!=(r=null==e||null==(n=e.get_custom_parameters)?void 0:n.call(e))?r:[];for(let{param_id:e,btype_id:r}of i)if(e===t)return r;return"null"}t.exports={field_names:{param_id:{},key:{}},get_value(e,t){var r,n,a;let o=null!=(r=e("param_id"))?r:e("key");return i(null==(n=(a=t.owner).event)?void 0:n.call(a),o)},evaluate(e,t,r){var n,i;let a=null!=(n=e.param_id)?n:e.key,o=null==(i=t.call_parameters)?void 0:i[a];return r.cast(o)},get_runmode_value(e,t,r){var a;if(!t.event_id)return"null";return i(n.workflow_item(t.event_id),null!=(a=r.param_id)?a:r.key)},get_unique_string(e,t){var n;return r.APIEventParameter(null!=(n=e.param_id)?n:e.key)}}})),SM=u(((e,t)=>{"use strict";f(),Ue();var r=uM(),n=(cM(),og()),i=Fl(),a=qr(),o=Ul(),s=Zl(),l=xr();function _(e){return e?l.list_type(e):"null"}t.exports={field_names:{type_to_find:{},ignore_empty_constraints:{},...r.constraints_field_names,...r.sorting_field_names},get_value:e=>_(e("type_to_find")),get_runmode_value:(e,t,r)=>_(r.type_to_find),get_unique_string(e,t){let{type_to_find:r,constraints:i}=e;return s.Search(r,i,n.get_sorts_list(e,!0))},evaluate(e,t,r){let{type_to_find:s,constraints:l,ignore_empty_constraints:_}=e;if(a().is_edit_mode())return r.get_bubble_null();let u=!_,c=a().bv().resolve_constraints(l,u),d=i.get(s).custom_type();if(null==d||!d.exists())return r.get_bubble_null();c=c.filter((e=>n.is_field_okay(e.key,s)));let p=n.get_sorts_list(e,!0),f=null;for(let e of c){if(e.key===o.UNIQUE_ID&&"equals"===e.constraint_type)if(null==f)f=e.value;else if(f!==e.value)return r.get_bubble_null();if("return_empty_set"===e.constraint_type)return a().db_instance().static_list(s,[])}if(null==f||"string"!=typeof f||""===f)return a().db_instance().find(s,c,p);{var h;let e=a().db_instance().get(f);return e.exists()&&(null==(h=e._type)?void 0:h.call(e))===s?a().db_instance().static_list(s,[e]).filter(c):r.get_bubble_null()}}}})),TM=u(((e,t)=>{"use strict";f(),Ue();var r=qr(),n=Fl(),i=Gm(),a=pM(),o=xr();t.exports={field_names:{option_set:{},option_value:{}},get_value(e){let t=e("option_set");return null!=t?e("option_value")===i.ALL_OPTIONS?o.list_type(t):t:"null"},get_runmode_value(e,t,r){let{option_set:n}=r;return null!=n?r.option_value===i.ALL_OPTIONS?o.list_type(n):n:"null"},get_unique_string:(e,t)=>null,evaluate(e,t,o){if(e.option_value===i.ALL_OPTIONS){let t=n.get(e.option_set).option_set();if(null!=t&&t.exists()){let n=t.values().sort(a.sort_options_fn).filter((e=>!e.deleted())).map((e=>e.name()));return r().db_instance().static_list(e.option_set,n)}if(e.option_value===i.ALL_OPTIONS)return r().db_instance().static_list(e.option_set,[])}return e.option_value}}})),NM=u(((e,t)=>{"use strict";f();var r=Zl();t.exports={field_names:{arbitrary_text:{}},get_value:()=>"text",get_runmode_value:(e,t,r)=>"text",get_unique_string:(e,t)=>r.ArbitraryText(e),evaluate(e,t,r){var n;return null!=(n=e.arbitrary_text)?n:""}}})),CM=u(((e,t)=>{"use strict";f(),t.exports={field_names:{parsed_date:{}},get_value:e=>"date",get_runmode_value:(e,t,r)=>"date",get_unique_string(e,t){},evaluate:(e,t,r)=>r.cast(e.parsed_date)}})),LM=u(((e,t)=>{"use strict";f();Fl();var{is_option_set:r}=xr();t.exports={field_names:{option_set:{},option_value:{}},get_value(e){let t=e("option_set");return null!=t?t:"null"},get_runmode_value(e,t,r){let{option_set:n}=r;return null!=n?n:"null"},get_unique_string:()=>null,evaluate:e=>e.option_value}})),PM=u(((e,t)=>{"use strict";f(),Ue();var r=Fl(),n=qr(),i=pM(),a=xr();t.exports={field_names:{option_set:{}},get_value(e){let t=e("option_set");return null!=t?a.list_type(t):"null"},get_runmode_value(e,t,r){let{option_set:n}=r;return null!=n?a.list_type(n):"null"},get_unique_string:(e,t)=>null,evaluate(e,t,a){let o=r.get(e.option_set).option_set();return null!=o&&o.exists()?n().db_instance().static_list(e.option_set,o.values().sort(i.sort_options_fn).filter((e=>!e.deleted())).map((e=>e.name()))):null}}})),RM=u(((e,t)=>{"use strict";f();Fl();t.exports={field_names:{btype:{},value:{}},get_value:e=>e("btype"),get_runmode_value:e=>e.btype,get_unique_string:e=>String(e.value),evaluate:e=>e.value}})),zM=u(((e,t)=>{"use strict";f();var r=y_(),n=t.exports;n.get_call=function(e){var t;if(!e)return;let n=e.split(".")[0],i=e.split(".").slice(1).join(".");return null==(t=r.get_plugin(n))?void 0:t.get_call(i)},n.get_api_value_from_provider=function(e){let t=n.get_call(e);return t?t.get_value_id():"null"}})),IM=u(((e,t)=>{"use strict";f();var r=og(),n=zM(),i=(uv(),Zm()),a=(qr(),Zl());t.exports={field_names:i.DETECT_FIELD_NAMES,evaluate(e,t,i,a){let o=n.get_call(e.provider);if(!o||t.responsive_mode)return i.get_bubble_null();if(o.is_authenticated()){let n=o.execute(null,e,null,a,t);return r.convert_api_call_to_db_object(n,o)}},get_value:e=>n.get_api_value_from_provider(e("provider")),get_runmode_value:(e,t,r)=>n.get_api_value_from_provider(r.provider),get_unique_string:(e,t)=>a.GetDataFromAPI(e)}})),DM=u(((e,t)=>{"use strict";f();var r=og(),n=zM();zp();t.exports={field_names:{},evaluate(e,t,i,a){let o=n.get_call("interactions.get_mouse_data");if(!o)return i.get_bubble_null();if(o.is_authenticated()){let n=o.execute(null,e,null,a,t);return r.convert_api_call_to_db_object(n,o)}},get_value:()=>n.get_api_value_from_provider("interactions.get_mouse_data"),get_runmode_value:()=>n.get_api_value_from_provider("interactions.get_mouse_data"),get_unique_string(e,t){}}})),jM=u(((e,t)=>{"use strict";f();var r=O_(),n=Zl();t.exports={field_names:{},get_runmode_value:(e,t)=>r.context_parent_value(t.element.element),evaluate(e,t,n){let i=r.get_runtime_parent(t);return i?n.cast(i.state("group_data")):n.get_bubble_null()},get_value:(e,t)=>r.element_parent_value(e,t),get_unique_string:(e,t)=>n.ElementParent()}})),BM=u(((e,t)=>{"use strict";f();var r=O_(),n=Zl();t.exports={field_names:{},get_value:()=>"number",get_runmode_value:()=>"number",evaluate(e,t,n){let i=r.get_runtime_parent(t);if(i){for(var a,o;null!=i&&"GroupItem"!==i.element.type();){var s,l;i=null==(s=(l=i).parent)?void 0:s.call(l)}return null!=(a=null==(o=i)?void 0:o.state("cell_index"))?a:n.get_bubble_null()}return n.get_bubble_null()},get_unique_string:()=>n.CurrentCellsIndex(),check_for_errors(e,t){let r=t.context_element();if(null==r.parents||0===r.parents("RepeatingGroup").length&&0===r.parents("TableCrossAxis").length)return"You are trying to get the cell index, but this is not in the context of a repeating group"}}})),qM=u(((e,t)=>{"use strict";f();var r=Po(),n=Zl();t.exports={field_names:{action_id:{}},light_evaluation:!1,allowed_when_restricted:!1,allowed_on_element:!1,allowed_on_workflow:!0,allowed_on_backend:!0,get_required_visible_id:e=>e.properties.action_id,get_runmode_value(e,t,r){let{action_id:n}=r;return t.frozen_state.get(this.get_unique_string({action_id:n})+"_value")},evaluate(e,t,r){var n;return null!=(n=t.frozen_state.get(this.get_unique_string(e)))?n:r.get_bubble_null()},get_value(e,t){var n,i;return null!=(n=null==(i=function(e,t){let n=r.action(e("action_id"));if(!n||!n.exists())return null;let i=n.next();for(;i;){if(t.owner.id()===i.id())return n;i=i.next()}return null}(e,t))?void 0:i.return_value())?n:"null"},get_unique_string:e=>n.PreviousStep(e.action_id)}})),UM=u(((e,t)=>{"use strict";f();var r=Po(),n=O_();t.exports={field_names:{element_id:{}},get_value(e,t){var i;let a=null==(i=function(e,t){var i,a,o,s;let l=r.element(e("element_id"));return null!=(i=t.context_element())&&null!=(a=i.root)&&null!=(o=a.call(i))&&o.id()&&(null==l||null==(s=l.root())?void 0:s.id())!==t.context_element().root().id()||!n.is_element_visible(l,t.context_element())?null:l}(e,t))?void 0:i.id();return a?"element."+a:"null"},get_runmode_value(e,t,r){var n,i;let a=null==(n=(i=t.element).find_instance_by_id)?void 0:n.call(i,r.element_id);return null==a?"null":a.element.get_value_id()},evaluate(e,t,r){var n,i,a;return null!=(n=null==(i=(a=t.element).find_instance_by_id)?void 0:i.call(a,e.element_id))?n:r.get_bubble_null()},get_unique_string:(e,t)=>null}})),WM=u(((e,t)=>{"use strict";f();var r=Fl(),n=Zl(),i=O_();t.exports={field_names:{fetch_data:{},ancestor_type:{}},_get_value_type(e){var t;return r.get(null!=(t=null==e?void 0:e.get_static_property("group_type"))?t:"null")},get_value(e,t){var n,a;let o=i.get_ancestor_element(e("ancestor_type"),t);return e("fetch_data")?"TableCrossAxis"===(null==o?void 0:o.type())?this._get_value_type(o.parent()):this._get_value_type(o):r.get(null!=(n=null==(a=o.get_value_id)?void 0:a.call(o))?n:"null")},get_runmode_value(e,t,r){var n,a;let o=t.element;if(r.fetch_data){var s;let e="TableCrossAxis"!==r.ancestor_type?r.ancestor_type:"Table",t=i.get_runmode_element_ancestor_instance(e,o);return null!=(s=null==t?void 0:t.get_static_property("group_type"))?s:null}let l=i.get_runmode_element_ancestor_instance(r.ancestor_type,o);return null!=(n=null==l||null==(a=l.element)?void 0:a.get_value_id())?n:null},evaluate(e,t,r){let n=t.element;if(e.fetch_data){for(var a,o;null!=n&&"GroupItem"!==n.element.type();){var s,l;n=null==(s=(l=n).parent)?void 0:s.call(l)}return null!=(a=null==(o=n)?void 0:o.state("group_data"))?a:r.get_bubble_null()}return n=i.get_runmode_element_ancestor_instance(e.ancestor_type,t.element),n||r.get_bubble_null()},get_unique_string:(e,t)=>n.ElementAncestor()+e.ancestor_type}})),$M=u(((e,t)=>{"use strict";f();var r=fl(),n=qr();t.exports={field_names:{val:{},value_id:{}},get_value:e=>e("value_id"),get_runmode_value(e,t,r){let{value_id:n}=r;return n},evaluate:(e,t,i)=>i.cast(r.rehydrate_tree(n().db_instance(),e.val)),get_unique_string:()=>null}})),FM=u(((e,t)=>{"use strict";f();var r=Kt();t.exports={field_names:{},get_value(e,t){var r,n,i,a,o,s;let l=null==(r=function(e){let t=["filtered","format_as_text"],r=e;for(;null!=(n=r)&&n.exists()&&-1!==r.path().indexOf(".");){var n;if("properties"===r.json.name()){var i;let e=r.parent_expression();if(t.includes(null==e||null==(i=e.name)?void 0:i.call(e)))return e.parent_expression().get_value().inner()}r=r.parent_expression()}return null}(t))?void 0:r.id();if(l)return l;if("function"==typeof(null==t||null==(n=t.owner)?void 0:n.get_injected_value)){let e=t.owner.get_injected_value(t);if(e)return e}return null!=(i=null==t||null==(a=t.owner)||null==(o=a.E)||null==(s=o.get_injected_value)?void 0:s.call(o,t.owner))?i:"null"},context_key:"injected_value",evaluate:(e,t,n)=>"function"!=typeof t.datasources.injected_value?(r.info("non-null injected_value passed through",{injected_value_string:String(t.datasources.injected_value)}),n.cast(null)):n.cast(t.datasources.injected_value(e,t)),get_runmode_value(e,t,r){var n,i,a;return null!=(n=null==(i=(a=t.datasources).injected_value_btype)?void 0:i.call(a,r,t))?n:"null"},get_unique_string:(e,t)=>null}})),GM=u((e=>{"use strict";f();var t=Lo(),r=Lr(),n=Kt(),i=Jt(),a=xr(),o=e;function s(e,t){o[e]=t,o.list_of_formulas[e]=t.display,o.all[e]=t}o.list_of_formulas={},o.all={},s("PMT",{display:"Loan Payment",fields:{rate:{content_format:"percentage"},nper:{},pv:{}},evaluate(e){let{rate:r,nper:n,pv:i}=e;if(0===r)return t.to_num(-(i+0)/n);let a=Math.pow(1+r,n),o=r/(a-1)*-(i*a+0);return t.to_num(o)},testing:{properties:{rate:.1,nper:10,pv:1e3},result:-162.74539488251153}}),s("CoordToAddress",{display:"Coordinates to Address",fields:{latitude:{},longitude:{}},ret_btype:"geographic_address",evaluate:e=>({lat:e.latitude,lng:e.longitude}),testing:{ignore:!0}}),s("RandomString",{display:"Generate random string",fields:{length:{default:6,caption:"Length of characters"},letters:{default:!0,editor:"Checkbox",caption:"Use letters"},non_cap:{default:!0,editor:"Checkbox",caption:"Use non capitalized letters"},numbers:{default:!1,editor:"Checkbox",caption:"Use numbers"},special_chars:{default:!1,editor:"Checkbox",caption:"Use special characters"}},ret_btype:"text",evaluate(e,t){if(!e)return"";if(t.is_in_partial)return"not available in debugger";let a,{length:o,letters:s,non_cap:l,numbers:_,special_chars:u}=e,c="";s&&(c+="ASDFGHJKLZXCVBNMQWERTYUIOP"),l&&(c+="qwertyuiopasdfghjklzxcvbnm"),_&&(c+="1234567890"),u&&(c+="{}[];:/<>?_+~!@#"),a=null!=t&&t.random_generator?e=>t.random_generator.random(0,e):e=>Math.random()*e;let d="";o>i.SLOW_RANDOM_LENGTH&&n.owner_warn("Probably slow random generation",{display:"Generating a random string > 100,000 characters can slow down workflows and time out, consider using a smaller random string"});for(let e=0;e<Math.abs(o);e++)e%1e3==0&&r.optional_pause(),d+=c.charAt(Math.floor(a(c.length)));return d},testing:{ignore:!0}}),s("SumProduct",{display:"Calculate sumproduct",fields:{list_1:{value:a.list_type("number"),caption:"List 1"},list_2:{value:a.list_type("number"),caption:"List 2"}},evaluate(e,t){if(!e)return 0;let r=e=>{var t,r;return null!=(t=null==e||null==(r=e.all)?void 0:r.call(e))?t:e},n=r(e.list_1),i=r(e.list_2);if(null==n||!n.length||null==i||!i.length)return 0;let a=Math.min(n.length,i.length),o=0;for(let e=0;e<a;e++)o+=n[e]*i[e];return o},testing:{ignore:!0}})})),XM=u(((e,t)=>{"use strict";f(),Ue();var{S:r}=xl(),n=(ag(),GM()),i=(qr(),Zm());Nl();t.exports={get_value(e){var t,r;let i=e("formula_type");return null!=(t=null==(r=n[i])?void 0:r.ret_btype)?t:"number"},field_names:i.DETECT_FIELD_NAMES,get_runmode_value(e,t,r){var i,a;let o=r.formula_type;return null!=(i=null==(a=n[o])?void 0:a.ret_btype)?i:"number"},get_unique_string(e,t){},evaluate(e,t,r){var i;let a=n[e.formula_type];return null!=(i=null==a?void 0:a.evaluate(e,t))?i:r.get_bubble_null()}}})),HM=u((()=>{"use strict";f();Qt(),vl(),Po()})),VM=u(((e,t)=>{"use strict";f();var r=qr(),{SETTINGS_TAB:n}=(Po(),tf());t.exports={field_names:{text_id:{},information:{}},get_value:e=>"text",get_runmode_value:(e,t,r)=>"text",get_unique_string(e,t){},evaluate(e,t,n){var i;return e.text_id&&null!=(i=r().get_text("USER_TEXTS",e.text_id))?i:n.get_bubble_null()}}})),YM=u(((e,t)=>{"use strict";f();var r=Po();t.exports={field_names:{breakpoint_id:{}},get_value:e=>"number",get_runmode_value:e=>"number",evaluate(e,t,n){var i,a;let o=null==(i=r.get_public_setting("responsive_breakpoints"))?void 0:i[e.breakpoint_id];return null!=(a=null==o?void 0:o.size)?a:n.get_bubble_null()},get_unique_string(e,t){}}})),KM=u(((e,t)=>{"use strict";f();var r=Nt(),n=t.exports;r.safe_register("./core/core_datasources",n),n.GetParamFromUrl=yM(),n.CurrentUser=bM(),n.PageData=wM(),n.ThisElement=AM(),n.CurrentPageItem=EM(),n.CurrentWorkflowItem=MM(),n.CurrentDataItem=xM(),n.OldDataItem=OM(),n.APIEventParameter=kM(),n.Search=SM(),n.OptionValue=TM(),n.ArbitraryText=NM(),n.DateTime=CM(),n.OneOptionValue=LM(),n.AllOptionValue=PM(),n.PrimitiveLiteral=RM(),n.GetDataFromAPI=IM(),n.GetMouseData=DM(),n.ElementParent=jM(),n.CurrentCellsIndex=BM(),n.PreviousStep=qM(),n.GetElement=UM(),n.ElementAncestor=WM(),n.Dehydrated=$M(),n.InjectedValue=FM(),n.Formulas=XM(),n.AppSetting=HM(),n.AppText=VM(),n.Breakpoint=YM()})),JM=u((e=>{"use strict";f(),Ue();var t=Nt(),r=BE(),n=["algolia_search_engine"];e.initialize=function(){let e=Uv(),i=Qm(),a=uw(),o=vM(),s=KM();if(typeof window>"u"||null===window)for(let e of n)t.safe_require(`./optional/services/${e}`);let l={element:e.registered_elements,event:i,action:a,btype:o.all,datasource:s};r.inject_dependencies(l)}})),ZM=u((e=>{"use strict";f();var t=dl(),r=pl(),n=Id(),i=t_(),a=I_(),o=D_(),s=n_(),l=j_(),_=B_(),u=q_(),c=U_(),d=W_(),p=$_(),h=F_(),g=G_(),m=kp(),v=Sp(),y=e;n.ClientDBNode=m,y.register_values=function(){t.add(r.DYNAMIC,i),t.add(r.LIST_WRAPPER,s),t.add(r.NODE_BASE,l),t.add(r.STATIC_NODE,a),t.add(r.STATIC_OBJECT,o),t.add(r.STATIC_LIST,_),t.add(r.TRANSFORM_LIST,u),t.add(r.CONCAT_LIST,c),t.add(r.INTERSECT_LIST,d),t.add(r.UNIQUE_LIST,p),t.add(r.SORTED_LIST,h),t.add(r.NODE_LIST,g),t.add(r.CLIENT_DB_NODE,m),t.add(r.CLIENT_DB_OBJECT,v)}})),QM=u((e=>{"use strict";f();var t=Dr(),r=Qt(),n=zv(),i=Hl(),a=Kt(),o=Yl(),s=$r().require_moment(),l={},_={};function u(e){let r=function(e){return(e={...e}).timestamp=s(1e3*e.timestamp).utc().startOf("day").valueOf(),JSON.stringify(e)}(e);return l[r]||(l[r]=t.MakeKey(null,"address_timezone_key"),n.proxy_geolocation_request(e,r,((e,t)=>{"OK"===(null==e?void 0:e.status)?_[t]=e:a.error("Timezone fetching issue",{res:e}),l[t].turn()}))),t.ensure_ready(l[r]),_[r]}var c={};function d(e,a){let o,{input:s,types:l,location:_,radius:u}=e;o=i.is_b_location(_)&&u?_.lat+","+_.lng:null;let d=s+u+o;var p,f,h;c[d]?a(c[d]):n.using_bubble_key()?n.proxy_geolocation_request({input:s,types:l,radius:u,location:o,request_type:"autocomplete"},d,((e,t)=>{e&&"OK"===e.status?(c[t]=e.predictions,a(e.predictions)):a([])})):((typeof google>"u"||null==(null==(p=google)||null==(f=p.maps)||null==(h=f.places)?void 0:h.AutocompleteService))&&n.load_google_map_api(),t.WaitFor(n.load_google_map_api(),(()=>{let e=new window.google.maps.places.AutocompleteService,t={input:s,types:l};o&&r.extend(t,{location:new google.maps.LatLng(_),radius:u}),e.getQueryPredictions(t,((e,t)=>{t===google.maps.places.PlacesServiceStatus.OK?(c[d]=e,a(e)):a([])}))})))}var p={};function h(e,i,o,s){let l=r.json_stringify(e),{alert_on_failure:_,throw_not_ready:u}=s;if(!p[l]){let r=function(e,t,r){o(null),p[t].turn(),r&&alert("There was an error converting the address "+t+" into a geographic location. Error message: "+e)},s=function(e,t){o(i(e)),p[t].turn()};var c,d;if(p[l]=t.MakeKey(null,"address_localization_keys"),n.using_bubble_key())n.proxy_geolocation_request(e,l,((e,t)=>{e&&"OK"===e.status?s(e.results[0],t):r(null==e?void 0:e.status,t,_)}));else(typeof google>"u"||null==(null==(c=google)||null==(d=c.maps)?void 0:d.Geocoder))&&n.load_google_map_api(),t.WaitFor(n.load_google_map_api(),(()=>{let t=new window.google.maps.Geocoder;!function n(i,o){let u;null!=e.place_id?u={placeId:e.place_id}:null!=e.address?u={address:e.address}:null!=e.lat&&null!=e.lng&&(u={latLng:new window.google.maps.LatLng(e.lat,e.lng)});let c=!1,d=setTimeout((()=>{a.owner_error("Probably invalid Geocoding API key",{display:"Geocoding Service: cannot connect to the service, please check the Geocode API key"}),c=!0,r(google.maps.GeocoderStatus.REQUEST_DENIED,l,_)}),5e3);t.geocode(u,((e,t)=>{if(clearTimeout(d),!c)if(t===google.maps.GeocoderStatus.OK)s(e[0],i);else if(t===google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&o>0){let e=o-1;setTimeout((()=>{n(i,e)}),(5-e)*(5-e)*1e3)}else t===google.maps.GeocoderStatus.REQUEST_DENIED&&a.owner_error("Unauthorized Geocoding API key",{display:"Geocoding Service: This API project is not authorized to use this API.  For more information on authentication and Google Maps JavaScript API services check https://developers.google.com/maps/documentation/javascript/get-api-key"}),r(t,i,_)}))}(l,5)}))}t.ensure_ready(p[l],!u)}e.init=()=>{o.init("client",{request_timezone:u,request_geocode:h,request_autocomplete:d,localization_hasher:r.json_stringify})}})),ex=u((e=>{"use strict";f(),Ue(),Object.defineProperty(e,"__esModule",{value:!0}),e.is_zero_decimal_currency=e.get_service_corrected_amount=e.get_bubble_corrected_amount=void 0;var t=a(Nt()),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(it()),n=a(qr());function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(e){return e&&e.__esModule?e:{default:e}}t.default.safe_register("./shared/payment_converter",e);var o={stripe(e,t,r){if(null==e)return null;let i;return i=!!(r&&n.default.or_throw().bubble_version()<14)||!s(t),function(e,t){return parseInt(t?(100*e).toFixed():e.toFixed())}(e,i)},braintree:e=>parseFloat(e.toFixed(2))};e.get_service_corrected_amount=function(e){let{service_name:t,bubble_amount:n,currency:i,only_after_bv14:a}=e;if(null==o[t])throw new r.UnexpectedError("unsupported service",{service_name:t});return o[t](n,i,a)};e.get_bubble_corrected_amount=function(e,t,r){if(null==e)return null;let i;return i=!!(r&&n.default.or_throw().bubble_version()<14)||!s(t),function(e,t){return t?parseFloat(String(e/100)):parseInt(e.toFixed())}(e,i)};var s=function(e){return null!=e&&["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(e.toUpperCase())};e.is_zero_decimal_currency=s})),tx=u(((e,t)=>{"use strict";f(),Ue(),Ft();var r=it(),n=Sr(),i=Gr(),a=ot(),o={posix:{},ietf:{}};function s(e,t,r){if(a.on_server())return r();let n=o[e][t];return null!=n?n:o[e][t]=r()}function l(e,t){if(e.charAt(0)===t)return!1;let r=null,n=0;for(;n<e.length;)if(e.charAt(n)===t){if(null==r&&n>3||null!=r&&n-r!=4)return!1;r=n,n+=1}else n+=1;return!(null==r||n-r!=4)}t.exports=class e{constructor(t){let{posix_code:n,ietf_code:i}=t;if(this.posix_code=n,this.ietf_code=i,this.posix_code&&this.ietf_code)throw new r.UnexpectedError("Can't provide two codes for a Locale");if(this.posix_code)this.ietf_code=e.posix_to_ietf(this.posix_code);else{if(!this.ietf_code)throw new r.UnexpectedError("Must provide a code to construct a Locale");this.posix_code=e.ietf_to_posix(this.ietf_code)}}static from_posix(t){return s("posix",t,(()=>new e({posix_code:t})))}static from_ietf(t){return s("ietf",t,(()=>new e({ietf_code:t})))}static posix_to_ietf(e){let[t,r]=e.split("_");return t&&r?`${t}-${r.toUpperCase()}`:t}static ietf_to_posix(e){let[t,r]=e.split("-");return t&&r?`${t}_${r.toLowerCase()}`:t}get_regional_separators(){if(null==this.decimal_separator||null==this.group_separator||null==this.decimal_digits){let e=this.format_number(111111111.1111111),t=e[0];for(let r=e.length-1;r>=0;r--){let n=e.charAt(r);if(n!==t){this.decimal_separator=n,this.decimal_digits=e.length-r-1;break}}for(let t=0;t<e.length;t++){let r=e.charAt(t);if("1"!==r&&r!==this.decimal_separator){this.group_separator=r;break}this.group_separator=""}}return{decimal_separator:this.decimal_separator,group_separator:this.group_separator,decimal_digits:this.decimal_digits}}format_number(e,t){let r,n;if(null!=t&&(t=Math.max(0,Math.min(20,t))),typeof Intl>"u"||null===Intl)return null!=t?e.toFixed(t):e.toString();n=null!=t?{maximumFractionDigits:t,minimumFractionDigits:t}:{maximumFractionDigits:20};try{r=new Intl.NumberFormat(this.ietf_code+"-u-nu-latn",n)}catch{r=new Intl.NumberFormat(this.ietf_code,n)}return r.format(e)}format_decimal(e){let{decimal_separator:t}=this.get_regional_separators();return i.dec_to_string(e).replace(".",t)}parse_float(e){if("string"!=typeof e)return parseFloat(e);e=e.trim();let{decimal_separator:t,group_separator:r}=function(e,t){let{decimal_separator:r,group_separator:n}=t,i=r,a=n,{interpreted_decimal_separator:o,interpreted_group_separator:s}=function(e){let t=null,r=null,n=[",","."],i=e.length-1;for(;i>=0;){let r=e.charAt(i);if(n.includes(r)){t=r;break}i-=1}for(let a=0;a<i;a++){let i=e.charAt(a);if(i===t){r=i,t=null;break}if(n.includes(i)){r=i;break}r=null}return{interpreted_decimal_separator:t,interpreted_group_separator:r}}(e);return null!=o&&null!=s?{decimal_separator:o,group_separator:s}:null==o&&null==s?{decimal_separator:i,group_separator:a}:l(e,s)?{decimal_separator:o,group_separator:s}:l(e,a)&&o===a?{decimal_separator:i,group_separator:a}:{decimal_separator:o,group_separator:null}}(e,this.get_regional_separators());null!=r&&160===r.charCodeAt(0)&&(e=n.replace_all(e,r," "),r=" ");let i=[",","."," "];for(let a of i)if(a!==t&&a!==r&&n.safe_contains(e,a))return NaN;let a=!1;for(let n=e.length-1;n>=0;n--){let i=e.charAt(n);if(a){if(i===t)return NaN}else(i===r||i===t)&&(a=!0)}return e=n.replace_all(e,r,""),"."!==t&&(e=n.replace_all(e,t,".")),parseFloat(e)}}})),rx=u(((e,t)=>{"use strict";f();var r=qr(),n=Lo(),i=o_();t.exports=class{constructor(){this._dependency=n.Dependency()}invalidate(){n.on_phonegap()||(r().location.base_url=document.location.href),r().workflow.announce_event("PageLoaded"),this._dependency.invalidate()}get(){return null!=i.get_page_thing_id(r().location)?this.exists=!0:this.exists=!1,this._dependency.register(),this.exists?i.get_page_thing(r().location):(null!=(null==(e=r().element)||null==(t=e.get_page())||null==(n=t.element)?void 0:n.get_static_property("page_item_type"))&&console.log("warning: no id specified.  this page expects an id"),null);var e,t,n}}})),nx=u(((e,t)=>{"use strict";f(),Ue(),R_(),Ze();var r=Lo(),n=fl(),i=ot(),a=Tt(),o=Vt(),s=ql(),l=k_(),_=z_(),u=w_(),c=x_(),d=Pp(),p=T_(),h=Kt(),g=qr(),m=Po(),v=Qp(),y=Ld(),b=zd(),w=jp();t.exports=class{constructor(){this._global=new(fn().EventEmitter),this._initialized=r.MakeKey(null,"workflow engine initialized"),this.open_server_actions=[],this.all_sent_to_server=r.MakeKeyList(),this.all_client_completed=r.MakeKeyList(),this.all_server_completed=r.MakeKeyList(),this.everything_completed=r.MakeKeyList([this.all_client_completed,this.all_server_completed]),this.debug_queue=[],this.disabled=r.Box(!1),this.about_to_change_page=!1,this.page_context_id=0,i.running_test()||setTimeout((()=>{if(g()&&!g().is_edit_mode()&&(typeof window<"u"&&null!==window&&!["tour","learn"].includes(g().appname())&&(window.onbeforeunload=()=>{if(this.warn_on_page_change&&!this.about_to_change_page&&!this.can_change_page())return g().get_text("CORE","STILL_CHANGING")}),typeof window<"u"&&null!==window)){if(b.is_hardcode(g().appname(),g().app_version()))return;let e=l.BREAKING_REVISION_TOPIC;return y.watch([_.LastChangeTopic,g().appname(),g().app_version()],(()=>m.app().json.child("last_change_as_of").get()),(e=>{let{message:t}=e;null!=t&&t!==m.last_change()&&(console.log("PLEASE REFRESH:","last change",t,m.last_change()),this.show_bad_revision())})),y.watch(e,(()=>o.breaking_revision),(e=>{let{version:t}=e;null!=t&&t!==o.breaking_revision&&(console.log("BREAKING REVISION:","breaking revision",t,o.breaking_revision),this.show_bad_revision())}))}}),1e3)}everything_done_key(){return this.everything_completed}can_change_page(){return this.all_client_completed.is_turned()&&this.all_sent_to_server.is_turned()}prompt_to_leave_page(){return!(this.warn_on_page_change&&!this.about_to_change_page&&!this.can_change_page()&&!window.confirm(g().get_text("CORE","NAVIGATION_CONFIRMATION")))}show_bad_revision(){if(this.bad_revision)return;this.bad_revision=!0;let e=r.div("bad-revision",$("body"));r.on_phonegap()||r.is_on_mobile_or_tablet()?(e.html(g().get_text("CORE","BAD_REVISION_PHONE")),e.css("font-size","16px")):e.append(g().get_text("CORE","BAD_REVISION")),e.on("click",(()=>{r.on_phonegap()&&navigator.splashscreen.show(),window.location.reload(!0)}))}show_db_limit_reached(){if(this.db_limit_reached)return;this.db_limit_reached=!0;let e=r.div("db-limit-reached",$("body"));e.append(g().get_text("CORE","DB_LIMIT_REACHED")),r.is_debug_mode()&&(e.css("cursor","pointer"),e.on("click",(()=>{let e=m.get_editor_link()+"&tab=tabs-6&subtab=Plan";window.open(e)})))}show_app_limit_reached(){if(this.app_limit_reached)return;this.app_limit_reached=!0;let e=r.div("app-limit-reached",$("body"));e.append(g().get_text("CORE","APP_LIMIT_REACHED")),r.is_debug_mode()&&(e.css("cursor","pointer"),e.on("click",(()=>{let e=m.get_editor_link()+"&tab=tabs-6&subtab=Plan";window.open(e)})))}toggle(){this.disabled(!this.disabled())}set_debugger(e){this.debugger=e}debug(e,t,n){if(null==this.debugger||e.get_static_property("workflow_disabled"))return r.Promise(!0);let i=r.Promise(null,"waiting for debugger to finish with "+e.id());return this.debug_queue.push({item:e,context:n,next:()=>{i.resolve(),this._debugger_send_next_item(!0)},properties_promise:t}),this._debugger_send_next_item(),i}_debugger_send_next_item(e){if(e&&(this._debugger_waiting=!1),this._debugger_waiting)return;let t;if(null==this._current_debug_run)t=this.debug_queue.shift();else{t=null;for(let e of this.debug_queue)if(e.context.run_id===this._current_debug_run){t=e,r.array_remove(this.debug_queue,t);break}}if(null!=t){this._debugger_waiting=!0,this._was_debugging=!0;let{item:e,context:r,next:n,properties_promise:i}=t;this._current_debug_run=r.run_id,i.callback(((t,i)=>{if(t)this._debugger_waiting=!1,n();else{let t=v.make_partial_expression_evaluator(r);this.debugger.highlight(e,i,t,r,n)}}))}}debug_done(e){this._current_debug_run===e&&(this._current_debug_run=null),setImmediate((()=>{var e;0===this.debug_queue.length&&this._was_debugging&&!this._debugger_waiting?(null==(e=this.debugger)||e.all_finished((()=>0===this.debug_queue.length&&!this._debugger_waiting)),this._was_debugging=!1):this._debugger_send_next_item()}))}announce_event(e){this._global.emit(e)}on_event(e,t){this._global.setMaxListeners(200),this._global.on(e,t)}off_event(e,t){this._global.removeListener(e,t)}abort_server_calls(){return this.bad_revision?new r.UserError("BAD_REVISION"):this.db_limit_reached?new r.UserError("DB_LIMIT_REACHED"):this.app_limit_reached?new r.UserError("APP_LIMIT_REACHED"):null}run_workflows(e,t,n){let i=r.Promise(null,"running workflows");if(null!=e.datasources||(e.datasources=p.get_basic_datasources(e.element.element.root())),e.page_context_id=this.page_context_id,!e.element)throw new r.UnexpectedError("context must contain an element");e.frozen_state||new d(e);let a=this.all_sent_to_server.make(30,"freezing workflows"),o=this.all_client_completed.make(30,"starting workflows");if(n){this.warn_on_page_change=!0;let e=()=>{this.can_change_page()?this.warn_on_page_change=!1:r.WaitFor(this.all_client_completed,this.all_sent_to_server,(()=>{setTimeout(e,100)}))};e()}return e.frozen_state.freeze_workflows(t,(n=>{if(n)a.turn(),o.turn(),i.reject(n);else{let n=t.map((t=>({event:t,context:this.create_context(e,t)})));i.resolve(this.should_events_run(n).then((e=>this.refreeze_states(e).then((e=>{try{e=this.filter_invalid_states(e),this._start_workflows_on_server(e),a.turn();let t=r.Promise(!0);for(let r of e)t=t.then((()=>this._run_workflow(r.context,r.event)));return t.then((()=>e.map((e=>e.event))))}finally{a.turn(),o.turn()}}))),(e=>(a.turn(),e))))}})),i}cancel_all_workflows(){this.page_context_id+=1,w.force_done()}filter_invalid_states(e){let t=[];for(let{event:n,context:i}of e)if(i.frozen_state.has_invalid_state()){let e=new r.OwnerError("Cannot run workflow -- relies on invalid inputs");this.report_error(e,i)}else t.push({event:n,context:i});return t}refreeze_states(e){let t=[];for(let{event:n,context:i}of e){let e=r.Promise(null,"refreezing");t.push(e),i.frozen_state.freeze_workflows([n],(t=>{t?e.reject(t):e.resolve({event:n,context:i})}))}return r.promise_array(t)}_start_workflows_on_server(e){let t=[],n=this.abort_server_calls();for(let{context:i,event:a}of e){if(!r.cookies_enabled()&&this.uses_cookies(a))throw new r.UserError(null,"Oops! Your browser seems to have cookies disabled. Make sure cookies are enabled.");if(this.uses_server(a)){if(n)throw n;t.push({context:i,item:a}),i.is_running_on_server=!0}else i.server_completion_promise=r.Promise(!0),i.server_initiation_promise=r.Promise(!0)}this.start_server_call(t)}start_server_call(e){if(0===e.length)return;for(let t of e)t.context.server_initiation_promise=r.Promise(null,"server call initiated for "+t.item.id()),t.context.server_completion_promise=r.Promise(null,"server call completed for "+t.item.id()),t.server_call_id=r.UUID(),t.context.server_call_id=t.server_call_id,t.context.server_call_context="",t.context.server_initiation_promise.callback((e=>{e&&t.context.server_completion_promise.reject(e)})),this.all_server_completed.add_promise(t.context.server_completion_promise);let t=this.all_sent_to_server.make(30,"start_server_call");r.run_once(30,(()=>{let t,i=g().current_user(),a=i._id();t=a===s.NO_USER?i.raw():void 0;let l={wait_for:r.json_deep_copy(this.open_server_actions),app_last_change:m.last_change(),client_breaking_revision:o.breaking_revision,calls:[],timezone_offset:(new Date).getTimezoneOffset(),timezone_string:g().current_timezone(),user_id:a,no_user_data:t};for(let{context:t,item:r,send_to_server:i,server_call_id:a}of e)l.calls.push({client_state:t.frozen_state.get_client_state(),run_id:t.run_id,server_call_id:a,item_id:r.id(),element_id:t.element.element_id(),additional_parameters:i,uid_generator:t.uid_generator,random_seed:t.random_seed,current_date_time:p.get_page_data("Current Date/Time",t).getTime(),current_wf_params:u.dehydrate_wf_params(t,(e=>n.dehydrate_tree(e)))});return l}),((n,i)=>{if(n){for(let{context:t}of e)t.server_completion_promise.reject(n),t.server_initiation_promise.reject(n);t.turn()}else{g().location.post("server://workflow/start",i).callback(((t,n)=>{t?"BAD_REVISION"===t.message?(console.log("PLEASE REFRESH:","workflow",JSON.stringify(i)),this.show_bad_revision()):"DB_LIMIT_REACHED"===t.message?this.show_db_limit_reached():"APP_LIMIT_REACHED"===t.message?this.show_app_limit_reached():h.log(t):g().db_instance().ensure_object_updates(n.object_updates);for(let{context:i,server_call_id:a}of e)if(t)i.server_completion_promise.reject(t);else{let e=n[a];e?"error"===e.outcome?(t=r.errors.from_json_client(e.error),i.server_completion_promise.reject(t)):"event_failed"===e.outcome?i.server_completion_promise.reject(new r.UserError(null,"We weren't able to complete your action.  Please try again...")):"redirect"===e.outcome?(i.server_completion_promise.resolve(e),this.wait_for_safe(i,(()=>document.location.href=e.next_url))):"success"!==e.outcome?i.server_completion_promise.reject(new r.UnexpectedError("non-success workflow outcome: "+JSON.stringify(e))):i.server_completion_promise.resolve(e):i.server_completion_promise.reject(new r.UnexpectedError("missing outcome",{res:n,server_call_id:a}))}})),setTimeout((()=>t.turn()),200);for(let{context:t,server_call_id:r}of e){t.server_initiation_promise.resolve();let e=()=>{this.open_server_actions=this.open_server_actions.filter((e=>e.server_call_id!==r))};t.server_completion_promise.callback(e),setTimeout((()=>{let n=this.open_server_actions;if(e(),n.length!==this.open_server_actions.length){let e=t.server_completion_promise.inspect().state,i=n.filter((e=>!this.open_server_actions.includes(e)));h.error("MANUALLY REMOVING SERVER_CALL_ID",{server_call_id:r,removed:i,promise_state:e})}}),3e5)}}}))}should_events_run(e){let t=[];for(let{event:n,context:i}of e){let e=r.Promise(null,"should event run: "+n.id());t.push(e),r.run_once(30,(()=>this.should_workflow_run(i,n)),((t,a)=>{t?e.reject(t):a?e.resolve(!0):e.resolve(this.debug(n,r.Promise(null),i).then((()=>(this.debug_done(i.run_id),!1))))}))}return r.promise_array(t).then((t=>{let r=[];for(let n=0;n<t.length;n++)t[n]&&r.push(e[n]);return r}))}_run_workflow(e,t){if(this.disabled()||e.page_context_id<this.page_context_id)return r.Promise(!0);let n=this.debug(t,r.Promise(null),e).then((()=>this.run_subsequent_actions(e,t)));this.all_client_completed.add_promise(n);let i=n.then((()=>e.server_initiation_promise));return this.add_error_handling(e,i),i}add_logger(e){let t=[];e.log=e=>t.push(e),e.dump_log=()=>t}create_context(e,t){let i=r.extend({},e);delete i.frozen_state,e.frozen_state.clone(i),i.inputs_must_be_valid=!0,null!=i.datasources||(i.datasources=p.get_basic_datasources(i.element.element.root())),i.event=t;let a=r.get_random_seed();return null!=i.uid_generator||(i.uid_generator={timestamp:Date.now(),seed:a}),i.UUID_SEED=r.get_uuid_seed(i.uid_generator),null!=i.random_seed||(i.random_seed=Math.random()),i.random_generator=new r.Random(i.random_seed),this.add_logger(i),null!=i.run_id||(i.run_id=r.UUID()),i.get_server_outcome=(e,t)=>i.server_completion_promise.callback(((a,o)=>{if(i.server_workflow_completed=!0,a)t(a);else{let{return_value:a,random_interations:s,UUID_iterations:l}=o.step_results[e.id()];l&&l!==i.UUID_SEED.iterations&&(i.UUID_SEED=r.get_uuid_seed({seed:i.UUID_SEED.seed,timestamp:i.UUID_SEED.timestamp,iterations:l})),s&&s!==i.random_generator.iterations&&(i.random_generator=new r.Random(i.random_generator.seed,s)),t(null,n.rehydrate_tree(g().db_instance(),a))}})),i.update_from_action=function(e,t,r){var n;return(null!=(n=this.original_context)?n:this).server_workflow_completed&&e.can_fall_back_to_server()?this._fetch_updates(e).then((e=>{for(let t in e){let r=e[t];r.x?this.frozen_state.clear(t):this.frozen_state.set(t,r.v)}return null})):this.frozen_state.update_from_action(e,r,t,this)},i._fetch_updates=e=>i.server_completion_promise.then((t=>{var r;let i=n.rehydrate_tree(g().db_instance(),null!=(r=t.state_changes[e.id()])?r:{});return null==i&&h.error("unexpected null _fetch_updates result",{res:t,item_id:e.id()}),null!=i?i:{}})),i}resume_action(e,t){let n=r.Promise(null,"Resuming "+t.id());return e.log("about to resume "+t.type()+" "+t.id()),t.resume(e,((r,i)=>{if(r)n.reject(r);else{e.log("successfully resumed "+t.type()+" with result "+i);let r=c.evaluate_action_clientside(t,e);n.resolve(e.update_from_action(t,r,i).then((()=>this.run_subsequent_actions(e,t))))}})),n}run_subsequent_actions(e,t){if(e.page_context_id<this.page_context_id)return r.Promise(!0);let n=t.next();if(null==n)return e.log("workflow is finished"),r.Promise(!0);let i=c.evaluate_action_clientside(n,e);return this.debug(n,i,e).then((()=>{var t;let a=r.Promise(null,null!=(t="Running action "+(null==n?void 0:n.id()))?t:"<done>");return e.log("about to run "+n.type()+" "+n.id()),["TriggerCustomEvent","TriggerCustomEventFromReusable"].includes(n.type())?a.resolve(this.start_custom_workflow(e,n)):n.run(e,i,((t,r)=>{t?"aborted"===t?a.resolve():a.reject(t):(e.log("successfully ran "+n.type()+" "+n.id()+" with result "+r),e.update_from_action(n,i,r).callback((t=>{if(t)a.reject(t);else{if(n.requires_server()&&"pending"===e.server_completion_promise.inspect().state){if(!e.server_call_id)throw new Error("could not find our server call");let t=e.server_call_context+n.id();this.open_server_actions.push({server_call_id:e.server_call_id,action_id:t})}"DisplayGroupData"===n.type()?setTimeout((()=>{a.resolve(this.run_subsequent_actions(e,n))}),0):a.resolve(this.run_subsequent_actions(e,n))}})))})),a}))}start_custom_workflow(e,t){let n=m.event(t.get_static_property("custom_event")),i=()=>this.run_subsequent_actions(e,t);return c.evaluate_wf_properties(t,e).then((a=>{let o,s;if(a.condition){var l;let i=u.wf_params_from_properties(a);if(o=u.build_duplicate_per_item_context(e,i),o.event=n,e._previously_run_custom_events?o._previously_run_custom_events=r.extend({},e._previously_run_custom_events):o._previously_run_custom_events={},o._previously_run_custom_events[t.id()])throw new r.OwnerError("Circular custom workflow -- custom workflows cannot call themselves (either directly or indirectly)");o._previously_run_custom_events[t.id()]=!0,o.original_context=null!=(l=e.original_context)?l:e,"TriggerCustomEventFromReusable"===t.type()?o.element=e.element.find_instance_by_id(t.get_static_property("element_id")):o.element=e.element.find_instance_by_id(t.root().id()),o.server_call_context+=t.id()+".",o.get_server_outcome=(n,i)=>e.get_server_outcome(t,((t,a)=>{if(o.server_workflow_completed=!0,t)return void i(t);if(!(n.id()in a))return t=new r.UnexpectedError("Error Getting Server Outcome",{outcome_for:n.id(),have_outcomes:Object.keys(a)}),void i(t);let{return_value:s,random_interations:l,UUID_iterations:_}=a[n.id()];_&&_!==e.UUID_SEED.iterations&&(e.UUID_SEED=r.get_uuid_seed({seed:e.UUID_SEED.seed,timestamp:e.UUID_SEED.timestamp,iterations:_})),l&&l!==e.random_generator.iterations&&(e.random_generator=new r.Random(e.random_generator.seed,l)),i(null,s)})),o._fetch_updates=r=>e._fetch_updates(t).then((e=>e[r.id()])),s=r.run_once(30,(()=>this.should_workflow_run(o,n)))}else s=r.Promise(!1);return s.then((e=>e?this._run_workflow(o,n).then(i):i()))}))}_uses(e,t){for(let r of e.actions())if(r["requires_"+t]())return!0;return!1}uses_server(e){return this._uses(e,"server")}uses_cookies(e){return this._uses(e,"cookies")}should_workflow_run(e,t){var r,n;null==(r=e.log)||r.call(e,"in should_workflow run for "+t.id());let i=c.evaluate_event_condition(t,e);return null==(n=e.log)||n.call(e,"should_workflow_run: "+i),i}add_error_handling(e,t){return t.callback((t=>{if(this.debug_done(e.run_id),t)return this.report_error(t,e)}))}report_error(e,t){r.ensure_bubble_error(e).extend({event:t.event,element_instance:null==t?void 0:t.element,log:null==t?void 0:t.dump_log()}),h.log(e)}wait_for_server(e){this.all_server_completed.is_turned()?e():r.WaitFor(this.all_server_completed,(()=>{setTimeout((()=>{this.wait_for_server(e)}),10)}))}wait_for_safe(e,t){this.debug_done(e.run_id),this.all_sent_to_server.is_turned()&&this.all_server_completed.is_turned()?(this.about_to_change_page=!0,t()):r.WaitFor(this.all_sent_to_server,this.all_server_completed,(()=>{setTimeout((()=>{this.wait_for_safe(e,t)}),100)}))}initialize(){let e=a.parse(g().location.base_url,!0),t=e.query.resume;if(t){delete e.query.resume;let r={};for(let t in e.query){let n=e.query[t];null!=n&&(r[t]=n)}e.query=r,delete e.search,g().location.set_url_without_refresh({url:a.format(e)}),this.resume(t)}this._initialized.turn()}initialize_key(){return this._initialized}resume_uses_server(e,t){return t||e.terminate_server_workflow()}make_resume_key(e,t,n){if(t.next()||this.resume_uses_server(t,n)){let i=u.dehydrate_wf_params(e,(e=>null!=(null==e?void 0:e.dehydrate)?e.dehydrate():e)),{state:a,value:o,reason:s}=e.server_completion_promise.inspect(),l=o;"fulfilled"!==a&&h.warn("bad server outcome before navigation",{state:a,value:o,reason:s});let _={element_instance:e.element.dehydrate(),element_id:e.element.element_id(),current_wf_params:i,to_resume:t.id(),frozen_state:e.frozen_state.serialize(),run_id:e.run_id,server_workflow_terminated:n,uid_generator:e.uid_generator,server_outcome_value:l};null!=_.uid_generator&&(_.uid_generator.iterations=e.UUID_SEED.iterations);let c=e.run_id;return r.local_storage_put(c,_,!0),c}}resume(e,t){let i=r.local_data_retrieve(e);if(!i)return h.error("Could not resume workflow, was not able to retrieve data",{resume_key:e}),r.Promise(!1);let a=m.action(i.to_resume),o=r.Promise(null,"finished resuming workflow");return r.run_once(30,(()=>{g().app_language();let e=i.element_instance,t="",a=/(.*?:[a-zA-Z]+)_group_item_.*?_(\d+):/,o=e.match(a);for(;null!=o;){let i=n.rehydrate_tree(g().db_instance(),t+o[1]),s=o[2];i.message("draw_till",s);let l="Table"===i.repeating_layout_type?i.parent().table_element_layout:i.repeating_group_layout;l.raw_list_data(),r.ensure_ready(l.finished_loading_switch),e=e.substring(o[0].length),t+=o[0],o=e.match(a)}return{element:n.rehydrate_tree(g().db_instance(),i.element_instance)}}),((e,n)=>{if(e)return void o.reject(e);let{element:s}=n;s||(s=new A(i.element_instance,i.element_id));let l={element:s,run_id:i.run_id,uid_generator:i.uid_generator},_=d.deserialize(l,i.frozen_state);l.frozen_state=_,l=this.create_context(l,a.event()),l.datasources.get_wf_param=u.generate_wf_param_datasource(i.current_wf_params),l.log("resuming workflow at action "+a.id()+" "+a.type()),this.resume_uses_server(a,i.server_workflow_terminated)?this.start_server_call([{context:l,item:a,send_to_server:t}]):(l.server_completion_promise=r.Promise(i.server_outcome_value),l.server_initiation_promise=r.Promise(!0));let c=this.resume_action(l,a);o.resolve(c.then((()=>l.server_initiation_promise))),this.add_error_handling(l,o)})),o}};var A=class{constructor(e,t){this.instance_id=e,this._element_id=t,this.element=m.element(this._element_id)}dehydrate(){return this.instance_id}element_id(){return this._element_id}find_instance_by_id(e){return null}}})),ix=u((e=>{"use strict";f();var t=$r(),r=e;r.date_code=t.date_math;var n=wv();r.apply_dynamic_properties_text=n.apply_dynamic_properties_text;var i=og();r.resolve_constraints=i.resolve_constraints,r.s3_get=(e,t,r)=>e.get_redirect({path:t,appname:r}),r.fileupload_too_large=e=>!1;var a=jE();r.NO_SUCH_USER=a.INVALID_LOGIN_CREDENTIALS,r.WRONG_PASSWORD=a.INVALID_LOGIN_CREDENTIALS,r.wrong_password_msg="We didnât find an account with those login credentials",r.throw_on_failed_pwd_reset=!1;var o=Dg();r.MAX_POPUP_ZINDEX=o.MAX_POPUP_ZINDEX})),ax=u((e=>{"use strict";f();var t=Lo(),r=e;r.LATEST_VERSION=25;var n=null;r.get_bv=function(e){return n||function(){let e;var i;e=t.on_client()?null!=(i=window.bubble_version)?i:r.LATEST_VERSION:0;let a=ix(),o={};for(let n=r.LATEST_VERSION;n>=e;n--)a=o[n]=t.extend({},a,s(n));n=o}(),n[e]};var i=null;r.get_all_version_messages=function(){if(!i){let e=[];for(let t=0;t<=r.LATEST_VERSION;t++){let r=s(t);e.push({id:t,message:r.message,link:r.link,date:r.date})}i=e}return i};var a=l,o={};function s(e){var t;return null!=(t=o[e])?t:a("./"+String(e))}r.register=function(e,t){o[e]=t}})),ox=u((e=>{"use strict";f(),Ue();var t=Lo(),r=Nl(),n=Up(),i=Kt(),a=Il(),o=(Wh(),$h()),s=mg(),l=Fh(),{ON_ELEMENT:_,CUSTOM_PROP_IDENTIFIER:u}=(hf(),Zw(),vm()),c=gm(),d=dv(),p=(Cg(),Fv()),h=Qw(),g=Zw(),{allow_overrides_check:m}=(pw(),of()),{FirstLetterCapitalize:v}=Sr(),y=xr(),b=Ql(),w=xl(),A=qr(),E=Po(),M=e,x={missing:!0,get_static_property(){},get_default(){},events:()=>[],property(e){return a.new_expression(n.EmptyJSON(E.app().json,null,"property on missing def"),this)},id:()=>"missing",can_have_children:()=>!1,toUniqueString:()=>"MissingDef",get_style_if_exists(){},element_custom_states:()=>[],element_custom_state:()=>null,add_specific_messages(){},get_responsive_version:()=>0,raw:()=>({})};function O(e){let t=e.property("custom_id").get_static(),r=e.app().custom_definition(t);return null!=r&&r.exists()?r:x}M.load_custom=t.autorun_cache((function(e){var n,f;let v=O(e),E=function(e,t){var r;if(null!=t||(t=O(e)),t.missing)return e.property("custom_id").get_static(),{get_html:()=>"<div>Deleted reusable element</div>",initialize(){},get_messages:()=>[],get_states:()=>[],get_private_messages:()=>[],can_have_children:()=>!1,is_visible_on_page_load:()=>!0,add_specific_messages(){},property_applications:[]};let n=null!=(r=t.property("element_type").get_static())?r:"Group";return A().load_plugin(A().plugin_prefixes.element+n)}(e,v);v.missing&&function(e){let t=e.json.child("properties").child("custom_id").get(),n=A().derived("CustomByName").content();return r.object_values(n).some((e=>e.id===t))}(e)&&i.error("custom element exists but not found while rendering. possible id_to_path issue",{custom_id:e.json.child("properties").child("custom_id").get(),id_to_path_keys:A().app().json.child("_index").child("id_to_path").child_names(),element_definitions_keys:A().app().json.child("element_definitions").child_names(),app_json_asset_generation_fiber_id:A().app().json.child("generation_fiber_id").get()});let M=v.property("element_type").get_static(),x="Popup"!==M,k="FloatingGroup"===M,S="Group"===M,T={data_source:{},edit_custom_definition:{only_edit_mode:!0},min_width:{default:30,no_states:!0},fixed_width:{no_states:!0,default:!1},responsive_alignment:{default:"center",no_states:!0},use_max_width:{no_states:!0,default:!1},max_width:{default:100,optional:!0,no_states:!0},collapse_margin:{default:0,optional:!0,no_states:!0},delete_element:{no_states:!0,only_edit_mode:!0},select_parent:{no_states:!0,only_edit_mode:!0},reveal_in_tree:{no_states:!0,only_edit_mode:!0},lock_in_editor:{no_states:!0,only_edit_mode:!0}},N=Object.values(null!=(n=null==(f=v.property("parameters"))?void 0:f.raw())?n:{});for(let e of N)T={...T,[`${u}${e.param_id}`]:{no_states:!1,only_edit_mode:!0,optional:e.optional}};x?t.extend(T,(new c.PositionOnly).field_names,d.visibility_field_names,(new c.Dimensions).field_names,{use_max_width:{no_states:!0,default:!1},max_width:{optional:!0,no_states:!0,default:100},collapse_margin:{default:375,optional:!0,no_states:!0}}):t.extend(T,p.greyout_field_names,(new c.ShortDimensions).field_names),k&&t.extend(T,h.floating_field_names),t.extend(T,new c.ResponsiveElement(e).field_names),S&&t.extend(T,g.group_field_names);let C={base_name:E.plugin_retrieved_name,property_transformer:(e,t)=>function(r){return _.includes(r)?["height","width"].includes(r)&&e.not_resizable()?v.property(r):t(r):!e.get_styleable_properties()[r]||!v.get_style_if_exists()||m(e,r,v.field_names())&&null!=v.property(r).raw()?v.property(r):v.get_style().property(r)},get_static_property_transformer:(e,t)=>function(r,n){var i;return _.includes(r)?["height","width"].includes(r)?e.not_resizable()?v.get_static_property(r,n):null!=(i=t(r,n))?i:v.get_static_property(r,n):t(r,n):!e.get_styleable_properties()[r]||!v.get_style_if_exists()||m(e,r,v.field_names())&&null!=v.property(r).raw()?v.get_static_property(r,n):v.get_style().get_static_property(r,n)},get_style_if_exists_transformer:()=>()=>v.get_style_if_exists(),default_transformer:(e,t)=>function(r){return _.includes(r)?t(r):!e.get_styleable_properties()[r]||!v.get_style_if_exists()||m(e,r,v.field_names())&&null!=v.property(r).raw()?v.get_default(r):v.get_style().get_default(r)},states_transformer:e=>()=>{var e,t;return null!=(e=null==(t=v.states)?void 0:t.call(v))?e:[]},primary_field(e){},field_names:T,styleable_properties:{greyout_color:!1,greyout_blur:!1},property_applications:null==E?void 0:E.property_applications,custom_states(){var e,t;return null!=(e=null==(t=v.states)?void 0:t.call(v))?e:a.enhance_array([])},element_custom_states:()=>v.element_custom_states(),element_custom_state:e=>v.element_custom_state(e),get_default(){},transition(t){let r=e.json.child("transitions").child(t);if(r.exists())return new s(r,e);let n=v.transition(t);if(n)return n;let i=v.get_style_if_exists();return i?i.transition(t):void 0},get_messages:e=>E.get_messages(e),get_states:e=>E.get_states(e),add_specific_messages(e,r){for(let s of Object.values(null!=(n=null==(i=r.E.custom_definition())||null==(a=i.property("parameters"))?void 0:a.raw())?n:{})){var n,i,a,o;let r=null!=(o=s.btype_id)?o:"Checkbox"===s.editor_type?"boolean":"text";s.is_list&&(r=y.list_type(r)),t.extend(e,{[`${u}${s.param_id}`]:{description:"'s "+s.param_name,section:"Properties",ret_btype:r,fn:e=>e.state(`${u}${s.param_id}`),filter_context(e){let t=e.node,r="";for(;null!=t;){if(t.node_name().includes(u)){r=t.node_name();break}t=t.parent_expression()}return r!==`param_${s.param_id}`},filter_context_new:e=>e.custom_param_name!==`param_${s.param_id}`}})}return E.add_specific_messages(e,r)},get_state_value:(e,t)=>E.get_state_value(e,t),get_private_messages:e=>E.get_private_messages(e),mandatory_sections:e=>["GroupType","Background"],get_html:e=>E.get_html(e),is_popup:e=>!x,not_max_adjustable:E.not_max_adjustable,property_supports_states:!0,property_supports_transitions:!1,can_copy_style:!1,uses_css_responsive:v.get_responsive_version()>0,can_fit_width:x,can_fit_height:!0,solid_component:v.get_responsive_version()>0?E.solid_component:void 0,use_legacy_in_editor:!0,edit_fallback_component:E.solid_component,register(r){var n;if(!r.is_self_nested_custom()){if(r.split_namespace(),r.add_to_namespace(r,v.id()),r.run_mode()){t.WaitFor(r.can_register_workflows(),(()=>r.register_workflows(v.events())));for(let t of Object.values(null!=(a=null==(o=e.E.custom_definition())||null==(s=o.property("parameters"))?void 0:s.raw())?a:{})){var a,o,s;let e;r.state(`${u}${t.param_id}`,(r=>{if(e)return i.owner_error(`Property ${t.param_name} contains circular reference`,{element_instance:r,prop_name:`${u}${t.param_id}`}),null;try{var n;e=!0;let i=r.prop_eval_context();return null!=(n=l.evaluate_property(r,`${u}${t.param_id}`))?n:b.evaluate(w.shrink_object(t.default_value),i)[0]}finally{e=!1}}))}}null==(n=E.register)||n.call(E,r)}},register_children(e){e.is_self_nested_custom()||!E.can_have_children()||(E.register_children?E.register_children(e):e._default_register_children(v.elements()))},can_defer_drawing(e){var t,r;return null!=(t=null==(r=E.can_defer_drawing)?void 0:r.call(E,e))&&t},initialize(e){var t;(E.initialize(e),e.responsive_mode()||e.run_mode())&&(v.get_responsive_version()>0&&(null==(t=e.element.root())?void 0:t.get_responsive_version())<1&&(e.canvas.css({height:"max-content","grid-template-rows":"max-content"}),e.element.added_to_container()&&e.autorun((()=>{let t=e.current_height();e.set_height(t,{no_css_update:!0}),e.canvas.css("height","max-content")}))));e.is_self_nested_custom()&&e.canvas.text("This is a circular Reusable Element... Reusable Elements cannot contain themselves (or other Reusable Elements that contain them).")},can_have_children:e=>E.can_have_children(e),get_children_canvas:e=>E.get_children_canvas(e),create_server_children(e){let r=e.container.create_child(e);t.incremental_for_each(v.elements(),(t=>{t.exists()&&e.children.push(new o(t))})),e.child_container=r},attach_to_body(e){var t;return null==(t=E.attach_to_body)?void 0:t.call(E,e)},goes_on_document(e){var t,r;return null!=(t=null==(r=E.goes_on_document)?void 0:r.call(E,e))&&t},goes_on_document_for_drawing(e){var t,r;return null!=(t=null==(r=E.goes_on_document_for_drawing)?void 0:r.call(E,e))?t:this.goes_on_document(e)},no_edit_draw_children:()=>!0,is_visible_on_page_load:e=>E.is_visible_on_page_load(e),not_resizable(e){var t,r;return null==(t=e.root())||!t.use_responsive_algorithm()||null==(r=v.use_responsive_algorithm)||!r.call(v)||v.get_responsive_version()>0&&"fixed"===v.container_layout()},not_draggable(e){var t,r;return null!=(t=null==(r=E.not_draggable)?void 0:r.call(E,e))&&t},modal(e){var t;return null==(t=E.modal)?void 0:t.call(E,e)},get_definition_workflows:e=>v.events(),get_visible_workflows(e){return a.enhance_array([...e.parents().events(),...this.get_definition_workflows(e)])},get_related_workflows:e=>function(t){let r=e.parents().events(),n=v.events(),i=e=>r=>r.element_id()===e&&r.type()===t;return a.enhance_array([...r.filter(i(e.id())),...n.filter(i(v.id()))])},custom_definition:()=>v};return E.can_animate&&(C.can_animate=()=>E.can_animate(e)),E.position_canvas&&(C.position_canvas=E.position_canvas),E.do_show&&(C.do_show=E.do_show),E.do_hide&&(C.do_hide=E.do_hide),E.notify_width&&(C.notify_width=E.notify_width),E.get_min_width&&v.use_responsive_algorithm()&&(C.get_min_width=E.get_min_width),E.uses_inset_instead_of_margin&&(C.uses_inset_instead_of_margin=!0),C})),M.CustomDefinition=O})),sx=u((e=>{"use strict";f(),Ue(),Mr(),pr();var t=At(),r=Dr(),n=(Lr(),Sr()),i=Qt(),a=(it(),ot()),o=(Fr(),tx()),s=Kt(),l=(Or(),$r()),_=__(),u=(sv(),BE()),c=rx(),d=nx(),p=Tp(),h=qr(),g=ax(),m=ox(),v=e,y=l.require_moment(),b=["body","custom_form","formData","custom_retry_handler","__original_request"];function w(e){return r.Promise(e).then((e=>{var t;e=function(e){var t,r;let n={},a={};for(let t in e){let r=e[t];b.includes(t)?n[t]=r:a[t]=r}e=i.json_deep_copy(a);for(let t in n){let r=n[t];e[t]=r}return null!=(t=e).method||(t.method="get"),null!=(r=e).timeout||(r.timeout=3e4),e.gzip=!0,e}(e);let a=r.Promise(null,"default_lib.http_request "+e.url);if(e.type=e.method.toUpperCase(),delete e.method,null!=(t=e).dataType||(t.dataType="jsonp"),null!=e.data){var o,s;let t=null==(o=e.headers)?void 0:o["Content-Type"],r=null!=t&&!n.starts_with(t,"application/json");var l,_;if(!["GET","HEAD"].includes(null!=(s=e.type)?s:"GET")&&!r)null!=(l=e).headers||(l.headers={}),null!=(_=e.headers)["Content-Type"]||(_["Content-Type"]="application/json"),e.processData=!1,e.data=i.json_stringify(e.data)}else if(null!=e.body)e.data=e.body,e.contentType=!1,e.processData=!1,delete e.body;else if(e.formData){e.contentType=!1,e.processData=!1;let t=new FormData;for(let r in e.formData){let n=e.formData[r];t.append(r,n)}e.data=t,delete e.formData}if(e.qs){let t=new URL(e.url);for(let[r,n]of Object.entries(e.qs))t.searchParams.append(r,n);e.url=t.toString(),delete e.qs}let u=function(e){return $.ajax(e)}(e);return u.done(((e,t,r)=>a.resolve({statusCode:r.status,body:i.json_stringify(e)}))),u.fail(((e,t,r)=>{var n;return a.resolve({statusCode:e.status,body:null!=(n=e.responseText)?n:r})})),a}))}v.get=function(){let e={};for(let t in u.type_to_prefix){let r=u.type_to_prefix[t];e[t]=r+":"}return{bubble_version(){var e,t,r;return null!=(e=null!=(t=null==(r=window)?void 0:r.bubble_version)?t:this.app().get_public_setting("bubble_version"))?e:0},bv(){return g.get_bv(this.bubble_version())},load_plugin:u.load_plugin,plugin_prefixes:e,load_custom:m.load_custom,current_timezone:()=>y.tz.guess(),log:s.log,workflow:new d,pageparam:new c,app_language:p.app_language,get_text:p.get_text,locale:()=>o.from_posix(h().app_language()),browser_locale(){var e;if(null!=(null==(e=navigator)?void 0:e.language))return o.from_ietf(navigator.language)},test_prod:!1,ip:"",app_indicator(e,t,r){var n;return"string"==typeof e||null==e?{appname:null!=e?e:null==(n=this.appname)?void 0:n.call(this),app_version:null!=t?t:this.app_version(),temp_db:null!=r?r:this.temp_db()}:(null!=e.appname||(e.appname=domain_editor.get_appname_from_domain(e.domain)),null!=e.app_version||(e.app_version=this.app_version()),null!=e.temp_db||(e.temp_db=this.temp_db()),e)},temp_db:null,http_request:e=>a.on_server()?http_request_server(e):w(e),experiment(e,r){let n=this.current_user();if(!n)return-1;let i=n._id(),a=t(e+i);return Math.floor(a()*r)}}},v.register=function(){_.getLibFactory().registerLibCreator("default",v.get)}})),lx=u((e=>{"use strict";f();var t=ww(),r=Kt(),n=Aw(),i=Ew(),a=Nt(),o=kw(),s=e;DE(),ky(),jE();var l=JM(),_=ZM(),u=QM();ex(),Nl();var c=sx();s.initialize=function(){if(t.initialize(),c.register(),null!=Math.log2||(Math.log2=e=>Math.log(e)*Math.LOG2E),typeof window<"u"){let e=Wr();a.safe_register("moment",e)}r.register_logger(n),i.start(),l.initialize(),_.register_values(),u.init(),o.initialize()}})),_x=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.HttpStatusCode=e.HttpHeaderName=void 0;var t=function(e){return e[e.TooManyRequests=429]="TooManyRequests",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.ServerError=500]="ServerError",e[e.UserSideNetworkError_0=0]="UserSideNetworkError_0",e[e.UserSideNetworkError_12017=12017]="UserSideNetworkError_12017",e}({});e.HttpStatusCode=t;var r=function(e){return e.RetryAfter="Retry-After",e}({});e.HttpHeaderName=r})),ux=u(((e,t)=>{"use strict";f(),Ue();var r,n=M_(),i=zd(),a=qr(),o=Kt(),s=ot(),l=Dr(),_=Qt(),u=it(),c=Zt(),d=bg(),p=za(),h=Lp(),g=Vt(),{HttpStatusCode:m,HttpHeaderName:v}=_x(),{SECOND_MS:y}=Or(),b={},w=null==(r=window)?void 0:r.bubble_page_load_id,A={"server://workflow/start":!0,"server://user/hi":!0};function E(e){if(s.on_phonegap()){let t=e.getResponseHeader("Set-Cookie");if(t){let e=[],r=t.split(","),n=r[0],i=0;for(;n;)n=r[i],-1!==n.indexOf("expires=")&&(n=n+","+r[i+1],i++),e.push(n),i++,n=r[i];for(let t of e){let e=t.split("="),r=e[0].trim(),n=e[1].split(";")[0];p.createCookie(r,n)}}}}t.exports=class extends i.Location{constructor(e,t){super(e,t),this.open_requests=l.MakeKeyList()}load(){o.error("Deprecated call to locationservice.load"),a().workflow.announce_event("PageLoaded"),a().user.ready()}change_page(e,t,r){document.location.href=this.get_page_url(e,t,r)}reload_page(){return document.location.reload()}set_url_without_refresh(e){let{url:t,push_state:r}=e;r?window.history.pushState({},document.title,t):window.history.replaceState({},document.title,t),this.base_url=t}get(e,t){return this.request(e,"get",null,t)}post(e,t,r){return this.request(e,"post",t,r)}put(e,t,r){return this.request(e,"put",t,r)}delete(e,t){return this.request(e,"delete",null,t)}request(e,t,r,i,f,v,y){if(null!=f||(f=500),null!=y||(y=Date.now()),Date.now()-y>2*g.REQUEST_TTL/3)throw new u.OwnerError("Could not reach server");let b=l.Promise(null,t+" "+e);null!=v||(v=c.UUID()),i&&b.callback(i);let O=e;e=e.toLowerCase();let k=!1,S=!1;if(-1!==e.indexOf("server://"))e=this.get_server_base()+e.split("server://")[1],k=!0;else if(-1!==e.indexOf("meta://")){let t={};document.location.href.startsWith(a().location.get_base_for_meta())||(t.protocol="HTTPS:"),e=this.get_base_for_meta(t)+"/"+e.split("meta://")[1],k=!0,S=!0}else 0===e.indexOf("bubble:")?(k=!0,e=e.slice(7)):(k=!1,o.warn('Using Lib().location.request to hit a non-Bubble server. Use Lib().http_request instead! If this actually is bubble, prefix url with "server://"',{uri:e}));let T={processData:!1,type:t,dataType:"json"};(null!=T.xhrFields||(T.xhrFields={}),null!=T.headers||(T.headers={}),(S||s.on_phonegap())&&(T.xhrFields.withCredentials=!0),s.on_phonegap())&&(null!=r||(r={}),r.headers_for_phonegap=a().location.base_url);if("get"!==t&&"delete"!==t){try{var N;T.data=JSON.stringify(null!=(N=r)?N:{})}catch{var C;let e={},t=null!=(C=r)?C:{};for(let r in t){let n=t[r];try{e[r]=JSON.stringify(n)}catch{}}T.data=JSON.stringify(e)}T.contentType="application/json",T.headers["cache-control"]="no-cache"}if(k){var L,P;let e=null==(L=window)||null==(P=L.read_url)?void 0:P.call(L).app_id;s.is_edit_mode()&&e?T.headers["X-Bubble-Appname"]=e:s.is_plugin_edit_mode()&&(T.headers["X-Bubble-Appname"]="meta"),T.headers["X-Bubble-Breaking-Revision"]=g.breaking_revision,T.headers["X-Bubble-R"]=encodeURI(this.base_url),null!=w||(w=c.LUID()),T.headers["X-Bubble-PL"]=w;let t=p.get_active_epoch();t&&(T.headers["X-Bubble-Epoch-ID"]=t.id,T.headers["X-Bubble-Epoch-Name"]=t.name),T.headers["X-Bubble-Fiber-ID"]=v;let r=d.package_utm_data();r&&(T.headers["X-Bubble-UTM-Data"]=r)}let R=$.ajax(e,T);return R.done(((t,r,i)=>{if(k&&(n.server_connection_problems=!1),null!=window.start_debugger&&null!=a().workflow.debugger){let t=parseInt(i.getResponseHeader("X-Bubble-Capacity-Limit"));isNaN(t)||a().workflow.debugger.report_capacity(t),a().workflow.debugger.get_request_size(e)}return E(R),function(e){return A[e]}(O)&&function(e){null!=e&&(window.bubble_session_uid=e.bubble_session_uid)}(t),p.rebuild_cookies(),h.recheck_uid((()=>b.resolve(t)),O)})),R.fail(((i,s,l)=>{var c,d;let g=i.getResponseHeader("x-bubble-change-page");if(g){let e=document.location.href,t={referrer:encodeURIComponent(e)},r=_.extend({},a().location.get_query(),t);this.change_page(g,r)}else if(E(R),p.rebuild_cookies(),h.recheck_uid(),k&&(i.status>=400&&i.status<=599?n.server_connection_problems=!1:n.server_connection_problems=!0),M(i,k)){i.status===m.UserSideNetworkError_0&&null!=l&&o.warn(new u.UnexpectedError("Bad request not sent",{status:l}));let e=x(i,f);setTimeout((()=>b.resolve(this.request(O,t,r,null,2*e,v,y))),e)}else if((-1!==(null==(c=i.responseText)||null==(d=c.indexOf)?void 0:d.call(c,"Chrome Data Compression Proxy"))||[12019,524].includes(i.status))&&f<2e3)setTimeout((()=>b.resolve(this.request(O,t,r,null,2*f,v,y))),f);else if(k)b.reject(this.response_to_error(i,{uri:e,request_data:T,method:t,fiber_id:v}));else{let e;try{e=_.json_parse(i.responseText)}catch{e=i.responseText}b.reject(new u.UnexpectedError(e))}})),this.open_requests.add_key(b.ready_key()),b}response_to_error(e,t){let{uri:r,request_data:n,method:i,fiber_id:a}=null!=t?t:{},o=null;if(e.responseText&&"application/json"===e.getResponseHeader("Content-Type"))try{o=JSON.parse(e.responseText)}catch{}let s=e.getAllResponseHeaders();if(null==o||!o.error_class)return new u.UnexpectedError("unexpected server response",{statusCode:e.status,response_body:e.responseText,uri:r,request_data:n,method:i,headers_string:s,code:a});let l=u.from_json_client(o);return l instanceof u.UnexpectedError&&l.extend({uri:r,request_data:n,method:i}),l}request_synchronous(e,t,r){function n(e){let{response:t,error:r,cache_status:n,current_version:i}=e;n.version===i&&(n.response=t,n.error=r,n.keys.map((e=>e.turn())),n.version+=1,n.state="complete")}let i=_.json_stringify({uri:e,method:t,data:r});null!=b[i]||(b[i]={state:"invalidated",version:0});let a=b[i];if("invalidated"===a.state){let i=a.version;a.state="pending",null!=a.keys||(a.keys=[]),a.keys.push(l.MakeKey(null,"request_synchronous "+e)),this.request(e,t,r).then((e=>{n({response:e,cache_status:a,current_version:i})}),(e=>{n({error:e,cache_status:a,current_version:i})}))}if(l.ensure_ready(a.keys[a.keys.length-1]),a.error)throw a.error;return a.response}wipe_request_cache(e,t,r){let n=_.json_stringify({uri:e,method:t,data:r});null!=b[n]&&(b[n].state="invalidated",b[n].version+=1,delete b[n].response,delete b[n].error)}};var M=(e,t)=>[m.TooManyRequests,m.ServiceUnavailable,m.UserSideNetworkError_0,m.UserSideNetworkError_12017].includes(e.status)||t&&[m.BadGateway,m.GatewayTimeout].includes(e.status),x=(e,t)=>{let r=e.getResponseHeader(v.RetryAfter);if(r){let e=Number(r);if(Number.isFinite(e))return e*y;{let e=new Date(r).getTime()-Date.now();if(e>=0)return e}}return t}})),cx=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.get_error_message=function(e,r){var n,i,a,o;switch(e.forbidden){case"NOT_PAID":return"The plugin "+(null!=(n=e.caption)?n:r)+" is published under a commercial license and this app does not have a subscription. Please subscribe in the editor.";case"BLOCKED":return"The plugin "+(null!=(i=e.caption)?i:r)+" is blocked by Bubble.";case"NOT_AUTHORIZED":return"The plugin "+(null!=(a=e.caption)?a:r)+" is published under a private license and this app is not authorized.";case"NOT_TEST_APP":return"The plugin "+(null!=(o=e.caption)?o:r)+" is in test mode and the current app is not the registered test app.";case"ISSUE":{var s;let n="The plugin "+(null!=(s=e.caption)?s:r)+" could not be retrieved for this app. ";return t.default.is_dedicated?n+="Please upgrade your Dedicated Cluster and try again.":n+="Please make sure it exists.",n}}};var t=function(e){return e&&e.__esModule?e:{default:e}}(Vt())})),dx=u(((e,t)=>{"use strict";f();var r=Lo(),n=Vt(),i=Kt(),a=vw(),{get_error_message:o}=cx(),s=!1,l=!1;t.exports=function(e,t,_){var u,c;let d=null==(u=window)||null==(c=u.plugins)?void 0:c[t];if("string"==typeof d&&(d=r.json_parse(d)),!function(e){return null==e||r.is_empty(e)||e.forbidden}(d))return"current"===_&&(l||(i.owner_warn("Using plugins in testing mode can considerably slow down your application as they are not cached. You should only use a test app to test plugins."),n.is_dedicated&&i.owner_warn("Testing plugins should not be done with an application in a dedicated cluster. Please test your plugin with an app on the main cluster."),l=!0)),new a.ThirdPartyPluginWrapper(t,_,d);!function(e,t){if(null==t)if(window.bubble_no_third_party_plugin){if(s)return;i.owner_warn("Community plugins are not loaded in safe mode."),s=!0}else i.owner_error("Plugin could not be loaded",{display:`The plugin ${e} could not be loaded. Please check it exists.`});else t.forbidden&&i.owner_error(t.forbidden,{display:o(t,e)})}(t,d)}})),px=u((e=>{"use strict";f();var t=Lo();e.get=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];let o=JSON.stringify({function_name:e,args:i});if(window.bubble_run_derived[o])return new r(window.bubble_run_derived[o]);throw new t.UnexpectedError("Derived not included in package",{function_name:e,args:i})};var r=class{constructor(e){this._content=e}content(){return this._content}set_app(e){}}})),fx=u(((e,t)=>{"use strict";f(),Ze();var r=Nt(),n=t.exports;function i(e){throw new Error(e)}r.safe_register("./assert",n),n.assert=function(e,t){console.log(`Asserting true: ${e}`),e||i(null!=t?t:"expected true, got: "+e)},n.fail=i})),hx=u(((e,t)=>{"use strict";f(),Ue();var r=Lo(),n=fx(),i=No(),a=Nt(),o=jp(),s=uf(),_=er(),u=Ra(),c=t.exports;a.safe_register("./test_utilities/testing",c);var d,p=a.safe_require("./lib");if(r.on_server()){let e=l;r.extend(c,e("./test_lib"))}typeof window<"u"&&null!==window&&(window.testing=c,(d=r.MakeSwitch(null,"server_running_key")).turn_on(),$(document).ajaxStart((()=>d.turn_off())),$(document).ajaxStop((()=>d.turn_on()))),c.initialize=function(){let e=r.MakeKeyList([p().workflow.everything_done_key(),d,p().location.open_requests,r.scheduled_key,r.no_outstanding_run_once,o.no_status_bar,s.active_key]);window.everything_ready=()=>e,window.wait_for_everything=t=>setTimeout((()=>e.is_turned()?t():window.wait_for_everything(t)),100)},c.fail=n.fail,c.assert=n.assert,c.assert_equals=function(e,t,r){console.log(`Asserting equals: ${e}, ${t}`),e!==t&&c.fail(null!=r?r:`expected:\n${e}\nbut got:\n${t}`)},c.assert_deep_equals=function(e,t,r){_(e,t)||c.fail(null!=r?r:`expected:\n${JSON.stringify(e)}\nbut got:\n${JSON.stringify(t)}`)},c.assert_set_equals=function(e,t,r){console.log(`Asserting set equals: [${e.join(", ")}], [${t.join(", ")}]`);let n=[];for(let r of e)t.includes(r)||n.push(r);let i=[];for(let r of t)e.includes(r)||i.push(r);if(0!==n.length||0!==i.length){let a=(null!=r?r:"Sets are not equal")+"\n";a+="Expected: "+e.join(", ")+"\n",a+="Got: "+t.join(", ")+"\n",0!==n.length&&(a+="Missing Items: "+n.join(", ")+"\n"),0!==i.length&&(a+="Extra Items: "+i.join(", ")+"\n"),c.fail(a)}},c.assert_contains=function(e,t,r){console.log(`Asserting contains: ${e}, ${t}`),-1===t.indexOf(e)&&c.fail(null!=r?r:`expected it to contain ${e} but got ${t}`)},c.assert_error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=Math.max(t.length,1),i=t.slice(0,n-1),a=t[n-1];console.log("asserting there is an error...");let o=!1;try{a(),o=!0}catch(e){var s;if(i[0]&&!(e instanceof i[0]))console.log(e.stack),c.fail(`Expected an instance of ${i[0].prototype.error_class} but got ${null==e||null==(s=e.constructor)?void 0:s.name}`);return e}o&&c.fail("Expected an error but did not get one")},c.wait_for=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,i=setInterval((()=>{e()&&(clearInterval(i),clearTimeout(a),t())}),500),a=setTimeout((()=>{throw clearInterval(i),new r.UnexpectedError("Timed out after 30 seconds of waiting for: "+e)}),n)},c.set_domain=function(e){c.DOMAIN=e;let t=u.is_host_aws(e)?"http":"https";c.DOMAIN_PREFIX=`${t}://${c.DOMAIN}/`,c.DOMAIN_PREFIX_DIRECT=`${t}://${c.DOMAIN}`};var h=[];function g(){if(i.all_page_errors.length>0){var e;let t=i.all_page_errors[0];return i.all_page_errors=[],null!=(e=t.stacktrace)?e:JSON.stringify(t)}return null}c.log=e=>h.push(e),c.get_log=function(){let e=h;return h=[],e};var m=null;c.SimpleTest=class{constructor(e,t,r){this._name=e,this.fn=t,this.setup=r}name(){return this._name}run(e){!function(e){clearInterval(m),m=setInterval((()=>{let t=g();t&&(e(t),clearInterval(m))}),1e3)}(e);try{return this.fn((t=>e(null!=t?t:g())))}catch(t){return e(t)}}}})),gx=u(((e,t)=>{"use strict";f(),Ft();var r=Lo(),n=fn(),i=Tt(),a=qr(),o=Kt(),s=Lp(),l=Id(),_=ql(),u=Qm(),{ERROR_SOURCES:c}=Vr();typeof window<"u"&&null!==window&&(window.authenticate_as=e=>a().location.post("server://user/auth_as/"+e,{},((e,t)=>{e?console.log("Authentication failed"):(console.log("Authentication succeeded.  Refreshing..."),setTimeout((()=>window.document.location.reload()),1e3))}))),t.exports=class extends n.EventEmitter{constructor(){super(),this.ready_key=r.MakeKey(null,"user_service"),this.has_changed_flag=!1,this.heartbeat_interval=null}initialize(){null==this.heartbeat_interval&&a().location.post("server://user/hi",null,(()=>{this.heartbeat_interval=setInterval((()=>a().location.post("server://user/hi",null)),3e5)})),r.Watcher((()=>{var e,t;let r=s.current_user();return r.is_logged_in()+"_"+r._id()+"_"+(null==(e=a().pageparam.get())||null==(t=e._id)?void 0:t.call(e))})).on_value((e=>{let t=s.current_user().is_logged_in();a().current_user()._id()!==_.NO_USER&&(l.wipe_no_user(),this.emit("cookie_opt_in"));let{on_login:r}=a().location.get_query();if(t&&r){this.has_changed_flag=!0,a().workflow.about_to_change_page=!0;let e=a().location.get_server_base()+"api/1.1/util/rr/"+r;window.location.replace(e)}t?a().workflow.announce_event("LoggedIn"):a().workflow.announce_event("LoggedOut")}))}on_cookie_opt_in(e){a().current_user()._id()!==_.NO_USER?e():this.once("cookie_opt_in",e)}is_cookie_opt_in(){return a().current_user()._id()!==_.NO_USER}has_changed(){if(a().current_user().is_logged_in())return this.has_changed_flag}ready(){o.error("Deprecated call to userservice.ready"),this.ready_key.turn()}on_page_load_for_confirmation_email(){$(document).ready((()=>{let e=i.parse(a().location.base_url,!0),t=e.query;t.confirmation_email&&a().location.post("server://user/confirm_email",{confirmation_email_id:t.confirmation_email}).then((()=>{a().current_user().flush(),delete t.confirmation_email,delete e.search,delete e.hash,a().location.set_url_without_refresh({url:i.format(e)})}),(e=>{u.handle_uncaught_error({original_error:e,caught_from:c.GENERAL_WORKFLOW,cb(e){e&&window.alert(o.human_friendly(e))}})}))}))}}})),mx=u((e=>{"use strict";f();var t=Lo();Fl(),bw();var r=Po(),n=vl(),i=Lp(),a=lx(),o=l_(),s=Ra(),l=kw(),_=Zm(),u=qr(),c=ux(),d=Kt(),p=$r().require_moment(),h=y_(),g=dx(),m=px(),v=hx(),y=Tt(),b=gx(),w=uf(),A=e;function E(){let e;if(t.on_phonegap()){if(!window.web_url_equivalent_for_phonegap)throw new t.UnexpectedError("missing web_url_equivalent_for_phonegap for phonegap app. Should be set in index.html when generating the phonegap build");e=new c(window.web_url_equivalent_for_phonegap)}else e=new c(document.location.href,{normalizeUnicode:!0});return e}function M(){let e=y.parse(document.location.href,!0);t.readCookie("temp_db")&&(s.is_hostname_bubble(e.host)?t.eraseCookie("temp_db"):console.log("TEMP DB IS SET!!!"))}A.make_document_ready=function(){typeof document<"u"&&null!==document&&(window.document_ready_key=t.MakeKey(null,"window.document_ready_key"),$((()=>window.document_ready_key.turn())),a.initialize(),d.install_browser_error_handler({Lib:u}),h.initialize(g),M())},A.initialize_tests=function(){v.initialize(),n.is_test(u().appname())&&u().load_plugin(u().plugin_prefixes.module+"runmode_tests").initialize()},A.validate_temp_db=M,A.set_up_debugger=function(){if(y.parse(document.location.href,!0).query.debug_mode)if(null!=window.start_debugger)window.start_debugger();else{let e=y.parse(document.location.href,!0);delete e.query.debug_mode,delete e.search,u().location.set_url_without_refresh({url:y.format(e)})}},A.set_webfonts_key=function(){t.WaitFor(w.active_key,w.fontface_key,(()=>{var e,t;null==(e=window.performance)||null==(t=e.mark)||t.call(e,"webfonts active")}))},A.create_lib=function(e,n){let a=t.json_parse(window._p);return{app:_.make_run_app(e,e._id,e.app_version),is_edit_mode:!1,appname:()=>e._id,app_version:()=>e.app_version,db_instance:i.instance,current_user:i.current_user,ddg:o.instance(n),location:E(),user:new b,element:new l.ElementService,ignore_privacy_rules:()=>!1,app_plan:()=>a,derived:m.get,current_timezone:()=>r.has_advanced_feature_enabled("timezone_controls_page")?r.get_page_by_name(n).get_page_timezone():p.tz.guess()}}})),vx=u((e=>{"use strict";f(),Ue();var t=Lo(),r=qr(),n=Kt(),i=e;i.snapshot_page_when_stable=function(){let e=!1;return setTimeout((()=>{t.WaitFor(r.or_throw().workflow.everything_done_key(),(()=>{e||i.do_it()}))}),3e3),function(){e=!0}},i.do_it=function(){t.on_phonegap()||t.run_once(30,(()=>r().current_user().is_logged_in()),((e,t)=>{e?n.log(e):t||r().location.post("server://frg",{action:"ask",url:document.location.href}).then((e=>{if(e){let e=document.documentElement.outerHTML,[t,n]=e.split('<meta charset="utf-8">');e=t+'<script type="text/javascript">window.dont_call_page_display = true;<\/script><meta charset="utf-8">'+n,r().location.post("server://frg",{action:"set",html:e,url:document.location.href})}}))}))}})),yx=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.StateMachine=void 0,Ue();var t=it();e.StateMachine=class{constructor(){this.currentState=void 0,this.inTransition=!1,this.exitCallbacks=void 0}start(){var e,r,n;if(this.currentState)throw new t.UnexpectedError("State machine already started",{currentState:this.currentState});let{initialState:i,states:a}=this.definition;return this.currentState=i,null==(e=a[i])||null==(r=e.actions)||null==(n=r.onEnter)||n.call(this),this}transition(e){var r,n,i,a,o,s,l,_,u;let c="object"==typeof e?e:{type:e};if(!this.currentState)throw new t.UnexpectedError("State machine not started",{eventType:c.type});if(this.inTransition)throw new t.UnexpectedError("State machine already transitioning",{currentState:this.currentState,eventType:c.type});let{states:d,onTransition:p}=this.definition,f=null==(r=d[this.currentState])||null==(n=r.events)?void 0:n[c.type];if(!f)throw new t.UnexpectedError("Invalid state machine transition",{currentState:this.currentState,eventType:c.type});this.inTransition=!0;let h=f.target,g=d[h],m=d[this.currentState];null==m||null==(i=m.actions)||null==(a=i.onExit)||a.call(this),null==(o=this.exitCallbacks)||o.forEach((e=>e())),this.exitCallbacks=void 0,null==f||null==(s=f.action)||s.call(this,c);let v=this.currentState;this.currentState=h,null==p||p.call(this,v,h,c),null==g||null==(l=g.actions)||null==(_=l.onEnter)||_.call(this),this.inTransition=!1,null!=g&&null!=(u=g.events)&&u.always&&this.transition({type:"always"})}queueTransition(e){queueMicrotask((()=>this.transition(e)))}onceExit(e){null!=this.exitCallbacks||(this.exitCallbacks=[]),this.exitCallbacks.push(e)}ifStateUnchanged(e){let t=!1;return this.onceExit((()=>{t=!0})),function(){return t?void 0:e(...arguments)}}delayedTransition(e){return this.ifStateUnchanged((()=>{this.queueTransition(e)}))}canTransition(e){if(!this.currentState||this.inTransition)return!1;{var t,r;let n=e.type;return null!=(null==(t=this.definition.states[this.currentState])||null==(r=t.events)?void 0:r[n])}}}})),bx=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.enabled=void 0,e.startMeasure=function(e){if(!a)return()=>{};let t=o(`${e}_start`);return function(r){let n=o(`${e}_end`);"number"!=typeof(null==t?void 0:t.startTime)||"number"!=typeof(null==n?void 0:n.startTime)||function(e,t){try{performance.measure(e,t)}catch{return}}(e,{start:t.startTime,end:n.startTime,detail:r})}};var t,r,n,i,a=null!=(null==(t=window)||null==(r=t.performance)?void 0:r.measure)&&null!=(null==(n=window)||null==(i=n.performance)?void 0:i.mark);function o(e,t){try{return performance.mark(e,t)}catch{return}}e.enabled=a})),wx=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLineItem=function(e){let{type:t,name:r}=e;return`${t}:${r}`},e.parseLineItem=function(e){let[t,...r]=e.split(":");return{type:t,name:r.join(":")}},Ue()})),Ax=u((e=>{"use strict";f(),Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingStatus=e.LoadCoordinator=e.AssetMap=e.AssetLoaderType=e.AssetLoader=void 0,Ue(),Ze();var t=it(),r=wx(),n=function(e){return e.NOT_LOADED="NOT_LOADED",e.LOADING="LOADING",e.LOADED="LOADED",e.LOAD_FAILED="LOAD_FAILED",e}({});e.LoadingStatus=n;var i=function(e){return e.PRE_LOADED_JS="PRE_LOADED_JS",e.URL_LOAD_JS="URL_LOAD_JS",e.CSS="CSS",e}({});e.AssetLoaderType=i;e.AssetMap=class{constructor(){this.mappers=void 0,this.mappers=new Map}registerMapper(e,t){this.mappers.set(e,t)}getAsset(e){let n=this.mappers.get(e.type);if(n){let i=n((0,r.formatLineItem)(e));if(i)return i;throw t.UnexpectedError.from("failed to find an asset for line item",{lineItem:e})}throw t.UnexpectedError.from("unknown line item",{lineItem:e})}};var a=class{};e.AssetLoader=a;var o=class extends a{async loadAsset(e){let t={lineItems:[]};for(let e of Object.keys(null!=(n=window.preloaded)?n:{})){var n;t.lineItems.push((0,r.parseLineItem)(e))}return await Promise.resolve(t)}},s=class extends a{async loadAsset(e){return await new Promise(((t,r)=>{let n=document.createElement("script");n.src=e,n.crossOrigin="anonymous",n.async=!0,n.charset="utf-8",document.head.appendChild(n),n.addEventListener("load",(()=>t({lineItems:[]}))),n.addEventListener("error",(e=>r(e.error)))}))}},l=class extends a{async loadAsset(e){return await new Promise(((t,r)=>{let n=document.createElement("link");n.rel="stylesheet",n.href=e,n.addEventListener("load",(()=>t({lineItems:[]}))),n.addEventListener("error",(e=>r(e.error))),document.head.appendChild(n)}))}};e.LoadCoordinator=class{constructor(e){this.lineItemsStatus=void 0,this.assetsStatus=void 0,this.assetMap=void 0,this.loaderMap=void 0,this.lineItemsStatus=new Map,this.assetsStatus=new Map,this.assetMap=e,this.loaderMap=new Map([[i.PRE_LOADED_JS,new o],[i.URL_LOAD_JS,new s],[i.CSS,new l]])}getLineItemStatus(e){let t=(0,r.formatLineItem)(e);return this.lineItemsStatus.get(t)||(this.lineItemsStatus.set(t,n.NOT_LOADED),n.NOT_LOADED)}getAssetStatus(e){return this.assetsStatus.get(e)||(this.assetsStatus.set(e,n.NOT_LOADED),n.NOT_LOADED)}async loadAsset(e){let t,i=this.loaderMap.get(e.type);if(null==i)throw new Error("Unknown assetIdentifier type");this.assetsStatus.set(e.id,n.LOADING);try{t=await i.loadAsset(e.id)}catch(t){throw this.assetsStatus.set(e.id,n.LOAD_FAILED),t}this.assetsStatus.set(e.id,n.LOADED);for(let e of t.lineItems)this.lineItemsStatus.set((0,r.formatLineItem)(e),n.LOADED);return t}async load(e){let r=this.assetMap.getAsset(e);if(r.id&&!(await this.loadAsset(r)).lineItems.includes(e))throw t.UnexpectedError.from("loaded asset does not include line item",{lineItem:e,asset:r})}}})),Ex=u((e=>{"use strict";f();var t=e;t.message="Giving all external API calls a default user agent if they don't already have one set",t.link="https://forum.bubble.io/t/upgrade-to-bubble-version-25-giving-all-external-api-calls-a-default-user-agent-if-they-dont-already-have-one-set/271309",t.date=1688634e6,ax().register(25,t)}));f(),f(),Ue();var Mx=Fx(Lo()),xx=Wx(Po()),Ox=Fx(Ro()),kx=Fx(l_()),Sx=c_(),Tx=Fx(La()),Nx=Wx(qr()),Cx=Fx(ev()),Lx=Fx(tv()),Px=Fx(yw()),Rx=Fx(mx()),zx=Fx(vx()),Ix=Fx(a_()),Dx=Fx(uf()),jx=yx(),Bx=bx(),qx=Ax(),Ux=kv();function Wx(e){return e&&e.__esModule?e:{default:e}}function $x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return($x=function(e){return e?r:t})(e)}function Fx(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=$x(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}Fl(),bw();var Gx=new qx.LoadCoordinator(new qx.AssetMap),Xx={navigate_to:{target:"NAVIGATE_PRELOADING",action(e){let{target_page_id:t,navigation_cb:r}=e;this.target_page_id=t,this.navigation_cb=r}}},Hx=class extends jx.StateMachine{constructor(){super(...arguments),this.page_id=void 0,this.target_page_id=void 0,this.navigation_cb=void 0,this.finalize_state_measure=void 0,this.definition={initialState:"WAIT_FOR_DISPLAY_PAGE_CALL",onTransition:(e,t)=>{var r;"DONE"===e&&(this.finalize_state_measure=void 0),null==(r=this.finalize_state_measure)||r.call(this),this.finalize_state_measure=(0,Bx.startMeasure)(t)},states:{WAIT_FOR_DISPLAY_PAGE_CALL:{actions:{onEnter(){Rx.make_document_ready()}},events:{display_page_called:{target:"WAIT_FOR_DOCUMENT_READY",action(e){var t,r;let{page_id:n,app:i}=e;this.page_id=n,window.Lib=Nx.default;let a=Sx.DefaultLib.get();Object.assign(a,Rx.create_lib(i,n)),Nx.default.set_global_lib(a),null==(t=(r=window).Lib_post_load)||t.call(r),Rx.initialize_tests()}}}},WAIT_FOR_DOCUMENT_READY:{actions:{onEnter(){let e=window.dont_call_page_display?"document_is_ready_dont_display_page":"document_is_ready_display_page";Mx.WaitFor(window.document_ready_key,this.delayedTransition(e))}},events:{document_is_ready_display_page:{target:"RENDER_PAGE"},document_is_ready_dont_display_page:{target:"DONE"}}},RENDER_PAGE:{actions:{onEnter(){Lx.render_start(Tx.EPOCHS.load_runmode.name);let e,t=this.page_id;t&&(e=xx.default.get_page_by_name(t)),kx.optimizations.prefetchData(),Rx.set_webfonts_key(),Rx.set_up_debugger(),Nx.default.or_throw().element.display(e),Ix.create_slug_watcher(),Lx.render_end(),Mx.stop_count(),(0,Ux.add_popstate_handler)(),Nx.default.or_throw().element.on_page_done_loading(!1,(()=>Px.page_load_performance_metrics(Lx.fully_loaded(),this.page_id)))}},events:{always:{target:"WAIT_FOR_USER_OAUTH"}}},WAIT_FOR_USER_OAUTH:{actions:{onEnter(){Cx.onload(this.delayedTransition("user_successful_oauth"))}},events:{user_successful_oauth:{target:"START_PAGE_LOAD_WORKFLOWS"}}},START_PAGE_LOAD_WORKFLOWS:{actions:{onEnter(){let e=Nx.default.or_throw();e.workflow.initialize(),e.workflow.announce_event("PageLoaded"),e.user.initialize(),e.user.on_page_load_for_confirmation_email()}},events:{always:{target:"WAIT_FOR_WEBFONTS"}}},WAIT_FOR_WEBFONTS:{actions:{onEnter(){Mx.WaitFor(Dx.active_key,Dx.fontface_key,this.delayedTransition("webfonts_ready"))}},events:{...Xx,webfonts_ready:{target:"LOAD_ELEMENTS"}}},LOAD_ELEMENTS:{actions:{onEnter(){var e;null==(e=Mx.page_is_loaded)||e.call(Mx),Ox.add_bubble_marketing(this.page_id),Nx.default.or_throw().element.on_page_done_loading(!1,this.delayedTransition("elements_done_loading"))}},events:{...Xx,elements_done_loading:{target:"DONE"}}},DONE:{actions:{onEnter(){let e=zx.snapshot_page_when_stable();this.onceExit(e)}},events:{...Xx}},NAVIGATE_PRELOADING:{actions:{onEnter(){let e=this.delayedTransition("preloading_finished");if(!this.target_page_id)throw new Mx.UnexpectedError("No target page ID set for NAVIGATE_PRELOADING state");let t=Nx.default.or_throw().location.get_page_url(this.target_page_id);fetch(t,{headers:{Accept:"application/json"}}).then((async t=>{let r=await t.json(),n={id:r.assets.js.find((e=>e.endsWith("page.js"))),type:qx.AssetLoaderType.URL_LOAD_JS},i={id:r.assets.css.find((e=>e.endsWith("run.css"))),type:qx.AssetLoaderType.CSS};await Promise.all([Gx.loadAsset(n),Gx.loadAsset(i)]),Nx.default.or_throw().app().json.reset_children(),Nx.default.or_throw().app().json.clear_smart_cache(),e()})).catch((e=>{throw new Mx.UnexpectedError("Error fetching page manifest",e)}))}},events:{...Xx,preloading_finished:{target:"NAVIGATE_UNLOADING"}}},NAVIGATE_UNLOADING:{actions:{onEnter(){(0,Ux.unload_page)(),this.page_id=this.target_page_id,this.navigation_cb&&this.navigation_cb(),this.target_page_id=void 0,this.navigation_cb=void 0}},events:{always:{target:"RENDER_PAGE"}}}}}}};if(typeof window<"u"&&null!==window){let e=new Hx;e.start(),window.display_page=function(t,r){let n={id:null!=r?r:"",type:qx.AssetLoaderType.PRE_LOADED_JS};Gx.loadAsset(n).then((()=>{e.transition({type:"display_page_called",app:t,page_id:r}),(0,Ux.push_initial_browser_state)(r)}))},window.switch_page=function(t,r){let n={type:"navigate_to",target_page_id:t,navigation_cb:r};return!!e.canTransition(n)&&(e.transition(n),!0)}}((e,t,i)=>{i=null!=e?r(o(e)):{},d(!t&&e&&e.__esModule?i:n(i,"default",{value:e,enumerable:!0}),e)})(Ex())})(),
/*! VelocityJS.org (1.4.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */
/*! Bundled license information:

punycode/punycode.js:
  (*! https://mths.be/punycode v1.3.2 by @mathias *)

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <http://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by CÃ©dric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)
*/
window.preloaded["js/base:run"]=!0,window._bubble_page_load_data.js_execution_timings.run_js_end_execution=Date.now();(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));